/* Built on 2022-02-17 14:46:31 */
define("lib/i18n", [], function() {
    return {
        version: "1.0.0",
        load: function(e, t, i, n) {
            n.isBuild ? i() : xv.i18n.getCatalog(e, function(e) {
                i(e)
            })
        }
    }
}),
define("lib/tools", ["static/utils", "lib/i18n!front"], function(e, t) {
    var i = {
        pendingPrepare: []
    };
    i.encloseTextWithTag = function(e, t) {
        return "string" != typeof e || 0 !== e.length && "<" === e[0] ? e : "<" + t + ">" + e + "</" + t + ">"
    }
    ,
    i.parseUrl = function(e, t, i) {
        var n = {
            body: null,
            query: null,
            hash: null
        }
          , o = e.split("#");
        if (2 === o.length) {
            if ("hash" === t)
                return o[1];
            n.hash = o[1]
        }
        if ("hash" === t)
            return null;
        if (e = o[0],
        o = e.split("?"),
        2 === o.length && (n.query = o[1]),
        n.body = o[0],
        void 0 !== i && i) {
            var s = n.query;
            if (n.query = {},
            s)
                for (var a = s.split("&"), r = 0; r < a.length; r++) {
                    var l = a[r];
                    if (l.length) {
                        var u = l.split("=");
                        n.query[u.shift()] = u.join("=")
                    }
                }
        }
        return void 0 !== t && t && "undefined" != typeof n[t] ? n[t] : n
    }
    ,
    i.addUrlParam = function(e, t, n) {
        var o = i.parseUrl(e, !1, !0);
        t = t.toString(),
        void 0 === n || !1 === n ? "undefined" != typeof o.query[t] && delete o.query[t] : o.query[t] = n.toString();
        var s = "";
        for (var a in o.query)
            s += ("" === s ? "?" : "&") + a + "=" + o.query[a];
        return o.body + s
    }
    ,
    i.getUrlHash = function() {
        return window.location.hash.substr(1)
    }
    ,
    i.setUrlHash = function(e, t) {
        t = t || !1,
        "#" !== e.substr(0, 1) && (e = "#" + e),
        e !== window.location.hash && (t ? history.replaceState(undefined, undefined, e) : window.location.hash = e)
    }
    ,
    i.isEmpty = function(e) {
        var t = typeof e;
        if ("undefined" === t || null === e || 0 === e || !1 === e)
            return !0;
        if ("string" === t && 0 === $.trim(e).length)
            return !0;
        if ("object" === t) {
            if ("number" == typeof e.length)
                return 0 === e.length;
            if ("function" == typeof Object && "function" == typeof Object.keys)
                return 0 === Object.keys(e).length;
            var i = 0;
            for (var n in e)
                e.hasOwnProperty(n) && i++;
            return 0 === i
        }
        return !1
    }
    ,
    i.pad = function(e, t, i, n) {
        void 0 !== n && "left" === n || (n = "right");
        for (var o = "" + e; o.length < t; )
            "left" === n ? o = i + o : o += i;
        return o
    }
    ,
    i.ucfirst = function(e) {
        return e[0].toUpperCase() + e.substr(1).toLowerCase()
    }
    ,
    i.ucwords = function(e) {
        return e.toLowerCase().replace(/(^([a-zA-Z\p{M}]))|([ -][a-zA-Z\p{M}])/g, function(e) {
            return e.toUpperCase()
        })
    }
    ,
    i.cleanStr = function(e, t) {
        return e = e.replace(new RegExp("[[\\]{}()*+?.,\\^$|#\\s]"), "\\$&"),
        t ? i.translit(e) : e
    }
    ,
    i.translit = function(e) {
        return e.toLowerCase().replace(/[àáâãäå]/g, "a").replace(/æ/g, "ae").replace(/ç/g, "c").replace(/[èéêë]/g, "e").replace(/[ìíîï]/g, "i").replace(/ñ/g, "n").replace(/[òóôõö]/g, "o").replace(/œ/g, "oe").replace(/[ùúûü]/g, "u").replace(/[ýÿ]/g, "y")
    }
    ;
    var n = {};
    i.preloadPicture = function(e, t) {
        var i = e;
        if (t && (i += t + ".jpg"),
        "undefined" == typeof n[i]) {
            (new Image).src = i,
            n[i] = !0
        }
    }
    ,
    i.stripStartScript = function(e) {
        if (e = $.trim(e),
        "<script " !== e.substr(0, 8))
            return e;
        var t = e.indexOf(">");
        if (-1 === t)
            return e;
        var i = e.indexOf("<\/script>");
        return -1 === i ? e : t !== i - 1 ? e : e.substr(i + 9)
    }
    ,
    i.replaceThumbcast = function(e) {
        for (var t = e.split(/(<script>|<\/script>)/g), i = 0; i < t.length; i++)
            "<script>" === t[i] || "<\/script>" === t[i] ? t[i] = "" : "document.write(xv.thumbs.replaceThumbUrl(" === t[i].substr(0, 41) ? t[i] = window.xv.thumbs.replaceThumbUrl(t[i].substring(42, t[i].lastIndexOf("))") - 1)) : "xv.thumbs.casting.displayRandomThumb(" === t[i].substr(0, 37) ? t[i] = window.xv.thumbs.casting.displayRandomThumb(t[i].substring(38, t[i].lastIndexOf(")") - 1), !0) : "document.write(xv.thumbs.replaceActGalThumbUrl(" === t[i].substr(0, 47) ? t[i] = window.xv.thumbs.replaceActGalThumbUrl(t[i].substring(48, t[i].lastIndexOf("))") - 1)) : "document.write(xv.thumbs.replacePicThumbUrl(" === t[i].substr(0, 44) ? t[i] = window.xv.thumbs.replacePicThumbUrl(t[i].substring(45, t[i].lastIndexOf("))") - 1)) : "xv.thumbs.prepareVideo(" === t[i].substr(0, 23) && (t[i] = "");
        return t.join("")
    }
    ,
    i.executePendingPrepare = function(e) {
        if (e.each(function() {
            window.xv.thumbs.prepareVideo(this)
        }),
        window.xv.pending_prepare_video_list)
            for (var t in window.xv.pending_prepare_video_list)
                "function" == typeof window.xv.pending_prepare_video_list[t] && window.xv.pending_prepare_video_list[t](e)
    }
    ,
    i.addPendingPrepareList = function(e) {
        window.xv.pending_prepare_video_list || (window.xv.pending_prepare_video_list = []),
        window.xv.pending_prepare_video_list.push(e)
    }
    ,
    i.scrollTo = function(e, t, i) {
        var n = $(e);
        n && n.length && (void 0 === t && (t = 0),
        void 0 === i && (i = 400),
        $("html,body").animate({
            scrollTop: n.offset().top - 10 - t
        }, i))
    }
    ;
    var o = [];
    return i.loadRecaptcha = function(t, i) {
        if ("object" == typeof grecaptcha)
            return void t();
        if (o.push(t),
        !(o.length > 1)) {
            window.onToolsRecaptchaLoaded = function() {
                for (var e in o)
                    o[e]()
            }
            ;
            var n = "https://www.google.com/recaptcha/api.js?onload=onToolsRecaptchaLoaded&render=explicit";
            "string" == typeof i && (n += "&hl=" + i),
            e.loadScript(n)
        }
    }
    ,
    i.formatNumberUnits = function(e, i) {
        i = void 0 === i || i != parseInt(i) ? 1 : parseInt(i);
        var n = !1
          , o = 0;
        e >= 1e9 ? (n = "billions",
        o = 9) : e >= 1e6 ? (n = "millions",
        o = 6) : e >= 1e3 && (n = "thousands",
        o = 3);
        var s = Math.round(e / Math.pow(10, o - i));
        return s /= Math.pow(10, i),
        s = s.toLocaleString(),
        n ? t.__("units.number_" + n, {
            "%number%": s
        }) : s
    }
    ,
    i.formatFileSize = function(e, i) {
        i = void 0 === i || i != parseInt(i) ? 1 : parseInt(i);
        var n = {
            terabytes: 1099511627776,
            gigabytes: 1073741824,
            megabytes: 1048576,
            kilobytes: 1024
        }
          , o = "bytes";
        for (var s in n)
            if ("number" == typeof n[s] && e >= n[s]) {
                o = s,
                e /= n[s];
                break
            }
        return e = Math.round(e * Math.pow(10, i)) / Math.pow(10, i),
        e = e.toLocaleString(),
        t.__("units.file_size_" + o, {
            "%size%": e
        })
    }
    ,
    i.formatDurationMethods = {
        "short": "short",
        medium: "medium",
        "long": "long",
        diff: "ago"
    },
    i.formatDuration = function(e, i) {
        if (i || (i = this.formatDurationMethods.medium),
        e < 5 && i === this.formatDurationMethods.diff)
            return t.__("misc.just_now");
        if (e >= 86400 && e < 172800 && i === this.formatDurationMethods.diff)
            return t.__("misc.yesterday");
        var n, o = {
            sec: 60,
            min: 3600,
            hour: 86400,
            day: 604800,
            week: 2592e3,
            month: 31536e3,
            year: -1
        }, s = 1;
        for (var a in o) {
            if (e < o[a] || -1 == o[a]) {
                e = Math.floor(e / s),
                n = 1 === e ? t.__("misc.one_" + a + "_" + i) : t.__("misc.nb_" + a + "s_" + i, {
                    "%nb%": e.toString()
                });
                break
            }
            s = o[a]
        }
        return n
    }
    ,
    i
}),
function(e, t) {
    "object" == typeof exports && exports && "string" != typeof exports.nodeName ? t(exports) : "function" == typeof define && define.amd ? define("mustache", ["exports"], t) : (e.Mustache = {},
    t(e.Mustache))
}(this, function(e) {
    function t(e) {
        return "function" == typeof e
    }
    function i(e) {
        return _(e) ? "array" : typeof e
    }
    function n(e) {
        return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
    }
    function o(e, t) {
        return null != e && "object" == typeof e && t in e
    }
    function s(e, t) {
        return g.call(e, t)
    }
    function a(e) {
        return !s(m, e)
    }
    function r(e) {
        return String(e).replace(/[&<>"'`=\/]/g, function(e) {
            return b[e]
        })
    }
    function l(t, i) {
        function o(e) {
            if ("string" == typeof e && (e = e.split(D, 2)),
            !_(e) || 2 !== e.length)
                throw new Error("Invalid tags: " + e);
            s = new RegExp(n(e[0]) + "\\s*"),
            r = new RegExp("\\s*" + n(e[1])),
            l = new RegExp("\\s*" + n("}" + e[1]))
        }
        if (!t)
            return [];
        var s, r, l, d = [], h = [], p = [], g = !1, m = !1;
        o(i || e.tags);
        for (var b, k, x, F, E, $, T = new c(t); !T.eos(); ) {
            if (b = T.pos,
            x = T.scanUntil(s))
                for (var S = 0, L = x.length; S < L; ++S)
                    F = x.charAt(S),
                    a(F) ? p.push(h.length) : m = !0,
                    h.push(["text", F, b, b + 1]),
                    b += 1,
                    "\n" === F && function() {
                        if (g && !m)
                            for (; p.length; )
                                delete h[p.pop()];
                        else
                            p = [];
                        g = !1,
                        m = !1
                    }();
            if (!T.scan(s))
                break;
            if (g = !0,
            k = T.scan(C) || "name",
            T.scan(v),
            "=" === k ? (x = T.scanUntil(y),
            T.scan(y),
            T.scanUntil(r)) : "{" === k ? (x = T.scanUntil(l),
            T.scan(w),
            T.scanUntil(r),
            k = "&") : x = T.scanUntil(r),
            !T.scan(r))
                throw new Error("Unclosed tag at " + T.pos);
            if (E = [k, x, b, T.pos],
            h.push(E),
            "#" === k || "^" === k)
                d.push(E);
            else if ("/" === k) {
                if (!($ = d.pop()))
                    throw new Error('Unopened section "' + x + '" at ' + b);
                if ($[1] !== x)
                    throw new Error('Unclosed section "' + $[1] + '" at ' + b)
            } else
                "name" === k || "{" === k || "&" === k ? m = !0 : "=" === k && o(x)
        }
        if ($ = d.pop())
            throw new Error('Unclosed section "' + $[1] + '" at ' + T.pos);
        return f(u(h))
    }
    function u(e) {
        for (var t, i, n = [], o = 0, s = e.length; o < s; ++o)
            (t = e[o]) && ("text" === t[0] && i && "text" === i[0] ? (i[1] += t[1],
            i[3] = t[3]) : (n.push(t),
            i = t));
        return n
    }
    function f(e) {
        for (var t, i, n = [], o = n, s = [], a = 0, r = e.length; a < r; ++a)
            switch (t = e[a],
            t[0]) {
            case "#":
            case "^":
                o.push(t),
                s.push(t),
                o = t[4] = [];
                break;
            case "/":
                i = s.pop(),
                i[5] = t[2],
                o = s.length > 0 ? s[s.length - 1][4] : n;
                break;
            default:
                o.push(t)
            }
        return n
    }
    function c(e) {
        this.string = e,
        this.tail = e,
        this.pos = 0
    }
    function d(e, t) {
        this.view = e,
        this.cache = {
            ".": this.view
        },
        this.parent = t
    }
    function h() {
        this.cache = {}
    }
    var p = Object.prototype.toString
      , _ = Array.isArray || function(e) {
        return "[object Array]" === p.call(e)
    }
      , g = RegExp.prototype.test
      , m = /\S/
      , b = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
        "/": "&#x2F;",
        "`": "&#x60;",
        "=": "&#x3D;"
    }
      , v = /\s*/
      , D = /\s+/
      , y = /\s*=/
      , w = /\s*\}/
      , C = /#|\^|\/|>|\{|&|=|!/;
    c.prototype.eos = function() {
        return "" === this.tail
    }
    ,
    c.prototype.scan = function(e) {
        var t = this.tail.match(e);
        if (!t || 0 !== t.index)
            return "";
        var i = t[0];
        return this.tail = this.tail.substring(i.length),
        this.pos += i.length,
        i
    }
    ,
    c.prototype.scanUntil = function(e) {
        var t, i = this.tail.search(e);
        switch (i) {
        case -1:
            t = this.tail,
            this.tail = "";
            break;
        case 0:
            t = "";
            break;
        default:
            t = this.tail.substring(0, i),
            this.tail = this.tail.substring(i)
        }
        return this.pos += t.length,
        t
    }
    ,
    d.prototype.push = function(e) {
        return new d(e,this)
    }
    ,
    d.prototype.lookup = function(e) {
        var i, n = this.cache;
        if (n.hasOwnProperty(e))
            i = n[e];
        else {
            for (var s, a, r = this, l = !1; r; ) {
                if (e.indexOf(".") > 0)
                    for (i = r.view,
                    s = e.split("."),
                    a = 0; null != i && a < s.length; )
                        a === s.length - 1 && (l = o(i, s[a])),
                        i = i[s[a++]];
                else
                    i = r.view[e],
                    l = o(r.view, e);
                if (l)
                    break;
                r = r.parent
            }
            n[e] = i
        }
        return t(i) && (i = i.call(this.view)),
        i
    }
    ,
    h.prototype.clearCache = function() {
        this.cache = {}
    }
    ,
    h.prototype.parse = function(e, t) {
        var i = this.cache
          , n = i[e];
        return null == n && (n = i[e] = l(e, t)),
        n
    }
    ,
    h.prototype.render = function(e, t, i) {
        var n = this.parse(e)
          , o = t instanceof d ? t : new d(t);
        return this.renderTokens(n, o, i, e)
    }
    ,
    h.prototype.renderTokens = function(e, t, i, n) {
        for (var o, s, a, r = "", l = 0, u = e.length; l < u; ++l)
            a = undefined,
            o = e[l],
            s = o[0],
            "#" === s ? a = this.renderSection(o, t, i, n) : "^" === s ? a = this.renderInverted(o, t, i, n) : ">" === s ? a = this.renderPartial(o, t, i, n) : "&" === s ? a = this.unescapedValue(o, t) : "name" === s ? a = this.escapedValue(o, t) : "text" === s && (a = this.rawValue(o)),
            a !== undefined && (r += a);
        return r
    }
    ,
    h.prototype.renderSection = function(e, i, n, o) {
        function s(e) {
            return a.render(e, i, n)
        }
        var a = this
          , r = ""
          , l = i.lookup(e[1]);
        if (l) {
            if (_(l))
                for (var u = 0, f = l.length; u < f; ++u)
                    r += this.renderTokens(e[4], i.push(l[u]), n, o);
            else if ("object" == typeof l || "string" == typeof l || "number" == typeof l)
                r += this.renderTokens(e[4], i.push(l), n, o);
            else if (t(l)) {
                if ("string" != typeof o)
                    throw new Error("Cannot use higher-order sections without the original template");
                l = l.call(i.view, o.slice(e[3], e[5]), s),
                null != l && (r += l)
            } else
                r += this.renderTokens(e[4], i, n, o);
            return r
        }
    }
    ,
    h.prototype.renderInverted = function(e, t, i, n) {
        var o = t.lookup(e[1]);
        if (!o || _(o) && 0 === o.length)
            return this.renderTokens(e[4], t, i, n)
    }
    ,
    h.prototype.renderPartial = function(e, i, n) {
        if (n) {
            var o = t(n) ? n(e[1]) : n[e[1]];
            return null != o ? this.renderTokens(this.parse(o), i, n, o) : void 0
        }
    }
    ,
    h.prototype.unescapedValue = function(e, t) {
        var i = t.lookup(e[1]);
        if (null != i)
            return i
    }
    ,
    h.prototype.escapedValue = function(t, i) {
        var n = i.lookup(t[1]);
        if (null != n)
            return e.escape(n)
    }
    ,
    h.prototype.rawValue = function(e) {
        return e[1]
    }
    ,
    e.name = "mustache.js",
    e.version = "2.3.2",
    e.tags = ["{{", "}}"];
    var k = new h;
    return e.clearCache = function() {
        return k.clearCache()
    }
    ,
    e.parse = function(e, t) {
        return k.parse(e, t)
    }
    ,
    e.render = function(e, t, n) {
        if ("string" != typeof e)
            throw new TypeError('Invalid template! Template should be a "string" but "' + i(e) + '" was given as the first argument for mustache#render(template, view, partials)');
        return k.render(e, t, n)
    }
    ,
    e.to_html = function(i, n, o, s) {
        var a = e.render(i, n, o);
        if (!t(s))
            return a;
        s(a)
    }
    ,
    e.escape = r,
    e.Scanner = c,
    e.Context = d,
    e.Writer = h,
    e
}),
define("text", ["module"], function(e) {
    "use strict";
    function t(e, t) {
        return e === undefined || "" === e ? t : e
    }
    function i(e, i, n, o) {
        if (i === o)
            return !0;
        if (e === n) {
            if ("http" === e)
                return t(i, "80") === t(o, "80");
            if ("https" === e)
                return t(i, "443") === t(o, "443")
        }
        return !1
    }
    var n, o, s, a, r, l = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"], u = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im, f = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im, c = "undefined" != typeof location && location.href, d = c && location.protocol && location.protocol.replace(/\:/, ""), h = c && location.hostname, p = c && (location.port || undefined), _ = {}, g = e.config && e.config() || {};
    return n = {
        version: "2.0.16",
        strip: function(e) {
            if (e) {
                e = e.replace(u, "");
                var t = e.match(f);
                t && (e = t[1])
            } else
                e = "";
            return e
        },
        jsEscape: function(e) {
            return e.replace(/(['\\])/g, "\\$1").replace(/[\f]/g, "\\f").replace(/[\b]/g, "\\b").replace(/[\n]/g, "\\n").replace(/[\t]/g, "\\t").replace(/[\r]/g, "\\r").replace(/[\u2028]/g, "\\u2028").replace(/[\u2029]/g, "\\u2029")
        },
        createXhr: g.createXhr || function() {
            var e, t, i;
            if ("undefined" != typeof XMLHttpRequest)
                return new XMLHttpRequest;
            if ("undefined" != typeof ActiveXObject)
                for (t = 0; t < 3; t += 1) {
                    i = l[t];
                    try {
                        e = new ActiveXObject(i)
                    } catch (n) {}
                    if (e) {
                        l = [i];
                        break
                    }
                }
            return e
        }
        ,
        parseName: function(e) {
            var t, i, n, o = !1, s = e.lastIndexOf("."), a = 0 === e.indexOf("./") || 0 === e.indexOf("../");
            return -1 !== s && (!a || s > 1) ? (t = e.substring(0, s),
            i = e.substring(s + 1)) : t = e,
            n = i || t,
            s = n.indexOf("!"),
            -1 !== s && (o = "strip" === n.substring(s + 1),
            n = n.substring(0, s),
            i ? i = n : t = n),
            {
                moduleName: t,
                ext: i,
                strip: o
            }
        },
        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,
        useXhr: function(e, t, o, s) {
            var a, r, l, u = n.xdRegExp.exec(e);
            return !u || (a = u[2],
            r = u[3],
            r = r.split(":"),
            l = r[1],
            r = r[0],
            (!a || a === t) && (!r || r.toLowerCase() === o.toLowerCase()) && (!l && !r || i(a, l, t, s)))
        },
        finishLoad: function(e, t, i, o) {
            i = t ? n.strip(i) : i,
            g.isBuild && (_[e] = i),
            o(i)
        },
        load: function(e, t, i, o) {
            if (o && o.isBuild && !o.inlineText)
                return void i();
            g.isBuild = o && o.isBuild;
            var s = n.parseName(e)
              , a = s.moduleName + (s.ext ? "." + s.ext : "")
              , r = t.toUrl(a)
              , l = g.useXhr || n.useXhr;
            if (0 === r.indexOf("empty:"))
                return void i();
            !c || l(r, d, h, p) ? n.get(r, function(t) {
                n.finishLoad(e, s.strip, t, i)
            }, function(e) {
                i.error && i.error(e)
            }) : t([a], function(e) {
                n.finishLoad(s.moduleName + "." + s.ext, s.strip, e, i)
            }, function(e) {
                i.error && i.error(e)
            })
        },
        write: function(e, t, i, o) {
            if (_.hasOwnProperty(t)) {
                var s = n.jsEscape(_[t]);
                i.asModule(e + "!" + t, "define(function () { return '" + s + "';});\n")
            }
        },
        writeFile: function(e, t, i, o, s) {
            var a = n.parseName(t)
              , r = a.ext ? "." + a.ext : ""
              , l = a.moduleName + r
              , u = i.toUrl(a.moduleName + r) + ".js";
            n.load(l, i, function(t) {
                var i = function(e) {
                    return o(u, e)
                };
                i.asModule = function(e, t) {
                    return o.asModule(e, u, t)
                }
                ,
                n.write(e, l, i, s)
            }, s)
        }
    },
    "node" === g.env || !g.env && "undefined" != typeof process && process.versions && process.versions.node && !process.versions["node-webkit"] && !process.versions["atom-shell"] ? (o = require.nodeRequire("fs"),
    n.get = function(e, t, i) {
        try {
            var n = o.readFileSync(e, "utf8");
            "\ufeff" === n[0] && (n = n.substring(1)),
            t(n)
        } catch (s) {
            i && i(s)
        }
    }
    ) : "xhr" === g.env || !g.env && n.createXhr() ? n.get = function(e, t, i, o) {
        var s, a = n.createXhr();
        if (a.open("GET", e, !0),
        o)
            for (s in o)
                o.hasOwnProperty(s) && a.setRequestHeader(s.toLowerCase(), o[s]);
        g.onXhr && g.onXhr(a, e),
        a.onreadystatechange = function(n) {
            var o, s;
            4 === a.readyState && (o = a.status || 0,
            o > 399 && o < 600 ? (s = new Error(e + " HTTP status: " + o),
            s.xhr = a,
            i && i(s)) : t(a.responseText),
            g.onXhrComplete && g.onXhrComplete(a, e))
        }
        ,
        a.send(null)
    }
    : "rhino" === g.env || !g.env && "undefined" != typeof Packages && "undefined" != typeof java ? n.get = function(e, t) {
        var i, n, o = new java.io.File(e), s = java.lang.System.getProperty("line.separator"), a = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),"utf-8")), r = "";
        try {
            for (i = new java.lang.StringBuffer,
            n = a.readLine(),
            n && n.length() && 65279 === n.charAt(0) && (n = n.substring(1)),
            null !== n && i.append(n); null !== (n = a.readLine()); )
                i.append(s),
                i.append(n);
            r = String(i.toString())
        } finally {
            a.close()
        }
        t(r)
    }
    : ("xpconnect" === g.env || !g.env && "undefined" != typeof Components && Components.classes && Components.interfaces) && (s = Components.classes,
    a = Components.interfaces,
    Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),
    r = "@mozilla.org/windows-registry-key;1"in s,
    n.get = function(e, t) {
        var i, n, o, l = {};
        r && (e = e.replace(/\//g, "\\")),
        o = new FileUtils.File(e);
        try {
            i = s["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),
            i.init(o, 1, 0, !1),
            n = s["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),
            n.init(i, "utf-8", i.available(), a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),
            n.readString(i.available(), l),
            n.close(),
            i.close(),
            t(l.value)
        } catch (u) {
            throw new Error((o && o.path || "") + ": " + u)
        }
    }
    ),
    n
}),
define("text!lib/helpers/loader/before.mustache", [], function() {
    return '<span class="x-loader-inline before{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{{ loader }}}{{#text}}{{#safe}}{{{ text }}}{{/safe}}{{^safe}}{{ text }}{{/safe}} {{/text}}</span>'
}),
define("text!lib/helpers/loader/after.mustache", [], function() {
    return '<span class="x-loader-inline after{{#is_button}} btn btn-default{{/is_button}}"{{#id}} id="{{id}}"{{/id}}>{{#text}}{{#safe}}{{{ text }}}{{/safe}}{{^safe}}{{ text }}{{/safe}} {{/text}}{{{ loader }}}</span>'
}),
define("lib/helpers/inline_loader", ["lib/tools", "mustache", "text!./loader/before.mustache", "text!./loader/after.mustache"], function(e, t, i, n) {
    var o = ""
      , s = -1
      , a = function(e) {
        return "before" === e || "button_before" === e ? i : n
    }
      , r = function(e) {
        return void 0 !== e ? e : "_x_loader_" + ++s
    }
      , l = function(e, i, n, o) {
        "string" != typeof e && (e = "after"),
        this.html = t.render(a(e), {
            id: r(n),
            text: i,
            is_button: 0 === e.indexOf("button_"),
            loader: l.getImg(),
            safe: !!o
        }),
        this.node = !1
    };
    return l.setup = function(t) {
        e.preloadPicture(t),
        o = '<img class="x-loader-inline-img" src="' + t + '" />'
    }
    ,
    l.get = function(e, t, i) {
        return new l(e,t,i)
    }
    ,
    l.getSafe = function(e, t, i) {
        return new l(e,t,i,!0)
    }
    ,
    l.getImg = function() {
        return 0 === o.length && console.error("Loader image not setup"),
        o
    }
    ,
    l.getIcf = function() {
        return "<span class='icon-f icf-spinner icf-anim-pulse'></span>"
    }
    ,
    l.prototype = {
        getHtml: function() {
            return this.html
        },
        getNode: function() {
            return this.node || (this.node = $(this.html)),
            this.node
        },
        appendTo: function(e) {
            return this.getNode().appendTo(e),
            this
        },
        prependTo: function(e) {
            return this.getNode().prependTo(e),
            this
        },
        insertAfter: function(e) {
            return this.getNode().insertAfter(e),
            this
        },
        insertBefore: function(e) {
            return this.getNode().insertBefore(e),
            this
        },
        detach: function() {
            return this.getNode().detach(),
            this
        },
        remove: function() {
            this.node && this.node.remove()
        }
    },
    l
}),
define("skins/account/common", ["config/main"], function(e) {
    if (e.dyn.login_info.is_logged && (!e.dyn.is_premium || e.dyn.login_info.is_premium)) {
        if ("undefined" != typeof xv.header && "function" == typeof xv.header.set_force_mobile_menu && (xv.header.set_force_mobile_menu(!0),
        $(".pan-sub-list-toggler").each(function() {
            var e = !!$(this).data("is-current");
            xv.header.add_sub_menu($(this)[0], document.getElementById("account-links-sub-list-" + $(this).data("open-id")), !1, !1, e)
        })),
        "xnxx" === e.sitename) {
            var t = $("#mobile-menu");
            if (t.length > 0) {
                var i = !1
                  , n = function() {
                    if (!0 === i || "undefined" == typeof xv.header || "function" != typeof xv.header.is_mobile || xv.header.is_mobile())
                        return !1;
                    "absolute" === t.css("position") && t.is(":visible") && !$("#header-mobile-menu-toggle").is(":visible") && (i = !0,
                    $("#content").css("min-height", t.outerHeight() + 30 + "px"))
                };
                $(window).on("resize", n),
                n()
            }
        }
        var o = $("#cur-tab-nav");
        if (o.length < 1)
            return !1;
        var s = !1
          , a = !1
          , r = !1
          , l = !1
          , u = function() {
            if (l && (clearTimeout(l),
            l = !1),
            !(s = $(window).width() > 1800))
                return a = !1,
                r && o.css("margin-top", 0),
                !1;
            a = o.height() < o.parent().height() && o.height() < $(window).height(),
            !1 === r && s && a && (r = !0,
            $(window).on("scroll", c),
            c()),
            r && (a ? c() : o.css("margin-top", 0))
        }
          , f = function() {
            l && (clearTimeout(l),
            l = !1),
            l = setTimeout(u, 500)
        }
          , c = function() {
            if (!s || !a)
                return !1;
            var e = !1
              , t = o.height()
              , i = o.parent().offset().top
              , n = o.parent().height()
              , r = $(window).scrollTop();
            !1 !== (e = i > r ? 0 : r >= n + i - t ? n - t : r - i) && o.css("margin-top", e + "px")
        };
        $(window).on("resize", f),
        u()
    }
});
var rjs_config = {
    waitSeconds: 90,
    paths: {
        jquery: "jquery",
        text: "text",
        "@firebase/app": "libs/firebase-app",
        "@firebase/messaging": "libs/firebase-messaging"
    },
    shim: {
        json3: {
            exports: "JSON"
        },
        "libs/amcharts4/core": {
            init: function() {
                return window.am4core
            }
        },
        "libs/amcharts4/charts": {
            deps: ["libs/amcharts4/core"],
            exports: "libs/amcharts4/charts",
            init: function() {
                return window.am4charts
            }
        },
        "libs/amcharts4/maps": {
            deps: ["libs/amcharts4/core"],
            exports: "libs/amcharts4/maps",
            init: function() {
                return window.am4maps
            }
        },
        "libs/amcharts4/themes/animated": {
            deps: ["libs/amcharts4/core"],
            exports: "libs/amcharts4/themes/animated",
            init: function() {
                return window.am4themes_animated
            }
        },
        "libs/amcharts4/themes/dark": {
            deps: ["libs/amcharts4/core"],
            exports: "libs/amcharts4/themes/dark",
            init: function() {
                return window.am4themes_dark
            }
        },
        "libs/amcharts4/themes/material": {
            deps: ["libs/amcharts4/core"],
            exports: "libs/amcharts4/themes/material",
            init: function() {
                return window.am4themes_material
            }
        }
    },
    config: {
        text: {
            useXhr: function(e, t, i, n) {
                if ("/" === e.substr(0, 1))
                    return !0;
                if (e.match(/^https?:\/\/static[\w-]*\.xvideos(-cdn)?\.com\/.*$/))
                    return !0;
                var o = t + "://" + i;
                return e.substr(0, o.length) === o || -1 !== i.split(".").pop().indexOf("local")
            }
        },
        moment: {
            noGlobal: !0
        }
    },
    packages: [{
        name: "moment",
        main: "moment",
        location: "libs/moment"
    }]
};
!function() {
    window.xv.conf.amcharts_langs = ["ar", "bs_BA", "ca_ES", "cs_CZ", "da_DK", "de_DE", "el_GR", "en", "es_ES", "et_EE", "fi_FI", "fr_FR", "he_IL", "hi_IN", "hr_HR", "hu_HU", "id_ID", "it_IT", "ja_JP", "ko_KR", "lt_LT", "lv_LV", "nb_NO", "nl_NL", "pl_PL", "pt_PT", "ro_RO", "ru_RU", "sl_SL", "sr_RS", "sv_SE", "th_TH", "tr_TR", "vi_VN", "zh_Hans"];
    for (var e in window.xv.conf.amcharts_langs)
        !function(e) {
            rjs_config.shim["libs/amcharts4/lang/" + e] = {
                deps: ["libs/amcharts4/core"],
                exports: "libs/amcharts4/themes/" + e,
                init: function() {
                    return window["am4lang_" + e]
                }
            }
        }(window.xv.conf.amcharts_langs[e]);
    window.xv.conf.amcharts_maps = ["worldHigh"];
    for (var e in window.xv.conf.amcharts_maps)
        !function(e) {
            rjs_config.shim["libs/amcharts4_geodata/" + e] = {
                deps: ["libs/amcharts4/core"],
                exports: "libs/amcharts4_geodata/" + e,
                init: function() {
                    return window["am4geodata_" + e]
                }
            }
        }(window.xv.conf.amcharts_maps[e])
}(),
require.config(rjs_config),
define("static/console", window.xv.console),
define("static/tracker", [], function() {
    return window.xv.tracker
}),
define("static/utils", window.xv.utils),
define("static/dom", window.xv.dom),
define("static/cookies", window.xv.cookies),
define("static/storage", window.xv.storage),
define("static/thumbs", window.xv.thumbs),
define("static/messages", window.xv.messages),
document.addEventListener || require(["respond"]),
require(["config/main", "static/dom", "static/cookies", "lib/helpers/inline_loader", "static/console"], function(e, t, i, n, o) {
    o.log(window.location.href, "Load page"),
    n.setup(e.domains["static"] + "/v3/img/skins/default/xv-inline-loader.gif"),
    require(["skins/" + e.sitename + "/common_all"]),
    require(["skins/" + e.sitename + "/common"]),
    require(["skins/account/common"]),
    e.data.exec_action && require(["skins/account/" + e.data.exec_action]),
    e.dyn.chat && e.dyn.chat.enabled && (e.is_dev ? require(["skins/chat"]) : e.dyn.chat.vers ? require([e.domains["static"] + "/v-" + e.dyn.chat.vers + "/v3/js/skins/min/chat.js"]) : require(["skins/min/chat"]))
}),
define("skins/account", function() {}),
define("text!skins/default/pagination/pagination.mustache", [], function() {
    return '<div class="pagination {{ pagination_class }}">\n\t<ul>\n\t\t{{# list }}\n\t\t\t<li{{# item.classes }} class="{{ item.classes }}"{{/ item.classes }}>\n\t\t\t\t{{# link }}\n\t\t\t\t<a {{# link.url }} href="{{ link.url }}"{{/ link.url }}{{# link.classes }} class="{{ link.classes }}"{{/ link.classes }} data-page="{{ link.pageIndex }}">\n\t\t\t\t\t{{{ link.content }}}\n\t\t\t\t</a>\n\t\t\t\t{{/ link }}\n\t\t\t\t{{{ item.customContent }}}\n\t\t\t</li>\n\t\t{{/ list }}\n\t</ul>\n</div>'
}),
define("skins/default/pagination", ["config/main", "lib/i18n!front", "mustache", "text!./pagination/pagination.mustache"], function(e, t, i, n) {
    var o = function(e, t) {
        if (this.params = {
            page_selector: "li",
            current_class: "active",
            nextprev_class: "no-page",
            next_class: "next-page",
            prev_class: "prev-page",
            first_class: "first-page",
            last_class: "last-page",
            first_ellipsis_class: "first-ellipsis",
            last_ellipsis_class: "last-ellipsis",
            prev_index: 0
        },
        "object" == typeof t)
            for (var i in t)
                "undefined" != typeof this.params[i] && (this.params[i] = t[i]);
        this.ul = $(e),
        this.id = String.fromCharCode(Math.floor(11 * Math.random())) + Math.floor(1e6 * Math.random()),
        this.lis = [],
        this.current_index = !1,
        this.prev_index = !1,
        this.next_index = !1,
        this.first_index = !1,
        this.first_elem_index = !1,
        this.last_index = !1,
        this.last_elem_index = !1,
        this.first_ellipsis_index = !1,
        this.last_ellipsis_index = !1;
        var n = this;
        this.ul.find(this.params.page_selector).each(function() {
            var e = {
                elem: $(this),
                index: parseInt($(this).index()),
                hidden: !1
            };
            !1 === n.first_elem_index && $(this).find("." + n.params.nextprev_class).length < 1 && (n.first_elem_index = e.index),
            $(this).find("." + n.params.current_class).length > 0 && (n.current_index = e.index),
            $(this).find("." + n.params.last_class).length > 0 ? n.last_index = e.index : $(this).find("." + n.params.first_class).length > 0 ? n.first_index = e.index : $(this).find("." + n.params.first_ellipsis_class).length > 0 ? n.first_ellipsis_index = e.index : $(this).find("." + n.params.last_ellipsis_class).length > 0 && (n.last_ellipsis_index = e.index),
            $(this).find("." + n.params.next_class).length > 0 ? n.next_index = e.index : $(this).find("." + n.params.prev_class).length > 0 ? n.prev_index = e.index : $(this).find("." + n.params.nextprev_class).length > 0 ? e.index === n.params.prev_index ? n.prev_index = e.index : n.next_index = e.index : n.last_elem_index = e.index,
            n.lis.push(e)
        }),
        this.last_ellipsis_index ? this.last_elem_index = this.last_ellipsis_index : this.last_index && (this.last_elem_index = this.last_index)
    };
    o.prototype = {
        get_li: function(e, t) {
            "boolean" != typeof t && (t = !1);
            var i = [this.prev_index, this.first_index, this.first_elem_index, this.first_ellipsis_index, this.last_ellipsis_index, this.last_index, this.next_index];
            (this.last_ellipsis_index || this.last_index) && i.push(this.last_elem_index);
            for (var n in this.lis)
                if (this.lis[n].index === e && (!1 === t || !1 === this.lis[n].hidden && -1 === i.indexOf(this.lis[n].index)))
                    return this.lis[n];
            return !1
        },
        get_page_or_before: function(e) {
            var t = this.get_li(e, !0);
            if (!1 === t)
                for (var i in this.lis) {
                    if (this.lis[i].index === e)
                        break;
                    !1 === this.lis[i].hidden && this.lis[i].index !== this.prev_index && (t = this.lis[i])
                }
            return t
        },
        get_page_after: function(e) {
            var t = !1
              , i = !1;
            for (var n in this.lis) {
                if (!0 === t) {
                    i = this.get_page_or_after(n);
                    break
                }
                this.lis[n].index === e && (t = !0)
            }
            return i
        },
        get_page_or_after: function(e) {
            e = parseInt(e);
            var t = this.get_li(e, !0);
            if (!1 === t) {
                var i = !1;
                for (var n in this.lis) {
                    if (!0 === i && !1 === this.lis[n].hidden && this.lis[n].index !== this.next_index && this.lis[n].index !== this.ellipsis_index) {
                        t = this.lis[n];
                        break
                    }
                    this.lis[n].index === e && (i = !0)
                }
            }
            return t
        },
        get_next_page_to_hide: function() {
            var e = !1;
            if (!1 === this.current_index)
                e = this.get_page_or_before(this.last_elem_index);
            else {
                var t = this.get_page_after(this.first_elem_index)
                  , i = this.get_page_or_before(this.last_elem_index)
                  , n = this.current_index - t.index
                  , o = i.index - this.current_index;
                n >= o && n > 0 ? e = t : o > 0 && (e = i)
            }
            return e
        },
        is_pagination_to_wide: function() {
            var e = !1 !== this.next_index ? this.get_li(this.next_index) : this.get_page_or_before(this.last_elem_index);
            return !1 !== e && Math.floor(e.elem.position().left + e.elem.outerWidth()) > Math.floor(this.ul.outerWidth() + this.ul.position().left)
        },
        hide_page: function(e) {
            !1 !== e && (e.elem.addClass("hidden"),
            e.hidden = !0)
        },
        resize_pagination: function() {
            for (var e in this.lis)
                this.lis[e].hidden && (this.lis[e].elem.removeClass("hidden"),
                this.lis[e].hidden = !1);
            for (; this.is_pagination_to_wide() && !1 !== this.get_next_page_to_hide(); )
                this.hide_page(this.get_next_page_to_hide())
        }
    };
    var s = function() {
        var e = this;
        $(window).resize(function() {
            e.resize_paginations()
        })
    };
    return s.prototype = {
        paginations: [],
        params: {
            pagination_selector: ".pagination ul"
        },
        add: function(e, t) {
            !0 !== this.is_initiated(e) && this.paginations.push(new o(e,t))
        },
        add_all_in: function(e, t) {
            "object" != typeof t ? t = this.params : "undefined" == typeof t.pagination_selector && (t.pagination_selector = this.params.pagination_selector);
            var i = this;
            $(e).find(t.pagination_selector).each(function() {
                i.add($(this), t)
            }),
            this.resize_paginations()
        },
        is_initiated: function(e) {
            for (var t in this.paginations)
                if ($(e).is($(this.paginations[t].ul)))
                    return !0;
            return !1
        },
        resize_paginations: function() {
            for (var e in this.paginations)
                this.paginations[e].resize_pagination()
        },
        create: function(e, i, n, o) {
            if (i < 2)
                return $();
            o = o || {};
            var s = o.start_index || 0
              , a = o.max_page_display || 0
              , r = o.max_page_left_low || 6
              , l = o.max_page_left_high || 4
              , u = {
                list: [],
                pagination_class: ""
            };
            e < s && (e = s),
            e > i + s - 1 && (e = i + s - 1);
            var f = 0
              , c = i - 1;
            if (a > 0) {
                var d = e < 9 ? r : l;
                f = Math.max(0, e - Math.min(d, Math.floor(a / 1.5))),
                c = Math.min(i - 1, f + a - 1),
                f = Math.max(0, c - a + 1),
                e - f > d && (f = Math.max(0, Math.min(i - (d + 3), e - d)))
            }
            f += s,
            c += s;
            var h = 1 - s;
            if (f < e && u.list.push({
                link: {
                    href: this.createUrl(n, e - 1),
                    classes: "no-page prev-page",
                    content: '<span class="mobile-hide">' + t.__("misc.prev") + '</span><span class="mobile-show-inline icon-f icf-chevron-left"></span>',
                    pageIndex: Math.max(0, e - 1)
                }
            }),
            f > s) {
                var p = ["first-page"];
                e === f && p.push("active"),
                u.list.push({
                    link: {
                        href: this.createUrl(n, s),
                        classes: p.join(" "),
                        content: s + h,
                        pageIndex: s
                    }
                })
            }
            f > s + 1 && u.list.push({
                item: {
                    classes: "no-page"
                },
                link: {
                    href: "#",
                    classes: "ellipsis first-ellipsis",
                    content: "...",
                    pageIndex: ""
                }
            });
            for (var _ = f; _ <= c; _++) {
                var g = [];
                0 === _ ? g.push("first-page") : _ === i - 1 && g.push("last-page"),
                _ === e && g.push("active"),
                u.list.push({
                    link: {
                        href: this.createUrl(n, _),
                        classes: g.join(" "),
                        content: _ + h,
                        pageIndex: _
                    }
                })
            }
            c < i - 2 + s && u.list.push({
                item: {
                    classes: "no-page"
                },
                link: {
                    href: "#",
                    classes: "ellipsis last-ellipsis",
                    content: "...",
                    pageIndex: ""
                }
            });
            var m = i - 1;
            if (c < m + s) {
                var b = ["last-page"];
                e === c && b.push("active"),
                u.list.push({
                    link: {
                        href: this.createUrl(n, m),
                        classes: b.join(" "),
                        content: m + h,
                        pageIndex: m
                    }
                })
            }
            c > e && u.list.push({
                link: {
                    href: this.createUrl(n, e + 1),
                    classes: "no-page next-page",
                    content: '<span class="mobile-hide">' + t.__("misc.next") + '</span><span class="mobile-show-inline icon-f icf-chevron-right"></span>',
                    pageIndex: Math.min(i, e + 1)
                }
            });
            var v = this.createHTMLObject(u);
            return o && "function" == typeof o.pagin_click && v.find("a").on("click", function(e) {
                e.preventDefault(),
                o.pagin_click($(this).data("page"))
            }),
            v
        },
        createHTMLObject: function(e) {
            return $(i.render(n, e))
        },
        createElementsBased: function(e, t, i, n, o) {
            var s = Math.ceil(i / t);
            return this.create(e, s, n, o)
        },
        createUrl: function(e, t, i) {
            return i && "function" == typeof i.make_url ? i.make_url(t) : e + t
        },
        createTexte: function(t, i) {
            var n = i && i.start_one ? 1 : 0;
            return i && "function" == typeof i.make_pagin_text ? i.make_pagin_text(t) : (t + 1 - n).toLocaleString(e.dyn.locale)
        }
    },
    new s
}),
define("text!lib/helpers/popup/template.mustache", [], function() {
    return '<div class="x-popup {{ position }} {{ cls }}">\n\t<div class="x-popup-arrow"></div>\n\t<div class="x-popup-content"></div>\n\t{{{ closebtn }}}\n</div>\n'
}),
define("text!lib/helpers/popup/template_close.mustache", [], function() {
    return '<div class="x-popup-close">{{{ closebtn_content }}}</div>'
}),
define("lib/helpers/popup", ["mustache", "text!./popup/template.mustache", "text!./popup/template_close.mustache"], function(e, t, i) {
    var n = []
      , o = {
        relative_to: null,
        relative_to_default: !1,
        position: {
            v: "below",
            h: "right"
        },
        offset: {
            below: 0,
            above: 0,
            left: 0,
            right: 0
        },
        max_height: 0,
        max_width: 0,
        trigger: "click",
        trigger_open: !1,
        trigger_close: !1,
        trigger_close_openevents: ["all"],
        autoclose: !0,
        closebtn: !1,
        closebtn_content: '<span class="icon-f icf-close-thin"><span>x</span></span>',
        template: t,
        template_close: i,
        popup_class: null,
        pos_on_scroll: !1,
        close_on_resize: !0,
        autoclose_on_same_level: !1,
        mouseout_autoclose_openevents: ["mouseover_btn_timer"],
        popup_opened_btn_class: "popup-opened-btn",
        popup_opened_class: "popup-opened",
        autoscroll_to_best_position: !1
    }
      , s = function(e, t, i) {
        if (this.options = $.extend({}, o, i || {}),
        this.setPosition(this.options.position, !0),
        this.bRelativeToPosSet = !1,
        this.button = $(),
        this.content = t,
        this.opened = !1,
        this.autoclose_timer = !1,
        null === this.options.relative_to && this.setDefaultRelativeTo(),
        this.setButton(e),
        this.options.autoclose_on_same_level && ("string" == typeof this.levels[this.options.autoclose_on_same_level] ? (this.autoclose_level = this.levels[this.options.autoclose_on_same_level],
        this.uniqid = (new Date).getTime() + Math.floor(1e4 * Math.random() + 1).toString(16)) : this.options.autoclose_on_same_level = !1),
        this.options.close_on_resize) {
            this.options.iResizeLastWidth = $(window).outerWidth();
            var s = this;
            $(window).on("resize", function() {
                var e = $(window).outerWidth();
                if (s.options.iResizeLastWidth === e)
                    return !1;
                s.options.iResizeLastWidth = e,
                s.close()
            })
        }
        n.push(this)
    };
    s.prototype = {
        onOpen: null,
        onClose: null,
        levels: {
            any_level: "ALL",
            header_menu: "HEADER_MENU",
            profile_submit: "PROFILE_SUBMIT",
            profile_related_submit: "PROFILE_SUBLVL_SUBMIT",
            profile_listing_dropdowns: "PROF_LIST_DROPDOWN",
            simple_dropdown_niv2: "SIMPLE_DROPDOWN",
            thumb_block_menu: "TB_MENU"
        },
        setButton: function(e) {
            return this.button.is(e) ? this : (this.button && this.button.length > 0 && this.button.removeClass(this.options.popup_opened_btn_class),
            this.button = e,
            this.button && this.button.length > 0 && this.button.toggleClass(this.options.popup_opened_btn_class, this.opened),
            !0 === this.options.relative_to_default && this.setDefaultRelativeTo(),
            this.initButton(),
            this)
        },
        initButton: function() {
            var e = this;
            this.options.trigger && this.button.off(this.options.trigger, this.callbackButtonTrigger).on(this.options.trigger, e, this.callbackButtonTrigger),
            this.options.trigger_open && this.button.off(this.options.trigger_open, this.callbackButtonTriggerOpen).on(this.options.trigger_open, e, this.callbackButtonTriggerOpen),
            this.options.trigger_close && this.button.off(this.options.trigger_close, this.callbackButtonTriggerClose).on(this.options.trigger_close, e, this.callbackButtonTriggerClose),
            this.mouseover_open_timeout = !1,
            this.button.off("mouseover", this.callbackButtonMouseOver).on("mouseover", e, this.callbackButtonMouseOver),
            this.mouseout_close_timeout = !1,
            xv.conf && xv.conf.dyn && xv.conf.dyn.is_desktop ? this.button.off("mouseout", this.callbackButtonMouseOut).on("mouseout", e, this.callbackButtonMouseOut) : (e.button_hovered = !1,
            e.add_mouseout_close_func()),
            this.position()
        },
        setDefaultRelativeTo: function() {
            this.options.relative_to_default = !0,
            this.options.relative_to = null;
            var e = this;
            this.button.parents().each(function() {
                if ("fixed" === $(this).css("position"))
                    return e.options.relative_to = $(this),
                    !1
            }),
            null === this.options.relative_to && (this.options.relative_to = $(document.body))
        },
        setContent: function(e) {
            return this.popup.find(".x-popup-content").empty().append($(e)),
            this.position(),
            this
        },
        setPosition: function(e, t) {
            return "object" == typeof e ? !e.v || !e.h || "below" !== e.v && "above" !== e.v || "right" !== e.h && "left" !== e.h ? (t && (this.options.position = o.position),
            !1) : (this.options.position = e,
            !0) : (e = e.split(" "),
            2 !== e.length || "below" !== e[0] && "above" !== e[0] || "right" !== e[1] && "left" !== e[1] ? (t && (this.options.position = o.position),
            !1) : (this.options.position = {
                v: e[0],
                h: e[1]
            },
            !0))
        },
        position: function() {
            if (!this.popup)
                return !1;
            var e = this.options.relative_to.offset()
              , t = this.button.offset()
              , i = this.options.relative_to.is($(document.body)) || this.options.relative_to.is($(window)) ? 0 : this.options.relative_to.scrollTop()
              , n = t.top - e.top + i
              , o = t.left - e.left
              , s = !1
              , a = !1
              , r = this.popup.children(".x-popup-arrow");
            switch (this.options.position.v) {
            case "below":
                n += this.button.outerHeight(),
                r.length > 0 && (n += parseInt(r.css("border-bottom-width").replace("px", ""))),
                "number" == typeof this.options.offset.below && (n += this.options.offset.below);
                break;
            case "above":
                s = this.options.relative_to.innerHeight() - n,
                r.length > 0 && (s += parseInt(r.css("border-bottom-width").replace("px", ""))),
                "number" == typeof this.options.offset.above && (s += this.options.offset.above)
            }
            switch (this.options.position.h) {
            case "right":
                a = this.options.relative_to.innerWidth() - o - this.button.outerWidth(),
                "number" == typeof this.options.offset.right && (a += this.options.offset.right);
                break;
            case "left":
                "number" == typeof this.options.offset.left && (o += this.options.offset.left)
            }
            "function" == typeof this.options.max_width && this.popup.find(".x-popup-content").css("max-width", this.options.max_width() + "px"),
            this.popup.css("max-width", "none"),
            !1 !== a ? (this.popup.css("right", a + "px"),
            r.css("right", "")) : (this.popup.css("left", o + "px"),
            r.css("left", "")),
            !1 !== s ? this.popup.css("bottom", s + "px") : this.popup.css("top", n + "px");
            var l = this.popup.position();
            if (!1 !== a) {
                if (l.left >= 2)
                    return !0;
                var u = this.popup.outerWidth()
                  , f = $("body").outerWidth(!0) - 4;
                if (u > f && (u = f,
                this.popup.css("max-width", u + "px")),
                l = this.popup.position(),
                l.left >= 2)
                    return !0;
                var c = parseInt(r.css("right").replace("px", ""));
                return this.popup.css("right", a + l.left - 2 + "px"),
                r.css("right", c - l.left + 2 + "px"),
                !0
            }
            var u = this.popup.outerWidth()
              , f = $("body").outerWidth(!0) - 2;
            if (l.left + u <= f)
                return !0;
            u > f - 2 && (u = f - 2,
            this.popup.css("max-width", u + "px"));
            var c = parseInt(r.css("left").replace("px", ""))
              , d = l.left + u - f;
            return this.popup.css("left", o - d + "px"),
            r.css("left", c + d + "px"),
            !0
        },
        autoscrollIfNeeded: function() {
            if (!this.popup)
                return !1;
            var e = this.options.relative_to.offset()
              , t = this.popup.offset()
              , i = this.options.relative_to.is($(document.body)) || this.options.relative_to.is($(window)) ? 0 : this.options.relative_to.scrollTop()
              , n = t.top - e.top + i
              , o = n + this.popup.outerHeight()
              , s = $(window).scrollTop()
              , a = s + $(window).outerHeight();
            if (!(n >= s && o <= a)) {
                var r;
                n < s ? (r = s - n,
                $("html, body").animate({
                    scrollTop: $(window).scrollTop() - r
                }, 250)) : (r = o - a,
                n - r < s && (r = n - s),
                $("html, body").animate({
                    scrollTop: $(window).scrollTop() + r
                }, 250))
            }
        },
        _getCloseBtn: function() {
            return this.options.closebtn ? e.render(this.options.template_close, {
                closebtn_content: this.options.closebtn_content
            }) : ""
        },
        _getPopup: function() {
            var t = this;
            if (this.popup) {
                var i = this.popup.children(".x-popup-close")
                  , n = i.length > 0;
                return n && !this.options.closebtn ? i.off("click").remove() : !n && this.options.closebtn && this.popup.append($(this._getCloseBtn()).on("click", function(e) {
                    t.close(e)
                })),
                this.popup
            }
            this.opened = !0,
            this.popup = $(e.render(this.options.template, {
                position: this.options.position.v + " " + this.options.position.h,
                cls: this.options.popup_class + ("string" == typeof this.options.popup_opened_class ? " " + this.options.popup_opened_class : ""),
                closebtn: this._getCloseBtn()
            }));
            var o;
            o = "function" == typeof this.content ? $(this.content()) : $(this.content);
            var s = this.popup.find(".x-popup-content").append(o);
            return this.options.max_height > 0 && s.css("max-height", this.options.max_height + "px"),
            this.options.max_width > 0 && s.css("max-width", this.options.max_width + "px"),
            this.options.relative_to.append(this.popup),
            this.position(),
            this.options.autoscroll_to_best_position && this.autoscrollIfNeeded(),
            this.popup.on("click", function(e) {
                e.stopPropagation()
            }),
            this.popup.on("mouseover", function() {
                t.popup_hovered = !0,
                this.mouseout_close_timeout && (clearTimeout(this.mouseout_close_timeout),
                this.mouseout_close_timeout = !1)
            }),
            this.popup.on("mouseout", function() {
                t.popup_hovered = !1,
                t.add_mouseout_close_func()
            }),
            this.options.autoclose && "number" != typeof this.options.autoclose ? "function" != typeof this.close_on_body_click && (this.close_on_body_click = function(e) {
                t.opened && 0 === $(e.target).closest(t.button).length && t.close()
            }
            ,
            $("body").on("click", this.close_on_body_click)) : "function" == typeof this.close_on_body_click && ($("body").off("click", this.close_on_body_click),
            this.close_on_body_click = !1),
            this.options.closebtn && this.popup.children(".x-popup-close").on("click", function(e) {
                t.close(e)
            }),
            this.onOpen && this.onOpen(),
            this.popup
        },
        add_mouseover_open_func: function() {
            if (this.mouseout_close_timeout && (clearTimeout(this.mouseout_close_timeout),
            this.mouseout_close_timeout = !1),
            !this.mouseover_open_timeout && this.options.mouseover_open) {
                var e = this;
                this.mouseover_open_timeout = setTimeout(function() {
                    e.mouseover_open_timeout = !1,
                    e.isOpened() || (e.opened_with = "mouseover_btn_timer",
                    e.open())
                }, this.options.mouseover_open)
            }
        },
        add_mouseout_close_func: function() {
            this.mouseover_open_timeout && (clearTimeout(this.mouseover_open_timeout),
            this.mouseover_open_timeout = !1),
            this.mouseout_close_timeout && (clearTimeout(this.mouseout_close_timeout),
            this.mouseout_close_timeout = !1);
            var e = "number" == typeof this.options.autoclose ? this.options.autoclose : !!this.options.mouseout_autoclose && this.options.mouseout_autoclose;
            if (e) {
                var t = this;
                this.mouseout_close_timeout = setTimeout(function() {
                    t.mouseout_close_timeout = !1,
                    t.popup_hovered || t.button_hovered || "number" != typeof t.options.autoclose && -1 === t.options.mouseout_autoclose_openevents.indexOf(t.opened_with) || t.close()
                }, e)
            }
        },
        open: function(e) {
            e ? "string" == typeof e ? this.opened_with = e : (e.preventDefault(),
            e.stopPropagation(),
            this.opened_with = e.type) : this.opened_with = "no_event",
            this.close_same_level_popups();
            var t = this.options.relative_to.css("position");
            "relative" !== t && "absolute" !== t && "fixed" !== t && (this.options.relative_to.css("position", "relative"),
            this.bRelativeToPosSet = !0),
            this._getPopup(),
            !1 !== this.autoclose_timer && (clearTimeout(this.autoclose_timer),
            this.autoclose_timer = !1);
            var i = this;
            if (this.options.autoclose && ("number" != typeof this.options.autoclose ? "function" != typeof this.close_on_body_click && (this.close_on_body_click = function(e) {
                i.opened && 0 === $(e.target).closest(i.button).length && i.close()
            }
            ,
            $("body").on("click", this.close_on_body_click)) : ("function" == typeof this.close_on_body_click && ($("body").off("click", this.close_on_body_click),
            this.close_on_body_click = !1),
            this.autoclose_timer = setTimeout(function() {
                i.button_hovered || i.popup_hovered || (i.close(),
                i.autoclose_timer = !1)
            }, this.options.autoclose))),
            this.close_same_level_popups(),
            this.button && this.button.length > 0 && (this.button.addClass(this.options.popup_opened_btn_class),
            setTimeout(function() {
                i.opened && i.button.addClass(i.options.popup_opened_btn_class)
            }, 10)),
            this.opened)
                return void this.position();
            this.opened = !0,
            this.popup.stop().addClass(this.options.popup_opened_class).fadeIn(),
            this.position(),
            this.options.autoscroll_to_best_position && this.autoscrollIfNeeded(),
            this.onOpen && this.onOpen()
        },
        close: function(e, t) {
            e && "object" == typeof e && (e.preventDefault(),
            e.stopPropagation(),
            this.opened_with = e.type);
            var i = !!this.bRelativeToPosSet;
            if (this.bRelativeToPosSet && (this.options.relative_to.css("position", ""),
            this.bRelativeToPosSet = !1),
            !this.opened)
                return void (t && this.popup.remove());
            if (this.opened = !1,
            this.opened_with = !1,
            this.popup.stop(),
            t)
                if (i)
                    this.popup.remove();
                else {
                    var n = this;
                    this.popup.fadeOut(function() {
                        n.popup.remove()
                    })
                }
            else
                i ? this.popup.hide() : this.popup.removeClass(this.options.popup_opened_class).fadeOut();
            this.button && this.button.length > 0 && this.button.removeClass(this.options.popup_opened_btn_class),
            this.onClose && this.onClose()
        },
        delete_pop: function() {
            this.close(null, !0)
        },
        close_same_level_popups: function() {
            var e = this.autoclose_level ? this.autoclose_level : this.levels.any_level;
            for (var t in n)
                n[t].autoclose_level !== e && n[t].autoclose_level !== this.levels.any_level || n[t].uniqid === this.uniqid || n[t].close()
        },
        toggle: function(e) {
            if (this.opened)
                return void this.close(e);
            this.open(e)
        },
        isOpened: function() {
            return this.opened
        },
        setPopupClass: function(e) {
            var t = "string" == typeof e ? e : null;
            this.isOpened() && this.popup && (this.popup.removeClass(this.options.popup_class),
            null !== t && this.popup.addClass(t)),
            this.options.popup_class = t
        },
        callbackButtonTrigger: function(e) {
            e.data.toggle(e)
        },
        callbackButtonTriggerOpen: function(e) {
            e.data.open(e)
        },
        callbackButtonTriggerClose: function(e) {
            -1 !== e.data.options.trigger_close_openevents.indexOf(e.data.opened_with) && e.data.close(e)
        },
        callbackButtonMouseOver: function(e) {
            e.data.button_hovered = !0,
            e.data.add_mouseover_open_func()
        },
        callbackButtonMouseOut: function(e) {
            e.data.button_hovered = !1,
            e.data.add_mouseout_close_func()
        }
    },
    $(window).resize(function() {
        for (var e in n)
            n[e].isOpened() && n[e].position()
    });
    var a, r = function() {
        for (var e in n)
            n[e].isOpened() && n[e].options.pos_on_scroll && n[e].position()
    };
    return $(window).on("scroll", function() {
        a && window.clearTimeout(a),
        a = window.setTimeout(r, 500)
    }),
    s
}),
define("lib/helpers/events/scroll", [], function() {
    var e = []
      , t = []
      , i = !1
      , n = null
      , o = null;
    return $(window).on("scroll", function() {
        if (!i)
            for (var s in e)
                e[s]();
        !0 !== i && (n = setTimeout(function() {
            i = !0
        }, 100)),
        clearTimeout(o),
        o = setTimeout(function() {
            clearTimeout(n),
            i = !1;
            for (var e in t)
                t[e]()
        }, 200)
    }),
    {
        addScrollStartListener: function(t) {
            e.push(t)
        },
        addScrollEndListener: function(e) {
            t.push(e)
        },
        isScrolling: function() {
            return i
        }
    }
}),
define("lib/helpers/events/tab", [], function() {
    function e(e) {
        e = e || window.event;
        var s;
        if (s = e.type in r ? r[e.type] : this[o] ? "hidden" : "visible",
        t !== s)
            if (t = s,
            "hidden" === s)
                for (var a in n)
                    n[a]();
            else
                for (var a in i)
                    i[a]()
    }
    var t, i = [], n = [], o = "hidden", s = "visible", a = "hidden", r = {
        focus: s,
        focusin: s,
        pageshow: s,
        blur: a,
        focusout: a,
        pagehide: a
    };
    return o in document ? document.addEventListener("visibilitychange", e) : (o = "mozHidden")in document ? document.addEventListener("mozvisibilitychange", e) : (o = "webkitHidden")in document ? document.addEventListener("webkitvisibilitychange", e) : (o = "msHidden")in document ? document.addEventListener("msvisibilitychange", e) : "onfocusin"in document ? document.onfocusin = document.onfocusout = e : window.onpageshow = window.onpagehide = window.onfocus = window.onblur = e,
    $(window).on("blur", e),
    $(window).on("focus", e),
    {
        addHiddenListener: function(e) {
            n.push(e)
        },
        addVisibleListener: function(e) {
            i.push(e)
        }
    }
}),
define("lib/helpers/events", ["lib/helpers/events/scroll"], function(e) {
    var t = 0
      , i = function() {
        this.thlistener,
        this.thlisteners = [],
        this.tvlistener,
        this.tvlisteners = [],
        this.sslisteners = [],
        this.selisteners = []
    };
    return i.prototype = {
        TAB_HIDDEN: "tab.hidden",
        TAB_VISIBLE: "tab.visible",
        SCROLL_START: "scroll.start",
        SCROLL_END: "scroll.end",
        addListener: function(e, i) {
            switch (e) {
            case this.TAB_HIDDEN:
                if (this.thlisteners[t] = i,
                !this.thlistener) {
                    this.thlistener = !0;
                    var n = this;
                    require(["lib/helpers/events/tab"], function(e) {
                        e.addHiddenListener(function() {
                            for (var e in n.thlisteners)
                                n.thlisteners[e]()
                        })
                    })
                }
                return ++t - 1;
            case this.TAB_VISIBLE:
                if (this.tvlisteners[t] = i,
                !this.tvlistener) {
                    this.tvlistener = !0;
                    var n = this;
                    require(["lib/helpers/events/tab"], function(e) {
                        e.addVisibleListener(function() {
                            for (var e in n.tvlisteners)
                                n.tvlisteners[e]()
                        })
                    })
                }
                return ++t - 1;
            case this.SCROLL_START:
                return this.sslisteners[t] = i,
                ++t - 1;
            case this.SCROLL_END:
                return this.selisteners[t] = i,
                ++t - 1
            }
            return !1
        },
        isScrolling: function() {
            return e.isScrolling()
        }
    },
    new i
}),
define("lib/helpers/thumbs/mozaique", ["lib/tools", "./engine_creator"], function(e, t) {
    var i, n = function(e) {
        return e++,
        e > 9 ? 0 : e
    }, o = function(e, t, i) {
        return e++,
        e >= t ? i ? -1 : 0 : e
    }, s = function(e, t) {
        var n = Math.floor((e - 1) / 3);
        return 0 === n ? "0%" : -1 * n * (i ? 100 : t ? 56.25 : 75) + "%"
    }, a = function(e) {
        this.rotator = e,
        this.name = t.ENGINE_MOZAIQUE,
        this.is_video_engine = !1,
        this.thumb,
        this.ori_src,
        this.is_profile_pic,
        this.is_video_pic,
        this.is_16_9,
        this.idx,
        this.mozaique,
        this.videos,
        this.timer
    };
    return a.prototype = {
        startVideoPic: function(e) {
            var t = this;
            this.thumb = e;
            var i = this.thumb.attr("src");
            this.is_16_9 = -1 !== i.indexOf("/thumbs169"),
            this.idx = 0,
            this.mozaique = this.thumb.next(".hovered"),
            0 === this.mozaique.length && (i = i.substring(0, i.lastIndexOf("/")).replace("thumbs169lll", "thumbs169ll").replace("thumbslll", "thumbsll"),
            this.mozaique = $('<img class="hovered" src="' + i + '/mozaiquehome.jpg" />').hide().insertAfter(this.thumb).on("mouseout", function(e) {
                t.rotator.stop(e)
            })),
            this.timer = window.setTimeout(function() {
                t.nextVideo()
            }, 30)
        },
        startProfilePic: function(t, i) {
            this.thumb = t,
            this.ori_src = this.thumb.attr("src"),
            this.is_profile_pic = this.thumb.hasClass("profile-pic"),
            this.is_video_pic = this.thumb.hasClass("video-pic"),
            this.idx = -1,
            this.videos = i,
            e.preloadPicture(i[0].img);
            var n = this;
            this.timer = window.setTimeout(function() {
                n.nextProfPic()
            }, 30)
        },
        nextVideo: function() {
            if (this.thumb) {
                var e = this;
                this.idx = n(this.idx),
                0 === this.idx ? this.mozaique.hide() : 1 === this.idx ? this.mozaique.show().css({
                    marginTop: "0%",
                    marginLeft: "0%"
                }) : (this.mozaique.css({
                    marginTop: s(this.idx, this.is_16_9),
                    marginLeft: -100 * Math.floor((this.idx - 1) % 3) + "%"
                }),
                void 0 === i && 4 === this.idx && (i = Math.abs(this.thumb.height() - Math.abs(parseInt(this.mozaique.css("marginTop").replace("px", "")))) > 5) && this.mozaique.css({
                    marginTop: s(this.idx, this.is_16_9)
                })),
                this.timer = window.setTimeout(function() {
                    e.nextVideo()
                }, 1e3)
            }
        },
        nextProfPic: function() {
            if (this.thumb) {
                var t = this;
                this.idx = o(this.idx, this.videos.length, this.is_video_pic),
                this.is_video_pic && (-1 === this.idx ? this.thumb.addClass("video-pic") : this.thumb.removeClass("video-pic")),
                this.thumb.attr("src", -1 === this.idx ? this.ori_src : this.videos[this.idx].img),
                this.is_profile_pic && (-1 === this.idx ? this.thumb.addClass("profile-pic") : this.thumb.removeClass("profile-pic"));
                var i = o(this.idx, this.videos.length, this.is_video_pic);
                -1 !== i && e.preloadPicture(this.videos[i].img),
                this.timer = window.setTimeout(function() {
                    t.nextProfPic()
                }, 1e3)
            }
        },
        stop: function() {
            this.timer && (window.clearTimeout(this.timer),
            this.timer = null),
            this.thumb && (this.mozaique && this.mozaique.hide(),
            this.thumb = null,
            this.ori_src = "",
            this.mozaique = null,
            this.videos = null)
        },
        isStillOnThumb: function(e) {
            return this.thumb && this.thumb.is(e) && 1 === this.idx || this.mozaique && this.mozaique.is(e) && 0 === this.idx
        }
    },
    a
}),
define("lib/helpers/thumbs/mp4vp", ["static/utils", "./engine_creator"], function(e, t) {
    var i = function(e) {
        return e.substring(e.lastIndexOf("/") + 1, e.lastIndexOf("."))
    }
      , n = function(e, t, i) {
        return i ? e.replace(".jpg", ".mp4") : (e.substring(0, e.lastIndexOf("/")).replace(/\/thumbs(169)?(xnxx)?l*\//, "/videopreview/") + (t ? "_169.mp4" : "_43.mp4")).replace(/(-[0-9]+)_([0-9]+)/, "_$2$1")
    }
      , o = function(e) {
        var t = 0;
        for (var i in e)
            t += e[i];
        return t / e.length
    }
      , s = function(e, t) {
        return e++,
        e >= t ? 0 : e
    }
      , a = function(e) {
        this.rotator = e,
        this.name = t.ENGINE_MP4,
        this.is_video_engine = !0,
        this.thumb,
        this.is_ad,
        this.is_16_9,
        this.idx,
        this.is_looping,
        this.node,
        this.pgsnode,
        this.pgsbar,
        this.nbplay = 0,
        this.pgs_req,
        this.req_loaded = {},
        this.req_start = 0,
        this.req_total = 0,
        this.req_dur = [],
        this.req_duration = []
    };
    return a.prototype = {
        startVideoPic: function(e) {
            this.is_looping = !0,
            this.startPreview(e)
        },
        startProfilePic: function(e, t) {
            this.is_looping = t.length + (e.hasClass("video-pic") ? 1 : 0) < 2,
            this.videos = t,
            this.thumb = e,
            this.startPreview(e)
        },
        startPreview: function(e) {
            this.nbplay = 1;
            var t, i = this;
            if (this.thumb = e,
            e.hasClass("profile-pic") ? (t = this.videos[0].img,
            this.thumb.prop("src", t).removeClass("profile-pic")) : t = this.thumb.attr("src"),
            this.is_ad = !0 === this.thumb.data("isad"),
            this.is_16_9 = -1 !== t.indexOf("/thumbs169"),
            this.idx = 1,
            this.node = this.thumb.next(".videopv"),
            0 === this.node.length) {
                var o = this.thumb.parent().prop("href")
                  , s = "";
                if (this.is_ad)
                    s = ' target="_blank" rel="noopener"';
                else {
                    var a = this.thumb.parent().prop("target");
                    a && (s = ' target="' + a + '"')
                }
                this.node = $('<div class="videopv"><a href="' + o + '"' + s + '></a><div class="progress"><div class="bar"></div></div></div>').insertAfter(this.thumb).on("mouseout", function(e) {
                    i.rotator.stop(e)
                })
            } else
                this.node.show();
            this.pgsnode = this.node.children(".progress").show(),
            this.pgsbar = this.pgsnode.children(".bar"),
            t = n(t, this.is_16_9, this.is_ad),
            this.startPgsCheck(t);
            var r = this.createVideo(t);
            this.node.prepend(r)
        },
        nextPreview: function() {
            if (this.nbplay === this.rotator.max_nb_play)
                return void this.rotator.stop(!0, !0);
            this.nbplay++,
            this.idx = s(this.idx, this.videos.length);
            var e = n(this.videos[this.idx].img, this.is_16_9, this.is_ad);
            this.pgsnode.show(),
            this.startPgsCheck(e);
            var t = this.node.css("backgroundColor", "").children("video")
              , i = this.createVideo(e, function() {
                t.remove(),
                t[0].src = "",
                t[0].load()
            });
            t.after(i)
        },
        stop: function() {
            if (this.thumb) {
                this.nbplay = 0,
                this.stopPgsCheck(),
                this.node.css("backgroundColor", "").hide();
                var e = this.node.children("video");
                e.remove(),
                e[0].src = "",
                e[0].load(),
                this.thumb = null,
                this.node = null,
                this.pgsnode = null,
                this.pgsbar = null,
                this.videos = null
            }
        },
        isStillOnThumb: function(e) {
            return this.thumb && this.thumb.is(e) && 1 === this.idx
        },
        stopPgsCheck: function() {
            this.pgs_req && (this.pgs_req.abort(),
            this.pgs_req = null,
            this.req_start = 0,
            this.req_total = 0)
        },
        startPgsCheck: function(t) {
            var n = i(t);
            if ("object" != typeof this.req_loaded[n] && (this.stopPgsCheck(),
            this.pgsbar.stop(!0).css("width", "0%"),
            "boolean" != typeof this.req_loaded[n])) {
                var s = this;
                this.pgsbar.animate({
                    width: "100%"
                }, 1e4, "linear"),
                this.req_start = (new Date).getTime(),
                this.req_total = 0,
                this.pgs_req = e.createRequestObject(),
                this.pgs_req.open("GET", t),
                this.pgs_req.addEventListener("loadstart", function(e) {
                    s.req_start = (new Date).getTime()
                }),
                this.pgs_req.addEventListener("progress", function(e) {
                    if (e.lengthComputable && (0 === s.req_total && s.req_dur.length > 2 && s.pgsbar.stop(!0).animate({
                        width: "100%"
                    }, Math.round(o(s.req_dur) * e.total), "linear"),
                    s.req_total = e.total),
                    !(s.req_dur.length > 2)) {
                        if (e.lengthComputable) {
                            var t = Math.min(1, e.loaded / e.total * 5 / 1)
                              , i = (new Date).getTime() - s.req_start;
                            return t < 1 ? void s.pgsbar.stop(!0).animate({
                                width: "100%"
                            }, Math.round(i / t - i), "linear") : void s.pgsbar.stop(!0).animate({
                                width: "100%"
                            }, 1e3, "linear")
                        }
                        s.pgsbar.stop(!0).animate({
                            width: "100%"
                        }, 1e4, "linear")
                    }
                }),
                this.pgs_req.addEventListener("load", function() {
                    s.req_loaded[n] = !0
                }),
                this.pgs_req.addEventListener("abort", function() {
                    !0 !== s.req_loaded[n] && delete s.req_loaded[n]
                }),
                this.pgs_req.send(),
                this.req_loaded[n] = this.pgs_req
            }
        },
        createVideo: function(e, t) {
            var a = this
              , r = i(e)
              , l = !1
              , u = document.createElement("video");
            u.src = e,
            u.muted = !0,
            u.autoplay = "autoplay",
            u.disableRemotePlayback = !0,
            u.playsInline = !0,
            u.addEventListener("progress", function() {
                4 === u.readyState && u.seekable.end(0) == u.buffered.end(0) && (a.req_loaded[r] = !0)
            }),
            u.addEventListener("timeupdate", function() {
                if (!l) {
                    var e = 2;
                    if (a.req_duration.length > 1 && (e = o(a.req_duration) / 1e3 - .5),
                    !a.is_looping && u.duration - u.currentTime <= e) {
                        l = !0;
                        var t = s(a.idx, a.videos.length)
                          , r = a.videos[t].img
                          , f = i(r);
                        "undefined" == typeof a.req_loaded[f] && a.startPgsCheck(n(r, a.is_16_9, a.is_ad))
                    }
                }
            }),
            this.is_looping ? u.addEventListener("ended", function() {
                if (a.nbplay === a.rotator.max_nb_play)
                    return void a.rotator.stop(!0, !0);
                a.nbplay++,
                this.play()
            }) : u.addEventListener("ended", function() {
                a.req_loaded[r] = !0,
                a.nextPreview()
            });
            var f = !1
              , c = function() {
                if (!f) {
                    if (f = !0,
                    u.removeEventListener("playing", c),
                    a.req_total > 0) {
                        var e = (new Date).getTime() - a.req_start;
                        a.req_dur.push(e / a.req_total),
                        a.req_duration.push(e),
                        a.req_dur.length > 4 && (a.req_dur.shift(),
                        a.req_duration.shift())
                    }
                    a.stopPgsCheck(),
                    a.node.css("backgroundColor", "#000"),
                    a.pgsnode.hide(),
                    "function" == typeof t && t()
                }
            };
            return u.addEventListener("playing", c),
            u
        }
    },
    a
}),
define("lib/helpers/thumbs/tsvp", ["./engine_creator"], function(e) {
    var t = function(e) {
        var t = 0;
        for (var i in e)
            t += e[i];
        return t / e.length
    }
      , i = function(e, t) {
        return (e.substring(0, e.lastIndexOf("/")).replace(/\/thumbs(169)?(xnxx)?l*\//, "/videopreview/") + (t ? "_169.ts" : "_43.ts")).replace(/(-[0-9]+)_([0-9]+)/, "_$2$1")
    }
      , n = function(e, t) {
        return e++,
        e >= t ? 0 : e
    }
      , o = function(e, t, i) {
        i.stop(!0).css("width", "0%").animate({
            width: "100%"
        }, 1e4, "linear"),
        JSMpeg.Player.call(this, e, t);
        var n = (new Date).getTime()
          , o = !1
          , s = this
          , a = !1;
        this.renderer.canvas.style.visibility = "hidden",
        this.renderer.renderProgress = function(e) {
            if (0 !== e) {
                s.is_cached = !1,
                i.stop(!0),
                o && (o = !1,
                i.css("width", (100 * e).toFixed(2) + "%"));
                var t = (new Date).getTime() - n;
                i.animate({
                    width: "100%"
                }, Math.max(200, Math.round(t / e - t)), "linear")
            }
        }
        ,
        this.renderer.render = function(e, t, n) {
            this.enabled && (a ? "function" == typeof s.nextframe && s.nextframe(s.video.getCurrentTime(), s.video.timestamps[s.video.timestamps.length - 1].time) : (a = !0,
            this.canvas.style.visibility = "",
            i.stop(!0),
            "function" == typeof s.started && s.started()),
            Object.getPrototypeOf(this).render.call(this, e, t, n),
            s.video.timestampIndex > 0 && s.video.timestampIndex === s.video.timestamps.length - 1 && "function" == typeof s.ended && s.ended())
        }
        ,
        this.resetProgress = function() {
            o = !0
        }
    };
    o.prototype = Object.create(JSMpeg.Player.prototype, {}),
    o.prototype.is_cached = !0,
    o.prototype.started = null,
    o.prototype.nextframe = null,
    o.prototype.ended = null,
    o.prototype.constructor = o;
    var s = function(t) {
        this.rotator = t,
        this.name = e.ENGINE_TS,
        this.is_video_engine = !0,
        this.thumb,
        this.is_16_9,
        this.idx,
        this.is_looping,
        this.node,
        this.pgsnode,
        this.pgsbar,
        this.player,
        this.nextplayer,
        this.nbplay = 0,
        this.req_duration = []
    };
    return s.prototype = {
        startVideoPic: function(e) {
            this.is_looping = !0,
            this.startPreview(e)
        },
        startProfilePic: function(e, t) {
            this.is_looping = t.length + (e.hasClass("video-pic") ? 1 : 0) < 2,
            this.videos = t,
            this.thumb = e,
            this.startPreview(e)
        },
        startPreview: function(e) {
            this.nbplay = 1;
            var t, i = this;
            if (this.thumb = e,
            e.hasClass("profile-pic") ? (t = this.videos[0].img,
            this.thumb.removeClass("profile-pic")) : t = this.thumb.attr("src"),
            this.is_16_9 = -1 !== t.indexOf("/thumbs169"),
            this.idx = 1,
            this.node = this.thumb.next(".videopv"),
            0 === this.node.length) {
                var n = this.thumb.parent().prop("href");
                this.node = $('<div class="videopv"><a href="' + n + '"></a><div class="progress"><div class="bar"></div></div></div>').insertAfter(this.thumb).on("mouseout", function(e) {
                    i.rotator.stop(e)
                })
            } else
                this.node.show();
            this.pgsnode = this.node.children(".progress").show(),
            this.pgsbar = this.pgsnode.children(".bar"),
            this.player = this.createPlayer(t),
            this.node.prepend(this.player.options.canvas)
        },
        nextPreview: function() {
            if (this.nbplay === this.rotator.max_nb_play)
                return void this.rotator.stop(!0, !0);
            this.nbplay++,
            this.idx = n(this.idx, this.videos.length);
            var e = this.videos[this.idx].img;
            this.pgsnode.show();
            var t = this.player;
            this.player = this.createPlayer(e),
            $(t.options.canvas).after(this.player.options.canvas)
        },
        stop: function() {
            this.thumb && (this.node.css("backgroundColor", "").hide(),
            this.player && (this.player.destroy(),
            this.player.options.canvas.parentNode && this.player.options.canvas.parentNode.removeChild(this.player.options.canvas),
            this.player = null),
            this.nextplayer && (this.nextplayer.destroy(),
            this.nextplayer.options.canvas.parentNode && this.nextplayer.options.canvas.parentNode.removeChild(this.nextplayer.options.canvas),
            this.nextplayer = null),
            this.thumb = null,
            this.node = null,
            this.pgsnode = null,
            this.pgsbar = null,
            this.videos = null,
            this.nbplay = 0)
        },
        isStillOnThumb: function(e) {
            return this.thumb && this.thumb.is(e) && 1 === this.idx
        },
        createPlayer: function(e, s) {
            if (e = i(e, this.is_16_9),
            !s && this.nextplayer) {
                if (this.nextplayer.source.url === e) {
                    this.nextplayer.resetProgress(),
                    this.nextplayer.play();
                    var a = this.nextplayer;
                    return this.nextplayer = null,
                    a
                }
                this.nextplayer.destroy(),
                this.nextplayer.options.canvas.parentNode && this.nextplayer.options.canvas.parentNode.removeChild(this.nextplayer.options.canvas),
                this.nextplayer = null
            }
            var r = this
              , a = new o(e,{
                canvas: document.createElement("canvas"),
                progressive: !1,
                loop: this.is_looping,
                autoplay: void 0 === s || !s,
                decodeFirstFrame: !1
            },this.pgsbar);
            if (this.is_looping)
                a.started = function() {
                    r.node.css("backgroundColor", "#000"),
                    r.pgsnode.hide()
                }
                ,
                a.ended = function() {
                    if (r.nbplay === r.rotator.max_nb_play)
                        return void r.rotator.stop(!0, !0);
                    r.nbplay++
                }
                ;
            else {
                var l = this.player
                  , u = (new Date).getTime();
                a.started = function() {
                    if (r.node.css("backgroundColor", "#000"),
                    r.pgsnode.hide(),
                    l && (l.destroy(),
                    l.options.canvas.parentNode.removeChild(l.options.canvas)),
                    !a.is_cached) {
                        var e = (new Date).getTime() - u;
                        r.req_duration.push(e),
                        r.req_duration.length > 4 && r.req_duration.shift()
                    }
                }
                ,
                a.nextframe = function(e, i) {
                    if (!r.nextplayer) {
                        var o = 2;
                        if (r.req_duration.length > 1 && (o = t(r.req_duration) / 1e3 - .5),
                        i - e <= o) {
                            var s = n(r.idx, r.videos.length)
                              , a = r.videos[s].img;
                            r.nextplayer = r.createPlayer(a, !0)
                        }
                    }
                }
                ,
                a.ended = function() {
                    r.nextPreview()
                }
            }
            return a
        }
    },
    s
}),
define("lib/helpers/thumbs/engine_creator", ["config/main", "static/utils"], function(e, t) {
    var i = function() {
        if (this.videop_allowed = !1,
        this.videop_enabled = -1 === e.dyn.disfeats.indexOf("pv"),
        this.videopv_codec,
        "object" == typeof e.dyn && "object" == typeof e.dyn.vp && e.dyn.vp.allowed && "string" == typeof e.dyn.vp.codec && ("mp4" === e.dyn.vp.codec || "ts" === e.dyn.vp.codec) && (this.videop_allowed = !0,
        this.videopv_codec = e.dyn.vp.codec,
        "mp4" === this.videopv_codec && -1 === navigator.userAgent.toLowerCase().indexOf("chrome-lighthouse"))) {
            var t = document.createElement("video");
            "undefined" != typeof t.canPlayType && t.canPlayType('video/mp4; codecs="avc1.4D401E, mp4a.40.2"').length > 0 || (this.videopv_codec = "ts")
        }
        this.engineLoading = !1,
        this.engineName = !1,
        this.engineObj,
        this.libtimer,
        this.pending_create = []
    };
    return i.prototype = {
        ENGINE_MOZAIQUE: "mozaique",
        ENGINE_MP4: "mp4vp",
        ENGINE_TS: "tsvp",
        getPreviewAllowed: function() {
            return this.videop_allowed
        },
        getPreviewEnabled: function() {
            return this.videop_enabled
        },
        setPreviewEnabled: function(e) {
            this.videop_enabled = e
        },
        setPreviewVideoCodec: function(e) {
            this.videopv_codec = e
        },
        create: function(i) {
            i && this.pending_create.push(i);
            var n, o = this;
            if (this.videop_enabled)
                if (n = this.ENGINE_MOZAIQUE,
                "mp4" === this.videopv_codec)
                    n = this.ENGINE_MP4;
                else if ("ts" === this.videopv_codec)
                    if ("object" == typeof JSMpeg)
                        n = this.ENGINE_TS,
                        this.libtimer && (window.clearInterval(this.libtimer),
                        this.libtimer = null);
                    else if (!this.libtimer)
                        return t.loadScript(e.domains["static"] + "/v3/js/libs/jsmpeg.min.js"),
                        void (this.libtimer = window.setInterval(function() {
                            o.create()
                        }, 500));
            if (this.engineName === n)
                return void this.executeCallbacks();
            if (this.engineLoading !== n) {
                this.engineLoading = n;
                var s = function(e) {
                    o.engineLoading === n && (o.engineLoading = !1,
                    o.engineName = n,
                    o.engineObj = e,
                    o.executeCallbacks())
                };
                n === this.ENGINE_MOZAIQUE ? require(["lib/helpers/thumbs/mozaique"], s) : n === this.ENGINE_MP4 ? require(["lib/helpers/thumbs/mp4vp"], s) : n === this.ENGINE_TS && require(["lib/helpers/thumbs/tsvp"], s)
            }
        },
        executeCallbacks: function() {
            for (var e in this.pending_create)
                this.pending_create[e](this.engineObj);
            this.pending_create = []
        }
    },
    new i
}),
function(e) {
    function t() {
        var e = s();
        e !== a && (a = e,
        u.trigger("orientationchange"))
    }
    function i(t, i, n, o) {
        var s = n.type;
        n.type = i,
        e.event.dispatch.call(t, n, o),
        n.type = s
    }
    e.attrFn = e.attrFn || {};
    var n = "ontouchstart"in window
      , o = {
        tap_pixel_range: 5,
        swipe_h_threshold: 50,
        swipe_v_threshold: 50,
        taphold_threshold: 750,
        doubletap_int: 500,
        shake_threshold: 15,
        touch_capable: n,
        orientation_support: "orientation"in window && "onorientationchange"in window,
        startevent: n ? "touchstart" : "mousedown",
        endevent: n ? "touchend" : "mouseup",
        moveevent: n ? "touchmove" : "mousemove",
        tapevent: n ? "tap" : "click",
        scrollevent: n ? "touchmove" : "scroll",
        hold_timer: null,
        tap_timer: null
    };
    e.touch = {},
    e.isTouchCapable = function() {
        return o.touch_capable
    }
    ,
    e.getStartEvent = function() {
        return o.startevent
    }
    ,
    e.getEndEvent = function() {
        return o.endevent
    }
    ,
    e.getMoveEvent = function() {
        return o.moveevent
    }
    ,
    e.getTapEvent = function() {
        return o.tapevent
    }
    ,
    e.getScrollEvent = function() {
        return o.scrollevent
    }
    ,
    e.touch.setSwipeThresholdX = function(e) {
        if ("number" != typeof e)
            throw new Error("Threshold parameter must be a type of number");
        o.swipe_h_threshold = e
    }
    ,
    e.touch.setSwipeThresholdY = function(e) {
        if ("number" != typeof e)
            throw new Error("Threshold parameter must be a type of number");
        o.swipe_v_threshold = e
    }
    ,
    e.touch.setDoubleTapInt = function(e) {
        if ("number" != typeof e)
            throw new Error("Interval parameter must be a type of number");
        o.doubletap_int = e
    }
    ,
    e.touch.setTapHoldThreshold = function(e) {
        if ("number" != typeof e)
            throw new Error("Threshold parameter must be a type of number");
        o.taphold_threshold = e
    }
    ,
    e.touch.setTapRange = function(e) {
        if ("number" != typeof e)
            throw new Error("Ranger parameter must be a type of number");
        o.tap_pixel_range = e
    }
    ,
    e.each(["tapstart", "tapend", "tapmove", "tap", "singletap", "doubletap", "taphold", "swipe", "swipeup", "swiperight", "swipedown", "swipeleft", "swipeend", "scrollstart", "scrollend", "orientationchange", "tap2", "taphold2"], function(t, i) {
        e.fn[i] = function(e) {
            return e ? this.on(i, e) : this.trigger(i)
        }
        ,
        e.attrFn[i] = !0
    }),
    e.event.special.tapstart = {
        setup: function() {
            var t = this
              , n = e(t);
            n.on(o.startevent, function s(e) {
                if (n.data("callee", s),
                e.which && 1 !== e.which)
                    return !1;
                var a = n.get(0) !== window && n.get(0) !== document ? n.offset() : {
                    left: 0,
                    top: 0
                }
                  , r = e.originalEvent
                  , l = {
                    position: {
                        x: o.touch_capable ? r.touches[0].pageX : e.pageX,
                        y: o.touch_capable ? r.touches[0].pageY : e.pageY
                    },
                    offset: {
                        x: o.touch_capable ? Math.round(r.changedTouches[0].pageX - a.left) : Math.round(e.pageX - a.left),
                        y: o.touch_capable ? Math.round(r.changedTouches[0].pageY - a.top) : Math.round(e.pageY - a.top)
                    },
                    time: Date.now(),
                    target: e.target
                };
                return i(t, "tapstart", e, l),
                !0
            })
        },
        remove: function() {
            e(this).off(o.startevent, e(this).data.callee)
        }
    },
    e.event.special.tapmove = {
        setup: function() {
            var t = this
              , n = e(t);
            n.on(o.moveevent, function s(e) {
                n.data("callee", s);
                var a = n.get(0) !== window && n.get(0) !== document ? n.offset() : {
                    left: 0,
                    top: 0
                }
                  , r = e.originalEvent
                  , l = {
                    position: {
                        x: o.touch_capable ? r.touches[0].pageX : e.pageX,
                        y: o.touch_capable ? r.touches[0].pageY : e.pageY
                    },
                    offset: {
                        x: o.touch_capable ? Math.round(r.changedTouches[0].pageX - a.left) : Math.round(e.pageX - a.left),
                        y: o.touch_capable ? Math.round(r.changedTouches[0].pageY - a.top) : Math.round(e.pageY - a.top)
                    },
                    time: Date.now(),
                    target: e.target
                };
                return i(t, "tapmove", e, l),
                !0
            })
        },
        remove: function() {
            e(this).off(o.moveevent, e(this).data.callee)
        }
    },
    e.event.special.tapend = {
        setup: function() {
            var t = this
              , n = e(t);
            n.on(o.endevent, function s(e) {
                n.data("callee", s);
                var a = n.get(0) !== window && n.get(0) !== document ? n.offset() : {
                    left: 0,
                    top: 0
                }
                  , r = e.originalEvent
                  , l = {
                    position: {
                        x: o.touch_capable ? r.changedTouches[0].pageX : e.pageX,
                        y: o.touch_capable ? r.changedTouches[0].pageY : e.pageY
                    },
                    offset: {
                        x: o.touch_capable ? Math.round(r.changedTouches[0].pageX - a.left) : Math.round(e.pageX - a.left),
                        y: o.touch_capable ? Math.round(r.changedTouches[0].pageY - a.top) : Math.round(e.pageY - a.top)
                    },
                    time: Date.now(),
                    target: e.target
                };
                return i(t, "tapend", e, l),
                !0
            })
        },
        remove: function() {
            e(this).off(o.endevent, e(this).data.callee)
        }
    },
    e.event.special.taphold = {
        setup: function() {
            var t, n = this, s = e(n), a = {
                x: 0,
                y: 0
            }, r = 0, l = 0;
            s.on(o.startevent, function u(e) {
                if (e.which && 1 !== e.which)
                    return !1;
                s.data("tapheld", !1),
                t = e.target;
                var f = e.originalEvent
                  , c = Date.now();
                o.touch_capable ? f.touches[0].pageX : e.pageX,
                o.touch_capable ? f.touches[0].pageY : e.pageY,
                o.touch_capable ? (f.touches[0].pageX,
                f.touches[0].target.offsetLeft) : e.offsetX,
                o.touch_capable ? (f.touches[0].pageY,
                f.touches[0].target.offsetTop) : e.offsetY;
                a.x = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageX : e.pageX,
                a.y = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageY : e.pageY,
                r = a.x,
                l = a.y;
                var d = s.parent().data("threshold") ? s.parent().data("threshold") : s.data("threshold")
                  , h = void 0 !== d && !1 !== d && parseInt(d) ? parseInt(d) : o.taphold_threshold;
                return s.data("hold_timer", window.setTimeout(function() {
                    var d = a.x - r
                      , h = a.y - l;
                    if (e.target == t && (a.x == r && a.y == l || d >= -o.tap_pixel_range && d <= o.tap_pixel_range && h >= -o.tap_pixel_range && h <= o.tap_pixel_range)) {
                        s.data("tapheld", !0);
                        for (var p = Date.now(), _ = p - c, g = e.originalEvent.targetTouches ? e.originalEvent.targetTouches : [e], m = [], b = s.get(0) !== window && s.get(0) !== document ? s.offset() : {
                            left: 0,
                            top: 0
                        }, v = 0; v < g.length; v++) {
                            var D = {
                                position: {
                                    x: o.touch_capable ? f.changedTouches[v].pageX : e.pageX,
                                    y: o.touch_capable ? f.changedTouches[v].pageY : e.pageY
                                },
                                offset: {
                                    x: o.touch_capable ? Math.round(f.changedTouches[v].pageX - b.left) : Math.round(e.pageX - b.left),
                                    y: o.touch_capable ? Math.round(f.changedTouches[v].pageY - b.top) : Math.round(e.pageY - b.top)
                                },
                                time: Date.now(),
                                target: e.target,
                                duration: _
                            };
                            m.push(D)
                        }
                        var y = 2 == g.length ? "taphold2" : "taphold";
                        s.data("callee1", u),
                        i(n, y, e, m)
                    }
                }, h)),
                !0
            }).on(o.endevent, function f() {
                s.data("callee2", f),
                s.data("tapheld", !1),
                window.clearTimeout(s.data("hold_timer"))
            }).on(o.moveevent, function c(e) {
                s.data("callee3", c),
                r = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageX : e.pageX,
                l = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageY : e.pageY
            })
        },
        remove: function() {
            e(this).off(o.startevent, e(this).data.callee1).off(o.endevent, e(this).data.callee2).off(o.moveevent, e(this).data.callee3)
        }
    },
    e.event.special.doubletap = {
        setup: function() {
            var t, n, s, a, r = this, l = e(r), u = null, f = !1;
            l.on(o.startevent, function c(i) {
                if (i.which && 1 !== i.which)
                    return !1;
                if (l.data("doubletapped", !1),
                t = i.target,
                l.data("callee1", c),
                s = i.originalEvent,
                !u) {
                    var n = l.get(0) !== window && l.get(0) !== document ? l.offset() : {
                        left: 0,
                        top: 0
                    };
                    u = {
                        position: {
                            x: o.touch_capable ? s.touches[0].pageX : i.pageX,
                            y: o.touch_capable ? s.touches[0].pageY : i.pageY
                        },
                        offset: {
                            x: o.touch_capable ? Math.round(s.changedTouches[0].pageX - n.left) : Math.round(i.pageX - n.left),
                            y: o.touch_capable ? Math.round(s.changedTouches[0].pageY - n.top) : Math.round(i.pageY - n.top)
                        },
                        time: Date.now(),
                        target: i.target,
                        element: i.originalEvent.srcElement,
                        index: e(i.target).index()
                    }
                }
                return !0
            }).on(o.endevent, function d(t) {
                var c = Date.now()
                  , h = l.data("lastTouch") || c + 1
                  , p = c - h;
                if (window.clearTimeout(n),
                l.data("callee2", d),
                p < o.doubletap_int && e(t.target).index() == u.index && p > 100) {
                    l.data("doubletapped", !0),
                    window.clearTimeout(o.tap_timer);
                    var _ = l.get(0) !== window && l.get(0) !== document ? l.offset() : {
                        left: 0,
                        top: 0
                    }
                      , g = {
                        position: {
                            x: o.touch_capable ? t.originalEvent.changedTouches[0].pageX : t.pageX,
                            y: o.touch_capable ? t.originalEvent.changedTouches[0].pageY : t.pageY
                        },
                        offset: {
                            x: o.touch_capable ? Math.round(s.changedTouches[0].pageX - _.left) : Math.round(t.pageX - _.left),
                            y: o.touch_capable ? Math.round(s.changedTouches[0].pageY - _.top) : Math.round(t.pageY - _.top)
                        },
                        time: Date.now(),
                        target: t.target,
                        element: t.originalEvent.srcElement,
                        index: e(t.target).index()
                    }
                      , m = {
                        firstTap: u,
                        secondTap: g,
                        interval: g.time - u.time
                    };
                    f || (i(r, "doubletap", t, m),
                    u = null),
                    f = !0,
                    a = window.setTimeout(function() {
                        f = !1
                    }, o.doubletap_int)
                } else
                    l.data("lastTouch", c),
                    n = window.setTimeout(function() {
                        u = null,
                        window.clearTimeout(n)
                    }, o.doubletap_int, [t]);
                l.data("lastTouch", c)
            })
        },
        remove: function() {
            e(this).off(o.startevent, e(this).data.callee1).off(o.endevent, e(this).data.callee2)
        }
    },
    e.event.special.singletap = {
        setup: function() {
            var t = this
              , n = e(t)
              , s = null
              , a = null
              , r = {
                x: 0,
                y: 0
            };
            n.on(o.startevent, function l(e) {
                return (!e.which || 1 === e.which) && (a = Date.now(),
                s = e.target,
                n.data("callee1", l),
                r.x = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageX : e.pageX,
                r.y = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageY : e.pageY,
                !0)
            }).on(o.endevent, function u(e) {
                if (n.data("callee2", u),
                e.target == s) {
                    var l = e.originalEvent.changedTouches ? e.originalEvent.changedTouches[0].pageX : e.pageX
                      , f = e.originalEvent.changedTouches ? e.originalEvent.changedTouches[0].pageY : e.pageY;
                    o.tap_timer = window.setTimeout(function() {
                        var s = r.x - l
                          , u = r.y - f;
                        if (!n.data("doubletapped") && !n.data("tapheld") && (r.x == l && r.y == f || s >= -o.tap_pixel_range && s <= o.tap_pixel_range && u >= -o.tap_pixel_range && u <= o.tap_pixel_range)) {
                            var c = n.get(0) !== window && n.get(0) !== document ? n.offset() : {
                                left: 0,
                                top: 0
                            }
                              , d = e.originalEvent
                              , h = {
                                position: {
                                    x: o.touch_capable ? d.changedTouches[0].pageX : e.pageX,
                                    y: o.touch_capable ? d.changedTouches[0].pageY : e.pageY
                                },
                                offset: {
                                    x: o.touch_capable ? Math.round(d.changedTouches[0].pageX - c.left) : Math.round(e.pageX - c.left),
                                    y: o.touch_capable ? Math.round(d.changedTouches[0].pageY - c.top) : Math.round(e.pageY - c.top)
                                },
                                time: Date.now(),
                                target: e.target
                            };
                            h.time - a < o.taphold_threshold && i(t, "singletap", e, h)
                        }
                    }, o.doubletap_int)
                }
            })
        },
        remove: function() {
            e(this).off(o.startevent, e(this).data.callee1).off(o.endevent, e(this).data.callee2)
        }
    },
    e.event.special.tap = {
        setup: function() {
            var t, n, s = this, a = e(s), r = !1, l = null, u = {
                x: 0,
                y: 0
            };
            a.on(o.startevent, function f(e) {
                return a.data("callee1", f),
                (!e.which || 1 === e.which) && (r = !0,
                u.x = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageX : e.pageX,
                u.y = e.originalEvent.targetTouches ? e.originalEvent.targetTouches[0].pageY : e.pageY,
                t = Date.now(),
                l = e.target,
                n = e.originalEvent.targetTouches ? e.originalEvent.targetTouches : [e],
                !0)
            }).on(o.endevent, function c(e) {
                a.data("callee2", c);
                var f = e.originalEvent.targetTouches ? e.originalEvent.changedTouches[0].pageX : e.pageX
                  , d = e.originalEvent.targetTouches ? e.originalEvent.changedTouches[0].pageY : e.pageY
                  , h = u.x - f
                  , p = u.y - d;
                if (l == e.target && r && Date.now() - t < o.taphold_threshold && (u.x == f && u.y == d || h >= -o.tap_pixel_range && h <= o.tap_pixel_range && p >= -o.tap_pixel_range && p <= o.tap_pixel_range)) {
                    for (var _ = a.get(0) !== window && a.get(0) !== document ? a.offset() : {
                        left: 0,
                        top: 0
                    }, g = e.originalEvent, m = [], b = 0; b < n.length; b++) {
                        var v = {
                            position: {
                                x: o.touch_capable ? g.changedTouches[b].pageX : e.pageX,
                                y: o.touch_capable ? g.changedTouches[b].pageY : e.pageY
                            },
                            offset: {
                                x: o.touch_capable ? Math.round(g.changedTouches[b].pageX - _.left) : Math.round(e.pageX - _.left),
                                y: o.touch_capable ? Math.round(g.changedTouches[b].pageY - _.top) : Math.round(e.pageY - _.top)
                            },
                            time: Date.now(),
                            target: e.target
                        };
                        m.push(v)
                    }
                    var D = 2 == n.length ? "tap2" : "tap";
                    i(s, D, e, m)
                }
            })
        },
        remove: function() {
            e(this).off(o.startevent, e(this).data.callee1).off(o.endevent, e(this).data.callee2)
        }
    },
    e.event.special.swipe = {
        setup: function() {
            function t(i) {
                r = e(i.currentTarget),
                r.data("callee1", t),
                f.x = i.originalEvent.targetTouches ? i.originalEvent.targetTouches[0].pageX : i.pageX,
                f.y = i.originalEvent.targetTouches ? i.originalEvent.targetTouches[0].pageY : i.pageY,
                c.x = f.x,
                c.y = f.y,
                l = !0;
                var n = r.get(0) !== window && r.get(0) !== document ? r.offset() : {
                    left: 0,
                    top: 0
                }
                  , a = i.originalEvent;
                s = {
                    position: {
                        x: o.touch_capable ? a.touches[0].pageX : i.pageX,
                        y: o.touch_capable ? a.touches[0].pageY : i.pageY
                    },
                    offset: {
                        x: o.touch_capable ? Math.round(a.changedTouches[0].pageX - n.left) : Math.round(i.pageX - n.left),
                        y: o.touch_capable ? Math.round(a.changedTouches[0].pageY - n.top) : Math.round(i.pageY - n.top)
                    },
                    time: Date.now(),
                    target: i.target
                }
            }
            function i(t) {
                r = e(t.currentTarget),
                r.data("callee2", i),
                c.x = t.originalEvent.targetTouches ? t.originalEvent.targetTouches[0].pageX : t.pageX,
                c.y = t.originalEvent.targetTouches ? t.originalEvent.targetTouches[0].pageY : t.pageY;
                var n, a = r.parent().data("xthreshold") ? r.parent().data("xthreshold") : r.data("xthreshold"), d = r.parent().data("ythreshold") ? r.parent().data("ythreshold") : r.data("ythreshold"), h = void 0 !== a && !1 !== a && parseInt(a) ? parseInt(a) : o.swipe_h_threshold, p = void 0 !== d && !1 !== d && parseInt(d) ? parseInt(d) : o.swipe_v_threshold;
                if (Math.abs(c.x - f.x) > Math.abs(c.y - f.y) ? (f.x < c.x && c.x - f.x > h && (n = "swiperight"),
                f.x > c.x && f.x - c.x > h && (n = "swipeleft")) : (f.y > c.y && f.y - c.y > p && (n = "swipeup"),
                f.y < c.y && c.y - f.y > p && (n = "swipedown")),
                n != undefined && l) {
                    f.x = 0,
                    f.y = 0,
                    c.x = 0,
                    c.y = 0,
                    l = !1;
                    var _ = r.get(0) !== window && r.get(0) !== document ? r.offset() : {
                        left: 0,
                        top: 0
                    }
                      , g = t.originalEvent
                      , m = {
                        position: {
                            x: o.touch_capable ? g.touches[0].pageX : t.pageX,
                            y: o.touch_capable ? g.touches[0].pageY : t.pageY
                        },
                        offset: {
                            x: o.touch_capable ? Math.round(g.changedTouches[0].pageX - _.left) : Math.round(t.pageX - _.left),
                            y: o.touch_capable ? Math.round(g.changedTouches[0].pageY - _.top) : Math.round(t.pageY - _.top)
                        },
                        time: Date.now(),
                        target: t.target
                    }
                      , b = Math.abs(s.position.x - m.position.x)
                      , v = Math.abs(s.position.y - m.position.y)
                      , D = {
                        startEvnt: s,
                        endEvnt: m,
                        direction: n.replace("swipe", ""),
                        xAmount: b,
                        yAmount: v,
                        duration: m.time - s.time
                    };
                    u = !0,
                    r.trigger("swipe", D).trigger(n, D)
                }
            }
            function n(t) {
                r = e(t.currentTarget);
                var i = "";
                if (r.data("callee3", n),
                u) {
                    var a = r.data("xthreshold")
                      , f = r.data("ythreshold")
                      , c = void 0 !== a && !1 !== a && parseInt(a) ? parseInt(a) : o.swipe_h_threshold
                      , d = void 0 !== f && !1 !== f && parseInt(f) ? parseInt(f) : o.swipe_v_threshold
                      , h = r.get(0) !== window && r.get(0) !== document ? r.offset() : {
                        left: 0,
                        top: 0
                    }
                      , p = t.originalEvent
                      , _ = {
                        position: {
                            x: o.touch_capable ? p.changedTouches[0].pageX : t.pageX,
                            y: o.touch_capable ? p.changedTouches[0].pageY : t.pageY
                        },
                        offset: {
                            x: o.touch_capable ? Math.round(p.changedTouches[0].pageX - h.left) : Math.round(t.pageX - h.left),
                            y: o.touch_capable ? Math.round(p.changedTouches[0].pageY - h.top) : Math.round(t.pageY - h.top)
                        },
                        time: Date.now(),
                        target: t.target
                    }
                      , g = Math.abs(s.position.x - _.position.x)
                      , m = Math.abs(s.position.y - _.position.y);
                    g > m ? (s.position.x < _.position.x && _.position.x - s.position.x > c && (i = "swiperight"),
                    s.position.x > _.position.x && s.position.x - _.position.x > c && (i = "swipeleft")) : (s.position.y > _.position.y && s.position.y - _.position.y > d && (i = "swipeup"),
                    s.position.y < _.position.y && _.position.y - s.position.y > d && (i = "swipedown"));
                    var b = {
                        startEvnt: s,
                        endEvnt: _,
                        direction: i.replace("swipe", ""),
                        xAmount: g,
                        yAmount: m,
                        duration: _.time - s.time
                    };
                    r.trigger("swipeend", b)
                }
                l = !1,
                u = !1
            }
            var s, a = this, r = e(a), l = !1, u = !1, f = {
                x: 0,
                y: 0
            }, c = {
                x: 0,
                y: 0
            };
            r.on(o.startevent, t),
            r.on(o.moveevent, i),
            r.on(o.endevent, n)
        },
        remove: function() {
            e(this).off(o.startevent, e(this).data.callee1).off(o.moveevent, e(this).data.callee2).off(o.endevent, e(this).data.callee3)
        }
    },
    e.event.special.scrollstart = {
        setup: function() {
            function t(e, t) {
                n = t,
                i(a, n ? "scrollstart" : "scrollend", e)
            }
            var n, s, a = this, r = e(a);
            r.on(o.scrollevent, function l(e) {
                r.data("callee", l),
                n || t(e, !0),
                clearTimeout(s),
                s = setTimeout(function() {
                    t(e, !1)
                }, 50)
            })
        },
        remove: function() {
            e(this).off(o.scrollevent, e(this).data.callee)
        }
    };
    var s, a, r, l, u = e(window), f = {
        0: !0,
        180: !0
    };
    if (o.orientation_support) {
        var c = window.innerWidth || u.width()
          , d = window.innerHeight || u.height();
        r = c > d && c - d > 50,
        l = f[window.orientation],
        (r && l || !r && !l) && (f = {
            "-90": !0,
            90: !0
        })
    }
    e.event.special.orientationchange = {
        setup: function() {
            return !o.orientation_support && (a = s(),
            u.on("throttledresize", t),
            !0)
        },
        teardown: function() {
            return !o.orientation_support && (u.off("throttledresize", t),
            !0)
        },
        add: function(e) {
            var t = e.handler;
            e.handler = function(e) {
                return e.orientation = s(),
                t.apply(this, arguments)
            }
        }
    },
    e.event.special.orientationchange.orientation = s = function() {
        var e = !0
          , t = document.documentElement;
        return e = o.orientation_support ? f[window.orientation] : t && t.clientWidth / t.clientHeight < 1.1,
        e ? "portrait" : "landscape"
    }
    ,
    e.event.special.throttledresize = {
        setup: function() {
            e(this).on("resize", g)
        },
        teardown: function() {
            e(this).off("resize", g)
        }
    };
    var h, p, _, g = function() {
        p = Date.now(),
        _ = p - m,
        _ >= 250 ? (m = p,
        e(this).trigger("throttledresize")) : (h && window.clearTimeout(h),
        h = window.setTimeout(t, 250 - _))
    }, m = 0;
    e.each({
        scrollend: "scrollstart",
        swipeup: "swipe",
        swiperight: "swipe",
        swipedown: "swipe",
        swipeleft: "swipe",
        swipeend: "swipe",
        tap2: "tap",
        taphold2: "taphold"
    }, function(t, i) {
        e.event.special[t] = {
            setup: function() {
                e(this).on(i, e.noop)
            }
        }
    })
}(jQuery),
define("jquery-mobile-events", function() {}),
define("lib/helpers/thumbs/rotator", ["lib/helpers/events", "./engine_creator", "jquery-mobile-events"], function(e, t) {
    var i = function() {
        this.thumbs = $(),
        this.thumb,
        this.ori_src,
        this.is_video_thumb,
        this.is_profile_pic,
        this.is_video_pic,
        this.trigger_event,
        this.start_timer,
        this.last_start,
        this.touch_timer,
        this.max_nb_play = 4,
        this.tmp_locked = !1,
        this.videop_enabled = t.getPreviewEnabled(),
        this.no_video_pv = null,
        this.videop_enabled && this.testVideoPreview()
    };
    return i.prototype = {
        ON_EVENT: /iPad|iPhone|iPod/.test(navigator.userAgent) || /Mac OS X/.test(navigator.userAgent) && navigator.maxTouchPoints > 2 ? "swipe touchmove" : "swipe touchstart mouseenter mousemove",
        getPreviewEnabled: function() {
            return this.videop_enabled
        },
        addThumb: function(e) {
            if (-1 === this.thumbs.index(e)) {
                var t = this;
                this.thumbs = this.thumbs.add($(e).on(this.ON_EVENT, function(e) {
                    var i = e.type;
                    if ("touchstart" !== i)
                        t.start(this, i);
                    else if (!t.touch_timer) {
                        var n = this;
                        t.touch_timer = setTimeout(function() {
                            t.touch_timer = null,
                            t.start(n, i)
                        }, 200)
                    }
                }).on("touchend", function() {
                    t.touch_timer && clearTimeout(t.touch_timer)
                }).on("mouseleave", function(e) {
                    t.stop(e)
                }).on("mousedown", function(e) {
                    t.lock(e)
                }))
            }
        },
        initEngine: function() {
            var e = this
              , i = function(t) {
                var i = !1
                  , n = e.thumb;
                e.engine && e.thumb && (e.stop(!0),
                i = !0),
                e.engine = new t(e),
                i && e.start(n, e.trigger_event)
            };
            t.create(i)
        },
        onToggleVP: function(e) {},
        start: function(t, i) {
            if (e.isScrolling())
                return !1;
            if ($(t).hasClass("thumb-ad") && this.engine !== this.ENGINE_MP4)
                return !1;
            if ("mouseenter" === i && this.tmp_locked) {
                if (!((new Date).getTime() - this.tmp_locked > 200))
                    return;
                this.tmp_locked = !1
            }
            if (this.start_timer && (window.clearTimeout(this.start_timer),
            this.start_timer = null),
            !this.thumb || !this.thumb.is(t)) {
                var n = (new Date).getTime();
                if (this.last_start > 0 && n - this.last_start < 300 || !this.engine) {
                    this.last_start = n;
                    var o = this;
                    return void (this.start_timer = window.setTimeout(function() {
                        o.start(t, i)
                    }, 300))
                }
                this.last_start = n,
                this.trigger_event = i,
                this.stop(!0),
                this.addThumbBlockStartedClass(t),
                this.thumb = $(t);
                var s = this.thumb.data("videos");
                if (this.is_video_thumb = "object" != typeof s,
                this.is_profile_pic = !1,
                this.is_video_pic = !1,
                this.is_video_thumb)
                    this.engine.startVideoPic(this.thumb);
                else {
                    if (this.ori_src = this.thumb.attr("src"),
                    this.ori_src.indexOf("/profthumb/") > 0 && (!s || 0 === s.length))
                        return this.thumb.off("swipe touchstart mouseenter mouseleave mousedown"),
                        void (this.thumb = null);
                    if (this.is_profile_pic = this.thumb.hasClass("profile-pic"),
                    this.is_video_pic = this.thumb.hasClass("video-pic"),
                    (!s || 0 === s.length) && (!this.engine.is_video_engine || this.is_profile_pic))
                        return;
                    this.engine.startProfilePic(this.thumb, s)
                }
            }
        },
        stop: function(e, t) {
            if (this.engine) {
                if (!0 !== e) {
                    if ("swipe" === this.trigger_event)
                        return;
                    if (this.engine.isStillOnThumb(e.target))
                        return
                }
                t && (this.tmp_locked = (new Date).getTime()),
                this.engine.stop(),
                this.thumb && (this.removeThumbBlockStartedClass(this.thumb),
                this.is_video_pic && this.thumb.addClass("video-pic"),
                this.is_video_thumb || this.thumb.attr("src", this.ori_src),
                this.is_profile_pic && this.thumb.addClass("profile-pic"),
                this.thumb = null)
            }
        },
        lock: function(e) {
            1 !== e.which || e.metaKey || e.ctrlKey || e.altKey || e.shiftKey || (this.thumbs.off("swipe touchstart mouseenter mouseleave"),
            this.stop(!0))
        },
        addThumbBlockStartedClass: function(e) {
            var t = $(e).parents(".thumb-block");
            t.length || (t = $(e).parents(".thumb")),
            t.addClass("rotator-started")
        },
        removeThumbBlockStartedClass: function(e) {
            var t = $(e).parents(".thumb-block");
            t.length || (t = $(e).parents(".thumb")),
            t.removeClass("rotator-started")
        },
        testVideoPreview: function(e) {
            if (/iPad|iPhone|iPod|Firefox/.test(navigator.userAgent) && !xv.conf.dyn.is_desktop) {
                if (!0 === this.no_video_pv || !this.videop_enabled && !0 !== e)
                    return;
                var t = document.createElement("video");
                t.src = xv.conf.domains["static"] + "/v3/img/skins/common/blank.mp4",
                t.muted = !0,
                t.style.position = "fixed",
                t.style.left = "1px",
                t.style.top = "1px",
                t.style.opacity = "0.1",
                t.style.height = "2px",
                t.style.width = "2px",
                t.style.zIndex = "9999";
                var i = !1
                  , n = this;
                xv.dom.addEventListener(t, "suspend", function() {
                    !0 !== i && null === n.no_video_pv && (n.no_video_pv = !0,
                    setTimeout(function() {
                        !1 === i && (document.body.removeChild(t),
                        i = !0,
                        n.setVideoPreviewSlideShow())
                    }, 1e3))
                }),
                xv.dom.addEventListener(t, "play", function() {
                    !0 !== i && !1 !== n.no_video_pv && (n.no_video_pv = !1,
                    !1 === i && (document.body.removeChild(t),
                    i = !0,
                    n.initEngine()))
                }),
                t.autoplay = "autoplay",
                t.disableRemotePlayback = !0,
                t.playsInline = !0,
                document.body.appendChild(t)
            } else
                this.initEngine()
        },
        setVideoPreviewSlideShow: function() {
            if (!this.videop_enabled)
                return !1;
            null === this.no_video_pv ? this.testVideoPreview(!0) : (t.setPreviewVideoCodec(null),
            this.initEngine(this.no_video_pv))
        }
    },
    i
}),
define("lib/helpers/thumbs_rotator", ["static/cookies", "./thumbs/rotator", "./events"], function(e, t, i) {
    var n, o, s, a, r = new t, l = 0, u = function() {
        r.addThumb(this)
    };
    a = function(e, t) {
        if (t)
            $(".thumb img", e).not(".no-rotate").each(u);
        else {
            var i = $(".thumb-block", e).not(".no-rotate");
            if (0 === i.length && (e && e.length > 0 && e.each(function() {
                $(this).is(".thumb-block:not(.no-rotate)") && (i = i.add($(this)))
            }),
            0 === i.length))
                return;
            i.find(".thumb img").each(u)
        }
    }
    ,
    a.video_preview = r.getPreviewEnabled(),
    a(),
    i.addListener(i.TAB_HIDDEN, function() {
        r.stop(!0)
    });
    var f = function() {
        if (n = null,
        l = (new Date).getTime(),
        r.thumb) {
            var e = r.thumb.offset();
            if (o < e.left || s < e.top)
                return void r.stop(!0);
            var t = r.thumb.outerWidth(!0)
              , i = r.thumb.outerHeight(!0);
            return o > e.left + t || s > e.top + i ? void r.stop(!0) : void 0
        }
    };
    return $(window).on("mousemove", function(e) {
        if (o = e.pageX,
        s = e.pageY,
        !n) {
            var t = (new Date).getTime() - l;
            if (t < 950)
                return void (n = window.setTimeout(f, 1e3 - t));
            f()
        }
    }),
    a
}),
define("text!lib/helpers/overlay/template.html", [], function() {
    return '<div class="x-overlay">\n\t<div class="x-body">\n\t\t<div class="x-content"></div>\n\t\t<div class="x-close{{^closable}} hidden{{/closable}}" title="{{{ close_title }}}">{{{ icon }}}</div>\n\t</div>\n</div>'
}),
define("lib/helpers/overlay", ["mustache", "text!./overlay/template.html", "lib/i18n!front"], function(e, t, i) {
    var n = function(n, o, s) {
        this.open = !1,
        this.closable = !!o,
        this.esc_close = !1,
        this.esc_close_handler = null,
        this.click_close_handler = null,
        this.setCloseAction(s);
        var a = "&times;";
        xv && xv.conf && xv.conf.sitename && ("default" === xv.conf.sitename || "xnxx" === xv.conf.sitename) && (a = '<span class="icon-f icf-close-thin"></span>'),
        this.parent = $(n).css("position", "relative"),
        this.node = $(e.render(t, {
            closable: o,
            close_title: i.__("misc.close"),
            icon: a
        })),
        this.body = this.node.children(".x-body");
        var r = this;
        this.close_node = this.body.children(".x-close").on("click", function() {
            "close" === r.close_action ? r.close() : r.hide()
        }),
        this.container = this.body.children(".x-content")
    };
    return n.get = function(e, t, i) {
        return new n(e,t,i)
    }
    ,
    n.prototype = {
        onShow: null,
        onHide: null,
        onClose: null,
        getNode: function() {
            return this.node
        },
        getContainer: function() {
            return this.container
        },
        addClass: function(e) {
            return this.node.addClass(e),
            this
        },
        setClosable: function(e, t, i) {
            if (this.closable = !!e,
            this.esc_close = e && t,
            this.popbody_click_dontclose = e && !!i,
            this.closable ? this.close_node.removeClass("hidden") : this.close_node.addClass("hidden"),
            this.esc_close) {
                if (!this.esc_close_handler) {
                    var n = this;
                    this.esc_close_handler = $("body").on("keyup", function(e) {
                        n.open && 27 === e.which && ("close" === n.close_action ? n.close() : n.hide())
                    }),
                    this.click_close_handler = $("body").on("click", function(e) {
                        n.open && 0 === $(e.target).closest(n.popbody_click_dontclose ? n.body : n.container).length && ("close" === n.close_action ? n.close() : n.hide())
                    })
                }
            } else
                this.esc_close_handler && ($("body").off("keyup", this.esc_close_handler),
                this.esc_close_handler = null,
                $("body").off("click", this.click_close_handler),
                this.click_close_handler = null);
            return this
        },
        setCloseAction: function(e) {
            this.close_action = "hide" === e ? "hide" : "close"
        },
        setText: function(e) {
            return this.container.text(e),
            this
        },
        setContent: function(e) {
            return this.container.html(e),
            this
        },
        empty: function() {
            return this.container.empty(),
            this
        },
        append: function(e) {
            return this.container.append(e),
            this
        },
        prepend: function(e) {
            return this.container.prepend(e),
            this
        },
        show: function() {
            if (!this.open)
                return this.node.appendTo(this.parent),
                this.open = !0,
                this.onShow && this.onShow(),
                this
        },
        hide: function() {
            if (this.open)
                return this.node.detach(),
                this.open = !1,
                this.onHide && this.onHide(),
                this
        },
        close: function() {
            this.open && (this.node.remove(),
            this.open = !1,
            this.onClose && this.onClose())
        },
        autoclose: function(e) {
            if (this.open) {
                var t = this;
                window.setTimeout(function() {
                    t.close()
                }, e)
            }
        },
        isOpen: function() {
            return !!this.open
        }
    },
    n
}),
define("lib/helpers/overlay/box", ["lib/tools", "static/dom", "../overlay"], function(e, t, i) {
    var n = function(e, t, n, o) {
        i.apply(this, arguments),
        this.ori_padding = !1,
        this.node.addClass("x-overlay-box"),
        this.verticallyCentered = !!o,
        this.bCanReposition = !0
    };
    return n.prototype = new i,
    n.get = function(e, t, i, o) {
        return new n(e,t,i,o)
    }
    ,
    n.prototype.show = function(e) {
        if (!this.open)
            return this.node.appendTo(this.parent),
            this.open = !0,
            this.onShow && this.onShow(),
            this.position(e)
    }
    ,
    n.prototype.position = function(i) {
        if (!this.bCanReposition)
            return this;
        var n = this.node.height()
          , o = this.body.outerHeight()
          , s = this.verticallyCentered ? Math.max(($(window).height() - o) / 2, 5) : 10;
        if (!1 === i)
            return this.body.css("margin-top", s + "px"),
            this;
        if (n < o + s && (this.ori_padding = this.parent.css("padding-bottom"),
        this.parent.css("padding-bottom", o + s - n + "px")),
        "auto" === i) {
            var a = 0;
            return n >= o + s && (a = $(window).scrollTop()),
            this.body.css("margin-top", a + s + "px"),
            this
        }
        if ((i = void 0 !== i && $(i)) && i.length > 0) {
            var r = i.position().top
              , l = Math.max(s, Math.min(r, n - o - s));
            this.body.css("margin-top", l + "px")
        } else if (this.body.css("margin-top", Math.max(s, Math.round(Math.min(Math.min(.01 * $(window).height(), 150), (n - o) / 2))) + "px"),
        this.closable && !t.isElementInView(this.body, !0)) {
            (function(e) {
                var t = e.add(e.parents())
                  , i = !1;
                return t.each(function() {
                    if ("fixed" === $(this).css("position"))
                        return i = !0,
                        !1
                }),
                i
            }
            )(this.body) || e.scrollTo(this.body, 10)
        }
        return this
    }
    ,
    n.prototype.setEscapeClosable = function(e) {
        if (!1 === e)
            this.esc_close_handler && ($("body").off("keyup", this.esc_close_handler),
            this.esc_close_handler = null);
        else if (!this.esc_close_handler) {
            var t = this;
            this.esc_close_handler = $("body").on("keyup", function(e) {
                t.open && 27 === e.which && ("close" === t.close_action ? t.close() : t.hide())
            })
        }
    }
    ,
    n.prototype.setCanReposition = function(e) {
        this.bCanReposition = !!e
    }
    ,
    n.prototype.setOverlayClosable = function(e) {
        if (!1 === e)
            this.overlay_close_handler && (this.node.off("click", this.overlay_close_handler),
            this.overlay_close_handler = null);
        else if (!this.overlay_close_handler) {
            var t = this;
            this.overlay_close_handler = function(e) {
                $(e.target).hasClass("x-overlay-box") && ("close" === t.close_action ? t.close() : t.hide())
            }
            ,
            this.node.on("click", this.overlay_close_handler)
        }
    }
    ,
    n.prototype.setOverlayReposition = function(e) {
        var t = this;
        this.overlay_reposition_handler = function(i) {
            $(i.target).hasClass("x-overlay-box") && (t.open = !1,
            t.show(e))
        }
        ,
        this.node.on("click", this.overlay_reposition_handler)
    }
    ,
    n.prototype.setScrollAndResizeReposition = function(e) {
        "undefined" != typeof this.eScrollAndResizeReposition && $(window).off("scroll", this.eScrollAndResizeReposition).off("resize", this.eScrollAndResizeReposition);
        var t = this;
        this.eScrollAndResizeReposition = function() {
            "undefiled" != typeof t.tScrollAndResizeReposition && clearTimeout(t.tScrollAndResizeReposition),
            t.tScrollAndResizeReposition = setTimeout(function() {
                t.position(e),
                t.setScrollAndResizeReposition(e)
            }, 250)
        }
        ,
        $(window).on("scroll", this.eScrollAndResizeReposition).on("resize", this.eScrollAndResizeReposition)
    }
    ,
    n.prototype.hide = function() {
        return !1 !== this.ori_padding && this.parent.css("padding-bottom", this.ori_padding),
        i.prototype.hide.apply(this)
    }
    ,
    n.prototype.close = function() {
        return !1 !== this.ori_padding && this.parent.css("padding-bottom", this.ori_padding),
        i.prototype.close.apply(this)
    }
    ,
    n
}),
define("text!lib/helpers/overlay/contextual_popup/alert.mustache", [], function() {
    return '<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n\t<div class="contextual-popup-actions">\n\t\t<button class="contextual-popup-content-close btn btn-danger" data-send-form="1">{{{ ok }}}</button>\n\t</div>\n</div>'
}),
define("text!lib/helpers/overlay/contextual_popup/confirm.mustache", [], function() {
    return '<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n\t<div class="contextual-popup-actions">\n\t\t<button class="ok-close btn btn-danger" data-send-form="1">{{{ ok }}}</button>\n\t\t<button class="contextual-popup-content-close btn btn-default">{{{ cancel }}}</button>\n\t</div>\n</div>'
}),
define("text!lib/helpers/overlay/contextual_popup/loading.mustache", [], function() {
    return '<div class="contextual-popup-content">\n\t<div class="contextual-popup-message">\n\t\t{{{ message }}}\n\t</div>\n</div>'
}),
define("lib/helpers/overlay/contextual_popup", ["mustache", "./box", "../inline_loader", "lib/i18n!front", "text!./contextual_popup/alert.mustache", "text!./contextual_popup/confirm.mustache", "text!./contextual_popup/loading.mustache"], function(e, t, i, n, o, s, a) {
    var r = function() {};
    return r.prototype = {
        get_popup: function(i, n, o, s, a, r) {
            i = "boolean" != typeof i || i;
            var l = t.get($("body"), i, "close").setContent($(e.render(o, s)));
            return r ? l.cp_open_timer = setTimeout(function() {
                l.show("auto")
            }, r) : l.show("auto"),
            i ? (l.setOverlayClosable(i),
            l.setEscapeClosable(i)) : l.setOverlayReposition("auto"),
            n = "contextual-popup" + ("string" == typeof n ? " " + n : ""),
            l.addClass(n),
            r && (l.normal_close = l.close,
            l.close = function() {
                l.cp_open_timer && clearTimeout(l.cp_open_timer),
                l.normal_close()
            }
            ),
            "function" == typeof a && (l.onClose = a),
            l.getNode().find(".contextual-popup-content-close").on("click", function() {
                if ($(this).data("send-form")) {
                    var e = l.getNode().find("form");
                    e.length > 0 && "function" == typeof l.onClose && (l.onClose(e.serializeArray()),
                    l.onClose = !1)
                }
                l.close()
            }),
            l
        },
        alert: function(e, t, i, s) {
            var a = {
                message: e,
                ok: n.__("misc.OK")
            };
            s && s.text_ok && (a.ok = s.text_ok);
            var r = !(!s || "number" != typeof s.delay) && s.delay;
            return this.get_popup(i, "contextual-popup-alert", o, a, t, r)
        },
        confirm: function(e, t, i, o, a) {
            var r = {
                message: e,
                ok: n.__("misc.OK"),
                cancel: n.__("misc.cancel")
            };
            a && (a.text_ok && (r.ok = a.text_ok),
            a.text_cancel && (r.cancel = a.text_cancel));
            var l = !(!a || "number" != typeof a.delay) && a.delay
              , u = i;
            a && "function" == typeof a.override_otherclose && (u = a.override_otherclose);
            var f = this.get_popup(o, "contextual-popup-confirm", s, r, u, l);
            return a && "function" == typeof a.override_otherclose && f.getNode().find(".contextual-popup-content-close").off("click").on("click", function() {
                if ("function" == typeof i) {
                    if ($(this).data("send-form")) {
                        var e = f.getNode().find("form");
                        if (e.length > 0)
                            return t(e.serializeArray()),
                            f.onClose = null,
                            void f.close()
                    }
                    i()
                }
                f.onClose = null,
                f.close()
            }),
            f.getNode().find(".ok-close").on("click", function() {
                if ("function" == typeof t) {
                    if ($(this).data("send-form")) {
                        var e = f.getNode().find("form");
                        if (e.length > 0)
                            return t(e.serializeArray()),
                            f.onClose = null,
                            void f.close()
                    }
                    t()
                }
                f.onClose = null,
                f.close()
            }),
            f
        },
        loading: function(e, t) {
            var o = {
                message: i.getSafe("after", e || n.__("loading.loading")).getHtml()
            }
              , s = !(!t || "number" != typeof t.delay) && t.delay;
            return this.get_popup(!1, "contextual-popup-loading", a, o, null, s)
        }
    },
    new r
}),
define("skins/common/features_test/user_videos_list_tracker", ["static/tracker"], function(e) {
    var t = function(e) {
        this.sTrackerName = e
    };
    return t.prototype = {
        sTrackerName: null,
        tracker: null,
        get_tracker: function() {
            return this.tracker || (this.tracker = new e(this.sTrackerName,5e3)),
            this.tracker
        },
        canTrack: function() {
            return this.get_tracker().canTrack()
        },
        isTracking: function() {
            return this.get_tracker().isTracking()
        },
        stopTracking: function() {
            this.get_tracker().stopTracking()
        },
        startTracking: function() {
            this.get_tracker().startTracking()
        },
        addVideo: function(e) {
            this.get_tracker().addId(parseInt(e))
        },
        removeVideo: function(e) {
            this.get_tracker().removeId(parseInt(e)),
            this.get_tracker().removeId(e.toString())
        },
        hasVideo: function(e) {
            return this.get_tracker().hasId(parseInt(e)) || this.get_tracker().hasId(e.toString())
        },
        clear: function() {
            return this.get_tracker().clear()
        },
        getIds: function() {
            for (var e = this.get_tracker().getIdsList(), t = [], i = 0; i < e.length; i++) {
                var n = parseInt(e[i]);
                -1 === t.indexOf(n) && (t[i] = n)
            }
            return t
        }
    },
    t
}),
define("skins/default/video/watch_later/watch_later_tracker", ["skins/common/features_test/user_videos_list_tracker"], function(e) {
    return new e("aWatchLater")
}),
define("skins/form/validator/schema", [], function() {
    var e = function(e, t, i) {
        void 0 !== t && (this.parent = e,
        this.halt_on_error = t.options.halt_on_error,
        this.validators = [],
        void 0 !== i && this.init(t.rules, i))
    };
    return e.prototype = {
        errorChanged: null,
        refresh: function() {
            for (var e in this.validators)
                this.validators[e].refresh && this.validators[e].refresh()
        },
        isValid: function() {
            for (var e in this.validators)
                if (!this.validators[e].isValid())
                    return !1;
            return !0
        },
        getFirstError: function() {
            for (var e in this.validators) {
                if ("function" == typeof this.validators[e].getFirstError) {
                    var t = this.validators[e].getFirstError();
                    if (t)
                        return t
                }
                if (!this.validators[e].isValid())
                    return this.validators[e]
            }
            return null
        },
        init: function(e, t) {
            var i = this;
            for (var n in e) {
                var o, s = t[e[n].rule_name];
                o = "schema" === e[n].rule_name ? new s(i,e[n],t) : new s(i,e[n]),
                this.addValidator(o)
            }
        },
        addValidator: function(e) {
            var t = this;
            e.errorChanged = function(e, i) {
                t.errorChanged && t.errorChanged(e, i)
            }
            ,
            this.validators.push(e)
        },
        getRoot: function() {
            for (var e = this; e.parent; )
                e = e.parent;
            return e
        }
    },
    e
}),
define("text!skins/form/validator/form_errors/contener.mustache", [], function() {
    return "<div class='validator-err-sc'>\n\t<a href=\"#\" class='close-btn'><span class='icon-f icf-close-thin'></span></a>\n\t<h3>{{{ title }}}</h3>\n\t<span class=\"icon-f icf-warning icon-bg\"></span>\n\t<div></div>\n</div>"
}),
define("text!skins/form/validator/form_errors/error.mustache", [], function() {
    return "<p class=\"form-error-shortcut\">\n\t<span class='icon-f icf-caret-right'></span>\n\t<a href='#'>\n\t\t{{#label}}<strong>{{{ label }}}</strong> :{{/label}}\n\t\t<span>{{{ error }}}</span>\n\t</a>\n</p>"
}),
define("skins/form/validator", ["./validator/schema", "mustache", "lib/helpers/inline_loader", "lib/helpers/overlay/contextual_popup", "lib/i18n!front", "text!./validator/form_errors/contener.mustache", "text!./validator/form_errors/error.mustache"], function(e, t, i, n, o, s, a) {
    var r = function(e) {
        var t = [];
        for (var i in e) {
            var n = e[i].rule_name
              , o = [n];
            "schema" === n && (o = r(e[i].rules),
            o.push("schema"));
            for (var s in o)
                -1 === $.inArray(o[s], t) && t.push(o[s])
        }
        return t
    }
      , l = function(t, o, s) {
        this.options = s || {},
        e.apply(this, [null, {
            options: {
                halt_on_error: !1
            }
        }]),
        this.form = t,
        this.submit = t.find("button[type=submit],button.g-recaptcha"),
        this.target = !1;
        var a = $.trim(t.prop("target"));
        a.length > 0 && (a = $("#" + a),
        a.length > 0 && (this.target = a)),
        this.is_initialized = !1,
        this.is_valid = !0,
        this.submitted = !1,
        this.captcha_submitted = !1,
        this.confirmation = !1,
        this.bypass_confirmation = !1;
        var l = this;
        this.submit.length > 0 && (this.submit.each(function() {
            $(this).on("click", function(e) {
                l.bypass_confirmation = !1,
                l.confirmation = !1,
                $(this).data("confirm") !== undefined && (l.confirmation = $(this).data("confirm")),
                !0 === l.options.no_init_validate && l.validateAll();
                var t = l.getFirstError();
                if (t)
                    return l.showErrorsShortcuts(),
                    t.focus && t.focus(),
                    e.preventDefault(),
                    e.stopPropagation(),
                    !1
            })
        }),
        this.form.on("submit", function(e) {
            if (!0 === l.options.no_init_validate && l.validateAll(),
            !l.captcha_submitted && l.submit.hasClass("g-recaptcha") && (l.captcha_submitted = !0,
            l.submit.on("click", function() {
                l.form.submit()
            })),
            !l.isValid()) {
                l.showErrorsShortcuts();
                var t = l.getFirstError();
                return t && t.focus && t.focus(),
                e.preventDefault(),
                e.stopPropagation(),
                !1
            }
            return l.submitted ? (e.preventDefault(),
            e.stopPropagation(),
            !1) : l.onSubmit && !l.onSubmit() ? (e.preventDefault(),
            e.stopPropagation(),
            !1) : l.confirmation && !l.bypass_confirmation ? (e.preventDefault(),
            e.stopPropagation(),
            n.confirm(l.confirmation, function() {
                l.bypass_confirmation = !0,
                l.form.submit()
            }, null, !0),
            !1) : (l.submitted = !0,
            l.submit.prop("disabled", !0).addClass("disabled").append($('<span class="vloader"> ' + i.getImg() + "</span>")),
            void (l.cancel_btn && l.cancel_btn.hide()))
        }));
        var u = r(o)
          , f = [];
        for (var c in u)
            f.push("skins/form/validator/" + u[c]);
        require(f, function() {
            var e = {};
            for (var t in arguments)
                e[u[t]] = arguments[t];
            l.init(o, e)
        }),
        this.has_ready_only = this.form.hasClass("has-read-only"),
        this.cancel_btn = null,
        this.has_ready_only && (this.is_editing = this.form.hasClass("editing"),
        this.form.find(".btn-start-edition").on("click", function(e) {
            e.preventDefault(),
            l.is_editing || (l.is_editing = !0,
            l.form.addClass("editing"),
            l.refresh())
        }),
        this.cancel_btn = this.form.find(".btn-cancel-edition").on("click", function(e) {
            e.preventDefault(),
            l.is_editing && (l.submitted || (l.is_editing = !1,
            l.form.removeClass("editing")))
        }))
    };
    return l.prototype = new e,
    l.prototype.onInit = null,
    l.prototype.init = function(t, i) {
        if (!0 === this.options.no_init_validate)
            for (var n in t)
                t[n].options || (t[n].options = {}),
                t[n].options.no_init_validate = !0;
        if (e.prototype.init.apply(this, [t, i]),
        this.errorChanged(!1, this),
        !this.is_valid) {
            var o = this.getFirstError();
            o && o.focus && "undefined" == typeof this.options.no_init_focus && o.focus()
        }
        this.is_initialized = !0,
        "function" == typeof this.onInit && this.onInit(),
        "function" == typeof this.options.fnIsInit && this.options.fnIsInit()
    }
    ,
    l.prototype.errorChanged = function(e, t) {
        if (this.is_valid = !e && this.isValid(),
        this.submit.toggleClass("has-verror", !this.is_valid),
        !this.update_error_timeout) {
            this.updateErrorsShortcuts();
            var i = this;
            this.update_error_timeout = setTimeout(function() {
                i.updateErrorsShortcuts(),
                i.update_error_timeout = !1
            }, 1e3)
        }
    }
    ,
    l.prototype.hideErrorsShortcuts = function() {
        this.form_errors_shortcuts && (this.form_errors_shortcuts.hide(),
        this.form_errors_shortcuts_closed = !0)
    }
    ,
    l.prototype.showErrorsShortcuts = function() {
        if (this.form.addClass("highlight-errors"),
        !this.options.no_errors_shortcuts) {
            if (this.form_errors_shortcuts || (this.form_errors_shortcuts = $(t.render(s, {
                title: o.__("form.cant_validate_cause_errors") + " :"
            })),
            this.form_errors_shortcuts_list = this.form_errors_shortcuts.children("div"),
            this.options.append_errors_shortcuts_to && $(this.options.append_errors_shortcuts_to).length > 0 ? $(this.options.append_errors_shortcuts_to).append(this.form_errors_shortcuts) : this.submit ? this.form_errors_shortcuts.insertBefore(this.submit.last()) : this.form.append(this.form_errors_shortcuts)),
            this.is_valid)
                return void this.hideErrorsShortcuts();
            this.form_errors_shortcuts.show(),
            this.form_errors_shortcuts_closed = !1,
            this.updateErrorsShortcuts()
        }
    }
    ,
    l.prototype.updateErrorsShortcuts = function() {
        if (this.form_errors_shortcuts && !this.form_errors_shortcuts_closed) {
            if (this.isValid())
                return void this.hideErrorsShortcuts();
            this.form_errors_shortcuts_list.empty();
            var e = this;
            this.form_errors_shortcuts.find(".close-btn").on("click", function() {
                e.hideErrorsShortcuts()
            });
            for (var i in this.validators)
                if ("function" == typeof this.validators[i].getError) {
                    var n = this.validators[i].getError();
                    if (n) {
                        var o = $(t.render(a, {
                            label: "function" == typeof this.validators[i].getLabel && this.validators[i].getLabel(),
                            error: n
                        }));
                        o.children("a").data("goto", i).on("click", function(t) {
                            t.preventDefault();
                            var i = e.validators[$(this).data("goto")];
                            i && i.focus()
                        }),
                        this.form_errors_shortcuts_list.append(o)
                    }
                }
        }
    }
    ,
    l.prototype.onSubmit = null,
    l.prototype.setConfirmation = function(e) {
        this.submit.data("confirm", e)
    }
    ,
    l.prototype.resetConfirmation = function() {
        this.submit.data("confirm", !1)
    }
    ,
    l.prototype.validateAll = function() {
        for (var e in this.validators)
            "function" == typeof this.validators[e].validate && this.validators[e].validate()
    }
    ,
    l.prototype.resetSubmit = function() {
        this.submitted && (this.submitted = !1,
        this.submit.prop("disabled", !1).removeClass("disabled").find(".vloader").remove(),
        this.cancel_btn && this.cancel_btn.show())
    }
    ,
    l
}),
define("skins/common/form/login/base", ["config/main", "static/console", "static/dom", "lib/tools", "lib/helpers/inline_loader", "lib/helpers/overlay/box", "skins/form/validator", "lib/helpers/overlay/contextual_popup", "lib/i18n!front"], function(e, t, i, n, o, s, a, r, l) {
    var u = function(e) {
        this.box = null,
        this.box_class = e,
        this.is_popup = !0,
        this.first_display = !0,
        this.on_form_loaded = null,
        this.on_success = null,
        this.form_closable = !0,
        this.form_close_on_escape = !0,
        this.form_reposition_on_overlay_click = !1,
        this.form_on_open = null,
        this.form_on_close = null,
        this.form_opening_origin_mode = "signin",
        this.form_opening_mode = "signin",
        this.switching = !1,
        this.last_reqjs = null,
        this.validators = {}
    };
    return u.prototype = {
        setOpenCloseModes: function(e, t, i, n, o) {
            "boolean" == typeof t && (this.form_closable = t),
            "boolean" == typeof i && (this.form_close_on_escape = i),
            "boolean" == typeof o && (this.form_reposition_on_overlay_click = o),
            "function" == typeof n && (this.form_on_close = n);
            var s = ["signin", "signup", "premium"];
            this.form_opening_origin_mode = e,
            this.form_opening_mode = -1 === $.inArray(e, s) ? s[0] : e
        },
        createOrRefreshValidator: function(e, t, i) {
            if ("object" == typeof this.validators[e])
                return void this.validators[e].refresh();
            var n = $("#" + e);
            if (0 !== n.length) {
                var o = i || {};
                return this.first_display && (this.first_display = !1,
                o.no_init_validate = !0),
                this.validators[e] = new a(n,t,o),
                this.addPasswordCheck(e, this.validators[e], n),
                this.validators[e]
            }
        },
        clearValidators: function() {
            for (var e in this.validators)
                this.validators.hasOwnProperty(e) && delete this.validators[e]
        },
        toggleForms: function(e) {
            this.switching || this.doToggleForms(e)
        },
        doToggleForms: function(e) {
            console.error("doToggleForms is not implemented")
        },
        getUrl: function(e) {
            return "/account/signinform" + (e ? "/create" : "")
        },
        onFormLoaded: function(t, i) {
            var s = this;
            if (this.last_reqjs = i,
            this.clearValidators(),
            null !== t && this.box.setContent(t),
            this.doSetupNodes(i),
            this.toggleForms(i),
            this.on_form_loaded && this.on_form_loaded(i),
            null !== t)
                var a = this.box.getNode().find("form").each(function() {
                    var t = $(this)
                      , i = t.find(".g-recaptcha")
                      , r = i.is("button");
                    if (t.prop("target")) {
                        if (0 === i.length)
                            return;
                        if (r) {
                            var u = !0;
                            t.on("submit", function(e) {
                                u && e.preventDefault()
                            })
                        }
                        return void n.loadRecaptcha(function() {
                            grecaptcha.render(i.get(0), {
                                callback: function() {
                                    r && (u = !1,
                                    t.submit())
                                }
                            }, !0)
                        }, e.dyn.locale)
                    }
                    var f, c, d, h = function(e) {
                        "object" == typeof e && e.preventDefault();
                        var n = t.prop("id");
                        ("object" != typeof s.validators[n] || s.validators[n].is_valid) && (c || (!d && i.length > 0 && r && (i.on("click", h),
                        i.prop("disabled", !0).addClass("disabled").append($('<span class="vloader"> ' + o.getImg() + "</span>"))),
                        d = !0,
                        c = !0,
                        f && (f.remove(),
                        f = null),
                        s.onSubmit(t, a),
                        $.ajax({
                            type: "POST",
                            url: s.getUrl(),
                            data: t.serializeArray(),
                            dataType: "json",
                            xhrFields: {
                                withCredentials: !0
                            },
                            success: function(e) {
                                if (e.form_valid)
                                    return void s.onFormSubmitSuccess(e);
                                s.onFormLoaded(e.form, e.reqjs),
                                s.onSubmitFailed(t, a)
                            }
                        }).fail(function() {
                            f = $('<div class="alert alert-danger"><ul class="form-error-list"<li><strong><i class="icon-f icf-close-circle"></i> ' + l.__("misc.error_please_retry") + "</strong></li></ul></div>").prependTo(t),
                            i.length > 0 && r && i.prop("disabled", !1).removeClass("disabled").find(".vloader").remove(),
                            s.onSubmitFailed(t, a)
                        }).always(function() {
                            c = !1
                        })))
                    };
                    if (i.length > 0) {
                        if (r)
                            return t.on("submit", function(e) {
                                d || e.preventDefault()
                            }),
                            void n.loadRecaptcha(function() {
                                grecaptcha.render(i.get(0), {
                                    callback: h
                                }, !0)
                            }, e.dyn.locale);
                        n.loadRecaptcha(function() {
                            grecaptcha.render(i.get(0), {}, !0)
                        }, e.dyn.locale)
                    }
                    t.on("submit", function(e) {
                        e.preventDefault(),
                        h()
                    })
                })
        },
        doSetupNodes: function(e) {
            console.error("doSetupNodes is not implemented")
        },
        loggingLoader: function() {
            r.loading(l.__("misc.redirecting"))
        },
        redirectWithConnectionLoader: function(e) {
            this.loggingLoader(),
            window.location.href = e
        },
        reloadWithConnectionLoader: function() {
            this.loggingLoader(),
            window.location.reload()
        },
        onSubmit: function(e, t) {},
        onSubmitFailed: function(e, t) {},
        onFormSubmitSuccess: function(t) {
            this.box.close(),
            this.box = null;
            var i = null;
            return this.on_success ? void this.on_success() : "string" == typeof t.premium_redirect && t.premium_redirect.length > 0 ? (i = e.domains.premium + this.getRedirectPath(t.user_main_cat, !0),
            -1 !== i.indexOf("?") ? i += "&" : i += "?",
            i += t.premium_redirect,
            void this.redirectWithConnectionLoader(i)) : "string" == typeof t.redirect_domain && t.redirect_domain.length > 0 ? (i = t.redirect_domain + this.getRedirectPath(t.user_main_cat, !0),
            void this.redirectWithConnectionLoader(i)) : (i = this.getRedirectPath(t.user_main_cat, !1)) ? void this.redirectWithConnectionLoader(i) : void this.reloadWithConnectionLoader()
        },
        getRedirectPath: function(t, i) {
            var n = !1;
            return i && (n = window.location.pathname,
            "string" == typeof window.location.search && window.location.search.length > 1 && (n += window.location.search)),
            "string" != typeof t || "straight" !== t && "gay" !== t && "shemale" !== t ? n : e.dyn.no_main_cat || !e.dyn.pagefilter || e.dyn.pagefilter === t ? n : "straight" === t ? "/" : "/" + t
        },
        positionPopup: function(e) {
            this.is_popup && this.box && this.box.position(e)
        },
        loadForm: function(e) {
            this.box.setContent('<div id="' + this.box_class + '"><p class="text-center">' + o.getSafe("after", l.__("loading.loading")).getHtml() + "</p></div>").show("auto"),
            this.box.addClass("opened");
            var i = this
              , n = i.getUrl("signup" === this.form_opening_mode);
            $.ajax({
                type: "POST",
                url: n,
                data: e || {},
                dataType: "json",
                xhrFields: {
                    withCredentials: !0
                },
                success: function(e) {
                    "none" === e.form_displayed && i.redirectWithConnectionLoader(window.location.href),
                    i.onFormLoaded(e.form, e.reqjs),
                    i.positionPopup()
                }
            }).fail(function(e, o, s) {
                t.print("FAILED LOADING URL " + n + " => ERROR: " + o + ' - "' + s + '"', "Login form", e);
                var a = $('<div id="\' + this.box_class + \'"><p class="text-center"><a><strong class="text-danger">' + l.__("loading.failed_retry") + "</strong></a></p></div>");
                a.find("a").on("click", function(e) {
                    e.preventDefault(),
                    e.stopPropagation(),
                    i.loadForm()
                }),
                i.box.setContent(a)
            })
        },
        getPopContainer: function() {
            return this.box ? this.box.getContainer() : null
        },
        open: function(e) {
            if (this.on_success = null,
            "function" == typeof e && (this.on_success = e),
            !this.box) {
                $("body").css("minHeight", i.getViewportHeight() + "px"),
                this.box = s.get("body", this.form_closable, "hide", !0),
                this.box.setEscapeClosable(this.form_close_on_escape),
                this.box.setOverlayReposition("auto"),
                this.box_class && this.box.addClass(this.box_class);
                var t = this;
                this.box.onShow = function() {
                    $("body").addClass("x-overlay-fullscreen-opened"),
                    t.form_on_open && t.form_on_open()
                }
                ,
                this.box.onHide = function() {
                    $("body").removeClass("x-overlay-fullscreen-opened"),
                    t.first_display = !0,
                    t.box.node.removeClass("opened"),
                    t.form_on_close && t.form_on_close()
                }
                ;
                var n = this.form_closable ? {} : {
                    not_closable: 1
                };
                return void this.loadForm(n)
            }
            this.box.show("auto").addClass("opened"),
            this.last_reqjs && this.last_reqjs.form_disp && this.form_opening_mode && this.last_reqjs.form_disp !== this.form_opening_mode && (this.last_reqjs.form_disp = this.form_opening_mode,
            this.toggleForms(this.last_reqjs)),
            this.positionPopup()
        },
        close: function() {
            this.box && this.box.hide()
        },
        setupStandAlone: function(t) {
            this.is_popup = !1;
            var i = function(e) {
                this.node = e
            };
            i.prototype = {
                setContent: function(e) {
                    this.node.html(e)
                },
                getNode: function() {
                    return this.node
                }
            },
            this.box = new i($(t || "#page")),
            this.onFormLoaded(null, e.data)
        },
        setupLinks: function(e, t) {
            var i = this;
            e.on("click", function(e) {
                e.preventDefault(),
                e.stopPropagation();
                var n = $(this).data("mode")
                  , o = $(this).data("closable")
                  , s = $(this).data("close_on_escape")
                  , a = $(this).data("on_close")
                  , r = $(this).data("reposition_on_click");
                i.setOpenCloseModes(n, o, s, a, r),
                $(this).trigger("menu.forceclose"),
                i.open(t)
            })
        },
        addPasswordCheck: function(e, t, i) {
            "signup-form" === e && (t.init = function(e, i) {
                a.prototype.init.apply(this, [e, i]);
                for (var n in this.validators)
                    if ("signup-form_details_password" === this.validators[n].id) {
                        this.validators[n].onStrengthChange = function(e) {
                            e < 50 ? t.setConfirmation(l.__("account.password_weak")) : t.resetConfirmation()
                        }
                        ;
                        break
                    }
            }
            )
        }
    },
    u
}),
define("skins/common/form/login/standard", ["config/main", "lib/tools", "skins/form/validator", "./base"], function(e, t, i, n) {
    var o = function() {
        n.apply(this, ["signin-popup-form " + e.dyn.pagefilter + " " + e.dyn.locale]),
        this.signup_disp = null,
        this.signinblocks = null,
        this.signupblocks = null,
        this.signupblocks_always_visible = null,
        this.signupdetails = null,
        this.signupstep2 = null,
        this.lostpwdblocks = null,
        this.login2signup = null,
        this.signup2login = null,
        this.signup2nextbtn = null,
        this.step1_error = null,
        this.infopanel = null,
        this.not_yet_member = null;
        var t = this;
        $(document).on("signupform.submit.completed", function() {
            var e = t.last_reqjs;
            e.form_disp = "signup",
            t.onFormLoaded(t.validators["signup-form"].target.contents().find("#iframe-content").html(), e)
        }),
        $(document).on("signupform.submit.validated", function(e) {
            if (t.on_success)
                return void t.on_success(e.referer);
            window.location.href = e.referer
        })
    };
    return o.prototype = new n,
    o.prototype.doToggleForms = function(e) {
        var n = this
          , o = this.signinblocks.parent().css("position", "relative")
          , s = this.signinblocks
          , a = this.signinblocks;
        if (!this.signupblocks_always_visible && this.signupblocks.is(":visible") ? s = this.signupblocks : this.lostpwdblocks.is(":visible") && (s = this.lostpwdblocks),
        this.signupblocks_always_visible || "signup" !== e.form_disp ? "lostpassword" === e.form_disp && (a = this.lostpwdblocks) : a = this.signupblocks,
        !s.is(a)) {
            this.switching = !0;
            var r = Math.floor(s.innerWidth() / o.width() * 100)
              , l = s.height();
            r = r >= 99 ? "100%" : r >= 83 ? "83.33333333%" : r >= 66 ? "66.66666666%" : r >= 58 ? "58.33333333%" : r >= 50 ? "50%" : "41.66666667%",
            a.css({
                overflow: "hidden",
                display: "block",
                opacity: .01
            }).removeClass("hidden");
            var u = a.height();
            a.css("width", r).height(l).animate({
                opacity: 1,
                height: u + "px"
            }, "slow", function() {
                a.width("").height("")
            }),
            s.height(l).css({
                position: "absolute",
                top: 0,
                left: 0
            }).animate({
                opacity: 0,
                height: u + "px"
            }, "slow", function() {
                s.css({
                    position: "static",
                    top: "auto",
                    left: "auto",
                    height: "",
                    display: "none"
                }),
                n.infopanel.css("float", "left"),
                n.switching = !1
            })
        }
        if (this.login2signup.toggleClass("hidden", "signup" === e.form_disp),
        this.signup2login.toggleClass("hidden", "signup" !== e.form_disp),
        this.not_yet_member.toggleClass("hidden", "signup" === e.form_disp),
        !this.switching && this.signupblocks.length > 0) {
            var f = this.signupdetails
              , c = this.signupdetails;
            this.signupstep2.is(":visible") && (f = this.signupstep2),
            "step2" === this.signup_disp && (c = this.signupstep2),
            f.is(c) || (f.toggleClass("hidden"),
            c.toggleClass("hidden"),
            this.signupblocks.toggleClass("col-xs-12 col-xs-7 col-md-6"),
            this.infopanel.toggleClass("hidden", "step2" === this.signup_disp),
            t.scrollTo($("body")))
        }
        if (this.signupblocks_always_visible && this.createOrRefreshValidator("signup-form", e.signup_validation_rules, {
            no_init_validate: !0
        }),
        "signin" === e.form_disp)
            return void this.createOrRefreshValidator("signin-form", e.signin_validation_rules, {
                no_init_validate: !0
            });
        if ("lostpassword" === e.form_disp)
            return void ($("#lost-password-form").length > 0 && this.createOrRefreshValidator("lost-password-form", e.lostpwd_validation_rules, {
                no_init_focus: !0,
                no_init_validate: !0
            }));
        if (!this.signupblocks_always_visible) {
            var d = this.createOrRefreshValidator("signup-form", e.signup_validation_rules, {
                no_init_validate: !0,
                append_errors_shortcuts_to: "#signup-form"
            });
            d && (this.step1_error = !1,
            d.errorChanged = function(e, t) {
                i.prototype.errorChanged.apply(this, [e, t]),
                n.step1_error = !1;
                for (var o in this.validators) {
                    var s = this.validators[o];
                    if (!s.isValid() && s.id && "signup-form_details_" === s.id.substr(0, 20)) {
                        n.step1_error = s;
                        break
                    }
                }
                n.signup2nextbtn.toggleClass("has-verror", !1 !== n.step1_error)
            }
            ,
            d.errorChanged(!1, null))
        }
    }
    ,
    o.prototype.doSetupNodes = function(e) {
        var t = this;
        this.signinblocks = $("#signin-form-block"),
        this.login2signup = $("#btn-login2signup"),
        this.signupblocks = $("#signup-form-block"),
        this.signupblocks_always_visible = this.signupblocks.hasClass("always-visible"),
        this.signup2login = $("#btn-signup2login"),
        this.signupdetails = $("#signup-form_details"),
        this.signupstep2 = $("#signup-form_step2"),
        this.lostpwdblocks = $("#lostpassword-form-block"),
        this.infopanel = $("#create-account-frame"),
        this.not_yet_member = this.infopanel.find(".no-create-account"),
        $("#signup-form_step2_profilepic .step2-profile-pic img").on("click", function() {
            $("#signup-form_step2_profilepic_file").click()
        }),
        this.signup_disp = "details";
        var i = this.signupblocks.find(".has-error");
        i.length > 0 && (this.signup_disp = i.first().parents("fieldset").last().prop("id").substr(12)),
        $("#btn-login2create,#btn-login2signup,#btn-signup2login").on("click", function(i) {
            i.preventDefault(),
            e.form_disp = "signup" !== e.form_disp ? "signup" : "signin",
            t.toggleForms(e)
        }),
        $("#btn-lostpassword2login").on("click", function(i) {
            i.preventDefault(),
            e.form_disp = "signin",
            t.toggleForms(e)
        }),
        $("#btn-login2lostpassword").on("click", function(i) {
            i.preventDefault(),
            e.form_disp = "lostpassword",
            t.toggleForms(e)
        }),
        this.signup2nextbtn = $("#btn-signup2next,#btn-signup2prev").on("click", function(i) {
            if (i.preventDefault(),
            "details" === t.signup_disp && t.step1_error)
                return t.validators["signup-form"].showErrorsShortcuts(),
                void (t.step1_error.focus && t.step1_error.focus());
            t.signup_disp = "details" === t.signup_disp ? "step2" : "details",
            t.toggleForms(e)
        });
        var n = this.signupblocks.find("input,select").on("keydown", function(e) {
            if (13 === e.which) {
                var t = n.index(this);
                if (t === n.length - 1)
                    return;
                return n.eq(t + 1).focus(),
                e.preventDefault(),
                !1
            }
        })
    }
    ,
    o
}),
define("lib/helpers/thumbs/wall", ["./engine_creator"], function(e) {
    var t = function(e, t) {
        this.wall = e,
        this.thumb = $(t),
        this.playing = !1,
        this.max_nb_play = 10,
        this.initEngine()
    };
    t.prototype = {
        initEngine: function() {
            var t = this
              , i = function(e) {
                t.engine = new e(t),
                t.checkPreview()
            };
            e.create(i)
        },
        shouldPlay: function() {
            return !!this.wall.playing && this.wall.isInView(this.thumb, !0)
        },
        checkPreview: function() {
            if (this.engine)
                return this.shouldPlay() ? void (this.playing || (this.playing = !0,
                this.engine.startVideoPic(this.thumb))) : (this.engine.stop(),
                void (this.playing = !1))
        },
        stop: function() {}
    };
    var i = function(e) {
        this.container = e,
        this.thumbs = [],
        this.playing = !0;
        var t = this
          , i = !1
          , n = null
          , o = null;
        this.container.on("scroll", function() {
            t.playing && (i || t.start(),
            !0 !== i && (n = setTimeout(function() {
                i = !0
            }, 100)),
            clearTimeout(o),
            o = setTimeout(function() {
                clearTimeout(n),
                i = !1,
                t.start()
            }, 200))
        }),
        this.container.find(".thumb-block .thumb img,.wall-autoplay").each(function() {
            t.addThumb(this)
        })
    };
    return i.prototype = {
        addThumb: function(e) {
            for (var i in this.thumbs)
                if (this.thumbs[i].thumb.is(e))
                    return;
            var n = new t(this,e);
            this.thumbs.push(n),
            n.checkPreview()
        },
        clear: function() {
            var e = this.playing;
            this.playing = !1;
            for (var t in this.thumbs)
                this.thumbs[t].checkPreview(),
                delete this.thumbs[t];
            this.thumbs = [],
            this.playing = e
        },
        isInView: function(e, t) {
            var i = this.container.height()
              , n = e.offset().top - this.container.offset().top
              , o = n + e.height();
            return n >= 0 && o <= i || !!t && (n < 0 && o > 0 || n > 0 && n <= i)
        },
        start: function() {
            this.playing = !0;
            var e = 0;
            for (var t in this.thumbs)
                this.thumbs[t].checkPreview(),
                this.thumbs[t].playing && e++
        },
        stop: function() {
            this.playing = !1;
            for (var e in this.thumbs)
                this.thumbs[e].checkPreview()
        }
    },
    i
}),
define("skins/common/mozaique/premium_redirect_alert", ["config/main"], function(e) {
    var t = function() {};
    return t.prototype = {
        init_listing: function(t) {
            if ("default" === e.sitename || "xnxx" === e.sitename) {
                var i = e.dyn.is_premium ? "toFree" : "toPremium";
                "toFree" !== i && require(["lib/i18n!front", "mustache", "lib/helpers/overlay/box", "lib/helpers/thumbs_rotator", "lib/helpers/thumbs/wall", "text!skins/" + e.sitename + "/mozaique/premium_redirect_alert.mustache", "text!skins/" + e.sitename + "/header/" + ("toPremium" === i ? "premium_logo" : "logo") + ".mustache"], function(n, o, s, a, r, l, u) {
                    var f = $("toPremium" === i ? "[data-is-premium],.thumb-block[data-is-ppv],.thumb-block[data-is-fanclub]" : ".thumb-block:not([data-is-channel]):not([data-is-premium])", t);
                    if (f.length || (t && t.length && t.each(function() {
                        $(this).hasClass("thumb-block") && ("toPremium" === i && ($(this).data("is-premium") || $(this).data("is-ppv") || $(this).data("is-fanclub")) || "toFree" === i && !$(this).data("is-premium") && !$(this).data("is-channel")) && (f = f.add($(this)))
                    }),
                    f.length)) {
                        var c = function(t, s, a) {
                            return "toPremium" === i ? $(o.render(l, {
                                sTxt1: n.__("video.only_available_on", {
                                    "%site%": o.render(u, {
                                        sStaticDom: e.domains["static"]
                                    })
                                }),
                                sTxt2: n.__("premium.subscribe_enjoy"),
                                sImgSrc: s,
                                sStaticDom: e.domains["static"],
                                sHref: t,
                                sEnter: n.__("misc.enter_site", {
                                    "%site%": "default" === e.sitename ? "RED" : "GOLD"
                                }),
                                bCover: a
                            })) : $(o.render(l, {
                                sTxt1: n.__("video.only_available_on", {
                                    "%site%": o.render(u, {
                                        sStaticDom: e.domains["static"]
                                    })
                                }),
                                sTxt2: n.__("premium.come_back_anytime", {
                                    "%site%": "default" === e.sitename ? "RED" : "GOLD"
                                }),
                                sImgSrc: s,
                                sStaticDom: e.domains["static"],
                                sHref: t,
                                sEnter: n.__("misc.enter_free_site"),
                                bCover: a
                            }))
                        }
                          , d = "toPremium" === i ? e.domains.premium : e.domains.slave;
                        if (("toPremium" === i ? f.filter("[data-is-premium]") : f).each(function() {
                            if ("video_" === $(this).prop("id").substr(0, 6)) {
                                var e = $(this).find("a").not(".thumb-block .metadata a")
                                  , t = e.first()
                                  , i = d + t.prop("pathname") + t.prop("search") + t.prop("hash")
                                  , n = $(this).find(".thumb a img").prop("src")
                                  , o = $(this).find(".cover-thumb").length > 0
                                  , l = !$(this).hasClass("no-rotate");
                                e.on("click", function(e) {
                                    e.preventDefault();
                                    var t = s.get($("body"), !0, null, !0)
                                      , u = c(i, n, o);
                                    t.setOverlayClosable(!0),
                                    t.setEscapeClosable(!0),
                                    t.addClass("auto-width-popup"),
                                    t.setContent(u),
                                    t.onShow = function() {
                                        l && a.video_preview && new r(t.node.find(".video"))
                                    }
                                    ,
                                    t.show("auto"),
                                    u.find(".btn-primary").on("click", function() {
                                        t.close()
                                    })
                                })
                            }
                        }),
                        "toPremium" === i) {
                            f.filter("[data-is-ppv],[data-is-fanclub]").each(function() {
                                if ("video_" === $(this).prop("id").substr(0, 6)) {
                                    var e = $(this).find("a").not(".thumb-block .metadata a")
                                      , t = e.first()
                                      , i = d + t.prop("pathname") + t.prop("search") + t.prop("hash");
                                    e.prop("href", i).prop("target", "_blank")
                                }
                            })
                        }
                    }
                })
            }
        },
        test_referrer: function() {
            return "" !== document.referrer && (!(!e.dyn.is_premium || e.dyn.is_premium && -1 === document.referrer.indexOf(e.domains.slave)) && (-1 === document.referrer.indexOf(document.location.hostname) || void 0))
        },
        displayPopup: function(t, i, n) {
            require(["lib/i18n!front", "mustache", "lib/helpers/overlay/box", "text!skins/" + e.sitename + "/mozaique/switch_redirect_alert.mustache"], function(o, s, a, r) {
                var l = function() {
                    var i, n;
                    return "default" === e.sitename ? e.dyn.is_premium && "welcome" === t || !e.dyn.is_premium && "exit" === t ? (i = "XVIDEOS.COM",
                    n = "XVIDEOS RED") : (i = "XVIDEOS RED",
                    n = "XVIDEOS.COM") : e.dyn.is_premium && "welcome" === t || !e.dyn.is_premium && "exit" === t ? (i = "XNXX.COM",
                    n = "XNXX GOLD") : (i = "XNXX GOLD",
                    n = "XNXX.COM"),
                    $(s.render(r, {
                        sTitle: "welcome" === t ? o.__("legal.welcome") : o.__("legal.redirect", {
                            "%source%": i,
                            "%destination%": n
                        }),
                        sEnter: o.__("misc.enter_site", {
                            "%site%": n
                        })
                    }))
                }()
                  , u = a.get($("body"), !0, null, !0)
                  , f = "popup_redirect_domain_" + (e.dyn.is_premium ? "premium_" : "free_") + t
                  , c = xv.storage.get(f);
                null === c || (new Date).getTime() > c.t ? (c = {
                    i: null,
                    t: null
                },
                function() {
                    u.setOverlayClosable(!0),
                    u.setEscapeClosable(!0),
                    u.addClass("auto-width-popup over-overlay"),
                    u.setContent(l),
                    u.show("auto")
                }()) : "function" == typeof n && n(),
                u.onClose = function() {
                    "function" == typeof i && i()
                }
                ,
                l.find(".btn-primary").on("click", function(e) {
                    if (e.preventDefault(),
                    1 !== c.i) {
                        var t = (new Date).getTime() + 36e5;
                        xv.storage.remove(f),
                        xv.storage.set(f, {
                            i: 1,
                            t: t
                        }, t)
                    }
                    if ("function" == typeof n)
                        return void n();
                    u.close()
                })
            })
        }
    },
    new t
}),
define("skins/common/form/login/premium", ["config/main", "./base"], function(e, t) {
    var i = function(e, i, n) {
        t.apply(this, ["premium-popup-form"]),
        this.id_channel = e,
        this.id_video = i,
        this.priority = n,
        this.signinblocks = null,
        this.signupblocks = null,
        this.lostpwdblocks = null,
        this.login2signup = null,
        this.signup2login = null,
        this.login2lostpwd = null,
        this.lostpwd2login = null,
        this.tab2login = null,
        this.tab2signup = null,
        this.tab2lostpwd = null
    };
    return i.prototype = new t,
    i.prototype.doToggleForms = function(e) {
        if ("premium" === e.form_disp) {
            var t = $("#premium-form-block");
            return void (t.length > 0 && (t.removeClass("hidden"),
            t[0].style.display = ""))
        }
        var i = this;
        this.signinblocks.parent().css("position", "relative");
        var n = this.signupblocks.is(":visible") ? this.signupblocks : this.lostpwdblocks.is(":visible") ? this.lostpwdblocks : this.signinblocks
          , o = "signup" === e.form_disp ? this.signupblocks : "lostpassword" === e.form_disp ? this.lostpwdblocks : this.signinblocks;
        if (!n.is(o)) {
            this.switching = !0;
            var s = n.width()
              , a = n.height()
              , r = n.position();
            o.css({
                overflow: "hidden",
                display: "block",
                opacity: .01
            }).removeClass("hidden");
            var l = o.outerHeight();
            o.height(a).animate({
                opacity: 1,
                height: l + "px"
            }, "slow", function() {
                o.width("").height("")
            }),
            n.width(s).height(a).css({
                position: "absolute",
                top: r.top,
                left: r.left
            }).animate({
                opacity: 0,
                height: l + "px"
            }, "slow", function() {
                n.css({
                    position: "static",
                    top: "auto",
                    left: "auto",
                    height: "",
                    display: "none"
                }),
                i.switching = !1
            })
        }
        return this.tab2login.toggleClass("active", "signin" === e.form_disp),
        this.tab2signup.toggleClass("active", "signup" === e.form_disp),
        this.tab2lostpwd.toggleClass("active", "lostpassword" === e.form_disp),
        "signin" === e.form_disp ? void this.createOrRefreshValidator("signin-form", e.signin_validation_rules) : "lostpassword" === e.form_disp ? void this.createOrRefreshValidator("lost-password-form", e.lostpwd_validation_rules) : void this.createOrRefreshValidator("signup-form", e.signup_validation_rules)
    }
    ,
    i.prototype.doSetupNodes = function(t) {
        var i = this;
        if ("premium" === t.form_disp) {
            var n = $("#premium-form");
            if (this.createOrRefreshValidator("premium-form", t.premium_validation_rules),
            t.has_membership_channel && this.createOrRefreshValidator("premium-form-membership-channel", t.membership_channel_validation_rules),
            t.has_ppv_video && this.createOrRefreshValidator("premium-form-ppv-video", t.ppv_video_validation_rules),
            !e.dyn.premium) {
                var o = $("#premium-form a, #premium-form-membership-channel a, #premium-form-ppv-video a");
                o.length && require(["skins/common/mozaique/premium_redirect_alert"], function(e) {
                    o.on("click", function(t) {
                        t.preventDefault();
                        var i = $(this).attr("href")
                          , n = function() {
                            document.location.href = i
                        };
                        e.displayPopup("exit", null, n)
                    })
                })
            }
            $("#premium-form-block select").on("change", function() {
                $(this).toggleClass("no-value", "" === $(this).val())
            }),
            t.products_signup_form && n.find(".form-field-premium-form_product").appendTo(n)
        } else {
            this.signinblocks = $("#signin-form-block"),
            this.signupblocks = $("#signup-form-block"),
            this.lostpwdblocks = $("#lostpassword-form-block"),
            this.signup2login = $("#btn-signup2login"),
            this.login2signup = $("#btn-login2signup"),
            this.login2lostpwd = $("#btn-login2lostpassword"),
            this.lostpwd2login = $("#btn-lostpassword2login"),
            this.tab2login = $("#tab-2signin"),
            this.tab2signup = $("#tab-2signup"),
            this.tab2lostpwd = $("#tab-2lostpassword"),
            this.tab2signup.add(this.login2signup).on("click", function(e) {
                e.preventDefault(),
                t.form_disp = "signup",
                i.toggleForms(t)
            }),
            this.tab2login.add(this.signup2login).add(this.lostpwd2login).on("click", function(e) {
                e.preventDefault(),
                t.form_disp = "signin",
                i.toggleForms(t)
            }),
            this.tab2lostpwd.add(this.login2lostpwd).on("click", function(e) {
                e.preventDefault(),
                t.form_disp = "lostpassword",
                i.toggleForms(t)
            });
            var s = this.signupblocks.find("input,select").on("keydown", function(e) {
                if (13 === e.which) {
                    var t = s.index(this);
                    if (t === s.length - 1)
                        return;
                    return s.eq(t + 1).focus(),
                    e.preventDefault(),
                    !1
                }
            });
            this.toggleForms(t);
            var a = null
              , r = $("#signin-form .signin-plans");
            r.length && (a = r.data("priority")),
            $("#signin-form, #signup-form").each(function() {
                var e = $(this)
                  , i = e.find("#signup-form-submit,.login-submit")
                  , n = e.find('input[name="' + e.prop("id") + '[id_product]"]')
                  , o = e.find(".signin-plans, .signup-plans");
                if (0 !== n.length) {
                    if (o.length && "string" == typeof (a = o.data("priority")) && a.length) {
                        var s = o.find(".membership-channel-block")
                          , r = o.find(".ppv-video-block");
                        "string" == typeof a && a.length && ("premium" === a ? i.length && (s.length && s.insertAfter(i),
                        r.length && r.insertAfter(i)) : "membership-channel" === a && s.length && r.length && s.insertBefore(r))
                    }
                    e.find(".btn-ppv-video-buy-submit").on("click", function() {
                        n.val(t.ppv_video_product_id),
                        i.click()
                    }),
                    e.find(".btn-channel-membership-buy-submit").on("click", function() {
                        n.val(t.membership_channel_product_id),
                        i.click()
                    });
                    var l = e.find(".premium-plans");
                    l.length > 0 ? (l.find(".plan").on("click", function() {
                        n.val($(this).find("input").val())
                    }),
                    n.val(l.find(".plan input:checked").val())) : i.hide()
                }
            })
        }
        this.id_video && $("#premium-popup-form img[data-casting]").each(function() {
            xv.thumbs.prepareVideoImageAndLink(i.id_video, [$(this)[0]])
        }),
        $(".premium-plans").each(function() {
            var e = $(this).find(".plan")
              , n = $(this).closest("form").find("#premium-form-redirect-link-premium");
            e.length > 0 && (e.on("click", function(o, s) {
                var a = $(this).addClass("selected")
                  , r = a.find("input").prop("checked", "checked")
                  , l = r.val();
                e.not(a).removeClass("selected"),
                i.signinblocks && "object" == typeof t.products[l] && i.signinblocks.toggleClass("prod-with-trial", t.products[l].has_trial),
                i.signupblocks && "object" == typeof t.products[l] && i.signupblocks.toggleClass("prod-with-trial", t.products[l].has_trial),
                n.length > 0 && n.attr("href", n.attr("href").replace(/&product=\d+/, "&product=" + l));
                for (var u in i.validators)
                    i.validators.hasOwnProperty(u) && i.validators[u].resetSubmit();
                s || $(".premium-plan-" + l + " .plan").not(a).trigger("click", [!0])
            }),
            e.find("input:checked").parents(".p-ct").click())
        })
    }
    ,
    i.prototype.getUrl = function(e) {
        var i = t.prototype.getUrl.apply(this, [e]);
        return this.id_channel ? i += "/channel-membership/" + this.id_channel + (this.priority ? "/" + this.priority : "") : this.id_video && (i += "/video-direct-purchase/" + this.id_video + (this.priority ? "/" + this.priority : "")),
        i
    }
    ,
    i.prototype.onSubmit = function(e, t) {
        e.parent().children().not(e).hide()
    }
    ,
    i.prototype.onSubmitFailed = function(e, t) {
        e.parent().children().not(e).show()
    }
    ,
    i.prototype.onFormSubmitSuccess = function(e) {
        if (e.redirect_to)
            return void this.redirectWithConnectionLoader(e.redirect_to);
        if (e.premium_declined)
            return e.premium_end_page ? void this.box.setContent(e.premium_end_page) : ("/account/create/premium-iframe" === window.location.pathname && (window.location.href = "/account/premium/declined-iframe"),
            void (window.location.href = "/account/premium/declined"));
        if (!e.is_premium)
            return void this.loadForm({
                product: e.id_product
            });
        if (e.premium_success) {
            if (e.premium_end_page)
                return void this.box.setContent(e.premium_end_page);
            var i = "/account/premium/congrats?referer=" + encodeURIComponent(window.location.href);
            return "/account/create/premium-iframe" === window.location.pathname && (i += "&form=iframe"),
            void (window.location.href = i)
        }
        t.prototype.onFormSubmitSuccess.apply(this, [e])
    }
    ,
    i
}),
define("skins/common/features_test/video_subs", ["static/tracker"], function(e) {
    var t, i = function() {
        return t || (t = new e("test_video_subs",5e3)),
        t
    }, n = function() {};
    return n.prototype = {
        canTrack: function() {
            return i().canTrack()
        },
        isTracking: function() {
            return i().isTracking()
        },
        stopTracking: function() {
            i().stopTracking()
        },
        startTracking: function() {
            i().startTracking()
        },
        subscribe: function(e) {
            i().addId(e)
        },
        unsubscribe: function(e) {
            i().removeId(e)
        },
        hasSubscribed: function(e) {
            return i().hasId(e)
        },
        clear: function() {
            return i().clear()
        },
        getIds: function() {
            return i().getIdsList()
        }
    },
    new n
}),
define("skins/common/features_test/videos_i_like", ["./user_videos_list_tracker"], function(e) {
    return new e("aVideosILike")
}),
define("skins/default/form/login", ["config/main", "skins/common/form/login/standard", "skins/common/form/login/premium", "skins/common/features_test/video_subs", "skins/common/features_test/videos_i_like"], function(e, t, i, n, o) {
    var s = t;
    e.dyn.premium && (s = i);
    var a = new s;
    return a.doSetupNodes = function(e) {
        if (n.isTracking()) {
            var t = n.getIds();
            if (t.length > 0)
                try {
                    this.box.getNode().find('form input[name$="[subs]"]').val(JSON.stringify(t))
                } catch (a) {}
        }
        if (o.isTracking()) {
            var i = o.getIds();
            if (i.length > 0)
                try {
                    this.box.getNode().find('form input[name$="[votes]"]').val(JSON.stringify(i))
                } catch (a) {}
        }
        return s.prototype.doSetupNodes.apply(this, [e])
    }
    ,
    a
}),
define("skins/default/video/watch_later", ["static/utils", "config/main", "lib/i18n!front", "lib/helpers/popup", "lib/helpers/overlay/contextual_popup", "./watch_later/watch_later_tracker"], function(e, t, i, n, o, s) {
    var a = function(e, t, i, n) {
        var o = this;
        return this.btn = e,
        this.video_id = t,
        this.csrf = i,
        this.options = n || {},
        this.btn.on("click", function(e) {
            e.preventDefault(),
            o.click_func()
        }).addClass("init-ok"),
        this
    };
    a.prototype = {
        btn: !1,
        video_id: 0,
        popup: !1,
        csrf: !1,
        update_success: function(e) {
            this.popup.open(),
            this.popup.setContent($("<p>" + i.__(e ? "video.already_added_watch_later" : "video.added_watch_later", {
                "%link_start%": '<a href="/watch-later">',
                "%link_end%": "</a>"
            }) + "</p>")),
            "function" == typeof this.options.end_click_success_func && this.options.end_click_success_func(),
            "function" == typeof this.options.end_click_func && this.options.end_click_func()
        },
        update_error: function(e) {
            this.popup.open(),
            this.popup.setContent($("<p>" + (e || i.__("form.error_modification_not_saved")) + "</p>")),
            "function" == typeof this.options.end_click_error_func && this.options.end_click_error_func(),
            "function" == typeof this.options.end_click_func && this.options.end_click_func()
        },
        click_func: function() {
            if (!1 === this.popup && (this.popup = new n(this.options.$confirmPos && this.options.$confirmPos.length ? this.options.$confirmPos : this.btn,"",{
                trigger: !1,
                autoclose: 3e3,
                popup_class: "string" == typeof this.options.popup_class ? this.options.popup_class : "watch-later-pop"
            })),
            t.dyn.login_info.is_logged) {
                var e = this;
                $.post("/api/playlists/watch-later/add/" + this.video_id, {
                    csrf: this.csrf
                }, function(t) {
                    t.result ? e.update_success(t.already_added) : e.update_error(t.message)
                }, "json")
            } else if (s.isTracking()) {
                var o = s.getIds()
                  , a = o.includes(this.video_id);
                a || s.addVideo(this.video_id),
                this.update_success(a)
            } else
                this.update_error(i.__("video.cant_add_watch_later"))
        }
    };
    var r = function() {};
    return r.prototype = {
        btns: [],
        list_btns: $(),
        rmv_btns: [],
        init_btn: function(e, t, i) {
            e.hasClass("init-ok") || (this.btns.push(new a($(e),t,this.get_add_csrf(),i)),
            this.update_view())
        },
        init_listing: function(e, i) {
            var n = $(".thumb-block .watch-later", e).not(".init-ok");
            if (0 !== n.length || (e.length > 0 && e.each(function() {
                $(this).hasClass("thumb-block") && (n = n.add($(this).find(".watch-later")))
            }),
            0 !== n.length)) {
                var o = this;
                t.dyn.login_info.is_logged ? this.is_feature_enabled() ? $(n).each(function() {
                    var e = $(this)
                      , t = e.parents(".thumb-block")
                      , n = xv.thumbs.getVideoId(t);
                    n === String(parseInt(n)) && (o.btns.push(new a(e,n,o.get_add_csrf(),i)),
                    o.list_btns = o.list_btns.add(e))
                }) : $(n).remove() : require(["skins/default/form/login"], function(e) {
                    e.setupLinks(n),
                    n.addClass("init-ok")
                }),
                this.update_view()
            }
        },
        get_add_csrf: function() {
            return t.dyn.wl && t.dyn.wl.put ? t.dyn.wl.put : ""
        },
        get_del_csrf: function() {
            return t.dyn.wl && t.dyn.wl.rem ? t.dyn.wl.put : ""
        },
        is_feature_enabled: function() {
            return t.dyn.wl && t.dyn.wl.in_listing
        },
        toggle_feature: function(e) {
            var n = this
              , s = o.loading(i.__("form.saving_settings"), {
                delay: 500
            });
            $.post("/account/feature-" + (this.is_feature_enabled() ? "disabled" : "enabled"), {
                featureid: "w"
            }, function(a) {
                if (s.close(),
                !a.result)
                    return void o.alert(i.__("form.error_modification_not_saved"));
                t.dyn.wl.in_listing = !t.dyn.wl.in_listing,
                "undefined" != typeof xv.thumb_block_menus && "function" == typeof xv.thumb_block_menus.reset_initiated_contents && xv.thumb_block_menus.reset_initiated_contents(),
                n.update_view(),
                "function" == typeof e && e()
            }, "json")
        },
        update_view: function() {
            "undefined" != typeof xv.settings_btn && "function" == typeof xv.settings_btn.update_watch_later_toggle_btn && xv.settings_btn.update_watch_later_toggle_btn(),
            this.list_btns.length > 0 && (this.is_feature_enabled() ? this.list_btns.removeClass("disabled") : this.list_btns.addClass("disabled"))
        }
    },
    new r
}),
define("skins/common/history/easy_tracker", ["static/tracker"], function(e) {
    var t = []
      , i = function(i) {
        return t[i] || (t[i] = new e("EZtrk_" + i,5e3)),
        t[i]
    }
      , n = function() {};
    return n.prototype = {
        canTrack: function(e) {
            return i(e).canTrack()
        },
        isTracking: function(e) {
            return i(e).isTracking()
        },
        add: function(e, t) {
            i(e).addId(t)
        },
        overrigth_all: function(e, t) {
            this.clear(e);
            for (var i in t)
                this.add(e, t[i])
        },
        clear: function(e) {
            return i(e).clear()
        },
        getAll: function(e) {
            return i(e).getIdsList().reverse()
        },
        getLast: function(e) {
            var t = this.getAll(e);
            return t.length > 0 && t[0]
        }
    },
    new n
}),
define("skins/common/history/one_info_tracker", ["./easy_tracker"], function(e) {
    var t = function() {};
    return t.prototype = {
        canTrack: function(t) {
            return e.canTrack(t)
        },
        get: function(t) {
            return e.getLast(t)
        },
        set: function(t, i) {
            return e.overrigth_all(t, [i])
        },
        unset: function(t) {
            e.clear(t)
        }
    },
    new t
}),
define("text!skins/common/history/history_popup.mustache", [], function() {
    return '<div class="disable-history-confirm">\n\t{{ content }}\n\t<form>\n\t\t<label><input type="checkbox" name="clear" value="1"/>{{ history }}</label>\n\t</form>\n</div>'
}),
define("skins/common/history/page_view_history", ["static/tracker", "static/utils", "config/main", "lib/i18n!front", "mustache", "lib/helpers/overlay/contextual_popup", "text!skins/common/history/history_popup.mustache"], function(e, t, i, n, o, s, a) {
    var r, l = {
        video: "vv",
        photo_gallery: "pg",
        verified_picture: "vp",
        profile: "pr"
    }, u = function() {
        return r || (r = new c("page_view_history",5e3)),
        r
    }, f = function() {};
    f.prototype = {
        canTrack: function() {
            return u().canTrack()
        },
        cantTrackAlert: function() {
            i.dyn.login_info.is_logged ? s.alert(n.__("profile.tracking.device_not_compatible_create_profile", {
                "%start_create_profile%": '<a href="/account/create_profile">',
                "%end_login%": "</a>"
            })) : require(["skins/default/form/login"], function(e) {
                var t = s.alert(n.__("profile.tracking.device_not_compatible_login", {
                    "%start_login%": '<a href="#">',
                    "%end_login%": "</a>"
                }));
                e.setupLinks(t.getNode().find(".contextual-popup-message a").first())
            })
        },
        isTracking: function() {
            return u().isTracking()
        },
        stopTracking: function(e, t) {
            u().stopTracking(e, t)
        },
        startTracking: function(e) {
            if (!this.canTrack())
                return this.cantTrackAlert(),
                !1;
            u().startTracking(e)
        },
        addId: function(e, t, i) {
            if ("undefined" == typeof l[e])
                return !1;
            u().addId(l[e] + "_" + t, i)
        },
        removeId: function(e, t, i) {
            if ("undefined" == typeof l[e])
                return !1;
            u().removeId(t, i)
        },
        removeIds: function(e, t) {
            u().removeIds(e, t)
        },
        clear: function(e, t) {
            return u().clear(e, t)
        },
        getIds: function() {
            return u().getIdsList()
        },
        getIdsTimestamps: function() {
            return u().getIdsTimestampsList()
        },
        getVideosIdsTimestamps: function() {
            return this.getIdsTimestampsByType().video
        },
        getIdsTimestampsByType: function() {
            var e = this.getIdsTimestamps()
              , t = {}
              , i = {};
            for (var n in e) {
                var o = n.indexOf("_")
                  , s = n.substr(0, o)
                  , a = n.substr(o + 1);
                t[s] || (t[s] = {}),
                t[s][a] = e[n]
            }
            for (var r in l)
                t[l[r]] && (i[r] = t[l[r]]);
            return i
        },
        clearOlderThan: function(e) {
            var t = this.getIdsTimestamps()
              , i = Math.round((new Date).getTime() / 1e3);
            for (var n in t)
                t[n] < i - 86400 * e && this.removeId(n)
        }
    };
    var c = function(t, i) {
        e.apply(this, [t, i])
    };
    return c.prototype = new e,
    c.prototype.isTracking = function() {
        return (!i.dyn.disfeats || -1 === i.dyn.disfeats.indexOf("vv")) && e.prototype.isTracking.apply(this)
    }
    ,
    c.prototype.removeIds = function(t, o) {
        var a = this
          , r = function(t, o) {
            for (var r in t)
                e.prototype.removeId.apply(a, [l.video + "_" + t[r]]);
            i.dyn.login_info.is_logged ? $.post("/history/clear/selection", {
                videos: t
            }, function(e) {
                if (!e.result)
                    return void s.alert(n.__("form.error_modification_not_saved"));
                "function" == typeof o && o()
            }, "json") : "function" == typeof o && o()
        };
        t.length > 1 ? s.confirm(n.__("history.clear_this_elements_confirm"), function() {
            r(t, o)
        }) : r(t, o)
    }
    ,
    c.prototype.removeId = function(e, t) {
        c.prototype.removeIds.apply(this, [[e], t])
    }
    ,
    c.prototype.clear = function(t, i) {
        var o = this;
        s.confirm(n.__("categories.confirm_clear_history"), function() {
            e.prototype.clear.apply(o),
            !1 !== i ? $.post("/history/clear/all", {}, function(e) {
                if (!e.result)
                    return void s.alert(n.__("form.error_modification_not_saved"));
                "function" == typeof t && t()
            }, "json") : "function" == typeof t && t()
        })
    }
    ,
    c.prototype.stopTracking = function(i, r) {
        var l = this
          , u = o.render(a, {
            content: t.unescape(n.__("history.disable_confirm")),
            history: t.unescape(n.__("history.clear"))
        })
          , f = function(t) {
            if ("undefined" == typeof t[0]) {
                var o = $(this);
                if (o.data("send-form")) {
                    var a = o.closest(".x-popup-content").find("form");
                    a.length > 0 && (t = a.serializeArray())
                }
            }
            var r = 1 === t.length && "clear" === t[0].name && t[0].value
              , u = {
                featureid: "vv"
            }
              , f = !1;
            r && (f = !0,
            u.clear = 1),
            e.prototype.stopTracking.apply(l, [f]),
            $.post("/account/feature-disabled", u, function(e) {
                if (!e.result)
                    return void s.alert(n.__("form.error_modification_not_saved"));
                "function" == typeof i && i()
            }, "json")
        };
        void 0 !== r && "boolean" == typeof r.popup && "object" == typeof r.popup_btn && r.popup ? require(["lib/helpers/popup"], function(e) {
            "undefined" == typeof l.popup && (l.popup = new e(r.popup_btn),
            l.popup.setPosition(r.popup_position)),
            l.popup.open(),
            l.popup.setContent(u);
            var t = $(".disable-history-confirm");
            t.addClass("popup-confirm").append('<button class="btn btn-primary btn-ok" data-send-form="1">' + n.__("misc.ok") + '</button><button class="btn btn-primary btn-close">' + n.__("misc.cancel") + "</button>"),
            t.find(".btn-ok").on("click", f),
            t.find(".btn-close").on("click", function() {
                l.popup.close()
            })
        }) : s.confirm(u, f)
    }
    ,
    c.prototype.startTracking = function(t) {
        e.prototype.startTracking.apply(this),
        $.post("/account/feature-enabled", {
            featureid: "vv"
        }, function(e) {
            if (!e.result)
                return void s.alert(n.__("form.error_modification_not_saved"));
            "function" == typeof t && t()
        }, "json")
    }
    ,
    new f
}),
define("skins/default/mozaique/thumb_block_viewed", ["static/utils", "config/main", "lib/i18n!front", "skins/common/history/one_info_tracker", "skins/common/history/page_view_history", "lib/helpers/overlay/contextual_popup"], function(e, t, i, n, o, s) {
    var a = function() {};
    return a.prototype = {
        is_feature_enabled: function() {
            return t.dyn.vvi && t.dyn.vvi.in_listing
        },
        toggle_feature: function(e, n) {
            "boolean" != typeof n && (n = !t.dyn.vvi.in_listing);
            var o = s.loading(i.__("form.saving_settings"))
              , a = this;
            $.post("/account/feature-" + (n ? "enabled" : "disabled"), {
                featureid: "vvi"
            }, function(r) {
                if (o.close(),
                !r.result)
                    return void s.alert(i.__("form.error_modification_not_saved"));
                t.dyn.vvi.in_listing = n,
                n ? a.init_listing() : ($(".thumb-block.viewed").removeClass("tbv-init-ok"),
                $(".thumb-block.viewed .video-viewed").remove()),
                "undefined" != typeof xv.settings_btn && "function" == typeof xv.settings_btn.update_viewed_icon_toggle_btn && xv.settings_btn.update_viewed_icon_toggle_btn(),
                "undefined" != typeof xv.thumb_block_menus && "function" == typeof xv.thumb_block_menus.reset_initiated_contents && xv.thumb_block_menus.reset_initiated_contents(),
                "function" == typeof e && e()
            }, "json")
        },
        init_listing: function(e) {
            if (this.update_logged_list(e) && this.is_feature_enabled()) {
                this.update_viewed_tb(e);
                var t = $(".thumb-block.viewed", e);
                0 === t.length && (e && e.length > 0 && e.each(function() {
                    $(this).hasClass("thumb-block") && $(this).hasClass("viewed") && (t = t.add($(this)))
                }),
                0 === t.length) || t.each(function() {
                    var e = $(this).children(".thumb-inside").first();
                    !($(this).hasClass("tbv-init-ok") || $(this).hasClass("thumb-ad")) && e.length > 0 && ($(this).addClass("tbv-init-ok"),
                    e.append($('<span class="video-viewed"><span class="icon-f icf-eye"></span></span>')))
                })
            }
        },
        update_viewed_tb: function(e) {
            if (this.viewed_list) {
                var t = $(".thumb-block", e);
                if (0 !== t.length || (e && e.length > 0 && e.each(function() {
                    $(this).hasClass("thumb-block") && (t = t.add($(this)))
                }),
                0 !== t.length)) {
                    var i = this;
                    t.each(function() {
                        var e = $(this)
                          , t = xv.thumbs.getVideoId(e);
                        -1 !== i.viewed_list.indexOf(t) && e.addClass("viewed")
                    })
                }
            }
        },
        update_logged_list: function(e) {
            if (this.viewed_list)
                return !0;
            var i = o.getVideosIdsTimestamps();
            this.viewed_list = [];
            for (var s in i)
                this.viewed_list.push(parseInt(s));
            if (!t.dyn.login_info.is_logged || !n.canTrack("tb_viewed_updated"))
                return !0;
            var a = n.get("tb_viewed_updated")
              , r = (new Date).getTime();
            if (a > 0 && r - a < 36e5) {
                if (n.get("tb_viewed_list")) {
                    var l = n.get("tb_viewed_list");
                    this.viewed_list = [];
                    for (var u in l)
                        this.viewed_list.push(parseInt(l[u]))
                }
                return !0
            }
            var f = this;
            return $.post("/history/all-ids", {
                ids: i
            }, function(t) {
                if (t.result) {
                    n.set("tb_viewed_list", t.ids),
                    f.viewed_list = [];
                    for (var i in t.ids)
                        f.viewed_list.push(parseInt(t.ids[i]));
                    f.init_listing(e)
                }
            }, "json"),
            n.set("tb_viewed_updated", (new Date).getTime()),
            !1
        }
    },
    new a
}),
define("text!skins/common/suggests/suggest_popup.mustache", [], function() {
    return '<div class="suggest-popup popup-confirm">\n\t<p>{{ content }}</p>\n\t<button class="btn btn-primary btn-ok">{{ ok }}</button>\n\t<button class="btn btn-primary btn-close">{{ not_ok }}</button>\n</div>'
}),
define("skins/common/suggests/suggests_manager", ["static/utils", "config/main", "lib/i18n!front", "mustache", "lib/helpers/overlay/contextual_popup"], function(e, t, i, n, o) {
    var s = function() {
        this.site_id = e.getSiteId()
    };
    return s.prototype = {
        is_feature_enabled: function() {
            return !t.dyn.disfeats || -1 === t.dyn.disfeats.indexOf("s")
        },
        toogle_feature: function(t, s) {
            if (this.site_id < 1)
                return !1;
            t = "boolean" == typeof t ? t : !this.is_feature_enabled();
            var a = function() {
                $.post("/account/feature-" + (t ? "enabled" : "disabled"), {
                    featureid: "s"
                }, function(e) {
                    if (!e.result)
                        return void o.alert(i.__("form.error_modification_not_saved"));
                    $("html,body").scrollTop(0),
                    window.location.reload()
                }, "json")
            };
            if (t)
                return void a();
            if (void 0 !== s && "boolean" == typeof s.popup && "object" == typeof s.popup_btn && s.popup) {
                var r = this;
                require(["lib/helpers/popup", "text!skins/common/suggests/suggest_popup.mustache"], function(t, o) {
                    "undefined" == typeof r.popup && (r.popup = new t(s.popup_btn),
                    r.popup.setPosition(s.popup_position)),
                    r.popup.open(),
                    r.popup.setContent(n.render(o, {
                        content: e.unescape(i.__("misc.are_you_sure")),
                        ok: e.unescape(i.__("misc.ok")),
                        not_ok: e.unescape(i.__("misc.cancel"))
                    }));
                    var l = $(".suggest-popup");
                    l.find(".btn-ok").on("click", a),
                    l.find(".btn-close").on("click", function() {
                        r.popup.close()
                    })
                })
            } else
                o.confirm(i.__("misc.are_you_sure"), a)
        },
        remove_vid_from_suggest: function(e, t) {
            var n = !1
              , s = setTimeout(function() {
                n = o.loading()
            }, 500);
            $.post("/video-suggest/blacklist/" + e, {}, function(e) {
                if (clearTimeout(s),
                n && n.close(),
                !e || !e.OK)
                    return void o.alert(i.__("form.error_modification_not_saved"));
                "function" == typeof t && t()
            }, "json")
        }
    },
    new s
}),
define("skins/default/header/theme_switcher", ["config/main", "static/utils", "lib/i18n!front"], function(e, t, i) {
    var n = function() {
        this.bGetSettingsBtn = !1,
        this.bIsOldIE = "undefined" != typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent),
        this.bIsDisabled = !1,
        this.bIsDev = !0 === e.is_dev,
        this.aBtns = [],
        this.oTimerSwitchAuto = null,
        this.initModeAuto()
    };
    return n.prototype = {
        initModeAuto: function() {
            return "undefined" == typeof e.dyn.ui || "undefined" == typeof e.dyn.ui.theme ? void this.setThemeWebsite("light") : (this.setThemeReference(),
            this.getThemeStorage(),
            this.getThemeWebsite(),
            "matchMedia"in window && "manual" !== this.oThemeStorage.m && (this.setThemeBrowser(),
            "black" === this.getThemeBrowser() && "auto" !== this.oThemeStorage.m && (this.setModeAuto(!1),
            this.getThemeWebsite() !== this.getThemeBrowser())) ? void this.switchTheme(this.getThemeBrowser()) : void ("auto" === e.dyn.ui.theme ? (this.setModeAuto(!0),
            this.initModeAutoByHour()) : (this.setModeAuto(!1),
            this.setThemeWebsite(e.dyn.ui.theme),
            e.dyn.ui.theme !== this.oThemeStorage.i ? this.switchTheme(this.getThemeWebsite()) : this.setThemeStorage())))
        },
        initModeAutoByHour: function() {
            this.oTimer !== undefined && clearTimeout(this.oTimer),
            this.getThemeWebsite() !== this.getThemeReference() ? this.switchTheme(this.getThemeReference()) : null !== this.oThemeStorage.i && this.oThemeStorage.i !== this.getThemeReference() ? (this.setThemeWebsite(this.oThemeStorage.i),
            this.switchTheme(this.getThemeReference())) : this.setThemeStorage();
            var e = this.getDelayAutoSwitch()
              , t = this;
            e > 0 && (this.oTimer = setTimeout(function() {
                t.setCurrentHour(),
                t.setThemeReference(),
                t.setDelayAutoSwitch(),
                t.initModeAutoByHour()
            }, e))
        },
        setThemeReference: function() {
            this.getCurrentHour() >= 0 && this.getCurrentHour() <= 6 || this.getCurrentHour() >= 21 && this.getCurrentHour() <= 23 ? this.sThemeReference = "black" : this.sThemeReference = "light"
        },
        setThemeWebsite: function(e) {
            this.sThemeWebsite = e
        },
        setThemeBrowser: function() {
            this.bMatchMedia = window.matchMedia("(prefers-color-scheme: dark)"),
            this.sThemeBrowser = this.bMatchMedia.matches ? "black" : "light"
        },
        setModeAuto: function(e) {
            this.bModeAuto = e
        },
        setThemeStorage: function() {
            "boolean" != typeof this.getModeAuto() && ("true" === this.getModeAuto() || null === this.getModeAuto() ? this.setModeAuto(!0) : this.setModeAuto(!1)),
            this.oThemeStorage = {
                i: this.getThemeWebsite(),
                m: this.getModeAuto() ? "auto" : "manual"
            },
            xv.storage.remove(this.sThemeStorageValue),
            xv.storage.set(this.sThemeStorageValue, this.oThemeStorage),
            xv.cookies.setLocal("session_ath", this.getThemeWebsite(), null, "/")
        },
        setCurrentHour: function() {
            var e = new Date;
            this.iCurrentHour = e.getHours()
        },
        setDelayAutoSwitch: function() {
            var e, t = new Date, i = t.getTime(), n = i + 6e4 * t.getTimezoneOffset() - i % 864e5, o = [7, 0, 0], s = [21, 0, 0];
            e = t.getHours() < 7 ? n + 36e5 * o[0] + 6e4 * o[1] + 1e3 * o[2] - i : t.getHours() >= 7 && t.getHours() < 21 ? n + 36e5 * s[0] + 6e4 * s[1] + 1e3 * s[2] - i : n + 864e5 + 36e5 * o[0] + 6e4 * o[1] + 1e3 * o[2] - i,
            this.iAutoSwitchHour = e
        },
        getThemeReference: function() {
            return this.sThemeReference
        },
        getThemeWebsite: function() {
            return "undefined" == typeof this.sThemeWebsite && ("undefined" == typeof this.oThemeStorage || null === this.oThemeStorage.i ? this.setThemeWebsite("light") : this.setThemeWebsite(this.oThemeStorage.i),
            this.setThemeWebsite("light")),
            this.sThemeWebsite
        },
        getThemeBrowser: function() {
            return this.sThemeBrowser
        },
        getModeAuto: function() {
            return "undefined" == typeof this.bModeAuto && ("auto" === e.dyn.ui.theme ? this.setModeAuto(!0) : this.setModeAuto(!1)),
            this.bModeAuto
        },
        getThemeStorage: function() {
            this.sThemeStorageValue = "user_theme_fav",
            this.oThemeStorage = xv.storage.get(this.sThemeStorageValue),
            null === this.oThemeStorage && (this.oThemeStorage = {
                i: null,
                m: null
            })
        },
        getCurrentHour: function() {
            return "undefined" == typeof this.iCurrentHour && this.setCurrentHour(),
            this.iCurrentHour
        },
        getDelayAutoSwitch: function() {
            return "undefined" == typeof this.iAutoSwitchHour && this.setDelayAutoSwitch(),
            this.iAutoSwitchHour
        },
        switchTheme: function(t) {
            if (!0 !== this.bIsDisabled) {
                this.bIsDisabled = !0,
                this.disableBtns();
                var i = this
                  , n = this.getModeAuto() ? "/switch-theme/auto?no_redirect=1" : "/switch-theme/" + t + "?no_redirect=1"
                  , o = function() {
                    i.updateBtn(s),
                    i.enableBtns(),
                    i.bIsDisabled = !1,
                    i.setThemeWebsite(t),
                    i.setThemeStorage(),
                    $(".listing-settings-popup").removeClass("show-theme")
                }
                  , s = t;
                if ((void 0 === t || "auto" === t || t === this.getThemeWebsite()) && ("auto" === t && (s = "auto",
                t = this.getThemeReference()),
                this.getThemeWebsite() === this.getThemeReference()))
                    return void $.ajax({
                        type: "POST",
                        url: n,
                        success: o
                    });
                var a = $("style.ajax-loaded")
                  , r = $("link#xvstyles")
                  , l = $("link#xvstylesspec")
                  , u = 0 === window.location.pathname.split("#")[0].indexOf("/account")
                  , f = u ? "account" : "main"
                  , c = a.length < 1 ? r.attr("href") : a.attr("data-href")
                  , d = []
                  , h = [];
                if (this.bIsDev)
                    var p = c.split("css/")[0] + "css/" + e.sitename + "/";
                switch (t) {
                case "black":
                    this.bIsDev ? (d.push(p + f + "-black-base.css"),
                    d.push(p + f + "-black-specific.css")) : (d.push(e.domains["static"] + "/v-" + (u ? e.dyn.thvers.ab : e.dyn.thvers.mb) + "/v3/css/" + e.sitename + "/" + f + "-black-base.css"),
                    d.push(e.domains["static"] + "/v-" + (u ? e.dyn.thvers.abs : e.dyn.thvers.mbs) + "/v3/css/" + e.sitename + "/" + f + "-black-specific.css"));
                    break;
                case "light":
                    this.bIsDev ? d.push(p + f + ".css") : d.push(e.domains["static"] + "/v-" + (u ? e.dyn.thvers.a : e.dyn.thvers.m) + "/v3/css/" + e.sitename + "/" + f + ".css")
                }
                for (var _ in d)
                    !function(e) {
                        $.get(e, function(t) {
                            if (h.push({
                                path: e,
                                css: t.replace(/url\((\'|\")?\./g, "url($1" + c.substr(0, c.lastIndexOf("/") + 1) + ".").replace(/url\((\'|\")?\//g, "url($1" + xv.conf.domains["static"] + "/")
                            }),
                            !(h.length < d.length)) {
                                var i = null;
                                a.length > 0 && (i = $("style.ajax-loaded"));
                                for (var s in h)
                                    $('<style class="ajax-loaded" data-href="' + h[s].path + '"></style>').html(h[s].css).appendTo("head");
                                a.length < 1 ? (r.remove(),
                                l.remove()) : i.remove(),
                                $.ajax({
                                    type: "POST",
                                    url: n,
                                    success: o
                                })
                            }
                        })
                    }(d[_])
            }
        },
        canInit: function() {
            return !this.bIsOldIE
        },
        updateBtn: function(e) {
            if ("undefined" != typeof this.sBtn) {
                var n;
                n = "auto" === e ? i.__("theme.automatic") : "light" === e ? i.__("theme.light") : i.__("theme.dark"),
                $(".site-settings").find(".theme-label").text(t.unescape(n))
            }
        },
        disableBtns: function() {
            for (var e = 0; e < this.aBtns.length; e++)
                $Btn = this.aBtns[e],
                $Btn.length && $Btn.addClass("isLoading").prop("disabled", !0)
        },
        enableBtns: function() {
            for (var e = 0; e < this.aBtns.length; e++)
                $Btn = this.aBtns[e],
                $Btn.length && $Btn.removeClass("isLoading").prop("disabled", !1)
        },
        getSettingsBtn: function(e) {
            this.bGetSettingsBtn = !0;
            var n;
            return n = this.getModeAuto() ? i.__("theme.automatic") : "light" === this.getThemeWebsite() ? i.__("theme.light") : i.__("theme.dark"),
            "undefined" != typeof this.oThemeStorage && null !== this.oThemeStorage.i || (n = i.__("theme.light")),
            this.sBtn = (e ? "" : '<button type="button">') + '<span class="icon-f icf-theme-switch"></span> ' + t.unescape(i.__("theme.colors")) + ' <strong class="theme-label">' + t.unescape(n) + "</strong>" + (e ? "" : "</button>"),
            this.sBtn
        },
        initBtn: function(e) {
            if (this.canInit()) {
                e = $(e);
                var t = this;
                e.off("click").on("click", function(i) {
                    i.preventDefault(),
                    e.closest("li").removeClass("current");
                    var n = $(i.currentTarget)
                      , o = n.data("mode")
                      , s = !0;
                    "auto" === o ? t.getModeAuto() ? s = !1 : t.setModeAuto(!0) : ("undefined" == typeof t.oThemeStorage && t.getThemeStorage(),
                    "manual" === t.oThemeStorage.m && o === t.getThemeWebsite() ? s = !1 : t.setModeAuto(!1)),
                    s ? (t.switchTheme(o),
                    n.closest("li").addClass("current")) : $(".listing-settings-popup").removeClass("show-theme")
                }),
                this.aBtns.push(e)
            }
        },
        setClassCurrent: function(e) {
            var t = this.getModeAuto() ? "auto" : this.getThemeWebsite();
            "undefined" != typeof this.oThemeStorage && null !== this.oThemeStorage.i || (t = "light"),
            e.each(function() {
                var e = $(this);
                e.closest("li").toggleClass("current", e.data("mode") === t)
            })
        }
    },
    n
}),
define("text!skins/common/geo_switch/contener.mustache", [], function() {
    return '<div>\n\t<div class="filter">\n\t\t<label>\n\t\t\t<span class="icon-f icf-search"></span>\n\t\t\t<input type="text"{{#placeholder}} placeholder="{{ placeholder }}"{{/placeholder}}/>\n\t\t</label>\n\t\t<button type="button" class="clear"><span class="icon-f icf-close-thin"></span></button>\n\t</div>\n\t<ul class="countries row">{{{ list }}}</ul>\n\t{{^simple_contener}}\n\t<ul class="width-ref row">{{{ ref-list }}}</ul>\n\t<div class="see-all"><button type="button" class="btn btn-primary"></button></div>\n\t{{/simple_contener}}\n</div>'
}),
define("text!skins/common/geo_switch/list_element.mustache", [], function() {
    return '<li class="{{^empty}}country-{{ code }} {{/empty}}col-xs-12 {{^half}}col-sm-4 col-md-3 col-lg-2{{/half}}{{#half}}col-sm-2 col-md-1-5 col-lg-1{{/half}}{{#cur}} current{{/cur}}{{#empty}} empty{{/empty}}">{{^empty}}\n\t<a href="/change-country/{{ code }}" class="btn"><span class="flag-small flag-{{ code }}"></span> {{{ name }}}</a>\n{{/empty}}</li>'
}),
define("text!skins/common/geo_switch/list_no_result.mustache", [], function() {
    return '<li class="no-result col-xs-12">\n\t{{{ no_result }}}\n</li>'
}),
define("skins/common/geo_switch/geo_switch", ["config/main", "mustache", "lib/i18n!front", "lib/helpers/overlay", "lib/helpers/inline_loader", "skins/common/history/one_info_tracker", "text!./contener.mustache", "text!./list_element.mustache", "text!./list_no_result.mustache"], function(e, t, i, n, o, s, a, r, l) {
    var u = ["AF", "AR", "AT", "AU", "AZ", "BD", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CM", "CN", "CO", "CY", "CZ", "DE", "DK", "DO", "EC", "EG", "ES", "FI", "FR", "GB", "GE", "GR", "GT", "HK", "HU", "ID", "IE", "IL", "IN", "IQ", "IS", "IT", "JO", "JP", "KE", "KH", "KR", "LA", "LB", "LK", "LV", "MA", "MD", "MM", "MT", "MX", "MY", "NG", "NL", "NO", "NZ", "PE", "PH", "PK", "PL", "PT", "QA", "RO", "RS", "RU", "SE", "SG", "SK", "SN", "TH", "TN", "TW", "TZ", "UA", "US", "VE", "VN", "ZA"];
    xv || (xv = {});
    var f = function(e, t) {
        var i = e.trim().toLowerCase();
        return i = i.replace(new RegExp(/[_\s]/g), " "),
        i = i.replace(new RegExp(/[àáâãäå]/g), "a"),
        i = i.replace(new RegExp(/æ/g), "ae"),
        i = i.replace(new RegExp(/ç/g), "c"),
        i = i.replace(new RegExp(/[èéêë]/g), "e"),
        i = i.replace(new RegExp(/[ìíîï]/g), "i"),
        i = i.replace(new RegExp(/ñ/g), "n"),
        i = i.replace(new RegExp(/[òóôõö]/g), "o"),
        i = i.replace(new RegExp(/œ/g), "oe"),
        i = i.replace(new RegExp(/[ùúûü]/g), "u"),
        i = i.replace(new RegExp(/[ýÿ]/g), "y"),
        i = i.replace(new RegExp(/\W/g), " "),
        i = i.trim(),
        i = i.replace(new RegExp(/([\s])+/g), t ? " " : "")
    }
      , c = function() {
        this.toExWhenInit = [],
        this.initiated,
        this.popup,
        this.countries,
        this.cur_country;
        var t = $("#disclaimer_vpn_another");
        if (this.is_vpn_disclaimer = t.length > 0,
        this.is_vpn_disclaimer || (t = "default" === e.sitename ? $("#nav .main-categories .country-switch") : $("#site-nav .country-switch, .topbar .country-switch"),
        0 !== t.length)) {
            var i = this;
            $(window).on("resize", function() {
                i.update_popup()
            }),
            t.on("click", function(e) {
                e.preventDefault(),
                e.stopPropagation(),
                i.auto_show_popup()
            }).addClass("init-ok")
        }
    };
    return c.prototype = {
        sAllCountriesStoreId: "geoSwitchCountries",
        current_state: {
            search: !1,
            show_all: !1,
            nb_cols: 0
        },
        last_update: {
            first_update: !0
        },
        filter_inp: !1,
        filter_clear_btn: !1,
        show_all_btn: !1,
        list_cont: !1,
        empty_list_elem: "",
        empty_half_list_elem: "",
        vpn_disclaimer_btn: !1,
        is_vpn_disclaimer: !1,
        mobile_menu_index: !1,
        get_popup: function() {
            return this.init(),
            this.popup
        },
        executeAllWhenInit: function() {
            for (var e = 0; e < this.toExWhenInit.length; e++) {
                var t = this.toExWhenInit[e];
                "function" == typeof t && t()
            }
            this.toExWhenInit = []
        },
        init: function() {
            if ("yes" === this.initiated)
                return this.executeAllWhenInit(),
                !0;
            if ("pending" === this.initiated)
                return !1;
            this.initiated = "pending";
            var t = this;
            this.popup || (this.popup = new n("body",!0,"hide"),
            this.popup.setClosable(!0, !0, !1),
            this.popup.addClass("geo-switch-pop" + (this.is_vpn_disclaimer ? " vpn-disclaimer" : "")),
            this.popup.onHide = function() {
                $("html").removeClass("geo-switch-pop-opened")
            }
            ,
            this.popup.onShow = function() {
                $("html").addClass("geo-switch-pop-opened"),
                t.init() ? t.update_popup() : t.toExWhenInit.push(function() {
                    t.update_popup()
                })
            }
            ,
            this.iAllMenuId = xv.menus.addClose(function() {
                t.popup.hide()
            })),
            this.setPopupLoading(),
            this.cur_country = ("string" == typeof e.dyn.forcedcountry ? e.dyn.forcedcountry : e.dyn.country).toLowerCase(),
            this.countries = [];
            var i = s.get(this.sAllCountriesStoreId);
            if (i && i.timestamp) {
                var o = Date.now() - 1728e5;
                i.timestamp > o && this.setCountries(i.countries)
            }
            return "yes" === this.initiated ? (this.executeAllWhenInit(),
            !0) : ($.ajax({
                url: "/account/getcountries/" + e.dyn.locale,
                success: function(e) {
                    e.result && e.countries ? (s.set(t.sAllCountriesStoreId, {
                        timestamp: Date.now(),
                        countries: e.countries
                    }),
                    t.setCountries(e.countries)) : (t.initiated = "no",
                    t.setPopupError())
                },
                error: function() {
                    t.initiated = "no",
                    t.setPopupError()
                },
                dataType: "json"
            }),
            !1)
        },
        setPopupLoading: function() {
            if (!this.popup)
                return !1;
            this.popup.setContent($('<p class="text-center">' + o.getSafe("after", i.__("misc.loading")).getHtml() + "</p>"))
        },
        setPopupError: function() {
            if (!this.popup)
                return !1;
            var e = $('<p class="text-center"><span class="btn btn-primary">' + i.__("error.failed_loading_info_retry") + "</span></p>")
              , t = this;
            e.find(".btn").on("click", function() {
                setTimeout(function() {
                    t.init()
                }, 100)
            }),
            this.popup.setContent(e)
        },
        setCountries: function(e) {
            var i = this
              , n = function(e) {
                e.preventDefault(),
                i.get_popup().hide(),
                window.xv.disclaimer.vpn_display_closed($(this).prop("href"))
            };
            order = 0;
            for (var o in e) {
                var s = o.toLowerCase()
                  , l = {
                    o: order,
                    code: s,
                    name: e[o],
                    cur: s === this.cur_country,
                    big: -1 !== u.indexOf(o)
                };
                l.search = this.build_search_index(l),
                l.elem = $(t.render(r, l)),
                this.is_vpn_disclaimer && (l.a_click = n),
                this.countries.push(l),
                order++
            }
            if (this.countries.length < 1)
                return this.initiated = "no",
                i.setPopupError(),
                !1;
            this.empty_list_elem = $(t.render(r, {
                empty: !0
            })),
            this.empty_half_list_elem = $(t.render(r, {
                empty: !0,
                half: !0
            }));
            var f = $(t.render(a, {
                list: "",
                "ref-list": t.render(r, {
                    empty: !0
                })
            }));
            this.filter_inp = f.find("input").first(),
            this.filter_clear_btn = f.find("button.clear").first(),
            this.show_all_btn = f.find(".see-all button").first(),
            this.ref_col_for_w = f.find("ul.width-ref li").first(),
            this.list_cont = f.find("ul.countries").first(),
            this.popup.setContent(f),
            this.filter_inp.on("change blur focus paste input", function() {
                i.update_search()
            }),
            this.filter_inp.on("keydown", function(e) {
                27 === e.keyCode && (e.preventDefault(),
                e.stopPropagation()),
                i.update_search()
            }),
            this.filter_inp.on("keyup", function(e) {
                27 === e.keyCode && i.filter_inp.prop("value").length > 0 && (e.preventDefault(),
                e.stopPropagation(),
                i.filter_inp.prop("value", "")),
                i.update_search()
            }),
            this.filter_clear_btn.on("click", function() {
                i.filter_inp.prop("value", ""),
                i.update_search()
            }),
            this.show_all_btn.on("click", function() {
                i.popup.getNode().children(".x-body").scrollTop(0),
                i.toggle_show_all()
            }),
            this.executeAllWhenInit(),
            this.initiated = "yes"
        },
        build_search_index: function(e) {
            var t = e.name.indexOf(",")
              , i = "us" === e.code ? "usa|theunitedstatesofamerica|" : "";
            return -1 !== t ? (i += f(e.name.substr(0, t)),
            i += f(e.name.substr(t + 1)),
            i += "|" + f(e.name.substr(t + 1)),
            i += f(e.name.substr(0, t))) : i += f(e.name),
            i += "|" + f(e.code)
        },
        get_ordered_list_elems: function(e, t) {
            var i = [];
            for (var n in this.countries)
                ("all" === e || "search" === e && -1 !== this.countries[n].search.indexOf(t) || "search" !== e && !this.current_state.search && (this.current_state.show_all || this.countries[n].big) || "search" !== e && this.current_state.search && -1 !== this.countries[n].search.indexOf(this.current_state.search)) && i.push(this.countries[n]);
            return i.sort(function(e, t) {
                return e.o < t.o ? -1 : e.o > t.o ? 1 : 0
            })
        },
        show_popup: function() {
            var e = this.get_popup();
            e && e.show("body")
        },
        auto_show_popup: function() {
            xv.menus.closeAll(this.iAllMenuId),
            $(window).scrollTop(0),
            this.show_popup()
        },
        update_search: function(e) {
            var t = this.filter_inp.prop("value");
            !t || t.length < 1 ? this.current_state.search = !1 : (t = f(t),
            t.length < 1 ? this.current_state.search = !1 : (this.current_state.search = t,
            this.toggle_show_all(!1, !0))),
            e || this.update_popup()
        },
        update_popup: function() {
            this.popup && this.popup.open && (this.update_nb_cols(),
            this.needs_update() && (this.show_all_btn.html(this.current_state.show_all ? i.__("misc.see_less_countries") : i.__("misc.see_all_countries")),
            this.write_list(),
            this.reinit_needs_update()))
        },
        needs_update: function() {
            for (var e in this.current_state)
                if ("undefined" == typeof this.last_update[e] || this.last_update[e] !== this.current_state[e])
                    return !0;
            return !1
        },
        reinit_needs_update: function() {
            this.last_update = {};
            for (var e in this.current_state)
                this.last_update[e] = this.current_state[e]
        },
        update_nb_cols: function() {
            var e = parseInt(this.list_cont.width())
              , t = parseInt(this.ref_col_for_w.outerWidth());
            this.current_state.nb_cols = Math.max(Math.round(e / t), 1)
        },
        write_list: function() {
            var e = this.get_ordered_list_elems()
              , n = e.length
              , o = Math.ceil(n / this.current_state.nb_cols)
              , s = 1 === o && this.current_state.nb_cols !== n
              , a = (this.current_state.nb_cols - 1) * o >= n
              , r = (this.current_state.nb_cols - 2) * o >= n;
            if (this.list_cont.empty().toggleClass("single-not-full-line", s),
            0 === n)
                return this.list_cont.append($(t.render(l, {
                    no_result: i.__("search.no_result")
                }))),
                !1;
            count = 0;
            for (var u = 0; u < o; u++)
                for (var f = 0; f < this.current_state.nb_cols; f++) {
                    var c = u + f * o;
                    if (count++,
                    c < n) {
                        !s && a && count % this.current_state.nb_cols == 1 && (r ? this.list_cont.append(this.empty_list_elem.clone()) : this.list_cont.append(this.empty_half_list_elem.clone()));
                        var d = e[c].elem.clone();
                        "function" == typeof e[c].a_click && d.find("a").on("click", e[c].a_click),
                        this.list_cont.append(d)
                    } else
                        s || (a && count % this.current_state.nb_cols == 0 ? r || this.list_cont.append(this.empty_half_list_elem.clone()) : this.list_cont.append(this.empty_list_elem.clone()))
                }
        },
        set_simple_list_elem: function(e, t, i, n) {
            var o = this
              , s = function() {
                var s = $(o.get_simple_list_elem());
                s.prop("id", t),
                s.addClass(i),
                $(e).append(s),
                o.init_simple_list_elem_search(s),
                n()
            };
            this.toExWhenInit.push(s),
            this.init()
        },
        get_simple_list_elem: function() {
            var e = this.get_ordered_list_elems("all")
              , i = "";
            for (var n in e)
                i += t.render(r, e[n]);
            return t.render(a, {
                simple_contener: !0,
                list: i
            })
        },
        init_simple_list_elem_search: function(e) {
            if (input = $(e).find(".filter input").first(),
            clear_btn = $(e).find(".filter .clear").first(),
            ul = $(e).find("ul").first(),
            0 === input.length || 0 === clear_btn.length || 0 === ul.length)
                return !1;
            var t = this
              , i = function() {
                var e = input.prop("value");
                e !== input.data("last-update") && (input.data("last-update", e),
                t.update_simple_list_elem(ul, e))
            };
            input.on("change blur focus paste input", i),
            input.on("keydown", function(e) {
                27 === e.keyCode && (e.preventDefault(),
                e.stopPropagation()),
                i()
            }),
            input.on("keyup", function(e) {
                27 === e.keyCode && input.prop("value").length > 0 && (e.preventDefault(),
                e.stopPropagation(),
                t.filter_inp.prop("value", "")),
                i()
            }),
            clear_btn.on("click", function() {
                input.prop("value", ""),
                i()
            })
        },
        update_simple_list_elem: function(e, n) {
            if (e = $(e),
            0 === e.length)
                return !1;
            n = "string" == typeof n && f(n);
            var o = n ? this.get_ordered_list_elems("search", n) : this.get_ordered_list_elems("all");
            if (list_html = "",
            0 === o.length)
                list_html = t.render(l, {
                    no_result: i.__("search.no_result")
                });
            else
                for (var s in o)
                    list_html += t.render(r, o[s]);
            e.html($(list_html))
        },
        toggle_show_all: function(e, t) {
            this.current_state.show_all = "boolean" == typeof e ? e : !this.current_state.show_all,
            this.current_state.show_all && (this.filter_inp.prop("value", ""),
            this.update_search(!0)),
            t || this.update_popup()
        }
    },
    new c
}),
define("skins/common/main_cats/builder", ["static/utils", "config/main", "lib/i18n!front", "lib/helpers/overlay/contextual_popup"], function(e, t, i, n) {
    var o = function() {};
    return o.prototype = {
        getMainCats: function() {
            return t.dyn.main_cats
        },
        getUserMainCatId: function() {
            return t.dyn.user_main_cat
        },
        getUserMainCat: function() {
            var e = this.getMainCats();
            for (var t in e)
                if (e.hasOwnProperty(t) && e[t].is_user_cat)
                    return e[t];
            return !1
        },
        getUserOldMainCat: function() {
            var e = this.getMainCats();
            for (var t in e)
                if (e.hasOwnProperty(t) && e[t].is_old_user_cat)
                    return e[t];
            return !1
        },
        getPageMainCat: function() {
            var e = this.getMainCats();
            for (var t in e)
                if (e.hasOwnProperty(t) && e[t].is_page_cat)
                    return e[t];
            return !1
        },
        getSwitchMainCat: function() {
            var e = this.getMainCats();
            for (var t in e)
                if (e.hasOwnProperty(t) && e[t].is_switch_cat)
                    return e[t];
            return !1
        },
        main_cat_change_alert_enabled: function() {
            return "object" != typeof t.dyn.disfeats || -1 === t.dyn.disfeats.indexOf("cca")
        },
        main_cat_change_alert_toggle_feature: function(e, o) {
            var s = n.loading(i.__("form.saving_settings"), {
                delay: 500
            })
              , a = this.main_cat_change_alert_enabled()
              , r = this;
            if ("boolean" == typeof o && o === a)
                return void e();
            o = "boolean" == typeof o ? o : !a,
            !1 === o && (xv.messages.xmmDelById("x-message-main-cat-alert-back"),
            xv.messages.xmmDelById("x-message-main-cat-alert-stop")),
            $.post("/account/feature-" + (o ? "enabled" : "disabled"), {
                featureid: "cca"
            }, function(o) {
                if (s.close(),
                !o.result)
                    return void n.alert(i.__("form.error_modification_not_saved"));
                t.dyn.disfeats || (t.dyn.disfeats = []),
                r.main_cat_change_alert_enabled() ? t.dyn.disfeats.push("cca") : t.dyn.disfeats.splice(t.dyn.disfeats.indexOf("cca"), 1),
                "undefined" != typeof xv.main_cats && "undefined" != typeof xv.main_cats.switcher && "function" == typeof xv.main_cats.switcher.updateOverlayAlert && xv.main_cats.switcher.updateOverlayAlert(),
                "function" == typeof e && e()
            }, "json")
        },
        goBackToUserMainCat: function() {
            var e = this.getUserOldMainCat();
            if (!e)
                return !1;
            window.location.href = e.url
        },
        stopAlertsFromXMessages: function() {
            this.main_cat_change_alert_toggle_feature(null, !1)
        }
    },
    new o
}),
define("text!skins/common/main_cats/switcher.mustache", [], function() {
    return '<ul>\n\t{{#main_cats}}\n\t\t<li{{#is_user_cat}} class="current"{{/is_user_cat}}>\n\t\t\t<a href="{{ url }}" class="btn cat">\n\t\t\t\t<span>{{{ picto }}}</span> {{{ name }}}\n\t\t\t</a>\n\t\t</li>\n\t{{/main_cats}}\n\t{{^no_disabled_alert}}\n\t<li class="alert-toggle {{{ disabled_alert_class }}}">\n\t\t<button class="btn" type="button"><span class="icon-f icf-square unchecked"></span><span class="icon-f icf-check-square checked"></span> <span class="text">{{{ disabled_alert_text }}}</span></button>\n\t</li>\n\t{{/no_disabled_alert}}\n</ul>'
}),
define("text!skins/common/main_cats/switcher_feature_toggle.mustache", [], function() {
    return '<span class="alert-toggle {{{ disabled_alert_class }}}">\n\t<span class="icon-f icf-square unchecked"></span><span class="icon-f icf-check-square checked"></span> <span class="text">{{{ disabled_alert_text }}}</span>\n</span>'
}),
define("skins/common/main_cats/switcher", ["mustache", "config/main", "lib/helpers/popup", "lib/i18n!front", "static/cookies", "./builder", "text!skins/common/main_cats/switcher.mustache", "text!skins/common/main_cats/switcher_feature_toggle.mustache"], function(e, t, i, n, o, s, a, r) {
    var l = function() {
        this.aMainCats = [];
        var t = s.getMainCats();
        for (var i in t)
            t.hasOwnProperty(i) && this.aMainCats.push(t[i]);
        this.sCurrentUserCat = s.getUserMainCatId(),
        this.contents = [],
        this.bJustSwitched = !!o.get("main_cat_tmp_switch"),
        this.bJustSwitched && o.setLocal("main_cat_tmp_switch", !1, 100, "/");
        var a = this;
        xv.messages && "function" == typeof xv.messages.addMessageFromChat && xv.messages.addXMessageSetting(e.render(r, {
            disabled_alert_class: this.isFeatureEnabled() ? "" : "disabled-feat",
            disabled_alert_text: n.__("main_cats." + (this.isFeatureEnabled() ? "disable_cat_chang_alert" : "cat_chang_alert_disabled"))
        }), function(e) {
            !0 !== a.bXMessageAdded && (a.bXMessageAdded = !0,
            a.addContentToUpdate($(e.currentTarget))),
            a.toggleFeature()
        })
    };
    return l.prototype = {
        getSettingsCat: function() {
            return s.getSwitchMainCat(!0)
        },
        initBtnSwitchers: function(e, n) {
            n = n || {};
            var o = this;
            $(e).each(function() {
                "undefined" == typeof n.popup_class && (n.popup_class = "main-cat-switcher-popup"),
                "undefined" == typeof n.mouseout_autoclose && (n.mouseout_autoclose = 3e3),
                "undefined" == typeof n.mouseout_autoclose_openevents && (n.mouseout_autoclose_openevents = ["click", "mouseover_btn_timer"]);
                var e = new i($(this),o.getPopupContent(),n);
                e.iAllMenuId = xv.menus.addClose(function() {
                    e.close()
                }),
                e.onOpen = function() {
                    xv.menus.closeAll(e.iAllMenuId),
                    o.sCurrentUserCat !== t.dyn.user_main_cat && e.setContent(o.getPopupContent())
                }
                ,
                $(this).addClass("init-ok")
            })
        },
        goBackToUserMainCat: function() {
            s.goBackToUserMainCat()
        },
        stopAlertsFromXMessages: function() {
            s.stopAlertsFromXMessages()
        },
        addContentToUpdate: function(e) {
            this.contents.push(e)
        },
        updateOverlayAlert: function() {
            for (var e in this.contents) {
                var t = this.contents[e];
                if (!(!t.length > 0)) {
                    var i = t.find(".alert-toggle")
                      , o = i.find(".text");
                    this.isFeatureEnabled() ? (i.removeClass("disabled-feat"),
                    o.html(n.__("main_cats.disable_cat_chang_alert"))) : (i.addClass("disabled-feat"),
                    o.html(n.__("main_cats.cat_chang_alert_disabled")))
                }
            }
        },
        getPopupContent: function() {
            var i = {
                main_cats: this.aMainCats
            };
            !t.dyn.premium || t.dyn.login_info && t.dyn.login_info.is_premium ? (i.disabled_alert_class = this.isFeatureEnabled() ? "" : "disabled-feat",
            i.disabled_alert_text = n.__("main_cats." + (this.isFeatureEnabled() ? "disable_cat_chang_alert" : "cat_chang_alert_disabled"))) : i.no_disabled_alert = !0,
            $content = $(e.render(a, i));
            var s = this;
            return this.addContentToUpdate($content),
            $content.find(".cat.btn").on("click", function(e) {
                e.preventDefault(),
                o.setLocal("main_cat_tmp_switch", $.now(), 3e5, "/"),
                window.location.href = $(this).prop("href")
            }),
            $content.find(".alert-toggle .btn").on("click", function(e) {
                e.preventDefault(),
                s.toggleFeature()
            }),
            $content
        },
        hasJustSwitched: function() {
            return this.bJustSwitched
        },
        isFeatureEnabled: function() {
            return s.main_cat_change_alert_enabled()
        },
        toggleFeature: function(e, t) {
            if (!0 !== this.bToggling) {
                var i = this;
                this.bToggling = !0,
                "boolean" != typeof t && (t = null),
                s.main_cat_change_alert_toggle_feature(function() {
                    i.updateOverlayAlert(),
                    i.bToggling = !1,
                    "function" == typeof e && e()
                }, t)
            }
        }
    },
    xv.main_cats = {
        switcher: new l
    },
    xv.main_cats.switcher
}),
define("skins/common/basic_feature", ["static/utils", "config/main", "lib/i18n!front", "lib/helpers/overlay/contextual_popup"], function(e, t, i, n) {
    var o = function(e) {
        this.sKey = e,
        this.bLoadingPopupNotif = !0,
        this.bErrorPopupNotif = !0
    };
    return o.prototype = {
        isEnabled: function() {
            return "object" != typeof t.dyn.disfeats || -1 === t.dyn.disfeats.indexOf(this.sKey)
        },
        enable: function(e) {
            this.toggle(e, !0)
        },
        disable: function(e) {
            this.toggle(e, !1)
        },
        toggle: function(e, o) {
            this.bLoadingPopupNotif && (this.oLoadingPopup = n.loading(i.__("form.saving_settings"), {
                delay: 500
            }));
            var s = this.isEnabled()
              , a = this;
            if ("boolean" == typeof o && o === s)
                return void ("function" == typeof e && e(o));
            o = !s,
            $.post({
                url: "/account/feature-" + (o ? "enabled" : "disabled"),
                data: {
                    featureid: this.sKey
                },
                complete: function() {
                    a.bLoadingPopupNotif && a.oLoadingPopup && a.oLoadingPopup.close()
                },
                success: function(s) {
                    if (!s.result)
                        return void (a.bErrorPopupNotif && n.alert(i.__("form.error_modification_not_saved")));
                    t.dyn.disfeats || (t.dyn.disfeats = []),
                    a.isEnabled() ? t.dyn.disfeats.push(a.sKey) : t.dyn.disfeats.splice(t.dyn.disfeats.indexOf(a.sKey), 1),
                    "function" == typeof e && e(o)
                },
                error: function() {
                    a.bErrorPopupNotif && n.alert(i.__("form.error_modification_not_saved"))
                },
                dataType: "json"
            })
        },
        activateLoadingPopup: function(e) {
            this.bLoadingPopupNotif = !!e
        },
        activateErrorPopup: function(e) {
            this.bErrorPopupNotif = !!e
        }
    },
    o
}),
define("skins/common/design/big_ui", ["lib/i18n!front", "skins/common/basic_feature"], function(e, t) {
    var i = function() {
        this.oFeature = new t("ui")
    };
    return i.prototype = {
        isEnabled: function() {
            return this.oFeature.isEnabled()
        },
        toggle: function(e) {
            this.oFeature.toggle(function(t) {
                $("html").toggleClass("big-ui", !t),
                "function" == typeof e && e(t),
                "object" == typeof html5player && "function" == typeof html5player.redraw && html5player.redraw(),
                setTimeout(function() {
                    $(window).trigger("resize")
                }, 500)
            })
        }
    },
    new i
}),
define("text!lib/helpers/popup/language_switcher.mustache", [], function() {
    return '<ul>\n\t{{#languages}}\n\t<li><a href="{{{ url }}}"><span class="flag-small flag-{{{ country }}}"></span> {{ name }}</a></li>\n\t{{/languages}}\n</ul>'
}),
define("text!skins/default/header/theme_switcher.mustache", [], function() {
    return '<ul id="theme-switcher-list">\n\t{{#themes}}\n\t\t<li><span class="btn" data-mode="{{ mode }}">{{ name }}</span></li>\n\t{{/themes}}\n</ul>'
}),
define("skins/common/listing/settings", ["config/main", "static/cookies", "static/dom", "static/utils", "lib/helpers/popup", "lib/helpers/thumbs_rotator", "lib/helpers/overlay/box", "lib/i18n!front", "skins/default/video/watch_later", "skins/default/video/watch_later/watch_later_tracker", "skins/default/mozaique/thumb_block_viewed", "skins/common/suggests/suggests_manager", "skins/default/header/theme_switcher", "skins/common/features_test/videos_i_like", "skins/common/features_test/video_subs", "skins/common/history/page_view_history", "skins/common/geo_switch/geo_switch", "skins/common/main_cats/switcher", "skins/common/design/big_ui", "skins/common/basic_feature", "mustache", "text!lib/helpers/popup/language_switcher.mustache", "text!skins/default/header/theme_switcher.mustache"], function(e, t, i, n, o, s, a, r, l, u, f, c, d, h, p, _, g, m, b, v, D, y, w) {
    var C = function() {
        if (this.$SiteSettings = $("#site-settings"),
        this.$Container = $("#listing-settings"),
        0 !== this.$SiteSettings.length || 0 !== this.$Container.length) {
            this.oPopup = !1,
            "default" === e.sitename && (this.oThemeSwitcher = new d),
            this.buttons = [],
            this.aHighlight = !1,
            this.iHighlightInterval = 300,
            this.bDontCloseAllMenus = !1;
            for (var t in e.dyn.ls.buttons) {
                var n = e.dyn.ls.buttons[t];
                this.buttons.push(n)
            }
            this.nb_vids_btn_params = "xnxx" === e.sitename ? this.nb_vids_xnxx_btn_params.nb_vids_per_row_btn_params : this.nb_vids_default_btn_params.nb_vids_per_row_btn_params,
            this.nb_vids_btn_list = "xnxx" === e.sitename ? this.nb_vids_xnxx_btn_params.nb_vids_per_row_btn_list : this.nb_vids_default_btn_params.nb_vids_per_row_btn_list;
            var s = this;
            if (this.$SiteSettings.length > 0)
                this.oPopup = new o(this.$SiteSettings,"",{
                    popup_class: "listing-settings-popup in-header",
                    autoclose: !0,
                    mouseout_autoclose: 5e3
                }),
                this.oPopup.iAllMenuId = xv.menus.addClose(function() {
                    s.oPopup.close()
                }),
                this.oPopup.onOpen = function() {
                    s.bDontCloseAllMenus || xv.menus.closeAll(s.oPopup.iAllMenuId),
                    s.bDontCloseAllMenus = !1,
                    s.oPopup.setContent(s.get_popup_content()),
                    s.oPopup.position(),
                    s.hide_lang(),
                    s.hide_main_cat(),
                    s.hide_theme(),
                    $("body").addClass("header-site-settings-menu-opened")
                }
                ,
                this.oPopup.onClose = function() {
                    $("body").removeClass("header-site-settings-menu-opened")
                }
                ,
                this.$SiteSettings.addClass("init-ok"),
                this.$Container.length > 0 && (this.$Container.children("button,a,.btn").on("click", function(e) {
                    e.stopPropagation(),
                    s.oPopup.toggle()
                }),
                this.$Container.addClass("init-ok"));
            else if (this.$Container.length > 0) {
                var a = this.$Container.children("button,a,.btn")
                  , r = a.parents("#page");
                0 === r.length && (r = $("body")),
                this.oPopup = new o(a,"",{
                    relative_to: r,
                    trigger: "click mouseclick",
                    popup_class: "listing-settings-popup under-header",
                    autoclose: !0,
                    autoclose_on_same_level: "header_menu",
                    mouseout_autoclose: 5e3,
                    offset: {
                        below: -5,
                        above: 0,
                        left: 0,
                        right: 1
                    }
                }),
                this.oPopup.iAllMenuId = xv.menus.addClose(function() {
                    s.oPopup.close()
                }),
                this.oPopup.onOpen = function() {
                    s.bDontCloseAllMenus || xv.menus.closeAll(s.oPopup.iAllMenuId),
                    s.bDontCloseAllMenus = !1,
                    s.oPopup.setContent(s.get_popup_content()),
                    s.oPopup.position(),
                    s.hide_lang(),
                    s.hide_main_cat(),
                    s.hide_theme()
                }
                ,
                this.$Container.addClass("init-ok")
            }
            xv.settings_btn || (xv.settings_btn = {}),
            xv.settings_btn.openChatSettings = function() {
                i.isElementInView(s.$SiteSettings) || $("html,body").scrollTop(0),
                s.oPopup && setTimeout(function() {
                    s.bDontCloseAllMenus = !0,
                    s.aHighlight = ["main_cat_alert", "chat_notif"],
                    s.oPopup.close(),
                    s.oPopup.open()
                }, 50)
            }
        }
    };
    return C.prototype = {
        nb_vids_default_btn_params: {
            nb_vids_per_row_btn_list: [{
                "function": "get_nb_vids_btn",
                size: "xs"
            }, {
                "function": "get_nb_vids_btn",
                size: "sm"
            }, {
                "function": "get_nb_vids_btn",
                size: "lg"
            }, {
                "function": "get_nb_vids_btn",
                size: "xlg"
            }],
            nb_vids_per_row_btn_params: {
                xs: {
                    icf: "device-mobile",
                    "class": "mobile-only-show-list-item",
                    nbs: window.xv.thumbs.nb_by_cols.xs.nbs || [1],
                    "default": parseInt(window.xv.thumbs.nb_by_cols.xs["default"]) || 1,
                    setted: window.xv.thumbs.nb_by_cols.xs.setted || !1
                },
                sm: {
                    icf: "device-tablet",
                    "class": "mobile-show-list-item mobile-only-hide",
                    nbs: window.xv.thumbs.nb_by_cols.sm.nbs || [3],
                    "default": parseInt(window.xv.thumbs.nb_by_cols.sm["default"]) || 3,
                    setted: window.xv.thumbs.nb_by_cols.sm.setted || !1
                },
                lg: {
                    icf: "device-desktop",
                    "class": "mobile-hide device-xlg-hide",
                    nbs: window.xv.thumbs.nb_by_cols.lg.nbs || [4],
                    "default": parseInt(window.xv.thumbs.nb_by_cols.lg["default"]) || 4,
                    setted: window.xv.thumbs.nb_by_cols.lg.setted || !1
                },
                xlg: {
                    icf: "device-desktop",
                    "class": "device-xlg-show",
                    nbs: window.xv.thumbs.nb_by_cols.xlg.nbs || [5],
                    "default": parseInt(window.xv.thumbs.nb_by_cols.xlg["default"]) || 5,
                    setted: window.xv.thumbs.nb_by_cols.xlg.setted || !1
                }
            }
        },
        nb_vids_xnxx_btn_params: {
            nb_vids_per_row_btn_list: [{
                "function": "get_nb_vids_btn",
                size: "xs"
            }, {
                "function": "get_nb_vids_btn",
                size: "sm"
            }, {
                "function": "get_nb_vids_btn",
                size: "md"
            }, {
                "function": "get_smaller_vids_btn",
                size: "lg"
            }, {
                "function": "get_bigger_vids_btn",
                size: "lg"
            }],
            nb_vids_per_row_btn_params: {
                xs: {
                    icf: "device-mobile",
                    "class": "mobile-only-show",
                    nbs: window.xv.thumbs.nb_by_cols.xs.nbs || [1],
                    "default": parseInt(window.xv.thumbs.nb_by_cols.xs["default"]) || 1,
                    setted: window.xv.thumbs.nb_by_cols.xs.setted || !1
                },
                sm: {
                    icf: "device-tablet",
                    "class": "sm-col-only-show",
                    nbs: window.xv.thumbs.nb_by_cols.sm.nbs || [3],
                    "default": parseInt(window.xv.thumbs.nb_by_cols.sm["default"]) || 3,
                    setted: window.xv.thumbs.nb_by_cols.sm.setted || !1
                },
                md: {
                    icf: "device-tablet",
                    "class": "md-col-only-show",
                    nbs: window.xv.thumbs.nb_by_cols.md.nbs || [4],
                    "default": parseInt(window.xv.thumbs.nb_by_cols.md["default"]) || 4,
                    setted: window.xv.thumbs.nb_by_cols.md.setted || !1
                },
                lg: {
                    "class": "lg-col-only-show",
                    nbs: window.xv.thumbs.nb_by_cols.lg.nbs || [4],
                    "default": parseInt(window.xv.thumbs.nb_by_cols.lg["default"]) || 4,
                    setted: window.xv.thumbs.nb_by_cols.lg.setted || !1
                }
            }
        },
        get_popup_content: function() {
            var t, i = $('<div class="site-settings"></div>'), n = $("<ul>"), o = !1;
            for (var s in this.buttons) {
                var a = this.buttons[s].name
                  , r = this.aHighlight && !1 !== this.aHighlight.indexOf(a);
                switch (a) {
                case "nb_vids_per_row":
                    for (var l in this.nb_vids_btn_list)
                        n.append(this[this.nb_vids_btn_list[l]["function"]](this.nb_vids_btn_list[l].size));
                    break;
                case "video_preview":
                    n.append(this.get_pv_btn());
                    break;
                case "watch_later":
                    "default" === e.sitename && n.append(this.get_watch_later_toggle_btn());
                    break;
                case "viewed_icon":
                    "default" === e.sitename && n.append(this.get_viewed_icon_toggle_btn());
                    break;
                case "suggests":
                    "xnxx" !== e.sitename && "default" !== e.sitename || n.append(this.get_suggests_toggle_btn());
                    break;
                case "switch_theme":
                    "default" === e.sitename && (n.append(this.get_theme_toggle_btn()),
                    i.append(this.get_theme_list()));
                    break;
                case "language":
                    "xnxx" !== e.sitename && "default" !== e.sitename || (n.append(this.get_language_btn()),
                    i.append(this.get_language_list()));
                    break;
                case "history":
                    "default" === e.sitename && n.append(this.get_history_switch_btn());
                    break;
                case "version":
                    "xnxx" !== e.sitename && "default" !== e.sitename || n.append(this.get_version_switch_btn());
                    break;
                case "main_cat":
                    n.append(this.get_main_cat_switch_btn()),
                    i.append(this.get_main_cat_list());
                    break;
                case "main_cat_alert":
                    n.append(this.get_main_cat_alert_switch_btn(r));
                    break;
                case "chat_notif":
                    n.append(this.get_notifications_switch_btn(r));
                    break;
                case "auto_translate_title":
                    n.append(this.get_auto_translate_title_switch_btn());
                    break;
                case "big_ui":
                    n.append(this.get_big_ui_btn());
                    break;
                case "title_ui":
                    n.append(this.get_ui_title());
                    break;
                case "link_videos_like":
                    t = this.get_videos_like_link(),
                    t && (o || (n.append(this.get_sep(!0)),
                    o = !0),
                    n.append(t));
                    break;
                case "link_my_subs":
                    t = this.get_my_subs_link(),
                    t && (o || (n.append(this.get_sep(!0)),
                    o = !0),
                    n.append(t));
                    break;
                case "link_history":
                    t = this.get_history_link(),
                    t && (o || (n.append(this.get_sep(!0)),
                    o = !0),
                    n.append(t));
                    break;
                case "link_watch_later":
                    t = this.get_watch_later_link(),
                    t && (o || (n.append(this.get_sep(!0)),
                    o = !0),
                    n.append(t));
                    break;
                case "desktop_sep":
                    n.append(this.get_sep(!0));
                    break;
                case "sep":
                    n.append(this.get_sep())
                }
            }
            return i.prepend(n),
            this.aHighlight = !1,
            i
        },
        is_smallest_col_qtt: function(e, t) {
            return t === this.nb_vids_btn_params[e].nbs[0]
        },
        is_biggest_col_qtt: function(e, t) {
            var i = this.nb_vids_btn_params[e].nbs;
            return t === i[i.length - 1]
        },
        set_nb_vids_next_qtt: function(e, t, i, n) {
            var o, s = this.nb_vids_btn_params[e].nbs, a = !1;
            for (var r in s)
                if ($("html").hasClass("nb-thumbs-cols-" + e + "-" + s[r])) {
                    if (a = s[r],
                    t)
                        return a;
                    $("html").removeClass("nb-thumbs-cols-" + e + "-" + a)
                }
            return !a && (a = this.nb_vids_btn_params[e]["default"],
            t) ? a : (a = parseInt(a),
            o = !1 !== i ? this.is_biggest_col_qtt(e, a) ? !1 !== n ? s[0] : a : s[s.indexOf(a) + 1] : this.is_smallest_col_qtt(e, a) ? !1 !== n ? s[s.length - 1] : a : s[s.indexOf(a) - 1],
            $("html").addClass("nb-thumbs-cols-" + e + "-" + o),
            o)
        },
        save_nb_for_size: function(e, i) {
            if (t.setLocal("nb_thumbs_cols_" + e, i, 7776e7, "/"),
            "xs" !== e && "sm" !== e && "md" !== e || 0 === $("html,body").scrollTop() || this.closeSettingsPopups(),
            document.body) {
                var n;
                document.createEventObject ? (n = document.createEventObject(),
                document.body.fireEvent("settings_nb_thumbs_changed", n)) : (n = document.createEvent("HTMLEvents"),
                n.initEvent("settings_nb_thumbs_changed", !0, !0),
                document.body.dispatchEvent(n))
            }
        },
        get_smaller_vids_btn: function(e) {
            var t = this
              , i = function(e) {
                return "<span" + (t.is_biggest_col_qtt(e, t.set_nb_vids_next_qtt(e, !0)) ? ' class="disabled"' : "") + '><span class="icon-f icf-search-minus"></span> ' + r.__("listing.smaller_thumbnails") + "</span>"
            }
              , n = $('<button type="button">' + i(e) + "</button>");
            return n.on("click", function(o) {
                o.preventDefault();
                var s = t.set_nb_vids_next_qtt(e, !1, !0, !1);
                n.html(i(e)),
                t.is_smallest_col_qtt(e, s) || n.parents("ul").find(".bigger-" + e + "-col-thumbs .disabled").removeClass("disabled"),
                t.save_nb_for_size(e, s)
            }),
            $('<li class="ui smaller-' + e + "-col-thumbs " + this.nb_vids_btn_params[e]["class"] + '"></li>').append(n)
        },
        get_bigger_vids_btn: function(e) {
            var t = this
              , i = function(e) {
                return "<span" + (t.is_smallest_col_qtt(e, t.set_nb_vids_next_qtt(e, !0)) ? ' class="disabled"' : "") + '><span class="icon-f icf-search-plus"></span> ' + r.__("listing.bigger_thumbnails") + "</span>"
            }
              , n = $('<button type="button">' + i(e) + "</button>");
            return n.on("click", function(o) {
                o.preventDefault();
                var s = t.set_nb_vids_next_qtt(e, !1, !1, !1);
                n.html(i(e)),
                t.is_biggest_col_qtt(e, s) || n.parents("ul").find(".smaller-" + e + "-col-thumbs .disabled").removeClass("disabled"),
                t.save_nb_for_size(e, s)
            }),
            $('<li class="ui bigger-' + e + "-col-thumbs " + this.nb_vids_btn_params[e]["class"] + '"></li>').append(n)
        },
        get_nb_vids_btn: function(e) {
            var t = this
              , i = function(e, t) {
                return '<span class="icon-f icf-' + e + '"></span> ' + (1 === t ? r.__("listing.one_column") : 100 === t ? r.__("listing.detailed") : r.__("listing.nb_columns", {
                    "%nb%": t.toString()
                }))
            }
              , n = this.nb_vids_btn_params[e].icf
              , o = $('<button type="button">' + i(n, this.set_nb_vids_next_qtt(e, !0)) + "</button>");
            return o.on("click", function(s) {
                s.preventDefault();
                var a = t.set_nb_vids_next_qtt(e);
                o.html(i(n, a)),
                t.save_nb_for_size(e, a)
            }),
            $('<li class="ui ' + this.nb_vids_btn_params[e]["class"] + '"></li>').append(o)
        },
        get_checkbox_toggle: function(t) {
            return "default" !== e.sitename ? "" : '<span class="checkbox toggle no-label w-28"><input type="checkbox"' + (t ? ' checked="checked"' : "") + "><label></label></span>"
        },
        get_watch_later_toggle_btn: function() {
            var e = this
              , t = function(t) {
                return e.get_checkbox_toggle(t) + '<span class="icon-f icf-clock' + (t ? "" : " icf-red-crossed") + '"></span> ' + r.__("video.watch_later_btn_" + (t ? "enabled" : "disabled"), {
                    "%strong%": '<strong class="text-highlight">',
                    "%end_strong%": "</strong>"
                })
            }
              , i = $('<li class="ui"></li>')
              , n = $('<button type="button"></button>').appendTo(i)
              , o = function() {
                n.html(t(l.is_feature_enabled()))
            };
            return xv.settings_btn || (xv.settings_btn = {}),
            xv.settings_btn.update_watch_later_toggle_btn = o,
            o(),
            n.on("click", function(e) {
                e.preventDefault(),
                l.toggle_feature(function() {
                    xv.settings_btn.update_watch_later_toggle_btn()
                })
            }),
            i
        },
        get_viewed_icon_toggle_btn: function() {
            var e = this
              , t = function(t) {
                return e.get_checkbox_toggle(t) + '<span class="icon-f icf-eye' + (t ? "" : " icf-red-crossed") + '"></span> ' + r.__("video.viewed_indic_" + (t ? "enabled" : "disabled"), {
                    "%strong%": '<strong class="text-highlight">',
                    "%end_strong%": "</strong>"
                })
            }
              , i = $('<li class="ui"></li>')
              , n = $('<button type="button"></button>').appendTo(i)
              , o = function() {
                n.html(t(f.is_feature_enabled()))
            };
            return xv.settings_btn || (xv.settings_btn = {}),
            xv.settings_btn.update_viewed_icon_toggle_btn = o,
            o(),
            n.on("click", function(e) {
                e.preventDefault(),
                f.toggle_feature(function() {
                    xv.settings_btn.update_viewed_icon_toggle_btn()
                })
            }),
            i
        },
        get_theme_toggle_btn: function() {
            var e = $('<li class="ui"></li>')
              , t = $(this.oThemeSwitcher.getSettingsBtn())
              , i = this;
            return t.on("click", function() {
                i.show_theme()
            }),
            e.append(t),
            e
        },
        get_language_btn: function() {
            var t = $("<li></li>")
              , i = $('<button type="button" class="language-switch"><span class="flag-small flag-' + e.dyn.locale_flag + '"></span> ' + r.__("language") + " : <strong>" + e.dyn.locale_trsl + "</strong></button>")
              , n = this;
            return i.on("click", function() {
                n.show_lang()
            }),
            t.append(i),
            t
        },
        get_language_list: function() {
            var t = []
              , i = this;
            for (var n in e.data.other_locales)
                t.push({
                    url: "/change-language/" + n,
                    country: e.data.other_locales[n].country.toLowerCase(),
                    name: e.data.other_locales[n].translated
                });
            var o = $('<div class="language-switcher"><button type="button" class="back"><span class="icon-f icf-arrow-left"></span></button>' + D.render(y, {
                languages: t
            }) + "</div>");
            return o.find(".back").on("click", function() {
                i.hide_lang()
            }),
            o
        },
        get_theme_list: function() {
            var t = this
              , i = [{
                name: n.unescape(r.__("theme.dark")),
                mode: "black"
            }, {
                name: n.unescape(r.__("theme.light")),
                mode: "light"
            }];
            "matchMedia"in window && "undefined" != typeof e.dyn.ui && "undefined" != typeof e.dyn.ui.theme && i.push({
                name: n.unescape(r.__("theme.automatic")),
                mode: "auto"
            });
            var o = $('<div class="theme-switcher"><button type="button" class="back"><span class="icon-f icf-arrow-left"></span></button>' + D.render(w, {
                themes: i
            }) + "</div>");
            return this.oThemeSwitcher.setClassCurrent(o.find(".btn")),
            o.find(".back").on("click", function() {
                t.hide_theme()
            }),
            o
        },
        show_lang: function() {
            !1 !== this.oPopup && this.oPopup.isOpened() && this.oPopup.popup.addClass("show-lang")
        },
        hide_lang: function() {
            !1 !== this.oPopup && "undefined" != typeof this.oPopup.popup && "function" == typeof this.oPopup.popup.removeClass && this.oPopup.popup.removeClass("show-lang")
        },
        show_theme: function() {
            if (!1 !== this.oPopup && this.oPopup.isOpened()) {
                this.oPopup.popup.addClass("show-theme");
                var e = $("#theme-switcher-list").find(".btn");
                this.oThemeSwitcher.initBtn(e)
            }
        },
        hide_theme: function() {
            !1 !== this.oPopup && "undefined" != typeof this.oPopup.popup && "function" == typeof this.oPopup.popup.removeClass && this.oPopup.popup.removeClass("show-theme")
        },
        get_suggests_toggle_btn: function() {
            var e = this
              , t = $("<li></li>");
            return $('<button type="button">' + function(t) {
                return e.get_checkbox_toggle(t) + '<span class="icon-f icf-suggest-square' + (t ? "" : " icf-red-crossed") + '"></span> ' + r.__(t ? "suggest.enabled" : "suggest.disabled", {
                    "%strong%": '<strong class="text-highlight">',
                    "%end_strong%": "</strong>"
                })
            }(c.is_feature_enabled()) + "</button>").appendTo(t).on("click", function(e) {
                e.preventDefault(),
                c.toogle_feature(!c.is_feature_enabled())
            }),
            t
        },
        get_history_switch_btn: function() {
            var e = this
              , t = $("<li></li>");
            return $('<button type="button">' + function(t) {
                return e.get_checkbox_toggle(t) + '<span class="icon-f icf-history' + (t ? "" : " icf-red-crossed") + '"></span> ' + r.__(t ? "history.enabled" : "history.disabled", {
                    "%strong%": '<strong class="text-highlight">',
                    "%end_strong%": "</strong>"
                })
            }(_.isTracking()) + "</button>").appendTo(t).on("click", function(e) {
                e.preventDefault(),
                _.isTracking() ? _.stopTracking(function() {
                    $("html,body").scrollTop(0),
                    window.location.reload()
                }) : _.startTracking(function() {
                    $("html,body").scrollTop(0),
                    window.location.reload()
                })
            }),
            t
        },
        get_version_switch_btn: function() {
            var t = $("<li></li>");
            return $('<button type="button">' + function() {
                return '<span class="flag-small flag-' + e.dyn.version_flag + '"></span> ' + ("xnxx" === e.sitename ? r.__("misc.content") : r.__("country")) + " : <strong>" + e.dyn.version_trsl + "</strong>"
            }() + "</button>").appendTo(t).on("click", function(e) {
                e.preventDefault(),
                g.auto_show_popup()
            }),
            t
        },
        get_main_cat_switch_btn: function() {
            var e = $("<li></li>")
              , t = $('<button type="button">' + function() {
                var e = m.getSettingsCat();
                return e.picto + " " + r.__("categories.category") + " : <strong>" + e.name + "</strong>"
            }() + "</button>")
              , i = this;
            return t.on("click", function() {
                i.show_main_cat()
            }),
            e.append(t),
            e
        },
        get_main_cat_list: function() {
            var e = this
              , t = $('<div class="main-cat-switcher"><button type="button" class="back"><span class="icon-f icf-arrow-left"></span></button></div>');
            return t.find(".back").on("click", function() {
                e.hide_main_cat()
            }),
            t.append(m.getPopupContent()),
            t
        },
        show_main_cat: function() {
            !1 !== this.oPopup && this.oPopup.isOpened() && this.oPopup.popup.addClass("show-main-cat")
        },
        hide_main_cat: function() {
            !1 !== this.oPopup && "undefined" != typeof this.oPopup.popup && "function" == typeof this.oPopup.popup.removeClass && this.oPopup.popup.removeClass("show-main-cat")
        },
        get_notifications_switch_btn: function(e) {
            if ("function" != typeof xv.get_messages_toggle_feature)
                return $("");
            var t = this
              , i = function(e) {
                return t.get_checkbox_toggle(e) + '<span class="icon-f icf-bell' + (e ? "" : " icf-red-crossed") + '"></span> ' + r.__("chat.settings.notifications." + (e ? "enabled" : "disabled"), {
                    "%strong%": '<strong class="text-highlight">',
                    "%end_strong%": "</strong>"
                })
            }
              , n = $("<li></li>")
              , o = $('<button type="button">' + i(xv.get_messages_feature_enabled()) + "</button>").appendTo(n);
            return o.on("click", function(e) {
                e.preventDefault(),
                xv.get_messages_toggle_feature(function() {
                    o.html(i(xv.get_messages_feature_enabled()))
                })
            }),
            e && this.setBtnToHighlight(o),
            n
        },
        get_auto_translate_title_switch_btn: function() {
            var e = this
              , t = function(t) {
                return e.get_checkbox_toggle(t) + '<span class="icon-f icf-refresh' + (t ? "" : " icf-red-crossed") + '"></span> ' + r.__("video.auto_title_translation_feature." + (t ? "enabled" : "disabled"), {
                    "%strong%": '<strong class="text-highlight">',
                    "%end_strong%": "</strong>"
                })
            }
              , i = new v("at")
              , n = $("<li></li>")
              , o = $('<button type="button">' + t(i.isEnabled()) + "</button>").appendTo(n);
            return o.on("click", function(e) {
                e.preventDefault(),
                i.toggle(function() {
                    o.html(t(i.isEnabled())),
                    window.location.reload()
                })
            }),
            n
        },
        get_main_cat_alert_switch_btn: function(e) {
            var t = this
              , i = function(e) {
                return t.get_checkbox_toggle(e) + '<span class="icon-f icf-bell' + (e ? "" : " icf-red-crossed") + '"></span> ' + r.__("main_cats.cat_chang_alert." + (e ? "enabled" : "disabled"), {
                    "%strong%": '<strong class="text-highlight">',
                    "%end_strong%": "</strong>"
                })
            }
              , n = $("<li></li>")
              , o = $('<button type="button">' + i(m.isFeatureEnabled()) + "</button>").appendTo(n);
            return o.on("click", function(e) {
                e.preventDefault(),
                m.toggleFeature(function() {
                    o.html(i(m.isFeatureEnabled()))
                })
            }),
            e && this.setBtnToHighlight(o),
            n
        },
        get_big_ui_btn: function() {
            var e = this
              , t = function() {
                var t = !b.isEnabled();
                return e.get_checkbox_toggle(t) + '<span class="icon-f icf-search-plus' + (t ? "" : " icf-red-crossed") + '"></span> ' + r.__("misc.big_ui")
            }
              , i = $('<li class="ui"></li>')
              , n = $('<button type="button">' + t() + "</button>").appendTo(i);
            return n.on("click", function(e) {
                e.preventDefault(),
                b.toggle(function() {
                    n.html(t())
                })
            }),
            i
        },
        get_pv_btn: function() {
            var e = this
              , t = function(t) {
                return e.get_checkbox_toggle(t) + '<span class="icon-f icf-play-rectangle' + (t ? "" : " icf-red-crossed") + '"></span> ' + r.__(t ? "listing.disable_pv" : "listing.enable_pv", {
                    "%strong%": '<strong class="text-highlight">',
                    "%end_strong%": "</strong>"
                })
            }
              , i = new v("pv")
              , n = $("<li></li>")
              , o = $('<button type="button">' + t(i.isEnabled()) + "</button>").appendTo(n);
            return o.on("click", function(e) {
                e.preventDefault(),
                i.toggle(function() {
                    o.html(t(i.isEnabled())),
                    window.location.reload()
                })
            }),
            n
        },
        get_ui_title: function() {
            return $('<li class="title"><span class="icon-f icf-paint-brush"></span> ' + r.__("misc.ui_long") + "</li>")
        },
        get_videos_like_link: function() {
            return !!h.getIds().length && $('<li class="mobile-hide"><a class="btn page-link" href="/videos-i-like"><span class="icon-f icf-thumb-up"></span> ' + r.__("listing.videos_i_like") + "</a></li>")
        },
        get_my_subs_link: function() {
            return !!p.getIds().length && $('<li class="mobile-hide"><a class="btn page-link" href="/my-subs/videos"><span class="icon-f icf-feed"></span> ' + r.__("listing.my_subs") + "</a></li>")
        },
        get_history_link: function() {
            return !(!_.isTracking() || !_.getIds().length) && $('<li class="mobile-hide"><a class="btn page-link" href="/history"><span class="icon-f icf-history"></span> ' + r.__("history.history") + "</a></li>")
        },
        get_watch_later_link: function() {
            return !(!l.is_feature_enabled() || !u.getIds().length) && $('<li class="mobile-hide"><a class="btn page-link" href="/watch-later"><span class="icon-f icf-clock"></span> ' + r.__("video.watch_later") + "</a></li>")
        },
        get_sep: function(e) {
            return $('<li class="sep' + (e ? " mobile-hide" : "") + '"></li>')
        },
        closeSettingsPopups: function() {
            this.hide_lang(),
            this.hide_main_cat(),
            this.hide_theme(),
            !1 !== this.oPopup && this.oPopup.close()
        },
        setBtnToHighlight: function(e) {
            e.addClass("btn-highlight btn-highlighting btn-highlight-t");
            var t = !0
              , i = setInterval(function() {
                t = !t,
                t ? e.addClass("btn-highlight") : e.removeClass("btn-highlight")
            }, this.iHighlightInterval);
            setTimeout(function() {
                clearInterval(i),
                e.removeClass("btn-highlight btn-highlighting")
            }, 8 * this.iHighlightInterval),
            setTimeout(function() {
                e.removeClass("btn-highlight-t")
            }, 8 * this.iHighlightInterval + 500)
        }
    },
    new C
}),
function(e) {
    "function" == typeof define && define.amd ? define("lib/pathchange", ["jquery"], e) : e(jQuery)
}(function(e) {
    e.fn.pathchange = function(e) {
        return e ? this.bind("pathchange", e) : this.trigger("pathchange")
    }
    ;
    var t = e.pathchange = {
        options: {
            useHistory: !0,
            useHashchange: !0,
            pollingInterval: 250,
            interceptLinks: !0,
            disableHashLinks: !0
        },
        init: function(i) {
            var n;
            e.extend(t.options, i),
            t.options.useHistory && t.detectHistorySupport() && e(window).bind("popstate", function(t) {
                e(window).trigger("pathchange")
            }),
            t.options.useHashchange && (e(window).bind("hashchange", function(t) {
                e(window).trigger("pathchange")
            }),
            t.detectHashchangeSupport() || (n = window.location.hash,
            setInterval(function() {
                n !== window.location.hash && (e(window).trigger("hashchange"),
                n = window.location.hash)
            }, t.options.pollingInterval))),
            t.options.interceptLinks && e("body").delegate('a[href^="/"]', "click", function(i) {
                t.changeTo(e(this).attr("href")),
                i.preventDefault()
            }),
            t.options.disableHashLinks && e("body").delegate('a[href="#"]', "click", function(e) {
                e.preventDefault()
            })
        },
        changeTo: function(i) {
            t.options.useHistory && t.detectHistorySupport() ? (window.history.pushState(null, null, i),
            e(window).trigger("pathchange")) : (i.indexOf("#") < 0 && (i += "#"),
            window.location.href = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ":" + window.location.port : "") + i)
        },
        detectHistorySupport: function() {
            return !(!window.history || !history.pushState)
        },
        detectHashchangeSupport: function() {
            var e = "onhashchange"in window;
            return !e && window.setAttribute && (window.setAttribute("onhashchange", "return;"),
            e = "function" == typeof window.onhashchange),
            e
        }
    };
    return t
}),
define("lib/history", ["./tools", "./pathchange"], function(e) {
    var t = function() {
        this.sNoHashValue = "##NOHASH##",
        this.sPagePrefix = "page-",
        this.oHashCallbacks = {},
        this.oNotHashCallbacks = {},
        this.sSavedHash = "",
        this.iSavedPage = null,
        this.aPageInternalNav = [],
        $.pathchange && ($.pathchange.init({
            interceptLinks: !1
        }),
        $(window).on("pathchange", this, this.onPathChange))
    };
    return t.prototype = {
        getNoHashValue: function() {
            return this.sNoHashValue
        },
        registerHash: function(e, t) {
            return "function" == typeof t && (e || (e = this.getNoHashValue()),
            "undefined" == typeof this.oHashCallbacks[e] && (this.oHashCallbacks[e] = []),
            this.oHashCallbacks[e].push(t),
            !0)
        },
        registerAllHashesExcept: function(e, t) {
            return "function" == typeof t && (e || (e = this.getNoHashValue()),
            "undefined" == typeof this.oNotHashCallbacks[e] && (this.oNotHashCallbacks[e] = []),
            this.oNotHashCallbacks[e].push(t),
            !0)
        },
        setUrlHash: function(t, i, n) {
            if (this.sSavedHash !== t || this.iSavedPage !== i) {
                this.sSavedHash = "string" != typeof t ? null : t,
                this.iSavedPage = "number" != typeof i ? null : i;
                var o = null !== this.sSavedHash ? this.sSavedHash : "";
                null !== this.iSavedPage && (o += (o.length > 0 ? "," : "") + (this.sPagePrefix + this.iSavedPage)),
                n && this.aPageInternalNav.pop(),
                this.aPageInternalNav.push(o),
                e.setUrlHash(o, n)
            }
        },
        backHash: function() {
            this.aPageInternalNav.length && (this.aPageInternalNav.pop(),
            window.history.back())
        },
        getHash: function() {
            var t = e.getUrlHash()
              , i = t.indexOf("," + this.sPagePrefix);
            if (-1 === i) {
                if (-1 === t.indexOf(this.sPagePrefix, 0))
                    return t;
                i = 0
            }
            return t.substr(0, i)
        },
        getPaginHash: function() {
            var t = e.getUrlHash()
              , i = t.indexOf(this.sPagePrefix);
            if (-1 === i)
                return null;
            var n = parseInt(t.substr(i + this.sPagePrefix.length));
            return "number" == typeof n ? n : null
        },
        onPathChange: function(e) {
            var t, i, n = e.data, o = n.getHash(), s = n.getPaginHash();
            if (o || (o = n.getNoHashValue()),
            o !== n.sSavedHash || s !== n.iSavedPage) {
                if (n.aPageInternalNav.push(o),
                "undefined" != typeof n.oHashCallbacks[o] && n.oHashCallbacks[o].length)
                    for (i in n.oHashCallbacks[o])
                        "function" == typeof (t = n.oHashCallbacks[o][i]) && t(o, s);
                for (var a in n.oNotHashCallbacks)
                    if (a !== o)
                        for (i in n.oNotHashCallbacks[a])
                            "function" == typeof (t = n.oNotHashCallbacks[a][i]) && t(o, s);
                n.sSavedHash = o,
                n.iSavedPage = s
            }
        }
    },
    new t
}),
define("text!lib/helpers/dragdrop_select_and_reorder/dragdrop_selection_checkbox.mustache", [], function() {
    return '<div class="checkbox-dragdrop">\n\t<input type="checkbox" id="{{ id }}" value="{{ id }}" name="delete-pic" />\n\t<label class="checkbox-label" for="{{ id }}">o</label>\n</div>'
}),
function(e) {
    e.fn.drag = function(t, i, n) {
        var o = "string" == typeof t ? t : ""
          , s = e.isFunction(t) ? t : e.isFunction(i) ? i : null;
        return 0 !== o.indexOf("drag") && (o = "drag" + o),
        n = (t == s ? i : n) || {},
        s ? this.bind(o, n, s) : this.trigger(o)
    }
    ;
    var t = e.event
      , i = t.special
      , n = i.drag = {
        defaults: {
            which: 1,
            distance: 0,
            not: ":input",
            handle: null,
            relative: !1,
            drop: !0,
            click: !1
        },
        datakey: "dragdata",
        noBubble: !0,
        add: function(t) {
            var i = e.data(this, n.datakey)
              , o = t.data || {};
            i.related += 1,
            e.each(n.defaults, function(e, t) {
                void 0 !== o[e] && (i[e] = o[e])
            })
        },
        remove: function() {
            e.data(this, n.datakey).related -= 1
        },
        setup: function() {
            if (!e.data(this, n.datakey)) {
                var i = e.extend({
                    related: 0
                }, n.defaults);
                e.data(this, n.datakey, i),
                t.add(this, "touchstart mousedown", n.init, i),
                this.attachEvent && this.attachEvent("ondragstart", n.dontstart)
            }
        },
        teardown: function() {
            (e.data(this, n.datakey) || {}).related || (e.removeData(this, n.datakey),
            t.remove(this, "touchstart mousedown", n.init),
            n.textselect(!0),
            this.detachEvent && this.detachEvent("ondragstart", n.dontstart))
        },
        init: function(o) {
            if (!n.touched) {
                var s, a = o.data;
                if (!(0 != o.which && a.which > 0 && o.which != a.which) && !e(o.target).is(a.not) && (!a.handle || e(o.target).closest(a.handle, o.currentTarget).length) && (n.touched = "touchstart" == o.type ? this : null,
                a.propagates = 1,
                a.mousedown = this,
                a.interactions = [n.interaction(this, a)],
                a.target = o.target,
                a.pageX = o.pageX,
                a.pageY = o.pageY,
                a.dragging = null,
                s = n.hijack(o, "draginit", a),
                a.propagates))
                    return (s = n.flatten(s)) && s.length && (a.interactions = [],
                    e.each(s, function() {
                        a.interactions.push(n.interaction(this, a))
                    })),
                    a.propagates = a.interactions.length,
                    !1 !== a.drop && i.drop && i.drop.handler(o, a),
                    n.textselect(!1),
                    n.touched ? t.add(n.touched, "touchmove touchend", n.handler, a) : t.add(document, "mousemove mouseup", n.handler, a),
                    !(!n.touched || a.live) && void 0
            }
        },
        interaction: function(t, i) {
            var o = e(t)[i.relative ? "position" : "offset"]() || {
                top: 0,
                left: 0
            };
            return {
                drag: t,
                callback: new n.callback,
                droppable: [],
                offset: o
            }
        },
        handler: function(o) {
            var s = o.data;
            switch (o.type) {
            case !s.dragging && "touchmove":
                o.preventDefault();
            case !s.dragging && "mousemove":
                if (Math.pow(o.pageX - s.pageX, 2) + Math.pow(o.pageY - s.pageY, 2) < Math.pow(s.distance, 2))
                    break;
                o.target = s.target,
                n.hijack(o, "dragstart", s),
                s.propagates && (s.dragging = !0);
            case "touchmove":
                o.preventDefault();
            case "mousemove":
                if (s.dragging) {
                    if (n.hijack(o, "drag", s),
                    s.propagates) {
                        !1 !== s.drop && i.drop && i.drop.handler(o, s);
                        break
                    }
                    o.type = "mouseup"
                }
            case "touchend":
            case "mouseup":
            default:
                n.touched ? t.remove(n.touched, "touchmove touchend", n.handler) : t.remove(document, "mousemove mouseup", n.handler),
                s.dragging && (!1 !== s.drop && i.drop && i.drop.handler(o, s),
                n.hijack(o, "dragend", s)),
                n.textselect(!0),
                !1 === s.click && s.dragging && e.data(s.mousedown, "suppress.click", (new Date).getTime() + 5),
                s.dragging = n.touched = !1
            }
        },
        hijack: function(i, o, s, a, r) {
            if (s) {
                var l, u, f, c = {
                    event: i.originalEvent,
                    type: i.type
                }, d = o.indexOf("drop") ? "drag" : "drop", h = a || 0, p = isNaN(a) ? s.interactions.length : a;
                i.type = o,
                i.originalEvent = null,
                s.results = [];
                do {
                    if (u = s.interactions[h]) {
                        if ("dragend" !== o && u.cancelled)
                            continue;
                        f = n.properties(i, s, u),
                        u.results = [],
                        e(r || u[d] || s.droppable).each(function(a, r) {
                            if (f.target = r,
                            i.isPropagationStopped = function() {
                                return !1
                            }
                            ,
                            !1 === (l = r ? t.dispatch.call(r, i, f) : null) ? ("drag" == d && (u.cancelled = !0,
                            s.propagates -= 1),
                            "drop" == o && (u[d][a] = null)) : "dropinit" == o && u.droppable.push(n.element(l) || r),
                            "dragstart" == o && (u.proxy = e(n.element(l) || u.drag)[0]),
                            u.results.push(l),
                            delete i.result,
                            "dropinit" !== o)
                                return l
                        }),
                        s.results[h] = n.flatten(u.results),
                        "dropinit" == o && (u.droppable = n.flatten(u.droppable)),
                        "dragstart" != o || u.cancelled || f.update()
                    }
                } while (++h < p);
                return i.type = c.type,
                i.originalEvent = c.event,
                n.flatten(s.results)
            }
        },
        properties: function(e, t, i) {
            var o = i.callback;
            return o.drag = i.drag,
            o.proxy = i.proxy || i.drag,
            o.startX = t.pageX,
            o.startY = t.pageY,
            o.deltaX = e.pageX - t.pageX,
            o.deltaY = e.pageY - t.pageY,
            o.originalX = i.offset.left,
            o.originalY = i.offset.top,
            o.offsetX = o.originalX + o.deltaX,
            o.offsetY = o.originalY + o.deltaY,
            o.drop = n.flatten((i.drop || []).slice()),
            o.available = n.flatten((i.droppable || []).slice()),
            o
        },
        element: function(e) {
            if (e && (e.jquery || 1 == e.nodeType))
                return e
        },
        flatten: function(t) {
            return e.map(t, function(t) {
                return t && t.jquery ? e.makeArray(t) : t && t.length ? n.flatten(t) : t
            })
        },
        textselect: function(t) {
            e(document)[t ? "unbind" : "bind"]("selectstart", n.dontstart).css("MozUserSelect", t ? "" : "none"),
            document.unselectable = t ? "off" : "on"
        },
        dontstart: function() {
            return !1
        },
        callback: function() {}
    };
    n.callback.prototype = {
        update: function() {
            i.drop && this.available.length && e.each(this.available, function(e) {
                i.drop.locate(this, e)
            })
        }
    };
    var o = t.dispatch;
    t.dispatch = function(t) {
        if (!(e.data(this, "suppress." + t.type) - (new Date).getTime() > 0))
            return o.apply(this, arguments);
        e.removeData(this, "suppress." + t.type)
    }
    ;
    var s = t.fixHooks.touchstart = t.fixHooks.touchmove = t.fixHooks.touchend = t.fixHooks.touchcancel = {
        props: "clientX clientY pageX pageY screenX screenY".split(" "),
        filter: function(t, i) {
            if (i) {
                var n = i.touches && i.touches[0] || i.changedTouches && i.changedTouches[0] || null;
                n && e.each(s.props, function(e, i) {
                    t[i] = n[i]
                })
            }
            return t
        }
    };
    i.draginit = i.dragstart = i.dragend = n
}(jQuery),
function(e) {
    var t = e.event
      , i = t.special.drag
      , n = i.add
      , o = i.teardown;
    i.noBubble = !1,
    i.livekey = "livedrag",
    i.add = function(o) {
        n.apply(this, arguments);
        var s = e.data(this, i.datakey);
        !s.live && o.selector && (s.live = !0,
        t.add(this, "draginit." + i.livekey, i.delegate))
    }
    ,
    i.teardown = function() {
        o.apply(this, arguments);
        var n = e.data(this, i.datakey) || {};
        n.live && (t.remove(this, "draginit." + i.livekey, i.delegate),
        n.live = !1)
    }
    ,
    i.delegate = function(n) {
        var o, s = [], a = e.data(this, "events") || {};
        return e.each(a || [], function(a, r) {
            0 === a.indexOf("drag") && e.each(r || [], function(a, r) {
                (o = e(n.target).closest(r.selector, n.currentTarget)[0]) && (t.add(o, r.origType + "." + i.livekey, r.origHandler || r.handler, r.data),
                e.inArray(o, s) < 0 && s.push(o))
            })
        }),
        !!s.length && e(s).bind("dragend." + i.livekey, function() {
            t.remove(this, "." + i.livekey)
        })
    }
}(jQuery),
function(e) {
    e.fn.drop = function(t, i, n) {
        var o = "string" == typeof t ? t : ""
          , s = e.isFunction(t) ? t : e.isFunction(i) ? i : null;
        return 0 !== o.indexOf("drop") && (o = "drop" + o),
        n = (t == s ? i : n) || {},
        s ? this.bind(o, n, s) : this.trigger(o)
    }
    ,
    e.drop = function(t) {
        t = t || {},
        i.multi = !0 === t.multi ? 1 / 0 : !1 === t.multi ? 1 : isNaN(t.multi) ? i.multi : t.multi,
        i.delay = t.delay || i.delay,
        i.tolerance = e.isFunction(t.tolerance) ? t.tolerance : null === t.tolerance ? null : i.tolerance,
        i.mode = t.mode || i.mode || "intersect"
    }
    ;
    var t = e.event.special
      , i = e.event.special.drop = {
        multi: 1,
        delay: 20,
        mode: "overlap",
        targets: [],
        datakey: "dropdata",
        noBubble: !0,
        add: function(t) {
            e.data(this, i.datakey).related += 1
        },
        remove: function() {
            e.data(this, i.datakey).related -= 1
        },
        setup: function() {
            e.data(this, i.datakey) || (e.data(this, i.datakey, {
                related: 0,
                active: [],
                anyactive: 0,
                winner: 0,
                location: {}
            }),
            i.targets.push(this))
        },
        teardown: function() {
            if (!(e.data(this, i.datakey) || {}).related) {
                e.removeData(this, i.datakey);
                var t = this;
                i.targets = e.grep(i.targets, function(e) {
                    return e !== t
                })
            }
        },
        handler: function(n, o) {
            var s;
            if (o)
                switch (n.type) {
                case "mousedown":
                case "touchstart":
                    s = e(i.targets),
                    "string" == typeof o.drop && (s = s.filter(o.drop)),
                    s.each(function() {
                        var t = e.data(this, i.datakey);
                        t.active = [],
                        t.anyactive = 0,
                        t.winner = 0
                    }),
                    o.droppable = s,
                    t.drag.hijack(n, "dropinit", o);
                    break;
                case "mousemove":
                case "touchmove":
                    i.event = n,
                    i.timer || i.tolerate(o);
                    break;
                case "mouseup":
                case "touchend":
                    i.timer = clearTimeout(i.timer),
                    o.propagates && (t.drag.hijack(n, "drop", o),
                    t.drag.hijack(n, "dropend", o))
                }
        },
        locate: function(t, n) {
            var o = e.data(t, i.datakey)
              , s = e(t)
              , a = s.offset() || {}
              , r = s.outerHeight()
              , l = s.outerWidth()
              , u = {
                elem: t,
                width: l,
                height: r,
                top: a.top,
                left: a.left,
                right: a.left + l,
                bottom: a.top + r
            };
            return o && (o.location = u,
            o.index = n,
            o.elem = t),
            u
        },
        contains: function(e, t) {
            return (t[0] || t.left) >= e.left && (t[0] || t.right) <= e.right && (t[1] || t.top) >= e.top && (t[1] || t.bottom) <= e.bottom
        },
        modes: {
            intersect: function(e, t, i) {
                return this.contains(i, [e.pageX, e.pageY]) ? 1e9 : this.modes.overlap.apply(this, arguments)
            },
            overlap: function(e, t, i) {
                return Math.max(0, Math.min(i.bottom, t.bottom) - Math.max(i.top, t.top)) * Math.max(0, Math.min(i.right, t.right) - Math.max(i.left, t.left))
            },
            fit: function(e, t, i) {
                return this.contains(i, t) ? 1 : 0
            },
            middle: function(e, t, i) {
                return this.contains(i, [t.left + .5 * t.width, t.top + .5 * t.height]) ? 1 : 0
            }
        },
        sort: function(e, t) {
            return t.winner - e.winner || e.index - t.index
        },
        tolerate: function(n) {
            var o, s, a, r, l, u, f, c, d = 0, h = n.interactions.length, p = [i.event.pageX, i.event.pageY], _ = i.tolerance || i.modes[i.mode];
            do {
                if (c = n.interactions[d]) {
                    if (!c)
                        return;
                    c.drop = [],
                    l = [],
                    u = c.droppable.length,
                    _ && (a = i.locate(c.proxy)),
                    o = 0;
                    do {
                        if (f = c.droppable[o]) {
                            if (!(s = (r = e.data(f, i.datakey)).location))
                                continue;
                            r.winner = _ ? _.call(i, i.event, a, s) : i.contains(s, p) ? 1 : 0,
                            l.push(r)
                        }
                    } while (++o < u);
                    l.sort(i.sort),
                    o = 0;
                    do {
                        (r = l[o]) && (r.winner && c.drop.length < i.multi ? (r.active[d] || r.anyactive || (!1 !== t.drag.hijack(i.event, "dropstart", n, d, r.elem)[0] ? (r.active[d] = 1,
                        r.anyactive += 1) : r.winner = 0),
                        r.winner && c.drop.push(r.elem)) : r.active[d] && 1 == r.anyactive && (t.drag.hijack(i.event, "dropend", n, d, r.elem),
                        r.active[d] = 0,
                        r.anyactive -= 1))
                    } while (++o < u)
                }
            } while (++d < h);
            i.last && p[0] == i.last.pageX && p[1] == i.last.pageY ? delete i.timer : i.timer = setTimeout(function() {
                i.tolerate(n)
            }, i.delay),
            i.last = i.event
        }
    };
    t.dropinit = t.dropstart = t.dropend = i
}(jQuery),
function(e) {
    var t = e.event
      , i = t.special.drop
      , n = i.add
      , o = i.teardown;
    i.noBubble = !1,
    i.livekey = "livedrop",
    i.add = function(o) {
        n.apply(this, arguments);
        var s = e.data(this, i.datakey);
        !s.live && o.selector && (s.live = !0,
        t.add(this, "dropinit." + i.livekey, i.delegate))
    }
    ,
    i.teardown = function() {
        o.apply(this, arguments);
        var n = e.data(this, i.datakey) || {};
        n.live && (t.remove(this, "dropinit", i.delegate),
        n.live = !1)
    }
    ,
    i.delegate = function(n, o) {
        var s, a = [], r = e.data(this, "events") || {};
        return e.each(r || [], function(o, r) {
            0 === o.indexOf("drop") && e.each(r, function(o, r) {
                (s = e(n.currentTarget).find(r.selector)).length && s.each(function() {
                    t.add(this, r.origType + "." + i.livekey, r.origHandler || r.handler, r.data),
                    e.inArray(this, a) < 0 && a.push(this)
                })
            })
        }),
        o && t.add(o.drag, "dragend." + i.livekey, function() {
            e.each(a.concat(this), function() {
                t.remove(this, "." + i.livekey)
            })
        }),
        !!a.length && e(a)
    }
}(jQuery),
define("libs/jquery-event-dragdrop", function() {}),
define("lib/helpers/dragdrop_select_and_reorder/dragdrop_selection", ["static/utils", "mustache", "text!./dragdrop_selection_checkbox.mustache", "libs/jquery-event-dragdrop"], function(e, t, i) {
    xv.bDebugDragDropSelectZone = xv.bDebugDragDrop;
    var n = function(e) {
        this._init(e)
    };
    n.prototype = {
        _init: function(t) {
            this.$eltDrop = $(),
            this.$eltDropChild = $(),
            this.$eltDrag = t.$eltDrag,
            this.fnScroll = t.fnCallbackScroll,
            this.fnDropItem = t.fnCallbackDropItem,
            this.fnDragEnd = t.fnCallbackDragEnd,
            this.fnDragAbort = t.fnCallbackDragAbort,
            this.fnGetElemChildren = "function" == typeof t.fnGetElemChildren && t.fnGetElemChildren,
            this.$ScrollableContainer = "undefined" != typeof t.$ScrollableContainer ? $(t.$ScrollableContainer) : $(window),
            this.$Body = $("body"),
            this.$SelectZone = $('<div class="dragdrop-selection-zone"></div>'),
            this.bIsScrollableContainerWindow = this.$ScrollableContainer.is($(window)),
            this.bTouchScreen = e.isTouchScreen(),
            this.bTriggerDragDrop = !this.bTouchScreen,
            this.bTriggerInterval = !1,
            this.bIsStopped = !0,
            this.bIsDraging = !1,
            this.iCurrentScrollTop = null,
            this.iPrevScrollTop = null,
            this.iTouchScrollTop = null,
            this.iTouchDelay = 500,
            this.iTouchPosX = null,
            this.iTouchPosY = null,
            this.iTouchPosLim = 5,
            this.oTouchTimer = null,
            this.oInterval = null,
            this.iTouchTime = null,
            this.oDraggingPositions = {
                oContainer: {
                    iHeight: null,
                    iLimitBeforeScroll: 50,
                    iLimitBottom: null,
                    iLimitTop: null,
                    iScrollDiff: null,
                    iScrollDiffAbs: null,
                    iStartSupScroll: null,
                    iSupTop: null
                },
                oMouse: {
                    iStartX: null,
                    iStartY: null,
                    iX: null,
                    iY: null
                },
                oSelectZone: {
                    iHeight: null,
                    iLeft: null,
                    iTop: null,
                    iWidth: null
                },
                oWindow: {
                    iScrollTop: null
                }
            },
            this.sLastEventTouch = null,
            this.updateDropElements(t.$eltDrop)
        },
        updateDropElements: function(e) {
            if (null !== e && e !== undefined) {
                var n = this
                  , o = $()
                  , a = $()
                  , r = $()
                  , l = $();
                if (e.each(function() {
                    -1 === n.$eltDrop.index($(this)) && (o = o.add($(this)),
                    a = a.add(n.getElemChildren($(this))))
                }),
                this.$eltDrop.each(function() {
                    -1 === e.index($(this)) && (r = r.add($(this)),
                    l = l.add(n.getElemChildren($(this))))
                }),
                this.$eltDrop = this.$eltDrop.not(r).add(o),
                this.$eltDropChild = this.$eltDropChild.not(l).add(a),
                !o.length)
                    return;
                this.setEvents(o, a),
                o.each(function() {
                    if (!$(this).find(".checkbox-dragdrop").length) {
                        var e = $(t.render(i, {
                            id: "checkbox-dragdrop-" + $(this).index() + "-" + Math.floor(999 * Math.random()) + "-" + Math.floor(999 * Math.random())
                        }));
                        $(this).append(e),
                        e.on("change", n, s)
                    }
                })
            }
        },
        updateSelectZone: function() {
            var e = this.oDraggingPositions.oContainer
              , t = this.oDraggingPositions.oMouse
              , i = this.oDraggingPositions.oSelectZone
              , n = this.oDraggingPositions.oWindow;
            if (e.iLimitTop = Math.abs(t.iY - n.iScrollTop - e.iSupTop),
            e.iLimitBottom = Math.abs(t.iY - n.iScrollTop - e.iSupTop - e.iHeight),
            i.iLeft = Math.min(t.iX, t.iStartX),
            i.iWidth = Math.abs(t.iX - t.iStartX),
            this.bIsScrollableContainerWindow)
                i.iHeight = Math.abs(t.iY - t.iStartY),
                i.iTop = Math.min(t.iY, t.iStartY);
            else {
                e.iScrollDiff = this.iCurrentScrollTop - e.iStartSupScroll,
                e.iScrollDiffAbs = Math.abs(e.iScrollDiff);
                var o = t.iStartY + e.iStartSupScroll - e.iScrollDiff
                  , s = t.iY + this.iCurrentScrollTop - e.iScrollDiff;
                i.iTop = (o < s ? o : s) - e.iStartSupScroll,
                i.iHeight = Math.abs(o - s)
            }
            this.$SelectZone.css({
                top: i.iTop,
                left: i.iLeft,
                height: i.iHeight,
                width: i.iWidth
            })
        },
        setEvents: function(e, t) {
            var i = void 0 === e || void 0 === t || !e.length || !t.length;
            if (!(!this.isStopped() && i || this.isStopped() && !i)) {
                var n = this;
                i && (e = this.$eltDrop,
                this.bIsStopped = !1,
                this.iPrevScrollTop = this.$ScrollableContainer.scrollTop(),
                this.iCurrentScrollTop = this.$ScrollableContainer.scrollTop(),
                this.$ScrollableContainer.on("scroll", this, o),
                this.$eltDrag.on({
                    dragstart: function(e) {
                        if (n.bTriggerDragDrop) {
                            n.$Body.addClass("is-dragdrop-draging");
                            var t = n.oDraggingPositions.oContainer
                              , i = n.oDraggingPositions.oMouse
                              , o = n.oDraggingPositions.oWindow;
                            return t.iStartSupScroll = n.bIsScrollableContainerWindow ? 0 : n.iCurrentScrollTop,
                            i.iStartX = e.pageX,
                            i.iStartY = e.pageY,
                            i.iX = e.pageX,
                            i.iY = e.pageY,
                            o.iScrollTop = $(window).scrollTop(),
                            n.updateSelectZone(),
                            n.$SelectZone.appendTo(n.$Body)
                        }
                        return !1
                    },
                    drag: function(e, t) {
                        if (!n.bTriggerDragDrop)
                            return !1;
                        n.bIsDraging = !0;
                        var i = n.oDraggingPositions.oContainer
                          , o = n.oDraggingPositions.oMouse
                          , s = n.oDraggingPositions.oWindow;
                        i.iSupTop = n.bIsScrollableContainerWindow ? 0 : n.$ScrollableContainer.offset().top,
                        i.iHeight = n.bIsScrollableContainerWindow ? $(window).height() : n.$ScrollableContainer.innerHeight(),
                        e && "undefined" != typeof e.pageY && (o.iX = e.pageX,
                        o.iY = e.pageY),
                        t && (o.iStartX = t.startX),
                        s.iScrollTop = $(window).scrollTop(),
                        n.updateSelectZone(),
                        i.iLimitTop <= i.iLimitBeforeScroll || i.iLimitBottom <= i.iLimitBeforeScroll ? n.bTriggerInterval || (n.bTriggerInterval = !0,
                        n.oInterval = setInterval(function() {
                            n.scrollWindow(i.iLimitTop < i.iLimitBottom ? "top" : "bottom"),
                            n.$eltDrag.trigger("mousemove")
                        }, 15)) : (n.bTriggerInterval = !1,
                        clearInterval(n.oInterval))
                    },
                    dragend: function() {
                        clearInterval(n.oInterval),
                        n.$Body.removeClass("is-dragdrop-draging"),
                        n.$SelectZone.remove(),
                        n.bIsDraging = !1,
                        n.bTriggerInterval = !1,
                        n.fnDragEnd()
                    }
                })),
                e.on({
                    dropstart: function() {
                        if (!n.bTriggerDragDrop)
                            return !1;
                        $(this).addClass("is-dragdrop-active")
                    },
                    drop: function() {
                        n.fnDropItem($(this), "drop")
                    },
                    dropend: function() {
                        $(this).removeClass("is-dragdrop-active")
                    }
                }),
                $.drop({
                    multi: !0,
                    tolerance: function(e, t, i) {
                        var o = n.oDraggingPositions.oSelectZone
                          , s = n.oDraggingPositions.oContainer
                          , a = i.left
                          , r = a + i.width
                          , l = i.top - (n.bIsScrollableContainerWindow ? 0 : s.iScrollDiff)
                          , u = l + i.height
                          , f = o.iLeft
                          , c = f + o.iWidth
                          , d = o.iTop
                          , h = d + o.iHeight;
                        return r >= f && a <= c && u >= d && l <= h
                    }
                })
            }
        },
        unsetEvents: function() {
            this.isStopped() || (this.bIsStopped = !0,
            this.$ScrollableContainer.off("scroll", o),
            this.$eltDrag.off("dragstart drag dragend"),
            this.$eltDrop.off("dropstart drop dropend"))
        },
        isStopped: function() {
            return this.bIsStopped
        },
        getIsDraging: function() {
            return this.bIsDraging
        },
        scrollingWindow: function() {
            this.iPrevScrollTop = this.iCurrentScrollTop,
            this.iCurrentScrollTop = this.$ScrollableContainer.scrollTop(),
            this.fnScroll(this.iCurrentScrollTop)
        },
        scrollWindow: function(e) {
            "top" === e ? this.$ScrollableContainer.scrollTop(this.iCurrentScrollTop - 10) : this.$ScrollableContainer.scrollTop(this.iCurrentScrollTop + 10)
        },
        dropTouchstart: function(e, t) {
            if (this.bTriggerDragDrop || "start" === this.sLastEventTouch)
                return !1;
            this.bTriggerDragDrop = !0,
            this.sLastEventTouch = "start",
            this.fnDropItem(e, "touchstart"),
            t.type = "dragstart",
            this.$eltDrag.trigger(t),
            this.iTouchTime = Date.now()
        },
        dropTouchend: function(e) {
            if ("end" === this.sLastEventTouch)
                return !1;
            e.hasClass("is-dragdrop-active") && this.$eltDrag.find(".is-dragdrop-active").length && (e.removeClass("is-dragdrop-active"),
            this.fnDropItem(e, "touchend"),
            e.trigger("drop")),
            this.updateSelectZone();
            var t = this.oDraggingPositions.oSelectZone;
            t.iHeight <= this.iTouchPosLim && t.iWidth <= this.iTouchPosLim && this.fnDropItem(e, this.bTouchScreen ? "touchclick" : "click"),
            this.$eltDrag.trigger("dragend"),
            this.bTriggerDragDrop = !1,
            this.iTouchTime = null,
            this.sLastEventTouch = "end"
        },
        getElemChildren: function(e) {
            return "function" == typeof this.fnGetElemChildren ? this.fnGetElemChildren(e) : e.children()
        },
        getElemFromChild: function(e) {
            for (var t = e.parent(), i = !1; t && t.length && !t.is(this.$eltDrag) && "body" !== t.nodeName; )
                i = t,
                t = i.parent();
            return !(!(i && t && t.length) || !t.is(this.$eltDrag) && "body" === t.nodeName) && i
        }
    };
    var o = function(e) {
        e.data.scrollingWindow()
    }
      , s = function(e) {
        e.data.fnDropItem(e.data.getElemFromChild($(e.currentTarget)), "change")
    };
    return n
}),
define("lib/helpers/dragdrop_select_and_reorder/dragdrop_reorder", ["static/utils", "libs/jquery-event-dragdrop"], function(e) {
    var t = function(e) {
        this._init(e)
    };
    t.prototype = {
        _init: function(t) {
            this.$eltDrag = t.$eltDrag,
            this.$eltDrop = t.$eltDrop,
            this.fnReorder = t.fnCallbackReorder,
            this.fnReorderAbort = t.fnCallbackReorderAbort,
            this.fnScroll = t.fnCallbackScroll,
            this.fnGetElemChildren = "function" == typeof t.fnGetElemChildren && t.fnGetElemChildren,
            this.fnCustomGetElemById = "function" == typeof t.fnCustomGetElemById && t.fnCustomGetElemById,
            this.fnCustomGetIdByDomElem = "function" == typeof t.fnCustomGetIdByDomElem && t.fnCustomGetIdByDomElem,
            this.$ScrollableContainer = "undefined" != typeof t.$ScrollableContainer ? $(t.$ScrollableContainer) : $(window),
            this.$eltDropChild = this.getElemChildren(this.$eltDrop),
            this.$clone = null,
            this.$cloned = null,
            this.aItemsSelected = [],
            this.bIsScrollableContainerWindow = this.$ScrollableContainer.is($(window)),
            this.bIsStopped = !0,
            this.bSelection = null,
            this.bScrollDown = null,
            this.bTouchScreen = e.isTouchScreen(),
            this.bTriggerReorder = !1,
            this.bTriggerReorderTouch = !1,
            this.bTriggerInterval = !1,
            this.iCurrentScrollTop = null,
            this.iPrevScrollTop = null,
            this.iTouchPosLim = 5,
            this.iLimitScreen = this.bTouchScreen ? 100 : 50,
            this.iTouchDelay = 500,
            this.iCurrentDragPos = 0,
            this.iIndexDragStart = null,
            this.oTouchTimer = null,
            this.oInterval = null
        },
        updateDropElements: function(e, t) {
            if (null !== t && t !== [] && (this.bSelection = t.length > 0,
            this.aItemsSelected = this.bSelection ? t : []),
            null !== e && e !== undefined) {
                var i = this
                  , n = $()
                  , o = $()
                  , s = $()
                  , a = $();
                if (e.each(function() {
                    -1 === i.$eltDrop.index($(this)) && (n = n.add($(this)),
                    o = o.add(i.getElemChildren($(this))))
                }),
                this.$eltDrop.each(function() {
                    -1 === e.index($(this)) && (s = s.add($(this)),
                    a = a.add(i.getElemChildren($(this))))
                }),
                this.$eltDrop = this.$eltDrop.not(s).add(n),
                this.$eltDropChild = this.$eltDropChild.not(a).add(o),
                !n.length)
                    return;
                this.setEvents(n, o)
            }
        },
        setEvents: function(e, t) {
            var n = void 0 === e || void 0 === t || !e.length || !t.length;
            if (!(!this.isStopped() && n || this.isStopped() && !n)) {
                n && (e = this.$eltDrop,
                this.iPrevScrollTop = this.$ScrollableContainer.scrollTop(),
                this.iCurrentScrollTop = this.$ScrollableContainer.scrollTop(),
                this.bIsStopped = !1,
                this.$ScrollableContainer.on("scroll", this, i));
                var o = this;
                e.on({
                    dragstart: function() {
                        var e = $(this);
                        if (!(o.bSelection && !e.hasClass("is-dragdrop-selected") || o.bTouchScreen && !o.bTriggerReorderTouch))
                            if (o.bTriggerReorder = !0,
                            o.iIndexDragStart = e.index(),
                            null === o.$clone && (o.setClone(e),
                            o.$clone.addClass("hidden")),
                            o.bSelection) {
                                for (var t = 0; t < o.aItemsSelected.length; t++) {
                                    var i = o.getElemById(o.aItemsSelected[t]);
                                    i.find('input[type="checkbox"]').prop("checked", !1),
                                    e.is(i) || i.addClass("is-dragdrop-inactive dragdrop-selection")
                                }
                                $('<span class="dragdrop-nb-pics-selected">' + o.aItemsSelected.length + "</span>").appendTo(o.$clone)
                            } else
                                e.find('input[type="checkbox"]').prop("checked", !1)
                    },
                    drag: function(e, t) {
                        if (o.$clone && (o.bTriggerReorder || o.bTouchScreen && o.bTriggerReorderTouch)) {
                            var i = $(this)
                              , n = t.drop[0]
                              , s = $.data(n || {}, "drop+reorder")
                              , a = Math.round(e.pageY - (o.bIsScrollableContainerWindow ? o.iCurrentScrollTop : 0) - i.height() / 2)
                              , r = Math.round(e.pageX - i.width() / 2)
                              , l = Math.round((o.bIsScrollableContainerWindow ? o.iCurrentScrollTop : 0) + o.iLimitScreen)
                              , u = Math.round((o.bIsScrollableContainerWindow ? o.iCurrentScrollTop : 0) + o.$ScrollableContainer.height() - o.iLimitScreen);
                            o.iCurrentDragPos = e.pageY,
                            o.$clone.hasClass("hidden") && o.$clone.removeClass("hidden"),
                            o.$clone.css({
                                top: a,
                                left: r
                            }),
                            !n || n === t.current && s === t.method || (i[s](n),
                            t.current = n,
                            t.method = s,
                            t.update()),
                            o.iCurrentDragPos < l || o.iCurrentDragPos > u ? (o.iCurrentDragPos < l && (o.bScrollDown = !1),
                            o.iCurrentDragPos > u && (o.bScrollDown = !0),
                            o.bTriggerInterval || (o.bTriggerInterval = !0,
                            o.oInterval = setInterval(function() {
                                o.scrollWindow()
                            }, 15))) : (o.bTriggerInterval = !1,
                            clearInterval(o.oInterval))
                        }
                    },
                    dragend: function() {
                        if (o.oInterval && clearInterval(o.oInterval),
                        !o.$clone)
                            return void (o.bTriggerReorder = !1);
                        var e = $(this)
                          , t = o.getIdByDomElem(e);
                        o.bTriggerReorder = !1,
                        o.$clone.remove(),
                        o.$clone = null,
                        o.$cloned = null,
                        e.removeClass("is-dragdrop-inactive"),
                        o.$eltDrop.removeAttr("style"),
                        o.fnReorder(t, o.bSelection ? o.aItemsSelected : null, o.iIndexDragStart)
                    },
                    dropinit: function(e, t) {
                        return !(this == t.drag)
                    }
                }),
                $.drop({
                    multi: !1,
                    tolerance: function(e, t, i) {
                        var n = e.pageY > i.top + .8 * i.height || e.pageX > i.left + i.width / 2;
                        return i && "undefined" != typeof i.elem ? ($.data(i.elem, "drop+reorder", n ? "insertAfter" : "insertBefore"),
                        this.contains(i, [e.pageX, e.pageY])) : (console.error("%c - ERROR ON TOLERANCE - -- target", "color:#00CED1;", i),
                        !1)
                    }
                })
            }
        },
        unsetEvents: function() {
            this.isStopped() || (this.bIsStopped = !0,
            this.$ScrollableContainer.off("scroll"),
            this.$eltDrop.off("dragstart drag dragend dropinit"),
            $.drop({}))
        },
        setClone: function(e, t) {
            this.$clone = e.clone(),
            this.$cloned = e,
            this.$clone.width(e.width()).removeAttr("id data-id").addClass("clone-block is-dragdrop-moving").appendTo(e.parent()),
            t !== undefined && this.$clone.css({
                top: Math.round(t.pageY - (this.bIsScrollableContainerWindow ? this.iCurrentScrollTop : 0) - e.height() / 2),
                left: Math.round(t.pageX - e.width() / 2)
            }),
            e.addClass("is-dragdrop-inactive"),
            this.aItemsSelected.length > 0 && $('<span class="dragdrop-nb-pics-selected">' + this.aItemsSelected.length + "</span>").appendTo(this.$clone)
        },
        isStopped: function() {
            return this.bIsStopped
        },
        scrollingWindow: function() {
            this.iPrevScrollTop = this.iCurrentScrollTop,
            this.iCurrentScrollTop = this.$ScrollableContainer.scrollTop(),
            this.bScrollDown = this.iCurrentScrollTop >= this.iPrevScrollTop,
            this.fnScroll(this.iCurrentScrollTop)
        },
        scrollWindow: function() {
            this.bScrollDown ? this.$ScrollableContainer.scrollTop(this.iCurrentScrollTop + 10) : this.$ScrollableContainer.scrollTop(this.iCurrentScrollTop - 10)
        },
        dropTouchstart: function(e, t) {
            this.bTriggerReorderTouch || (this.bTriggerReorderTouch = !0,
            this.$eltDrag.addClass("is-dragdrop-reorder-touch"),
            null === this.$clone && this.setClone(e, t),
            t.type = "dragstart",
            e.trigger(t))
        },
        dropTouchend: function() {
            clearTimeout(this.oTouchTimer),
            this.bTriggerReorderTouch = !1,
            this.$eltDrag.removeClass("is-dragdrop-reorder-touch")
        },
        getElemFromChild: function(e) {
            for (var t = e.parent(), i = !1; t && t.length && !t.is(this.$eltDrag) && "body" !== t.nodeName; )
                i = t,
                t = i.parent();
            return !(!(i && t && t.length) || !t.is(this.$eltDrag) && "body" === t.nodeName) && i
        },
        getElemChildren: function(e) {
            return "function" == typeof this.fnGetElemChildren ? this.fnGetElemChildren(e) : e.children()
        },
        getElemById: function(e) {
            return e = e.toString(),
            this.fnCustomGetElemById ? this.fnCustomGetElemById(e, this.$eltDrop) : this.$eltDrop.filter('[data-id="' + e + '"]')
        },
        getIdByDomElem: function(e) {
            return this.fnCustomGetIdByDomElem ? this.fnCustomGetIdByDomElem(e) : e.data("id").toString()
        },
        hasClone: function() {
            return this.$clone && this.$clone.length
        },
        isClone: function(e) {
            return this.$clone && this.$clone.length && this.$clone.is(e)
        },
        getCloned: function() {
            return this.$cloned
        }
    };
    var i = function(e) {
        e.data.scrollingWindow()
    };
    return t
}),
define("lib/helpers/dragdrop_select_and_reorder", ["static/utils", "lib/i18n!front", "lib/helpers/overlay/contextual_popup", "lib/helpers/dragdrop_select_and_reorder/dragdrop_selection", "lib/helpers/dragdrop_select_and_reorder/dragdrop_reorder"], function(e, t, i, n, o) {
    var s = function(e) {
        this._init(e)
    };
    return s.prototype = {
        _init: function(t) {
            if (this.$Elems = $(t.element_list),
            this.$Elems.length) {
                this.updateElemsIdOrder();
                var i = this.$Container = this.$Elems.first().parent();
                if (this.$Container.children().length < this.$Elems.length && this.$Container.append(this.$Elems),
                this.$Container.children().length > this.$Elems.length) {
                    var s = $("<div></div>");
                    this.$Container.append(s.append(this.$Elems)),
                    this.$Container = s
                }
                this.$Container.addClass("container-dragdrop"),
                "undefined" == typeof t.functions && (t.functions = {}),
                this.fnInitElems = "function" == typeof t.functions.init_elems && t.functions.init_elems,
                this.fnCustomGetElemById = "function" == typeof t.functions.get_elem_by_id && t.functions.get_elem_by_id,
                this.fnCustomGetIdByDomElem = "function" == typeof t.functions.get_id_by_dom_elem && t.functions.get_id_by_dom_elem,
                this.fnGetElemChildrenForClick = "function" == typeof t.functions.get_elem_children && t.functions.get_elem_children,
                this.fnUpdateSelectedCount = "function" == typeof t.functions.update_selected_count && t.functions.update_selected_count,
                this.fnOnReorderModeMany = "function" == typeof t.functions.on_reorder_mode_many && t.functions.on_reorder_mode_many,
                this.fnOnReorderModeOneNoSelect = "function" == typeof t.functions.on_reorder_mode_one_no_select && t.functions.on_reorder_mode_one_no_select,
                this.fnOnReorderModeEnabled = "function" == typeof t.functions.on_reorder_mode_enabled && t.functions.on_reorder_mode_enabled,
                this.fnOnReorderModeDisabled = "function" == typeof t.functions.on_reorder_mode_disabled && t.functions.on_reorder_mode_disabled,
                this.fnOnScroll = "function" == typeof t.functions.on_scroll && t.functions.on_scroll,
                this.fnSaveNewOrder = "function" == typeof t.functions.save_new_order && t.functions.save_new_order,
                this.fnGetNewOrderFirstPosId = "function" == typeof t.functions.get_new_order_first_position_id && t.functions.get_new_order_first_position_id,
                this.$ScrollableContainer = "undefined" != typeof t.scrollable_container ? $(t.scrollable_container) : $(window),
                this.$CurrentBlock = null,
                this.bIsTouching = !1,
                this.bIsTouchLongPressed = !1,
                this.bTouchScreen = e.isTouchScreen(),
                this.bResetTouchEvent = !1,
                i.toggleClass("touch-dragdrop-with-scroll", this.bTouchScreen),
                this.bSelecting = !1,
                this.bSelectionOrderBlocked = !1,
                this.iIndexDragStart = null,
                this.sIdCurrent = null,
                this.iTouchDelay = 500,
                this.iTouchPosX = null,
                this.iTouchPosY = null,
                this.iTouchPosLim = 5,
                this.iResetTouchEventX = null,
                this.iResetTouchEventY = null,
                this.oLoader = null,
                this.oUpdateTimer = null,
                this.oTouchTimer = null,
                this.sEventsSetTo = null,
                this.sReorderMode = null,
                this.sTouchMode = null,
                this.tOnDropItemTimer = !1;
                var a = this
                  , r = function(e) {
                    a.callbackScroll(e)
                }
                  , l = function(e, t) {
                    a.callbackDropItem(e, t)
                }
                  , u = function() {
                    a.callbackDragEnd()
                }
                  , f = function(e, t) {
                    a.callbackAbort(e, t)
                }
                  , c = function(e, t, i) {
                    a.callbackReorder(e, t, i)
                }
                  , d = function(e) {
                    return a.getElemChildrenForClick(e)
                }
                  , h = function(e, t) {
                    return a.getElemById(e, t)
                }
                  , p = function(e) {
                    return a.getIdByDomElem(e)
                };
                this.initElems(),
                this.bTouchScreen && $("body").on("touchmove", function(e) {
                    a.iTouchPosX = e.clientX,
                    a.iTouchPosY = e.clientY
                }),
                this.aSelectedElems = [],
                this.oDragdropReorder = new o({
                    $eltDrag: this.$Container,
                    $eltDrop: this.$Elems,
                    $ScrollableContainer: this.$ScrollableContainer,
                    fnCallbackReorder: c,
                    fnCallbackScroll: r,
                    fnCallbackReorderAbort: f,
                    fnGetElemChildren: d,
                    fnCustomGetElemById: h,
                    fnCustomGetIdByDomElem: p
                }),
                this.oDragdropSelection = new n({
                    $eltDrag: this.$Container,
                    $eltDrop: this.$Elems,
                    $ScrollableContainer: this.$ScrollableContainer,
                    fnCallbackScroll: r,
                    fnCallbackDropItem: l,
                    fnCallbackDragEnd: u,
                    fnCallbackDragAbort: f,
                    fnGetElemChildren: d
                }),
                this.setSelectionEvents(!0)
            }
        },
        getContainer: function() {
            return this.$Container
        },
        getElems: function() {
            return this.$Elems
        },
        getSelectedElems: function() {
            return this.aSelectedElems
        },
        getElemById: function(e, t) {
            return e = e.toString(),
            void 0 === t && (t = this.$Elems),
            this.fnCustomGetElemById ? this.fnCustomGetElemById(e, t) : t.filter('[data-id="' + e + '"]')
        },
        getIdByDomElem: function(e) {
            return this.fnCustomGetIdByDomElem ? this.fnCustomGetIdByDomElem(e) : !!(e && e.length && e.data("id")) && e.data("id").toString()
        },
        getElemChildrenForClick: function(e) {
            return "function" == typeof this.fnGetElemChildrenForClick ? this.fnGetElemChildrenForClick(e) : e.children()
        },
        initElems: function() {
            var e = this.$Elems.filter(":not(.is-dragdrop)")
              , t = this;
            e.length && (this.fnInitElems && this.fnInitElems(e),
            e.addClass("is-dragdrop"),
            this.bTouchScreen && (e.on("contextmenu", function(e) {
                return e.preventDefault(),
                e.stopPropagation(),
                e.cancelBubble = !0,
                !1
            }),
            e.find("*").on("contextmenu", function(e) {
                return e.preventDefault(),
                e.stopPropagation(),
                e.cancelBubble = !0,
                !1
            })),
            this.getElemChildrenForClick(e).off("click").on("click", function(e) {
                t.isSelecting() && (e.preventDefault(),
                t.callbackDropItem($(this).parents(".is-dragdrop"), "click"))
            }),
            this.bTouchScreen && (e.on("touchmove", function(e) {
                return null !== t.sTouchMode ? e.preventDefault() : (t.iTouchPosX = e.clientX,
                t.iTouchPosY = e.clientY,
                t.bResetTouchEvent && (Math.abs(t.iResetTouchEventX - t.iTouchPosX) > t.iTouchPosLim || Math.abs(t.iResetTouchEventY - t.iTouchPosY) > t.iTouchPosLim) && (t.bResetTouchEvent = !1,
                t.setEventsForSelection(),
                e.type = "drag",
                $(this).trigger(e)),
                e.stopPropagation()),
                !0
            }),
            e.on("touchstart", function(e) {
                t.bIsTouchLongPressed = !1,
                t.bIsTouching = !0,
                t.oTouchTimer && (clearTimeout(t.oTouchTimer),
                t.oTouchTimer = !1),
                t.iTouchPosX = e.clientX,
                t.iTouchPosY = e.clientY;
                var i = t.iTouchPosX
                  , n = t.iTouchPosY
                  , o = $(this)
                  , s = o.hasClass("is-dragdrop-selected") ? "reorder" : "selection"
                  , a = t.sEventsSetTo !== s;
                if ("selection" === s ? t.setEventsForSelection() : t.setEventsForReorder(),
                a)
                    return t.bResetTouchEvent || (t.iResetTouchEventX = t.iTouchPosX,
                    t.iResetTouchEventY = t.iTouchPosY,
                    t.bResetTouchEvent = !0,
                    o.trigger(e)),
                    !0;
                t.oTouchTimer = setTimeout(function() {
                    t.oTouchTimer = !1,
                    Math.abs(i - t.iTouchPosX) > t.iTouchPosLim || Math.abs(n - t.iTouchPosY) > t.iTouchPosLim || (t.bIsTouchLongPressed = !0,
                    window.navigator && window.navigator.vibrate && window.navigator.vibrate(20),
                    "selection" === s ? t.oDragdropSelection.dropTouchstart(o, e) : t.oDragdropReorder.dropTouchstart(o, e),
                    t.sTouchMode = s,
                    e.type = "dragstart",
                    o.triggerHandler(e))
                }, t.iTouchDelay)
            }),
            e.on("touchend", function(e) {
                t.oTouchTimer && (clearTimeout(t.oTouchTimer),
                t.oTouchTimer = !1);
                var i = $(this);
                "selection" === t.sTouchMode ? t.oDragdropSelection.dropTouchend(i) : "reorder" === t.sTouchMode && t.oDragdropReorder.dropTouchend(),
                t.bIsTouchLongPressed = !1,
                t.bIsTouching = !1,
                t.sTouchMode = null,
                t.bResetTouchEvent = !1,
                e.type = "dragend",
                i.triggerHandler(e)
            })))
        },
        updateElementList: function() {
            if (this.$Elems = this.$Container.children(),
            this.$Elems.length && (this.oDragdropSelection.updateDropElements(this.$Elems),
            this.oDragdropReorder.updateDropElements(this.$Elems, this.aSelectedElems),
            this.initElems(),
            this.updateElemsIdOrder(),
            this.aSelectedElems.length > 0))
                for (var e in this.aSelectedElems) {
                    var t = this.getElemById(this.aSelectedElems[e]);
                    if (!t || !t.length) {
                        this.setReorderMode(null),
                        this.setEventsForSelection();
                        break
                    }
                }
        },
        updateElemsIdOrder: function() {
            this.aElemsIdOrder = [];
            var e = this;
            this.$Elems.each(function(t) {
                var i = e.getIdByDomElem($(this));
                !i && e.oDragdropReorder.isClone($(this)) && (i = e.getIdByDomElem(e.oDragdropReorder.getCloned())),
                i && (e.aElemsIdOrder[t] = i)
            })
        },
        setEventsSetTo: function(e) {
            this.sEventsSetTo = e;
            var t = $("body");
            t.removeClass("is-dragdrop-selection is-dragdrop-reorder"),
            "string" == typeof this.sEventsSetTo && t.addClass("is-dragdrop-" + this.sEventsSetTo)
        },
        setSelectionEvents: function(e) {
            "boolean" != typeof e && (e = !0),
            e ? (this.oDragdropSelection.setEvents(),
            this.setEventsSetTo("selection")) : (this.oDragdropSelection.unsetEvents(),
            "selection" === this.sEventsSetTo && this.setEventsSetTo(null))
        },
        setReorderEvents: function(e) {
            "boolean" != typeof e && (e = !0),
            e ? (this.oDragdropReorder.setEvents(),
            this.setEventsSetTo("reorder")) : (this.oDragdropReorder.unsetEvents(),
            "reorder" === this.sEventsSetTo && this.setEventsSetTo(null))
        },
        unsetAllEvents: function() {
            this.setSelectionEvents(!1),
            this.setReorderEvents(!1)
        },
        setEventsForSelection: function() {
            "selection" !== this.sEventsSetTo && (this.setReorderEvents(!1),
            this.setSelectionEvents(!0))
        },
        setEventsForReorder: function() {
            "reorder" !== this.sEventsSetTo && (this.setSelectionEvents(!1),
            this.setReorderEvents(!0))
        },
        isSelecting: function() {
            return this.bSelecting
        },
        setIsSelecting: function(e) {
            "boolean" != typeof e && (e = !0),
            this.$Container.toggleClass("is-dragdrop-selecting", e),
            this.bSelecting = e
        },
        addElemToSelection: function(e, t, i) {
            this.toggleElemToSelection(e, t, !0, i)
        },
        removeElemFromSelection: function(e, t, i) {
            this.toggleElemToSelection(e, t, !1, i)
        },
        updateSelectionOrder: function() {
            if (!(this.aSelectedElems.length < 2 || this.bSelectionOrderBlocked)) {
                for (var e = [], t = 0; t < this.aElemsIdOrder.length; t++) {
                    var i = this.aElemsIdOrder[t];
                    -1 !== this.aSelectedElems.indexOf(i) && e.push(i)
                }
                this.aSelectedElems = e
            }
        },
        toggleSelectAll: function() {
            if (this.isSelecting) {
                bAdd = this.aElemsIdOrder.length !== this.aSelectedElems.length;
                for (var e = 0; e < this.aElemsIdOrder.length; e++) {
                    var t = this.aElemsIdOrder[e];
                    this.toggleElemToSelection(t, null, bAdd)
                }
            }
        },
        emptySelection: function() {
            for (; this.aSelectedElems.length; )
                this.popLastSelectedElement();
            this.updateElementList()
        },
        popLastSelectedElement: function() {
            var e = this.aSelectedElems[this.aSelectedElems.length - 1];
            return this.removeElemFromSelection(e),
            e
        },
        toggleElemToSelection: function(e, t, i, n) {
            var o = this;
            if (t && t.length > 1)
                return void t.each(function() {
                    o.toggleElemToSelection(null, $(this), i, n)
                });
            if (!e && t && (e = this.getIdByDomElem(t)),
            e && !t && (t = this.getElemById(e)),
            !e && !t)
                return console.error("toggleElemToSelection --- no id nor dom element to refer to"),
                !1;
            var s = -1 !== this.aSelectedElems.indexOf(e)
              , a = !1;
            "boolean" != typeof i && (i = !s),
            i ? s || (this.aSelectedElems.push(e),
            t.addClass("is-dragdrop-selected").find('input[type="checkbox"]').prop("checked", !0),
            a = !0) : (t.removeClass("is-dragdrop-selected is-dragdrop-active is-dragdrop-inactive dragdrop-selection").find('input[type="checkbox"]').prop("checked", !1),
            s && (this.aSelectedElems.splice(this.aSelectedElems.indexOf(e), 1),
            a = !0)),
            null !== this.oUpdateTimer && clearTimeout(this.oUpdateTimer),
            a && !n && (this.oUpdateTimer = setTimeout(function() {
                o.oUpdateTimer = null,
                o.updateSelectionOrder(),
                "function" == typeof o.fnUpdateSelectedCount && o.fnUpdateSelectedCount("moveMany" === o.sReorderMode ? o.aSelectedElems.length : 0),
                o.updateElementList()
            }, 100))
        },
        countSelectedElems: function() {
            return this.aSelectedElems.length
        },
        getReorderMode: function() {
            return this.sReorderMode
        },
        setReorderMode: function(e) {
            this.sReorderMode !== e && (this.$Container.removeClass("is-dragdrop-reorder-moveMany is-dragdrop-reorder-moveOneNoSelect"),
            "moveMany" === e || "moveOneNoSelect" === e ? (this.sReorderMode = e,
            this.$Container.addClass("is-dragdrop-reorder-" + e),
            this.setIsSelecting(),
            "function" == typeof this.fnOnReorderModeEnabled && this.fnOnReorderModeEnabled(),
            "moveMany" === e ? "function" == typeof this.fnOnReorderModeMany && this.fnOnReorderModeMany() : ("function" == typeof this.fnOnReorderModeOneNoSelect && this.fnOnReorderModeOneNoSelect(),
            this.emptySelection(),
            this.setEventsForReorder()),
            "function" == typeof this.fnUpdateSelectedCount && this.fnUpdateSelectedCount("moveMany" === this.sReorderMode ? this.aSelectedElems.length : 0)) : (this.sReorderMode = null,
            this.setIsSelecting(!1),
            this.emptySelection(),
            this.setEventsForSelection(),
            "function" == typeof this.fnOnReorderModeDisabled && this.fnOnReorderModeDisabled(),
            "function" == typeof this.fnUpdateSelectedCount && this.fnUpdateSelectedCount(0)))
        },
        isReorderActivated: function() {
            return null !== this.sReorderMode
        },
        moveToFirstPos: function() {
            this.saveNewOrder(0)
        },
        moveToBeginPage: function() {
            if ("function" == typeof this.fnGetNewOrderFirstPosId) {
                var e = this;
                return void this.fnGetNewOrderFirstPosId(function(t) {
                    e.saveNewOrder(t, !0)
                })
            }
            this.saveNewOrder(0)
        },
        saveNewOrder: function(e, n) {
            if (null === this.oLoader && (this.oLoader = i.loading(t.__("loading.in_progress"))),
            this.setEventsForSelection(),
            -1 !== this.aSelectedElems.indexOf(e)) {
                var o = this.aElemsIdOrder.indexOf(e);
                for (e = 0,
                o; o >= 0; o--) {
                    var s = this.aElemsIdOrder[o];
                    if (s && -1 === this.aSelectedElems.indexOf(s)) {
                        e = s;
                        break
                    }
                }
            }
            if (n = !!n,
            "function" == typeof this.fnSaveNewOrder) {
                var a = this;
                this.fnSaveNewOrder(this.aSelectedElems, e, function() {
                    a.reorderMoveItems(e, n)
                })
            } else
                this.reorderMoveItems(e, n)
        },
        reorderMoveItems: function(e, t) {
            var i = this.aSelectedElems.length
              , n = this;
            if (i > 0) {
                this.sIdCurrent || (this.sIdCurrent = this.aSelectedElems[0]);
                var o, s, a = this.aSelectedElems.indexOf(this.sIdCurrent);
                if (-1 !== a && (o = this.getElemById(this.sIdCurrent),
                0 === e ? "function" == typeof this.fnGetNewOrderFirstPosId ? this.fnGetNewOrderFirstPosId(function(e) {
                    if (0 === e)
                        n.$Container.prepend(o);
                    else
                        for (var t = 0; t < i; t++)
                            o = n.getElemById(n.aSelectedElems[t]),
                            o.remove()
                }) : this.$Container.prepend(o) : t ? this.$Container.prepend(o) : (s = this.getElemById(e),
                o.insertAfter(s)),
                i > 1))
                    if (0 === a)
                        for (var r = 1; r < i; r++)
                            o = this.getElemById(this.aSelectedElems[r]),
                            s = this.getElemById(this.aSelectedElems[r - 1]),
                            o.insertAfter(s);
                    else {
                        for (var l = 0; l < a; l++)
                            o = this.getElemById(this.aSelectedElems[l]),
                            o.insertBefore(this.$CurrentBlock);
                        for (var u = a + 1; u < this.aSelectedElems.length; u++)
                            o = this.getElemById(this.aSelectedElems[u]),
                            s = this.getElemById(this.aSelectedElems[u - 1]),
                            o.insertAfter(s)
                    }
            }
            this.$Elems.filter(".is-dragdrop-inactive").removeClass("is-dragdrop-inactive dragdrop-selection"),
            this.sIdCurrent = null,
            this.updateElementList(),
            setTimeout(function() {
                n.$Elems.filter(".is-dragdrop-selected").removeClass("is-dragdrop-selected").find('input[type="checkbox"]').prop("checked", !1),
                n.aSelectedElems = [],
                n.bSelectionOrderBlocked = !1,
                "moveOneNoSelect" !== n.sReorderMode ? n.setReorderMode(null) : (n.setReorderMode(null),
                n.setReorderMode("moveOneNoSelect")),
                n.oLoader.isOpen() && (n.oLoader.close(),
                n.oLoader = null)
            }, 500)
        },
        callbackScroll: function(e) {
            "function" == typeof this.fnOnScroll && this.fnOnScroll(e)
        },
        callbackDropItem: function(e, t) {
            if ("click" === t && this.bTouchScreen && (t = "touchclick"),
            "touchstart" !== t && this.toggleElemToSelection(null, e),
            this.aSelectedElems.length > 0) {
                this.setReorderMode("moveMany");
                var i = this;
                "click" === t || "change" === t ? (i.setSelectionEvents(!1),
                this.tOnDropItemTimer && (clearTimeout(this.tOnDropItemTimer),
                this.tOnDropItemTimer = !1),
                "change" === t ? i.setReorderEvents(!0) : this.tOnDropItemTimer = setTimeout(function() {
                    i.setReorderEvents(!0)
                }, 300)) : "touchstart" === t && this.tOnDropItemTimer && (clearTimeout(this.tOnDropItemTimer),
                this.tOnDropItemTimer = !1)
            } else
                this.setReorderMode(null)
        },
        callbackDragEnd: function() {
            this.aSelectedElems.length > 0 && (this.setReorderMode("moveMany"),
            this.bTouchScreen || this.setEventsForReorder())
        },
        callbackAbort: function(e, t) {
            t.stopPropagation(),
            this.oDragdropSelection.isStopped() && (e.hasClass("is-dragdrop-selected") || (this.setEventsForSelection(),
            this.bTouchScreen && this.oDragdropSelection.dropTouchstart(this.getElemChildrenForClick(e), t))),
            this.oDragdropReorder.isStopped() && e.hasClass("is-dragdrop-selected") && (this.setEventsForReorder(),
            this.bTouchScreen && this.oDragdropReorder.dropTouchstart(this.getElemChildrenForClick(e), t))
        },
        callbackReorder: function(e, t, i) {
            this.bSelectionOrderBlocked = !0,
            this.sIdCurrent = e,
            this.iIndexDragStart = i,
            this.$CurrentBlock = this.getElemById(this.sIdCurrent),
            t && t.length || (t = [this.sIdCurrent]);
            for (var n = 0; n < t.length; n++)
                this.addElemToSelection(t[n], null, !0);
            var o, s = this.$CurrentBlock.index(), a = this;
            if (0 === s) {
                if ("function" == typeof this.fnGetNewOrderFirstPosId)
                    return void this.fnGetNewOrderFirstPosId(function(e) {
                        a.saveNewOrder(e)
                    });
                o = 0
            } else
                o = this.getIdByDomElem(this.$Elems.eq(s - (this.iIndexDragStart < s ? 0 : 1)));
            this.saveNewOrder(o)
        }
    },
    s
}),
define("skins/common/video/vote_manager", ["config/main", "lib/helpers/inline_loader", "lib/helpers/popup", "lib/i18n!front"], function(e, t, i, n) {
    var o = function(e, t, i, n, o) {
        this.good_btn = $(e),
        this.bad_btn = $(t),
        this.url_good = i,
        this.url_bad = n,
        this.data_good = o && o.data_good ? o.data_good : {},
        this.data_bad = o && o.data_bad ? o.data_bad : {},
        this.end_func = !(!o || !o.end_func) && o.end_func,
        this.success_func = !(!o || !o.success_func) && o.success_func,
        this.notlogged_func = !(!o || !o.notlogged_func) && o.notlogged_func,
        this.disable_confirm_pop = !(!o || "boolean" != typeof o.disable_confirm_pop) && o.disable_confirm_pop,
        this.pop_relative = o && o.pop_relative ? $(o.pop_relative) : $(document.body),
        this.pop_class = "video-vote-popup" + (o && o.pop_class ? " " + o.pop_class : ""),
        this.rating_good_perc = !(!o || !o.rating_good_perc) && $(o.rating_good_perc),
        this.rating_good_nbr = !(!o || !o.rating_good_nbr) && $(o.rating_good_nbr),
        this.rating_bad_perc = !(!o || !o.rating_bad_perc) && $(o.rating_bad_perc),
        this.rating_bad_nbr = !(!o || !o.rating_bad_nbr) && $(o.rating_bad_nbr),
        this.rating_total = !(!o || !o.rating_total) && $(o.rating_total),
        this.rating_total_text = !(!o || !o.rating_total_text) && $(o.rating_total_text),
        this.rating_pgs_bar = !(!o || !o.rating_pgs_bar) && $(o.rating_pgs_bar),
        this.rating_pgs_bad_bar = !(!o || !o.rating_pgs_bad_bar) && $(o.rating_pgs_bad_bar),
        this.rating_box = !(!o || !o.rating_box) && $(o.rating_box),
        this.voting = !1,
        this.init_btns()
    };
    return o.prototype = {
        get_popup: function(e, t) {
            return this.popup ? this.popup.setButton(e).setContent(t) : this.popup = new i(e,t,{
                relative_to: this.pop_relative,
                position: {
                    v: "below",
                    h: "left"
                },
                trigger: !1,
                mouseout_autoclose: 3e3,
                mouseout_autoclose_openevents: ["mouseover_btn_timer", "no_event"],
                popup_class: this.pop_class
            }),
            this.popup
        },
        init_btns: function() {
            this.init_btn(this.good_btn, this.url_good, !0, this.data_good),
            this.init_btn(this.bad_btn, this.url_bad, !1, this.data_bad)
        },
        init_btn: function(i, o, s, a) {
            var r = this;
            i.on("click", function(l) {
                if (l.preventDefault(),
                !r.voting) {
                    r.voting = !0;
                    var u = i.html();
                    r.good_btn.addClass("disabled"),
                    r.bad_btn.addClass("disabled"),
                    i.html(t.getImg()),
                    $.post({
                        url: o,
                        dataType: "json",
                        data: a,
                        success: function(e) {
                            i.html(u);
                            var t;
                            if (e.result) {
                                if (r.rating_total && r.rating_total.text(e.total),
                                r.rating_total_text && (e.vbad + e.vgood === 0 ? r.rating_total_text.text(n.__("profile.vote.no_vote")) : e.vbad + e.vgood === 1 ? r.rating_total_text.text(n.__("profile.vote.one_vote")) : r.rating_total_text.text(n.__("profile.vote.nb_votes", {
                                    "%number%": e.total
                                }))),
                                r.rating_pgs_bar && r.rating_pgs_bar.css("width", e.rating + "%"),
                                r.rating_pgs_bad_bar && r.rating_pgs_bad_bar.css("width", 100 - e.rating + "%"),
                                r.rating_box || r.rating_good_perc) {
                                    var o = e.rating.toFixed(2).split(".");
                                    1 === o.length && o.push("00"),
                                    r.rating_box && r.rating_box.html(o[0] + '<span class="mobile-hide">.' + o[1] + "</span>%"),
                                    r.rating_good_perc && r.rating_good_perc.html(o[0] + '<span class="mobile-hide">.' + o[1] + "</span>%")
                                }
                                if (r.good_btn.children(".value").text(e.vgood),
                                r.good_btn.children(".rating-inbtn").text(e.vgood_uf),
                                r.rating_good_nbr && r.rating_good_nbr.text(e.vgood_uf),
                                r.rating_bad_perc) {
                                    var a = (100 - e.rating).toFixed(2).split(".");
                                    1 === a.length && a.push("00"),
                                    r.rating_bad_perc.html(a[0] + '<span class="mobile-hide">.' + a[1] + "</span>%")
                                }
                                r.bad_btn.children(".value").text(e.vbad),
                                r.bad_btn.children(".rating-inbtn").text(e.vbad_uf),
                                r.rating_bad_nbr && r.rating_bad_nbr.text(e.vbad_uf),
                                "function" == typeof r.success_func && (t = r.success_func(s)),
                                t || (t = n.__("video.votes.thanks")),
                                t = "<strong>" + t + "</strong>"
                            } else
                                t = '<strong class="text-danger">' + e.message + "</strong>";
                            r.disable_confirm_pop || r.get_popup(i, t).open()
                        },
                        error: function() {
                            i.html(u),
                            r.get_popup(i, '<strong class="text-danger">' + n.__("error.err_please_reload") + "</strong>").open()
                        },
                        complete: function() {
                            "function" == typeof r.end_func && r.end_func(),
                            r.voting = !1,
                            r.good_btn.removeClass("disabled"),
                            r.bad_btn.removeClass("disabled")
                        }
                    }),
                    e.dyn.login_info.is_logged || "function" != typeof r.notlogged_func || r.notlogged_func(s)
                }
            })
        },
        set_success_func: function(e) {
            this.success_func = e
        },
        set_notlogged_func: function(e) {
            this.notlogged_func = e
        }
    },
    o
}),
define("text!skins/common/mozaique/thumb_block_menu/btn.mustache", [], function() {
    return '<button class="action-menu"><span class="open icon-f icf-ellipsis-v"></span><span class="close icon-f icf-close-thin"></span></button>'
}),
define("skins/common/mozaique/thumb_block_menu/one_tb_menu", ["config/main", "mustache", "lib/helpers/popup", "lib/i18n!front", "lib/helpers/inline_loader", "lib/helpers/events", "skins/common/history/page_view_history", "skins/common/suggests/suggests_manager", "skins/common/video/vote_manager", "skins/common/features_test/videos_i_like", "text!./btn.mustache"], function(e, t, i, n, o, s, a, r, l, u, f) {
    var c = function(e, n, o) {
        this.$ThumbBlock = $(e),
        this.$TbInside = this.$ThumbBlock.children(".thumb-inside").first(),
        this.sId = String(parseInt(n)),
        this.options = o || {},
        this.$Btn = $(t.render(f)),
        this.$TbInside.append(this.$Btn);
        var s = {
            mouseout_autoclose: 3e3,
            mouseout_autoclose_openevents: ["click", "mouseover_btn_timer"],
            popup_class: "tb-menu",
            autoclose_on_same_level: "thumb_block_menu"
        };
        "favlist" === this.options.type && (this.options.bBtnAlwaysVisible = !0,
        s.relative_to = this.options.favorite.getMainContainer()),
        this.popup = new i(this.$Btn,"",s),
        this.setVoteGoodEndFunc(this.options.fVoteGoodEnd),
        this.setVoteBadEndFunc(this.options.fVoteBadEnd),
        this.setUnvoteEndFunc(this.options.fUnvoteEnd),
        this.setOnOpenFunc(this.options.fOnOpen),
        this.setOnCloseFunc(this.options.fOnClose);
        var a = this;
        return this.popup.onOpen = function() {
            a.set_content(),
            a.$ThumbBlock.addClass("menu-opened"),
            a.fOnOpen && a.fOnOpen()
        }
        ,
        this.popup.onClose = function() {
            a.$ThumbBlock.removeClass("menu-opened"),
            a.options.bBtnAlwaysVisible || a.start_hide_timer(),
            a.fOnClose && a.fOnClose()
        }
        ,
        this.$TbInside.length > 0 && (this.trigger_event,
        this.trigger_out_event,
        this.start_timer,
        this.hide_timer,
        this.last_start,
        this.touch_timer,
        this.iTmpLocked = !1,
        this.options.bBtnAlwaysVisible ? $(this.$Btn).stop().show().css("opacity", 1) : this.$TbInside.on(this.ON_EVENT, function(e) {
            if ("touchstart" === e.type)
                return void (a.touch_timer || (a.touch_timer = setTimeout(function() {
                    a.touch_timer = null,
                    a.show("touchstart")
                }, 200)));
            a.show(e.type)
        }).on("touchend", function() {
            a.touch_timer && clearTimeout(a.touch_timer)
        }).on("mouseleave", function(e) {
            a.hide(e.type)
        })),
        this.$ThumbBlock.addClass("tbm-init-ok"),
        this
    };
    return c.prototype = {
        ON_EVENT: /iPad|iPhone|iPod/.test(navigator.userAgent) || /Mac OS X/.test(navigator.userAgent) && navigator.maxTouchPoints > 2 ? "swipe touchmove" : "swipe touchstart mouseenter",
        show: function(e) {
            if (!0 === this.bDisabled || s.isScrolling() || 0 === this.options.aEntries.length)
                return !1;
            if ("mouseenter" === e && "mouseleave" === this.trigger_out_event && (this.trigger_out_event = !1),
            "mouseleave" !== this.trigger_out_event) {
                if ("mouseenter" === e && this.iTmpLocked) {
                    if (!((new Date).getTime() - this.iTmpLocked > 200))
                        return;
                    this.iTmpLocked = !1
                }
                this.start_timer && (window.clearTimeout(this.start_timer),
                this.start_timer = null);
                var t = (new Date).getTime();
                if (this.last_start > 0 && t - this.last_start < 300) {
                    this.last_start = t;
                    var i = this;
                    return void (this.start_timer = window.setTimeout(function() {
                        i.show(e)
                    }, 300))
                }
                this.last_start = t,
                this.trigger_event = e,
                this.hide(!0),
                this.start_hide_timer(),
                $(this.$Btn).stop().show().css("opacity", 1),
                this.$ThumbBlock.addClass("show-tb-menu")
            }
        },
        hide: function(e, t) {
            if (!0 === this.bDisabled)
                return !1;
            this.stop_hide_timer(),
            !0 !== e && "swipe" === this.trigger_event || (t && (this.iTmpLocked = (new Date).getTime()),
            this.trigger_out_event = e,
            this.popup.isOpened() || $(this.$Btn).hide(),
            this.$ThumbBlock.removeClass("show-tb-menu"))
        },
        getBtn: function() {
            return this.$Btn
        },
        getId: function() {
            return this.sId
        },
        reinitButton: function() {
            return this.popup.initButton()
        },
        disable: function() {
            this.$Btn.length > 0 && (this.$Btn.remove(),
            this.bDisabled = !0)
        },
        close_popup: function() {
            this.popup.close()
        },
        start_hide_timer: function() {
            if (!0 === this.bDisabled)
                return !1;
            this.stop_hide_timer();
            var e = this;
            this.hide_timer = window.setTimeout(function() {
                e.popup.isOpened() || $(e.$Btn).fadeOut(1500, function() {
                    e.hide(!0)
                })
            }, 2e3)
        },
        stop_hide_timer: function() {
            if (!0 === this.bDisabled)
                return !1;
            $(this.$Btn).stop().show().css("opacity", 1),
            this.hide_timer && (window.clearTimeout(this.hide_timer),
            this.hide_timer = null)
        },
        set_content: function() {
            "video" === this.options.type && this.set_content_video()
        },
        reset_content: function() {
            if (!0 === this.bDisabled)
                return !1;
            this.$Content = !1
        },
        get_profile: function() {
            return e.dyn.login_info.is_logged && e.dyn.login_info.profile ? e.dyn.login_info.profile : "unlogged"
        },
        set_content_video: function() {
            if (!0 === this.bDisabled)
                return !1;
            if (!this.$Content) {
                this.popup.setContent(o.getIcf());
                var e = this;
                setTimeout(function() {
                    $.post({
                        url: "/profiles/" + e.get_profile() + "/followers/checkvideo/" + e.sId,
                        dataType: "json",
                        success: function(t) {
                            if (t.result) {
                                if (!t.found)
                                    return void e.popup.setContent($("<p>" + n.__("loading.error") + "</p>"));
                                e.sVote = !!t.vote && t.vote,
                                e.sUrlVoteGood = !!t.vote_good && t.vote_good,
                                e.sUrlVoteBad = !!t.vote_bad && t.vote_bad,
                                e.uploader_id = !!t.id_user && t.id_user,
                                e.uploader_profile = !!t.profile && t.profile,
                                e.is_owner = t.is_owner ? t.is_owner : null,
                                e.is_follower = t.is_follower ? t.is_follower : null,
                                e.sub_csrf = t.csrf ? t.csrf : null,
                                e.rejected = t.rejected ? t.rejected : null,
                                e.reject_csrf = t.reject_csrf ? t.reject_csrf : null,
                                e.$Content = $("<ul></ul>");
                                for (var i = 0; i < e.options.aEntries.length; i++) {
                                    var o = e.options.aEntries[i];
                                    "function" == typeof e[o] && e[o](e)
                                }
                                e.popup.setContent(e.$Content)
                            } else
                                e.popup.setContent($("<p>" + n.__("error.err_please_reload") + "</p>"))
                        },
                        error: function() {
                            e.popup.setContent($("<p>" + n.__("error.err_please_reload") + "</p>")),
                            e.$Content = $("<ul></ul>");
                            for (var t = 0; t < e.options.aEntries.length; t++) {
                                var i = e.options.aEntries[t];
                                "function" == typeof e[i] && e[i](e)
                            }
                            e.popup.setContent(e.$Content)
                        }
                    })
                }, 10)
            }
        },
        setEntries: function(e) {
            if (!0 === this.bDisabled)
                return !1;
            this.options.aEntries = e,
            this.reset_content()
        },
        setOnOpenFunc: function(e) {
            this.fOnOpen = "function" == typeof e && e
        },
        setOnCloseFunc: function(e) {
            this.fOnClose = "function" == typeof e && e
        },
        getVote: function() {
            return this.sVote
        },
        setVote: function(e) {
            "GOOD" !== e && "BAD" !== e && (e = !1),
            this.sVote = e,
            "GOOD" === this.sVote ? (this.$ThumbBlock.addClass("voted-good").removeClass("voted-bad voted-null"),
            this.$Content && (this.$Content.find(".vote-actions .vote-action-good").addClass("active"),
            this.$Content.find(".vote-actions .vote-action-bad").removeClass("active")),
            this.fVoteGoodEnd && this.fVoteGoodEnd()) : "BAD" === this.sVote ? (this.$ThumbBlock.addClass("voted-bad").removeClass("voted-good voted-null"),
            this.$Content && (this.$Content.find(".vote-actions .vote-action-bad").addClass("active"),
            this.$Content.find(".vote-actions .vote-action-good").removeClass("active")),
            this.fVoteBadEnd && this.fVoteBadEnd()) : (this.$ThumbBlock.addClass("voted-null").removeClass("voted-bad voted-good"),
            this.$Content && (this.$Content.find(".vote-actions .vote-action-bad").removeClass("active"),
            this.$Content.find(".vote-actions .vote-action-good").removeClass("active")),
            this.fUnvoteEnd && this.fUnvoteEnd())
        },
        setVoteGoodEndFunc: function(e) {
            this.fVoteGoodEnd = "function" == typeof e && e
        },
        setVoteBadEndFunc: function(e) {
            this.fVoteBadEnd = "function" == typeof e && e
        },
        setUnvoteEndFunc: function(e) {
            this.fUnvoteEnd = "function" == typeof e && e
        },
        add_content_v_vote_actions: function() {
            if (this.sUrlVoteGood && this.sUrlVoteBad && !this.is_owner) {
                var t = $("<li class='vote-actions'></li>")
                  , i = this.sVote || !1;
                if (!i && !e.dyn.login_info.is_logged && u.isTracking()) {
                    var n = u.getIds();
                    n && -1 !== n.indexOf(parseInt(this.sId)) && (i = "GOOD")
                }
                var o = $("<a class='btn btn-default vote-action-good" + ("GOOD" === i ? " active" : "") + "'><span class='icon-f icf-thumb-up'></span></a>");
                t.append(o);
                var s = $("<a class='btn btn-default vote-action-bad" + ("BAD" === i ? " active" : "") + "'><span class='icon-f icf-thumb-down'></span></a>");
                t.append(s);
                var a = this;
                new l(o,s,this.sUrlVoteGood,this.sUrlVoteBad,{
                    pop_class: "no-arrow",
                    disable_confirm_pop: !0,
                    end_func: function() {
                        a.popup.close()
                    },
                    success_func: function(e) {
                        return a.setVote(e ? "GOOD" : "BAD"),
                        ""
                    },
                    notlogged_func: function(e) {
                        e ? u.addVideo(a.sId) : u.removeVideo(a.sId),
                        a.setVote(e ? "GOOD" : "BAD")
                    }
                }),
                this.$Content.append(t)
            }
        },
        add_content_v_suggested_video: function() {
            var e, t, i = this;
            this.options.origin_v_id && (e = $("<li></li>"),
            t = $("<a><span class='icon-f icf-trash'></span>" + n.__("suggest.remove_video") + "</a>"),
            t.on("click", function() {
                r.remove_vid_from_suggest(i.options.origin_v_id, function() {
                    $("#video_" + i.sId).fadeOut(400, function() {
                        $(this).remove()
                    })
                }),
                i.popup.close()
            }),
            e.append(t),
            this.$Content.append(e)),
            e = $("<li></li>"),
            r.is_feature_enabled() ? (t = $("<a><span class='icon-f icf-ban'></span>" + n.__("suggest.disable") + "</a>"),
            t.on("click", function() {
                r.toogle_feature(!1)
            })) : (t = $("<a><span class='icon-f icf-suggest-square'></span>" + n.__("suggest.enable") + "</a>"),
            t.on("click", function() {
                r.toogle_feature(!0)
            })),
            e.append(t),
            this.$Content.append(e)
        },
        add_content_v_toggle_history: function() {
            if (a.canTrack()) {
                var e, t;
                a.isTracking() ? (e = $("<li class='disable-history'></li>"),
                t = $("<a><span class='icon-f icf-ban'></span>" + n.__("history.disable" + (r.is_feature_enabled() ? "_and_suggests" : "")) + "</a>"),
                t.on("click", function() {
                    a.stopTracking(function() {
                        $("html,body").scrollTop(0),
                        window.location.reload()
                    })
                })) : (e = $("<li class='enable-history'></li>"),
                t = $("<a><span class='icon-f icf-history'></span>" + n.__("history.enable") + "</a>"),
                t.on("click", function() {
                    a.startTracking(function() {
                        $("html,body").scrollTop(0),
                        window.location.reload()
                    })
                })),
                e.append(t),
                this.$Content.append(e)
            }
        },
        add_content_v_not_interested: function() {
            var t, i, o = this;
            t = $("<li></li>"),
            i = $("<a><span class='icon-f icf-ban'></span>" + n.__("misc.not_interested") + "</a>"),
            i.on("click", function() {
                o.popup.close(),
                o.$ThumbBlock.fadeOut(function() {
                    o.$ThumbBlock.remove()
                });
                var t = e.dyn.login_info.is_logged && e.dyn.login_info.profile ? e.dyn.login_info.profile : "unlogged";
                $.post({
                    url: "/profiles/" + t + "/video/reject/" + o.sId,
                    data: {
                        csrf: o.reject_csrf
                    }
                })
            }),
            t.append(i),
            this.$Content.append(t)
        },
        add_content_v_report_btn: function() {
            if (e.dyn.login_info.is_logged) {
                var t, i;
                t = $("<li></li>"),
                i = $("<a href='/account/support' target='_blank'><span class='icon-f icf-flag'></span>" + n.__("misc.report_issue") + "</a>"),
                t.append(i),
                this.$Content.append(t)
            }
        }
    },
    c
}),
define("skins/common/mozaique/thumb_block_menu", ["config/main", "mustache", "lib/i18n!front", "lib/helpers/inline_loader", "lib/helpers/events", "./thumb_block_menu/one_tb_menu"], function(e, t, i, n, o, s) {
    var a = function() {
        this.oEntries = {
            vote_actions: "add_content_v_vote_actions",
            suggested_video: "add_content_v_suggested_video",
            toggle_history: "add_content_v_toggle_history",
            not_interested: "add_content_v_not_interested",
            report: "add_content_v_report_btn"
        },
        this.aEntriesOrder = []
    };
    return a.prototype = {
        init_listing: function(e, t) {
            if (!0 === this.bDisabled)
                return !1;
            t || (t = {}),
            this.aInitiated || (this.aInitiated = []);
            var i = "favlist" === t.type ? "favlist-elem" : "thumb-block"
              , n = $("." + i, e);
            if (0 !== n.length || (e.length > 0 && e.each(function() {
                $(this).hasClass(i) && (n = n.add($(this)))
            }),
            0 !== n.length)) {
                var o = this
                  , a = [];
                return n.each(function() {
                    var e = $(this)
                      , i = e.prop("id")
                      , n = e.hasClass("tbm-init-ok") || e.hasClass("thumb-ad")
                      , r = !1
                      , l = {};
                    if (!l.type && i && ("video_" === i.substr(0, 6) && i === "video_" + String(parseInt(i.substr(6))) ? l.type = "video" : "favlist_" === i.substr(0, 8) && i === "favlist_" + String(parseInt(i.substr(8))) && (l.type = "favlist")),
                    !n) {
                        if (l.aEntries = o.getOrderedEntries(),
                        "video" === l.type) {
                            r = String(parseInt(i.substr(6)));
                            var u = e.data("origin-video-id");
                            u && (l.origin_v_id = u)
                        } else
                            "favlist" === t.type && (l.favorite = t.favorite,
                            r = t.favorite.sId);
                        if (r) {
                            var f = new s(e,r,l);
                            o.aInitiated.push(f),
                            a.push(f)
                        }
                    }
                }),
                a
            }
        },
        getById: function(e) {
            if (!this.aInitiated || !this.aInitiated.length)
                return !1;
            for (var t = 0; t < this.aInitiated.length; t++)
                if (oTBMenu = this.aInitiated[t],
                oTBMenu.getId() === e)
                    return oTBMenu;
            return !1
        },
        setEntry: function(e, t) {
            this.oEntries[e] = t
        },
        getOrderedEntries: function() {
            for (var e = [], t = 0; t < this.aEntriesOrder.length; t++) {
                var i = this.aEntriesOrder[t];
                "string" == typeof this.oEntries[i] && e.push(this.oEntries[i])
            }
            return e
        },
        orderEntries: function(e) {
            this.aEntriesOrder = e
        },
        addEntryToDefaultOrder: function(e) {
            if (-1 !== this.aEntriesOrder.indexOf(e))
                return !1;
            this.aEntriesOrder.push(e),
            this.update_initiated_contents()
        },
        update_initiated_contents: function() {
            if (this.aInitiated) {
                var e = this.getOrderedEntries();
                for (var t in this.aInitiated)
                    this.aInitiated[t].setEntries(e)
            }
        },
        reset_initiated_contents: function() {
            if (this.aInitiated)
                for (var e in this.aInitiated)
                    this.aInitiated[e].reset_content()
        },
        disableSubscribeTooltip: function(e) {
            this.bAllSubscribeTooltipDisabled = "boolean" != typeof e || e
        },
        addSubscribeEndFunction: function(e) {
            "undefined" == typeof this.aSubscribeEndFunctions && (this.aSubscribeEndFunctions = []),
            this.aSubscribeEndFunctions.push(e)
        },
        executeSubscribeEndFunctions: function(e, t) {
            if ("undefined" != typeof this.aSubscribeEndFunctions)
                for (var i in this.aSubscribeEndFunctions) {
                    var n = this.aSubscribeEndFunctions[i];
                    "function" == typeof n && n(e, t)
                }
        },
        disableAll: function() {
            this.bDisabled = !0;
            for (var e in this.aInitiated) {
                var t = this.aInitiated[e];
                t && "function" == typeof t.disable && t.disable()
            }
        }
    },
    a
}),
define("skins/common/video/copy_link", ["lib/helpers/popup", "lib/i18n!front"], function(e, t) {
    var i = function(e, i) {
        this.container = $(e),
        this.inp = this.container.find("input"),
        this.btn = this.container.find(".copy-btn"),
        this.manager = i;
        var n = this;
        this.btn.on("click", function(e) {
            e.preventDefault(),
            n.inp.focus().select(),
            document.execCommand("copy"),
            n.manager.open_tooltip(n.inp, t.__("misc.text_copied"))
        }).addClass("init-ok")
    }
      , n = function(e) {
        0 === $(e).length && (e = "body"),
        e = $(e);
        var t = this;
        e.find(".copy-link").each(function() {
            t.is_initiated($(this)) || t.copy_links.push(new i($(this),t))
        })
    };
    return i.prototype = {
        container: !1,
        btn: !1,
        inp: !1,
        manager: !1
    },
    n.prototype = {
        tooltip: null,
        copy_links: [],
        is_initiated: function(e) {
            for (var t in this.copy_links)
                if (this.copy_links[t].container.is(e))
                    return !0;
            return !1
        },
        open_tooltip: function(t, i) {
            null === this.tooltip ? this.tooltip = new e(t,"",{
                trigger: !1,
                position: {
                    v: "above",
                    h: "left"
                },
                popup_class: "link-copied-popup",
                autoclose: 2e3
            }) : this.tooltip.setButton(t),
            this.tooltip.open(),
            this.tooltip.setContent($("<p>" + i + "</p>"))
        }
    },
    n
}),
define("text!skins/common/video/share.mustache", [], function() {
    return '<ul class="share-toolbox">\n\t{{#share}}\n\t\t<li>\n\t\t\t<a class="{{{ class }}}" href="{{{ href }}}" title="{{{ tool }}}"{{#target_blank}} target="_blank"{{/target_blank}}><span class="icon-f icf-{{{ icf }}}"></span></a>\n\t\t</li>\n\t{{/share}}\n</ul>'
}),
define("skins/common/video/share", ["mustache", "static/utils", "lib/i18n!front", "skins/common/video/copy_link", "text!skins/common/video/share.mustache"], function(e, t, i, n, o) {
    var s = function() {};
    return s.prototype = {
        getShareElem: function(s, a, r) {
            "string" != typeof r && (r = "default"),
            s = t.escape(s, !0);
            var l = "undefined" != typeof window.navigator && "function" == typeof window.navigator.share;
            -1 !== s.indexOf("#") && (s = s.split("#"),
            s = s[0]);
            var u = encodeURI(s)
              , f = encodeURI(t.escape(a, !0))
              , c = [{
                tool: "Twitter",
                href: "http://twitter.com/share?text=" + f + " - " + u,
                icf: "twitter",
                "class": "twitter",
                target_blank: !0
            }, {
                tool: "Reddit",
                href: "http://www.reddit.com/submit?url=" + u + "&title=" + f,
                icf: "reddit icf-white-fill",
                "class": "reddit",
                target_blank: !0
            }, {
                tool: i.__("report_form.email"),
                href: "mailto:?subject=" + f + "&amp;body=" + u,
                icf: "envelop icf-white-fill",
                "class": "envelop",
                target_blank: !0
            }];
            l && c.unshift({
                tool: i.__("misc.other_options"),
                href: "#share",
                icf: "device-mobile-share",
                "class": "native-share"
            }),
            "full" === r && c.push({
                tool: i.__("misc.copy_url"),
                href: s,
                icf: "copy",
                "class": "copy-btn"
            });
            var d = $(e.render(o, {
                share: c
            }));
            return "full" === r && (d.find(".copy-btn").parent().addClass("copy-link").append($('<input type="text" value="' + s + '"/>')),
            new n(d)),
            l && d.find(".native-share").on("click", function(e) {
                e.preventDefault(),
                window.navigator.share({
                    title: t.escape(a),
                    url: s
                })
            }),
            d
        }
    },
    new s
}),
define("text!skins/common/profile/subscribe/subscribed.mustache", [], function() {
    return '<div class=\'subscribed\'>\n\t<p>{{ subscribed }}{{^hide_view_activities}} <a href="/my-subs/videos">{{ view_activities }}</a>{{/hide_view_activities}}{{#has_related}} <span>{{ also_like }}:</span>{{/has_related}}</p>\n\t{{#has_related}}<div class="profileslist">{{{ related_html }}}</div>{{/has_related}}\n</div>'
}),
define("text!skins/common/profile/subscribe/related_profile.mustache", [], function() {
    return '\n<div class="profile">\n\t<a class="profile-img" href="{{ url }}">\n\t\t{{{ img }}}\n\t\t<span class="flag-small flag-{{ country }}"></span>\n\t</a>\n\t<p class="profile-name">\n\t\t<a href="{{ url }}" title="{{ username_display }}">{{ username_display }}</a>\n\t</p>\n\t<div id="{{ div_sub_id }}"></div>\n\t{{#about_me}}\n\t\t<p class="profile-desc">\n\t\t\t{{{ about_me }}}\n\t\t</p>\n\t{{/about_me}}\n</div>'
}),
define("text!skins/default/profile/subscribe/btn_sub.mustache", [], function() {
    return '<span class="user-subscribe">\n\t<span class="count">{{ count }}</span>\n</span>'
}),
define("skins/default/profile/subscribe/btns", ["mustache", "config/main", "lib/i18n!front", "skins/default/profile/subscribe/btn", "text!skins/default/profile/subscribe/btn_sub.mustache"], function(e, t, i, n, o) {
    var s = {
        unsubed_text: i.__("subscriptions.subs_short")
    };
    return init_btns = function(i, a) {
        var r = []
          , l = {}
          , u = {};
        "object" == typeof a && "object" == typeof a.sub_options && (u = a.sub_options);
        for (var f in s)
            "undefined" == typeof u[f] && (u[f] = s[f]);
        for (var f in i) {
            var c = i[f];
            r.push(c.user_id),
            l[c.user_id] = f;
            var d = $(e.render(o, {
                count: c.nb_subs
            }));
            c.btn_class && d.addClass(c.btn_class),
            c.prepend_btn_to ? (c.parent = $(c.prepend_btn_to),
            c.parent.prepend(d)) : c.append_btn_to && (c.parent = $(c.append_btn_to),
            c.parent.append(d))
        }
        if (t.dyn.login_info.is_logged && t.dyn.login_info.profile)
            $.post("/profiles/" + t.dyn.login_info.profile + "/followers/checks", {
                users: r
            }, function(e) {
                if (!0 === e.result)
                    for (var o in e.users) {
                        var s = i[l[o]];
                        new n(s.parent.find(".user-subscribe"),s.user_name,o,e.users[o].csrf,e.users[o].is_follower,s.user_name === t.dyn.login_info.profile,u)
                    }
            }, "json");
        else
            for (var f in i) {
                var c = i[f];
                new n(c.parent.find(".user-subscribe"),c.user_name,c.user_id,null,null,!1,u)
            }
    }
    ,
    init_btns
}),
define("skins/default/profile/subscribe/btn", ["config/main", "static/utils", "lib/helpers/popup", "lib/i18n!front", "lib/helpers/inline_loader", "skins/common/features_test/video_subs"], function(e, t, i, n, o, s) {
    var a = function(t, i, n, o, a, r, l) {
        if (!r) {
            this.btn = t,
            this.action_label = this.btn.find(".action"),
            this.username = i,
            this.id_user = n,
            this.related_users = {},
            this.options = l || {},
            this.options.add_relateds_to = "undefined" != typeof this.options.add_relateds_to && this.options.add_relateds_to,
            this.options.tooltip_hide_after = "undefined" != typeof this.options.tooltip_hide_after ? this.options.tooltip_hide_after : -1;
            var u = function(e, t, i) {
                if ("number" == typeof e && -1 !== [1, 2, 4, 5].indexOf(e) || (e = i),
                e !== t)
                    return e;
                switch (t) {
                case 1:
                    return 2;
                case 2:
                    return 1;
                case 4:
                    return 5;
                case 5:
                    return 4
                }
            };
            if (this.options.subed_icf_pos = u(this.options.subed_icf_pos, 3, 5),
            this.options.unsubed_icf_pos = u(this.options.unsubed_icf_pos, 3, 5),
            this.options.subed_text_pos = u(this.options.subed_text_pos, this.options.subed_icf_pos, 4),
            this.options.unsubed_text_pos = u(this.options.unsubed_text_pos, this.options.unsubed_icf_pos, 4),
            "undefined" != typeof this.options.subed_icf && "string" != typeof this.options.subed_icf || (this.subed_icf = $("<span class='icon-f icf-" + ("string" == typeof this.options.subed_icf ? this.options.subed_icf : "feed") + "'></span>")),
            "string" == typeof this.options.unsubed_icf && (this.unsubed_icf = $("<span class='icon-f icf-" + this.options.unsubed_icf + "'></span>")),
            "string" == typeof this.options.subed_text && (this.subed_text = $("<span class='sub-state-text subbed-text'>" + this.options.subed_text + "</span>")),
            "string" == typeof this.options.unsubed_text && (this.unsubed_text = $("<span class='sub-state-text unsubbed-text'>" + this.options.unsubed_text + "</span>")),
            "string" != typeof this.options.btn_display && !1 !== this.options.btn_display && (this.options.btn_display = "inline-block"),
            "boolean" != typeof this.options.resize_on_end && (this.options.resize_on_end = !0),
            this.is_logged = e.dyn.login_info.is_logged,
            !this.is_logged)
                return this.is_follower = s.isTracking() && s.hasSubscribed(n),
                void this.on_subscribe_check({
                    data_setted: !0,
                    is_follower: this.is_follower
                });
            if ("boolean" == typeof a && "string" == typeof o)
                return this.csrf = o,
                this.is_follower = a,
                void this.on_subscribe_check({
                    data_setted: !0,
                    is_follower: this.is_follower
                });
            var f = this;
            $.post("/profiles/" + this.username + "/followers/check", function(e) {
                f.on_subscribe_check(e)
            }, "json")
        }
    };
    return a.prototype = {
        btn: !1,
        loader: !1,
        action_label: !1,
        username: "",
        id_user: !1,
        csrf: !1,
        is_follower: !1,
        is_logged: !1,
        subed_text: !1,
        unsubed_text: !1,
        subed_icf: !1,
        unsubed_icf: !1,
        options: {},
        clicked: !1,
        tooltip: !1,
        retry_on_csrf: !0,
        retry_is_follower: !1,
        retry_click_count: 0,
        on_subscribe_check: function(t) {
            if (!t.is_owner && (t.data_setted || t.result && "boolean" == typeof t.is_follower && "string" == typeof t.csrf)) {
                if (t.data_setted || (this.csrf = t.csrf),
                e.dyn.login_info && e.dyn.login_info.is_logged && this.btn.addClass("logged-user"),
                this.options.btn_display && this.btn.fadeIn().css("display", this.options.btn_display),
                this.retry_is_follower)
                    return this.is_follower === t.is_follower ? this.btn.click() : this.subscribe_end(t.is_follower),
                    this.retry_is_follower = !1,
                    void (this.retry_on_csrf = !0);
                this.btn.addClass("sub-checked"),
                this.subscribe_end(t.is_follower)
            }
        },
        subscribe_end: function(i, o) {
            this.is_follower = i,
            this.btn.removeClass("wait").prop("title", t.unescape(this.is_follower ? n.__("subscriptions.unsubscribe") : n.__("subscriptions.subscribe"))),
            this.action_label && this.action_label.text(t.unescape(this.is_follower ? n.__("subscriptions.unsubscribe") : n.__("subscriptions.subscribe")));
            var s = this;
            o && (this.is_follower ? require(["mustache", "text!skins/common/profile/subscribe/subscribed.mustache", "text!skins/common/profile/subscribe/related_profile.mustache"], function(o, a, r) {
                var l = []
                  , u = ""
                  , f = 0;
                if ($.isArray(s.related)) {
                    var c = e.domains["static"] + "/v3/img/skins/default/profile_default_small.jpg"
                      , d = s.options.add_relateds_to ? s.options.add_relateds_to.related_users : s.related_users;
                    for (var h in s.related)
                        "undefined" == typeof d[s.related[h].id] && (d[s.related[h].id] = s.related[h],
                        s.related[h].img = xv.thumbs.replacePicThumbUrl('<img title="' + s.related[h].username_display + '" src="' + (s.related[h].thumb ? s.related[h].thumb : c) + '" onerror="self.src=\'' + c + "'; self.onerror=null;\" />"),
                        s.related[h].div_sub_id = "profile-related-sub-" + s.related[h].id + "-" + Math.ceil(1e4 * Math.random()),
                        s.related[h].about_me && (s.related[h].about_me = $("<div>").html(s.related[h].about_me).text()),
                        l.push({
                            user_id: s.related[h].id,
                            user_name: s.related[h].username,
                            nb_subs: s.related[h].nb_subs,
                            append_btn_to: "#" + s.related[h].div_sub_id,
                            btn_class: "sub-strip"
                        }),
                        u += o.render(r, s.related[h]),
                        f++)
                }
                var p = $(o.render(a, {
                    subscribed: t.unescape(n.__("subscriptions.subscribed")),
                    view_activities: t.unescape(n.__("subscriptions.view_activities")),
                    also_like: t.unescape(n.__("user.you_may_also_like")),
                    hide_view_activities: !1 !== s.options.add_relateds_to,
                    has_related: !1 === s.options.add_relateds_to && l.length > 0,
                    related_html: u
                }))
                  , _ = Math.floor(($(window).width() - 50) / 140)
                  , g = f > _ ? _ : f
                  , m = 140 * g;
                if (p.find(".profileslist").css("width", m + "px").addClass("nb-profile-per-line-" + g),
                !0 !== s.options.no_tooltip_validation && s.set_tooltip(p, !0, -1 !== s.options.tooltip_hide_after ? s.options.tooltip_hide_after : !(l.length > 0) && 3500),
                l.length > 0) {
                    if (!1 !== s.options.add_relateds_to) {
                        var b = s.options.add_relateds_to.tooltip ? s.options.add_relateds_to.tooltip : !!s.options.add_relateds_to.popup && s.options.add_relateds_to.popup;
                        "object" == typeof b && $(b.popup).length > 0 && $(b.popup).find(".profileslist").append($(u))
                    }
                    require(["skins/default/profile/subscribe/btns"], function(e) {
                        e(l, {
                            sub_options: {
                                add_relateds_to: s.options.add_relateds_to ? s.options.add_relateds_to : s,
                                tooltip_hide_after: 1e3
                            }
                        })
                    })
                }
                "function" == typeof s.options.end_function && s.options.end_function(s.username, i)
            }) : (!0 !== this.options.no_tooltip_validation && this.set_tooltip(n.__("subscriptions.unsubscribed"), !1, -1 !== s.options.tooltip_hide_after ? s.options.tooltip_hide_after : 3e3),
            "function" == typeof this.options.end_function && this.options.end_function(this.username, i))),
            this.is_follower ? (this.subed_text && this.subed_text.show(),
            this.subed_icf && this.subed_icf.show(),
            this.unsubed_text && this.unsubed_text.hide(),
            this.unsubed_icf && this.unsubed_icf.hide(),
            this.subed_text ? this.options.subed_text_pos < 3 ? (this.subed_icf && this.options.subed_icf_pos < 3 && this.options.subed_icf_pos > this.options.subed_text_pos && this.btn.prepend(this.subed_icf),
            this.btn.prepend(this.subed_text),
            this.subed_icf && this.options.subed_icf_pos < 3 && this.options.subed_icf_pos < this.options.subed_text_pos && this.btn.prepend(this.subed_icf)) : (this.subed_icf && this.options.subed_icf_pos > 3 && this.options.subed_icf_pos < this.options.subed_text_pos && this.btn.append(this.subed_icf),
            this.btn.append(this.subed_text),
            this.subed_icf && this.options.subed_icf_pos > 3 && this.options.subed_icf_pos > this.options.subed_text_pos && this.btn.append(this.subed_icf)) : this.subed_icf && (this.options.subed_icf_pos < 3 ? this.btn.prepend(this.subed_icf) : this.btn.append(this.subed_icf))) : (this.subed_text && this.subed_text.hide(),
            this.subed_icf && this.subed_icf.hide(),
            this.unsubed_text && this.unsubed_text.show(),
            this.unsubed_icf && this.unsubed_icf.show(),
            this.unsubed_text ? this.options.unsubed_text_pos < 3 ? (this.unsubed_icf && this.options.unsubed_icf_pos < 3 && this.options.unsubed_icf_pos > this.options.unsubed_text_pos && this.btn.prepend(this.unsubed_icf),
            this.btn.prepend(this.unsubed_text),
            this.unsubed_icf && this.options.unsubed_icf_pos < 3 && this.options.unsubed_icf_pos < this.options.unsubed_text_pos && this.btn.prepend(this.unsubed_icf)) : (this.unsubed_icf && this.options.unsubed_icf_pos > 3 && this.options.unsubed_icf_pos < this.options.unsubed_text_pos && this.btn.append(this.unsubed_icf),
            this.btn.append(this.unsubed_text),
            this.unsubed_icf && this.options.unsubed_icf_pos > 3 && this.options.unsubed_icf_pos > this.options.unsubed_text_pos && this.btn.append(this.unsubed_icf)) : this.unsubed_icf && (this.options.unsubed_icf_pos < 3 ? this.btn.prepend(this.unsubed_icf) : this.btn.append(this.unsubed_icf))),
            this.loader && (this.loader.remove(),
            this.loader = null),
            this.btn.off("click").on("click", function(e) {
                s.sub_btn_click(e)
            }),
            this.options.resize_on_end && $(window).resize()
        },
        sub_btn_click: function(i) {
            if (i.preventDefault(),
            !0 === this.clicked)
                return !1;
            if (this.clicked = !0,
            this.close_tooltip(),
            !this.is_logged) {
                if (!s.canTrack()) {
                    if (e.dyn.login_info.is_logged)
                        this.set_tooltip(n.__("profile.tracking.device_not_compatible_create_profile", {
                            "%start_create_profile%": '<a href="/account/create_profile">',
                            "%end_login%": "</a>"
                        }), !1, 1e4);
                    else {
                        this.set_tooltip(n.__("profile.tracking.device_not_compatible_login", {
                            "%start_login%": '<a href="#">',
                            "%end_login%": "</a>"
                        }), !1, 1e4);
                        var o = this;
                        require(["skins/default/form/login"], function(e) {
                            var t = o.tooltip.popup.find(".x-popup-content a").first();
                            t.on("click", function() {
                                o.tooltip && o.tooltip.close()
                            }),
                            e.setupLinks(t)
                        })
                    }
                    return void (this.clicked = !1)
                }
                var o = this;
                if (!s.isTracking())
                    return this.set_tooltip(n.__("profile.tracking.disabled", {
                        "%start_login%": '<a href="#">',
                        "%end_login%": "</a>",
                        "%start_enable%": '<a href="/my-subs/videos">',
                        "%end_enable%": "</a>"
                    }), !1, 1e4),
                    require(["skins/default/form/login"], function(e) {
                        e.setupLinks(o.tooltip.popup.find(".x-popup-content a").first())
                    }),
                    void (this.clicked = !1);
                this.is_follower ? s.unsubscribe(this.id_user) : s.subscribe(this.id_user);
                var a = {};
                return this.is_follower || (a.ref = document.referrer),
                void $.post("/profiles/" + this.username + "/followers/" + (this.is_follower ? "unsubscribe" : "subscribe"), a, function(e) {
                    e.related && (o.related = "undefined" != typeof e.related && e.related),
                    o.clicked = !1,
                    o.subscribe_end(!o.is_follower, !0)
                }, "json")
            }
            if (this.is_follower && !0 !== this.options.no_unsub_confirm && !window.confirm(t.unescape(n.__("subscriptions.confirm_subscribed"))))
                return this.subscribe_end(!0, !0),
                void (this.clicked = !1);
            this.load_start(),
            $(this).off("click");
            var o = this
              , r = "/profiles/" + this.username + "/followers/" + (this.is_follower ? "unsubscribe" : "subscribe")
              , a = {
                csrf: this.csrf
            };
            this.is_follower || (a.ref = document.referrer),
            $.post(r, a, function(e) {
                if (o.clicked = !1,
                e.related && (o.related = "undefined" != typeof e.related && e.related),
                e.result)
                    return o.subscribe_end(!o.is_follower, !0),
                    void (o.retry_click_count = 0);
                if (9 === e.code) {
                    if (o.retry_on_csrf && o.retry_click_count < 3)
                        return o.retry_click_count++,
                        o.retry_on_csrf = !1,
                        o.retry_is_follower = !0,
                        void $.post("/profiles/" + o.username + "/followers/check", function(e) {
                            o.on_subscribe_check(e)
                        }, "json");
                    o.retry_click_count = 0,
                    o.subscribe_end(o.is_follower),
                    o.set_tooltip(n.__("misc.reload_the_page") + (e.message ? " - " + e.message : ""), !1, 5e3)
                } else
                    o.retry_click_count = 0,
                    o.subscribe_end(o.is_follower),
                    o.set_tooltip(n.__("misc.error"), !1, 3e3)
            }, "json")
        },
        load_start: function() {
            this.btn.addClass("wait").prop("title", ""),
            this.loader || (this.loader = $('<span class="loader"></span>').appendTo(this.btn)),
            this.loader.append(o.getSafe().getHtml())
        },
        set_tooltip: function(e, t, n) {
            if (console.log("set_tooltip", n),
            !0 !== t && (e = "<strong>" + e + "</strong>"),
            this.tooltip)
                this.tooltip.setButton(this.btn),
                this.tooltip.setContent(e),
                this.tooltip.options.autoclose = "number" != typeof n || n,
                this.tooltip.options.closebtn = "number" != typeof n || n > 5500;
            else {
                this.tooltip = new i(this.btn,e,{
                    position: {
                        v: "below",
                        h: "left"
                    },
                    trigger: !1,
                    autoclose: "number" != typeof n || n,
                    closebtn: "number" != typeof n || n > 5500,
                    popup_class: "video-subscribe-popup" + ("string" == typeof this.options.tooltip_class ? " " + this.options.tooltip_class : ""),
                    autoclose_on_same_level: this.options.add_relateds_to ? "profile_related_submit" : "profile_submit"
                });
                var o = this;
                this.tooltip.onClose = function() {
                    o.related_users = {}
                }
            }
            this.tooltip.open()
        },
        close_tooltip: function() {
            this.tooltip && this.tooltip.close()
        }
    },
    a
}),
define("skins/default/mozaique/thumb_block_menu", ["skins/common/mozaique/thumb_block_menu", "skins/common/mozaique/thumb_block_menu/one_tb_menu", "config/main", "lib/i18n!front", "lib/helpers/overlay/contextual_popup", "skins/common/history/page_view_history", "skins/common/video/share", "skins/default/video/watch_later", "skins/default/video/watch_later/watch_later_tracker", "skins/default/mozaique/thumb_block_viewed", "skins/default/profile/subscribe/btn"], function(e, t, i, n, o, s, a, r, l, u, f) {
    var c, d = function() {
        e.apply(this),
        this.setEntry("watch_later", "add_content_v_watch_later"),
        this.setEntry("sub_btn", "add_content_v_sub_btn"),
        this.setEntry("pl_add", "add_content_v_playlist_add");
        var t = "favorite" === i.data.action && i.dyn.login_info && i.dyn.login_info.is_logged && i.dyn.login_info.id === i.data.fav_list.id_user
          , n = "watch_later" === i.data.action;
        t || n ? (this.setEntry("pl_remove", "add_content_v_playlist_remove"),
        this.orderEntries(["watch_later", "sub_btn", "pl_add", "pl_remove", "vote_actions"])) : this.orderEntries(["watch_later", "sub_btn", "pl_add", "vote_actions"])
    };
    return d.prototype = new e,
    t.prototype.set_content = function() {
        "video" === this.options.type ? this.set_content_video() : "favlist" === this.options.type && this.set_content_favlist()
    }
    ,
    t.prototype.add_content_v_viewed = function() {
        var e, t, i = this;
        if (this.btn.parents(".thumb-block").hasClass("viewed")) {
            this.viewed = !0;
            var o = $("<p><span class='icon-f icf-eye'></span>" + n.__("video.was_watched") + "</p>");
            e = $("<li class='video-viewed'></li>"),
            e.append(o),
            this.$Content.append(e)
        }
        u.is_feature_enabled() ? u.is_feature_enabled() && (e = $("<li class='video-viewed-disable'></li>"),
        t = $("<a><span class='icon-f icf-eye-blocked'></span>" + n.__("video.disable_viewed_indic") + "</a>"),
        t.on("click", function() {
            u.toggle_feature(!1, !1),
            i.popup.close(),
            c.reset_initiated_contents()
        }),
        e.append(t),
        this.$Content.append(e)) : (e = $("<li class='video-viewed-enable'></li>"),
        t = $("<a><span class='icon-f icf-eye'></span>" + n.__("video.enable_viewed_indic") + "</a>"),
        t.on("click", function() {
            u.toggle_feature(!1, !0),
            i.popup.close(),
            c.reset_initiated_contents()
        }),
        e.append(t),
        this.$Content.append(e)),
        this.btn.parents(".thumb-block").hasClass("viewed") && s.canTrack() && (e = $("<li class='video-viewed-remove'></li>"),
        t = $("<a><span class='icon-f icf-trash'></span>" + n.__("history.remove") + "</a>"),
        t.on("click", function() {
            s.removeId("video", i.sId, function() {
                i.$ThumbBlock.find(".video-viewed").remove(),
                i.$Content.find(".video-viewed, .video-viewed-remove").remove()
            }),
            i.popup.close()
        }),
        e.append(t),
        this.$Content.append(e))
    }
    ,
    t.prototype.add_content_v_watch_later = function() {
        if (r.is_feature_enabled() && "watch_later" !== i.data.action) {
            var e = $("<li></li>")
              , t = $("<a><span class='icon-f icf-clock'></span>" + n.__("video.watch_later") + "</a>")
              , o = this;
            r.init_btn(t, this.sId, {
                popup_class: "watch-later-tb-menu",
                end_click_func: function() {
                    o.popup.close()
                }
            }),
            e.append(t),
            this.$Content.append(e)
        }
    }
    ,
    t.prototype.add_content_v_sub_btn = function() {
        if (this.uploader_id && this.uploader_profile && !this.is_owner) {
            var e = $("<li></li>")
              , t = $("<a><span class='icon-f icf-feed'></span></a>")
              , i = this;
            new f(t,this.uploader_profile,this.uploader_id,this.sub_csrf,this.is_follower,this.is_owner,{
                state_info_pos: "append",
                subed_icf: !1,
                unsubed_text: n.__("subscriptions.subscribe") + "&nbsp;",
                subed_text: n.__("subscriptions.unsubscribe") + "&nbsp;",
                btn_display: "block",
                tooltip_class: "no-arrow",
                no_tooltip_validation: !!c.bAllSubscribeTooltipDisabled,
                resize_on_end: !1,
                end_function: function(e, t) {
                    i.popup.close(),
                    c.reset_initiated_contents(),
                    c.executeSubscribeEndFunctions(e, t)
                }
            }),
            e.append(t),
            this.$Content.append(e)
        }
    }
    ,
    t.prototype.add_content_v_playlist_add = function() {
        var e = $("<li></li>")
          , t = $("<a><span class='icon-f icf-favorites-add'></span>" + n.__("video.favs.add_to_list") + "</a>")
          , i = this;
        t.on("click", function(e) {
            e.preventDefault(),
            i.popup.close();
            var t = o.loading();
            require(["skins/default/video/playlists/manager"], function(e) {
                e.loadAddToList(i.sId),
                t && t.close()
            })
        }),
        e.append(t),
        this.$Content.append(e)
    }
    ,
    t.prototype.add_content_v_playlist_remove = function() {
        var e = $("<li></li>")
          , t = $("<a><span class='icon-f icf-trash'></span>" + n.__("video.favs.remove_video_from_list") + "</a>")
          , s = this;
        t.on("click", function(e) {
            if (e.preventDefault(),
            s.popup.close(),
            i.dyn.login_info.is_logged) {
                var t = o.loading();
                require(["skins/default/video/playlists/manager"], function(e) {
                    e.removeVideoFromList(s.sId, i.data.fav_list.id_list, function() {
                        s.$ThumbBlock.fadeOut(500, function() {
                            $(this).remove()
                        })
                    }),
                    t && t.close()
                })
            } else if ("watch_later" === i.data.action && xv.watch_later && xv.watch_later.removeVideo) {
                var n = parseInt(s.sId);
                s.$ThumbBlock.fadeOut(500, function() {
                    $(this).remove(),
                    xv.watch_later.removeVideo(n)
                })
            }
        }),
        e.append(t),
        this.$Content.append(e)
    }
    ,
    t.prototype.set_content_favlist = function() {
        if (!this.$Content) {
            this.$Content = $("<ul></ul>");
            var e = this.options.favorite.getType();
            "move_to" === e ? this.add_content_f_move_to(this) : ("add_to" === e && this.add_content_f_add_to(this),
            this.add_content_f_go_to_playlist(),
            this.add_content_f_go_to_playlist_random(),
            this.add_content_f_go_to(),
            this.add_content_f_edit(),
            this.options.favorite.isWatchLater() || this.add_content_f_delete(),
            this.add_content_f_share()),
            this.popup.setContent(this.$Content)
        }
    }
    ,
    t.prototype.add_content_f_add_to = function() {
        if (this.options.favorite.isVideoInList() || !this.options.favorite.isListFull()) {
            var e, t = $("<li></li>"), i = this;
            this.options.favorite.isVideoInList() ? (e = $("<a><span class='icon-f icf-trash'></span>" + n.__("video.favs.remove_video_from_list") + "</a>"),
            e.on("click", function() {
                i.options.favorite.removeVideoFromList(),
                i.close_popup()
            })) : (e = $("<a><span class='icon-f icf-plus-square'></span>" + n.__("video.favs.add_video") + "</a>"),
            e.on("click", function() {
                i.options.favorite.addVideoToList(),
                i.close_popup()
            })),
            t.append(e),
            this.$Content.append(t)
        }
    }
    ,
    t.prototype.add_content_f_go_to = function() {
        var e = $("<li class='link-go-to'></li>")
          , t = $("<a href='" + this.options.favorite.getUrl() + "'><span class='icon-f icf-arrow-right'></span> " + n.__("video.favs.list_page") + "</a>");
        e.append(t),
        this.$Content.append(e)
    }
    ,
    t.prototype.add_content_f_go_to_playlist = function() {
        var e = this.options.favorite.getPlaylistUrl();
        if (e) {
            var t = $("<li></li>")
              , i = $("<a href='" + e + "'><span class='icon-f icf-player-play-circle-o'></span> " + n.__("video.favs.play_playlist") + "</a>");
            t.append(i),
            this.$Content.append(t)
        }
    }
    ,
    t.prototype.add_content_f_go_to_playlist_random = function() {
        var e = this.options.favorite.getRandomPlaylistUrl();
        if (e) {
            var t = $("<li></li>")
              , i = $("<a href='" + e + "'><span class='icon-f icf-random'></span> " + n.__("video.favs.play_random_playlist") + "</a>");
            t.append(i),
            this.$Content.append(t)
        }
    }
    ,
    t.prototype.add_content_f_share = function() {
        var e, t = $("<li></li>"), i = this.options.favorite.getVisibility();
        if ("NOBODY" === i) {
            e = $("<span><span class='icon-f icf-share'></span> " + n.__("video.favs.cant_share_private_playlist", {
                "%link%": "<strong class='u'>",
                "%end_link%": "</strong>"
            }) + "</span>"),
            e.addClass("tb-menu-share-title");
            var o = this;
            e.find("strong").on("click", function() {
                o.options.favorite.showEdit(),
                o.close_popup()
            }),
            t.append(e)
        } else
            e = $("<span><span class='icon-f icf-share'></span> " + n.__("video.favs.share_playlist") + "</span>"),
            e.addClass("tb-menu-share-title"),
            t.append(e),
            t.append(a.getShareElem(this.options.favorite.getFullUrl(), this.options.favorite.getName(), "full")),
            "ANYONE" !== i && (e = $("<span>" + n.__("video.favs.share_not_everyone") + "</span>"),
            e.addClass("tb-menu-share-legend"),
            t.append(e));
        this.$Content.append(t)
    }
    ,
    t.prototype.add_content_f_edit = function() {
        var e = $("<li></li>")
          , t = $("<a><span class='icon-f icf-pencil'></span>" + n.__("video.favs.edit_this_list") + "</a>")
          , i = this;
        t.on("click", function() {
            i.options.favorite.showEdit(),
            i.close_popup()
        }),
        e.append(t),
        this.$Content.append(e)
    }
    ,
    t.prototype.add_content_f_delete = function() {
        var e = $("<li></li>")
          , t = $("<a><span class='icon-f icf-trash'></span>" + n.__("video.favs.delete_this_list") + "</a>")
          , i = this;
        t.on("click", function() {
            i.options.favorite["delete"](),
            i.close_popup()
        }),
        e.append(t),
        this.$Content.append(e)
    }
    ,
    t.prototype.add_content_f_move_to = function() {
        var e, t = $("<li></li>"), i = this;
        e = $("<a><span class='icon-f icf-mail-forward'></span>" + n.__("video.favs.move_to_this_list") + "</a>"),
        e.on("click", function() {
            i.options.favorite.moveVideosToThisList(),
            i.close_popup()
        }),
        t.append(e),
        this.$Content.append(t)
    }
    ,
    c = new d,
    xv.thumb_block_menus = c,
    c
}),
define("skins/default/mozaique/next_too_much", [], function() {
    var e = function() {};
    return e.prototype = {
        remove: function(e) {
            $(".thumb-block-pagin-next", e).each(function() {
                var e = $(this).offset()
                  , t = $(this).prev(".thumb-block").offset();
                (!t || t.top < e.top) && $(this).remove()
            })
        }
    },
    new e
}),
define("skins/default/purchase_form/purchase_const", [], function() {
    return oCONST = {
        S_PURCHASE_BTN_CLASS: "purchase-content",
        S_IS_INIT_CLASS: "purchase-content-is-init",
        S_HASH_BASE: "purchase-",
        S_HASH_ID_SEP: "-"
    }
}),
define("skins/default/purchase_form/purchase_pop", [], function() {
    var e = function() {
        this.sVideoId = null,
        this.sUserId = null,
        this.sPriority = null
    };
    return e.prototype = {
        setVideoId: function(e) {
            this.sVideoId = e
        },
        setUserId: function(e) {
            this.sUserId = e
        },
        setPriority: function(e) {
            this.sPriority = e
        },
        open: function() {
            var e = this;
            require(["skins/common/form/login/premium"], function(t) {
                new t(e.sUserId,e.sVideoId,e.sPriority).open()
            })
        }
    },
    e
}),
define("skins/default/purchase_form/purchase_btn", ["static/thumbs", "skins/default/purchase_form/purchase_const"], function(e, t) {
    var i = function(e) {
        this.bIsInit = !1,
        this.$btn = e
    };
    return i.prototype = {
        init: function() {
            !this.bIsInit && this.$btn && this.$btn.length && (e.getIsThumbBlockVideo(this.$btn) && this.$btn.data("video-id", e.getVideoId(this.$btn)),
            this.sVideoId = this.$btn.data("video-id"),
            this.sUserId = this.sVideoId ? null : this.$btn.data("user-id"),
            this.sPriority = this.$btn.data("priority"),
            this.$btn.on("click", this, this.onBtnClick),
            this.$btn.addClass(t.S_IS_INIT_CLASS),
            this.bIsInit = !0)
        },
        openForm: function() {
            var e = this;
            require(["skins/default/purchase_form/purchase_pop"], function(t) {
                var i = new t;
                e.sVideoId && i.setVideoId(e.sVideoId),
                e.sUserId && i.setUserId(e.sUserId),
                e.sPriority && i.setPriority(e.sPriority),
                i.open()
            })
        },
        onBtnClick: function(e) {
            e.preventDefault(),
            e.data.openForm()
        }
    },
    i
}),
define("skins/default/purchase_form/purchase_form_init", ["config/main", "lib/tools", "skins/default/purchase_form/purchase_const"], function(e, t, i) {
    var n = function() {
        this.bAutoOpenedForm = !1
    };
    n.prototype = {
        initPage: function() {
            if (this.initBtns($("body")),
            e.dyn.premium) {
                var i = t.parseUrl(window.location.href, "query", !0);
                if ("string" == typeof i["buy-form"] && "1" === i["buy-form"]) {
                    this.bAutoOpenedForm = !0;
                    var n = null
                      , o = null;
                    "video" === e.data.action && e.data.is_premium && e.data.is_ppv ? n = e.data.id_video : e.data.user.channel && e.data.user.has_membership && (o = e.data.user.id_user),
                    require(["skins/common/form/login/premium"], function(e) {
                        new e(o,n,i.priority).open()
                    })
                }
            }
        },
        hasFormAutoOpened: function() {
            return this.bAutoOpenedForm
        },
        getPurchaseBtns: function(e) {
            var t = $("." + i.S_PURCHASE_BTN_CLASS + ":not(." + i.S_IS_INIT_CLASS + ")", e);
            return 0 === t.length && e && e.length > 0 && e.each(function() {
                $(this).is("." + i.S_PURCHASE_BTN_CLASS + ":not(." + i.S_IS_INIT_CLASS + ")") && (t = t.add($(this)))
            }),
            t
        },
        getPurchaseThumbBlocks: function(e) {
            var t = $(".thumb-block:not(." + i.S_IS_INIT_CLASS + ")", e)
              , n = {
                $premiumOnly: $(),
                $purchaseOther: $()
            };
            return 0 === t.length && e && e.length > 0 && e.each(function() {
                $(this).is(".thumb-block:not(." + i.S_IS_INIT_CLASS + ")") && (t = t.add($(this)))
            }),
            t.each(function() {
                $(this).data("is-ppv") || $(this).data("is-fanclub") ? n.$purchaseOther = n.$purchaseOther.add($(this)) : $(this).data("is-premium") && (n.$premiumOnly = n.$premiumOnly.add($(this)))
            }),
            n
        },
        initBtns: function(e) {
            var t = this.getPurchaseBtns(e)
              , n = this.getPurchaseThumbBlocks(e);
            (t.length || n.$purchaseOther.length) && require(["skins/default/purchase_form/purchase_btn"], function(e) {
                t.length && t.each(function() {
                    if (!$(this).hasClass(i.S_IS_INIT_CLASS)) {
                        new e($(this)).init()
                    }
                }),
                n.$purchaseOther.length && n.$purchaseOther.each(function() {
                    if (!$(this).hasClass(i.S_IS_INIT_CLASS)) {
                        new e($(this)).init()
                    }
                })
            }),
            n.$premiumOnly.length && require(["skins/common/mozaique/premium_redirect_alert"], function(e) {
                e.init_listing(n.$premiumOnly),
                n.$premiumOnly.addClass(i.S_IS_INIT_CLASS)
            })
        }
    };
    var o = new n;
    return o.initPage(),
    o
}),
define("skins/default/mozaique/thumb_block_common_init", ["skins/default/mozaique/thumb_block_menu", "skins/default/mozaique/thumb_block_viewed", "skins/default/mozaique/next_too_much", "lib/helpers/thumbs_rotator", "skins/default/purchase_form/purchase_form_init"], function(e, t, i, n, o) {
    var s = function() {};
    s.prototype = {
        init_listing: function(s, a) {
            var r = $(".thumb-block:not(.tb_full_init)", s);
            0 === r.length && (s && s.length > 0 && s.each(function() {
                $(this).is(".thumb-block:not(.tb_full_init)") && (r = r.add($(this)))
            }),
            0 === r.length) || (r.addClass("tb_full_init"),
            "object" != typeof a && (a = {}),
            !1 !== a.tb_menu && e.init_listing(r),
            !1 !== a.tb_viewed && t.init_listing(r),
            !1 !== a.rotator && n(r, "boolean" == typeof a.is_thumb_list ? a.is_thumb_list : null),
            !1 !== a.next_too_much && i.remove(r),
            !1 !== a.purchase_form && o.initBtns(r))
        }
    };
    var a = new s;
    return xv.thumb_block_initiator = a,
    a
}),
define("text!skins/default/video/playlists/tb_list_elem_base.mustache", [], function() {
    return '<span class=\'in-fav-indic\'>\n\t<span class="icon-f icf-check"></span>\n</span>\n{{^bIsVideo}}\n<span class=\'is-fav-indic{{#bWatchLater}} is-watch-later{{/bWatchLater}}\'>\n\t{{#bWatchLater}}<span class="icon-f icf-clock"></span>{{/bWatchLater}}\n\t{{^bWatchLater}}<span class="icon-f icf-favorites"></span>{{/bWatchLater}}\n</span>\n{{/bIsVideo}}\n'
}),
define("text!skins/default/video/playlists/tb_list_elem_base_line.mustache", [], function() {
    return '<div class="favlist-elem favlist-elem-line{{#bInList}} in-favlist{{/bInList}}{{#bIsFull}} max-videos-reached{{/bIsFull}}" id="favlist_{{{sId}}}">\n\t<div class="favlist-e-left">\n\t\t<div class="favlist-e-visibility">{{{sPicto}}}</div>\n\t\t<div class="favlist-e-title">\n\t\t\t<span class="icon-f icf-check in-fav-indic"></span>\n\t\t\t{{#bWatchLater}}<span class="icon-f icf-clock is-watch-later"></span>{{/bWatchLater}}\n\t\t\t{{{sName}}}\n\t\t\t<span class="favlist-e-tags">\n\t\t\t\t{{#bIsFull}}<span class="max-videos-reached" title="{{{sFullTitle}}}">{{{sFull}}}</span>{{/bIsFull}}\n\t\t\t\t<span class="favlist-e-nb-videos">{{{sNbVideos}}}</span>\n\t\t\t\t{{{sTags}}}\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\t<div class="favlist-e-action favlist-e-right thumb-inside">{{#sAction}}{{{sAction}}}{{/sAction}}</div>\n</div>\n'
}),
define("text!skins/default/video/playlists/tb_list_elem_base_small_line.mustache", [], function() {
    return '<div class="favlist-elem favlist-elem-small-line{{#bInList}} in-favlist{{/bInList}}{{#bIsFull}} max-videos-reached{{/bIsFull}}" id="favlist_{{{sId}}}">\n\t<div class="favlist-e-left">\n\t\t<div class="favlist-e-visibility">{{{sPicto}}}</div>\n\t\t<div class="favlist-e-title">\n\t\t\t<span class="icon-f icf-check in-fav-indic"></span>\n\t\t\t{{#bWatchLater}}<span class="icon-f icf-clock is-watch-later"></span>{{/bWatchLater}}\n\t\t\t{{{sName}}}\n\t\t\t<span class="favlist-e-tags">\n\t\t\t\t{{#bIsFull}}<span class="max-videos-reached" title="{{{sFullTitle}}}">{{{sFull}}}</span>{{/bIsFull}}\n\t\t\t\t<span class="favlist-e-nb-videos">{{{sNbVideos}}}</span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\t<div class="favlist-e-action thumb-inside favlist-e-right">{{#sAction}}{{{sAction}}}{{/sAction}}</div>\n</div>\n'
}),
define("text!skins/default/video/playlists/tb_list_elem_add_to.mustache", [], function() {
    return '<div class=\'pl-add-remove{{#bDisplayModeList}} btn btn-default{{/bDisplayModeList}}\'>\n\t<div class=\'add\'>\n\t\t{{^bInList}}\n\t\t\t{{#bMaxVideosReached}}\n\t\t\t\t{{^bDisplayModeList}}<span class="info-txt">{{{ sMax }}}</span>{{/bDisplayModeList}}\n\t\t\t\t<span class="icon-f icf-ban"></span>\n\t\t\t{{/bMaxVideosReached}}\n\t\t\t{{^bMaxVideosReached}}<span class="icon-f icf-favorites-add"></span>{{/bMaxVideosReached}}\n\t\t{{/bInList}}\n\t\t{{#bInList}}<span class="icon-f icf-favorites-add"></span>{{/bInList}}\n\t\t{{#bDisplayModeList}}<span class="mobile-hide">{{{ sAdd }}}</span>{{/bDisplayModeList}}\n\t</div>\n\t<div class=\'remove\'>\n\t\t<span class="icon-f icf-trash"></span>\n\t\t{{#bDisplayModeList}}<span class="mobile-hide">{{{ sRemove }}}</span>{{/bDisplayModeList}}\n\t</div>\n</div>'
}),
define("text!skins/default/video/playlists/tb_list_elem_edit.mustache", [], function() {
    return '<div class=\'pl-edit{{#bDisplayModeList}} btn btn-default{{/bDisplayModeList}}\'>\n\t<span class="icon-f icf-pencil"></span>\n\t{{#bDisplayModeList}}<span class="mobile-hide">{{{ sEdit }}}</span>{{/bDisplayModeList}}\n</div>'
}),
define("text!skins/default/video/playlists/tb_list_elem_move_to.mustache", [], function() {
    return '<div class=\'pl-move-to{{#bDisplayModeList}} btn btn-default{{/bDisplayModeList}}\'>\n\t<span class="icon-f icf-mail-forward"></span>\n\t{{#bDisplayModeList}}<span class="mobile-hide">{{{ sMoveTo }}}</span>{{/bDisplayModeList}}\n</div>'
}),
define("text!skins/default/video/playlists/edit_list.mustache", [], function() {
    return '<div class="favlist-edit">\n\t<button type="button" class="btn btn-default btn-back"><span class="icon-f icf-chevron-left"></span> {{{ sBack }}}</button>\n\n\t<span class="favlist-picto icon-f icf-{{#bWatchLater}}clock{{/bWatchLater}}{{^bWatchLater}}favorites{{/bWatchLater}}"></span>\n\n\t{{#bWatchLater}}<div class="favlist-list-title"><div class="form-horizontal"><div class="form-group"><p>{{{ sTitle }}}</p></div></div></div>{{/bWatchLater}}\n\t<div class="favlist-edit-form"></div>\n\n\t<div class="favlist-edit-list-menu">\n\t\t<button class="btn btn-show-more btn-default btn-lg" title="{{{ sShowMore }}}"><span class="icon-f icf-minus-square"></span></button>\n\n\t\t<p class="legend">{{{ sNbVideo }}}</p>\n\n\t\t{{#bMaxVideosReached}}<span class="max-videos-reached" title="{{{ sMaxTitle }}}">{{{ sMax }}}</span>{{/bMaxVideosReached}}\n\n\t\t<button class="btn btn-reorder btn-default btn-lg" title="{{{ sReorder }}}"><span class="icon-f icf-arrows"></span> {{{ sReorder }}}</button>\n\t\t<button class="btn btn-select btn-default btn-lg" title="{{{ sSelect }}}"><span class="icon-f icf-check"></span> {{{ sSelect }}}</button>\n\t\t<button class="btn btn-empty btn-default btn-lg" title="{{{ sEmpty }}}"><span class="icon-f icf-close"></span> {{{ sEmpty }}}</button>\n\n\t\t<button class="btn btn-check-all btn-default btn-lg" title="{{{ sMoveToFirstPos }}}"><span class="icon-f icf-check-square"></span>/<span class="icon-f icf-square"></span> {{{ sCheckUncheckAll }}}</button>\n\t\t<button class="btn btn-move-first btn-default btn-lg" title="{{{ sMoveToFirstPos }}}"><span class="icon-f icf-arrows"></span> {{{ sMoveToFirstPos }}}</button>\n\t\t<button class="btn btn-move-begin-page btn-default btn-lg" title="{{{ sMoveToBeginPage }}}"><span class="icon-f icf-arrows"></span> {{{ sMoveToBeginPage }}}</button>\n\t\t<button class="btn btn-move-to btn-default btn-lg" title="{{{ sMoveToOtherList }}}"><span class="icon-f icf-mail-forward"></span> {{{ sMoveToOtherList }}}</button>\n\t\t<button class="btn btn-delete btn-danger btn-lg" title="{{{ sDelete }}}"><span class="icon-f icf-trash"></span> {{{ sDelete }}}</button>\n\n\t\t<button class="btn btn-cancel btn-default btn-lg" title="{{{ sCancel }}}"><span class="icon-f icf-close-thin"></span> {{{ sCancel }}}</button>\n\n\t\t<a class="btn btn-link-pl btn-link btn-lg hide-on-reorder" href="{{{ sPlayListPageHref }}}" target="_blank" title="{{{ sPlayListPage }}}"><span class="icon-f icf-player-play-circle-o"></span> {{{ sPlayListPage }}}</a>\n\t\t<a class="btn btn-link-rpl btn-link btn-lg hide-on-reorder" href="{{{ sRandomPlayListPageHref }}}" target="_blank" title="{{{ sRandomPlayListPage }}}"><span class="icon-f icf-random"></span> {{{ sRandomPlayListPage }}}</a>\n\t\t<a class="btn btn-link-pl btn-link btn-lg hide-on-reorder" href="{{{ sListPageHref }}}" target="_blank" title="{{{ sListPage }}}"><span class="icon-f icf-arrow-right"></span> {{{ sListPage }}}</a>\n\t</div>\n\n\t<div class="mozaique thumbs-5-cols"></div>\n</div>'
}),
define("text!skins/default/video/playlists/edit_list_delete_btn.mustache", [], function() {
    return '<button class="btn btn-default delete" type="button">\n\t<span class="icon-f icf-trash"></span>\n\t{{{ sDelete }}}\n</button>'
}),
define("text!skins/default/video/playlists/edit_list_voters_btn.mustache", [], function() {
    return '{{#oVote.iTotal}}\n\t<button class="btn btn-vote btn-link btn-lg hide-on-reorder" title="{{{ sVoters }}}">\n\t\t<span class="mobile-hide">\n\t\t\t{{#oVote.iGood}}<span class="icon-f icf-thumb-up"></span> {{{ oVote.sGood }}}{{/oVote.iGood}}\n\t\t\t<span class="icon-f icf-heart"></span> {{{ oVote.sRating }}}\n\t\t\t{{#oVote.iBad}}<span class="icon-f icf-thumb-down"></span> {{{ oVote.sBad }}}{{/oVote.iBad}}\n\t\t</span>\n\t\t<span class="mobile-show-inline">\n\t\t\t<span class="icon-f icf-thumb-up"></span> {{{ oVote.sRating }}}\n\t\t</span>\n\t</button>\n{{/oVote.iTotal}}'
}),
define("text!skins/default/video/playlists/edit_list_voters.mustache", [], function() {
    return '<div class="favlist-edit">\n\t<button type="button" class="btn btn-default btn-back"><span class="icon-f icf-chevron-left"></span> {{{ sBack }}}</button>\n\t<div class="voters-list">\n\t\t<p class="voters-list-title">\n\t\t\t{{{ sTitle }}}\n\t\t\t<span class="voters-list-votes">\n\t\t\t\t<span class="good">\n\t\t\t\t\t<span class="icon-f icf-thumb-up"></span> {{{ sGood }}}\n\t\t\t\t</span>\n\t\t\t\t<span class="rating">\n\t\t\t\t\t<span class="icon-f icf-heart"></span> {{{ sRating }}}\n\t\t\t\t</span>\n\t\t\t\t<span class="bad">\n\t\t\t\t\t<span class="icon-f icf-thumb-down"></span> {{{ sBad }}}\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</p>\n\n\t\t<ul class="voters">\n\t\t\t{{{ sVoters }}}\n\t\t\t{{^bLastPage}}\n\t\t\t\t<li class="action">\n\t\t\t\t\t<button type="button" class="btn btn-default btn-danger init-ok load-more-voters">\n\t\t\t\t\t\t<span>{{{ sShowMore }}}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t{{/bLastPage}}\n\t\t</ul>\n\t</div>\n</div>'
}),
define("text!skins/default/video/playlists/edit_list_voter.mustache", [], function() {
    return '<li>\n\t<a href="/profiles/{{{ name }}}" title="{{{ display }}}">\n\t\t<figure><img src="{{{ picture }}}" alt="{{{ display }}}"/></figure>\n\t\t<span>{{{ display }}}</span>\n\t</a>\n</li>'
}),
define("skins/default/video/playlists/one_list", ["config/main", "static/utils", "mustache", "lib/i18n!front", "lib/helpers/overlay/contextual_popup", "lib/helpers/dragdrop_select_and_reorder", "lib/helpers/inline_loader", "skins/default/mozaique/thumb_block_menu", "skins/default/mozaique/thumb_block_common_init", "skins/form/validator", "skins/default/pagination", "text!./tb_list_elem_base.mustache", "text!./tb_list_elem_base_line.mustache", "text!./tb_list_elem_base_small_line.mustache", "text!./tb_list_elem_add_to.mustache", "text!./tb_list_elem_edit.mustache", "text!./tb_list_elem_move_to.mustache", "text!./edit_list.mustache", "text!./edit_list_delete_btn.mustache", "text!./edit_list_voters_btn.mustache", "text!./edit_list_voters.mustache", "text!./edit_list_voter.mustache"], function(e, t, i, n, o, s, a, r, l, u, f, c, d, h, p, _, g, m, b, v, D, y) {
    var w = function(e, t) {
        if (void 0 !== e) {
            this.bListOfLists = void 0 !== t && "object" == typeof t,
            this.oListOfLists = this.bListOfLists ? t : null,
            this.sType = this.bListOfLists && "undefined" != typeof t.sType ? t.sType : "undefined" != typeof e.type ? e.type : null,
            this.sId = e.id,
            this.sName = this.t = e.name,
            this.sUrl = this.u = e.url,
            this.sPlaylistUrl = !!e.playlist && e.playlist,
            this.sPlaylistUrlParams = !!e.pl_params && e.pl_params,
            this.sRandomPlaylistUrl = !!e.rand_playlist && e.rand_playlist,
            this.sHistoricalStart = "favlist_" + this.sId + "_",
            this.oCsrf = e.csrf ? e.csrf : {},
            this.bWatchLater = !!e.watch_later,
            this.aCover = e.cover,
            this.sVisibility = e.status,
            this.bIsLoading = !1,
            this.bIsLoadingVoters = !1,
            this.bHasMoreVideosToLoad = !1,
            this.bNeedInfoUpdate = !0,
            this.bNeedTBElemUpdate = !1,
            this.bVideoListMenuPined = !1,
            this.bVideoListMenuShowMore = !0,
            this.bVideoListMenuShowMoreAuto = !0,
            this.sFormEdit = "",
            this.aFormEditValidationRules = [],
            this.iDelayTouch = 500,
            this.iPage = 0,
            this.iLoadedPage = null,
            this.iMobileOnlyWidth = this.oListOfLists && this.oListOfLists.iMobileOnlyWidth ? this.oListOfLists.iMobileOnlyWidth : 0,
            this.iMobileWidth = this.oListOfLists && this.oListOfLists.iMobileWidth ? this.oListOfLists.iMobileWidth : 0,
            this.iHeaderMobileHeight = 0,
            this.iClosestListMenuRelativeParentTop = 0,
            this.iNbVideos = e.nb_videos,
            this.sNbVideosFormatted = e.nb_videos_f,
            this.iNbVideosPerPage = 0,
            this.aVideos = [],
            this.iNbTags = e.nb_tags,
            this.oTags = e.tags,
            this.bMaxVideosReached = this.bHadMaxVideosReached = e.bMaxVideosReached,
            this.$EditContainer = null,
            this.$FormEditContainer = null,
            this.$VideoListContainer = null,
            this.$VideoListMenuShowMore = null,
            this.$VideoListMenuShowMoreIcf = null,
            this.$BtnSelect = null,
            this.$BtnEmpty = null,
            this.$BtnReorder = null,
            this.$BtnCheckAll = null,
            this.$BtnMoveFirst = null,
            this.$BtnMoveBeginPage = null,
            this.$BtnMoveTo = null,
            this.$BtnDelete = null,
            this.$VotersBtn = null,
            this.$BtnCancel = null,
            this.$BtnsLink = null,
            this.oTbMenu = null,
            this.oVote = {
                bLoaded: !1,
                iTotal: 0,
                iGood: 0,
                iBad: 0,
                iRating: 0,
                sTotal: "",
                sGood: "",
                sBad: "",
                sRating: ""
            },
            this.bInList = !!e.in_list,
            this.bListOfLists && (this.initHistoricalNav(),
            t.oOptions.sIdVideo && (this.sIdVideo = t.oOptions.sIdVideo.toString())),
            this.bIsMobileOnly = $(window).width() < this.iMobileOnlyWidth;
            var i = this;
            $(window).on("resize", function() {
                var e = $(window).width();
                i.bIsMobileOnly = e < i.iMobileOnlyWidth,
                i.updateHeaderMobileHeight(),
                i.updateVideoListMenu()
            })
        }
    };
    return w.prototype = {
        getId: function() {
            return this.sId
        },
        getName: function() {
            return this.sName
        },
        getFullUrl: function() {
            return e.domains.slave + this.sUrl
        },
        getUrl: function() {
            return this.sUrl
        },
        getMainContainer: function() {
            return this.oListOfLists.getContainer()
        },
        getListListContainer: function() {
            return this.oListOfLists.getListContainer()
        },
        getPlaylistUrl: function() {
            return this.sPlaylistUrl
        },
        getRandomPlaylistUrl: function() {
            return this.sRandomPlaylistUrl
        },
        getType: function() {
            return this.sType
        },
        getCover: function() {
            return this.aCover && this.aCover.length ? this.aCover.length < 4 ? '<img src="' + this.aCover[0] + '" alt="" />' : '<img src="' + this.aCover[0] + '" alt="" class="top-left"/><img src="' + this.aCover[1] + '" alt="" class="top-right" /><img src="' + this.aCover[2] + '" alt="" class="bottom-left" /><img src="' + this.aCover[3] + '" alt="" class="bottom-right" />' : '<img src="' + xv.conf.domains["static"] + '/v3/img/skins/default/favorites/default169ll.png" alt="" />'
        },
        getVisibility: function() {
            return this.sVisibility
        },
        getVisibilityPicto: function(e) {
            var t = '<span class="icon-f icf-';
            switch (void 0 === e && (e = this.sVisibility),
            e) {
            case "NOBODY":
                t += "eye-blocked";
                break;
            case "FRIEND":
                t += "users";
                break;
            case "REGISTER":
                t += "user-check";
                break;
            case "ANYONE":
            default:
                t += "eye"
            }
            return t += '"></span>'
        },
        getTags: function() {
            if (!this.oTags)
                return [];
            var e = [];
            for (var t in this.oTags)
                e.push({
                    sId: t,
                    sName: this.oTags[t]
                });
            return e
        },
        getTagsHTMLList: function() {
            sTags = "";
            var e = this.getTags();
            if (e && e.length)
                for (var t = 0; t < e.length; t++) {
                    var i = e[t];
                    sTags += ' <span class="tag">' + i.sName + "</span>"
                }
            return sTags
        },
        getMoveToCsrf: function() {
            return !(!this.oCsrf || !this.oCsrf.moveto) && this.oCsrf.moveto
        },
        isWatchLater: function() {
            return this.bWatchLater
        },
        isVideoInList: function() {
            return this.bInList
        },
        isListFull: function() {
            return this.bMaxVideosReached
        },
        setPage: function(e) {
            this.iPage = e
        },
        setLoadedPage: function(e) {
            this.iLoadedPage = e
        },
        getPage: function() {
            return this.iPage
        },
        getPreviousPage: function() {
            var e = this.iPage - 1;
            return e > 0 ? e : 0
        },
        getNextPageToLoad: function() {
            var e = this.iLoadedPage ? this.iLoadedPage : this.iPage;
            return ++e
        },
        setPopError: function(e, t, i) {
            this.unsetPopLoader(),
            "string" != typeof t && (t = n.__("misc.error_please_retry")),
            "string" == typeof e && e.length ? t.length && (e = " : " + e) : e = "";
            var s = t + e;
            s.length || (s = n.__("misc.error_please_retry")),
            o.alert('<span class="text-danger">' + s + "</span>", "function" == typeof i ? i : null)
        },
        setPopLoader: function(e) {
            this.unsetPopLoader(),
            this.oPopLoader = o.loading(e)
        },
        unsetPopLoader: function() {
            this.oPopLoader && (this.oPopLoader.close(),
            this.oPopLoader = null)
        },
        getThumbBlockElem: function() {
            var e = this.oListOfLists.getDisplayMode();
            "add_to" === this.sType ? this.setThumbBlockAddTo(e) : "move_to" === this.sType ? this.setThumbBlockMoveTo(e) : this.setThumbBlockEdit(e);
            var t = r.init_listing(this.$TBElem, {
                type: "favlist",
                favorite: this
            });
            return this.oTbMenu = "object" == typeof t && "undefined" != typeof t[0] ? t[0] : null,
            this.bNeedTBElemUpdate = !1,
            this.$TBElem
        },
        setThumbBlock: function(e, t) {
            var n;
            n = "list" === t ? $(i.render(d, {
                sId: this.getId(),
                sPicto: this.getVisibilityPicto(),
                sName: this.getName(),
                bWatchLater: this.isWatchLater(),
                sNbVideos: this.getNbVideosTxt(),
                sTags: this.getTagsHTMLList(),
                bInList: this.isVideoInList(),
                bIsFull: this.isListFull(),
                sFull: xv.i18n.__("video.favs.full"),
                sFullTitle: xv.i18n.__("video.favs.max_vids_reached"),
                sAction: e
            })) : "cols" === t ? $(i.render(h, {
                sId: this.getId(),
                sPicto: this.getVisibilityPicto(),
                sName: this.getName(),
                bWatchLater: this.isWatchLater(),
                sNbVideos: this.getNbVideosTxt(),
                bInList: this.isVideoInList(),
                bIsFull: this.isListFull(),
                sFull: xv.i18n.__("video.favs.full"),
                sFullTitle: xv.i18n.__("video.favs.max_vids_reached"),
                sAction: e
            })) : $(xv.thumbs.get_thumb_block_html(this, "favlist", {
                tb_thumb_end: i.render(c, {
                    bWatchLater: this.bWatchLater
                }) + (e || "")
            }).html),
            this.$TBElem && this.$TBElem.length && this.$TBElem.parents("body").length && this.$TBElem.replaceWith(n),
            this.$TBElem = n
        },
        resetThumbBlockEvents: function() {
            "add_to" === this.sType ? this.setThumbBlockAddToEvents() : this.setThumbBlockEditEvents()
        },
        "delete": function() {
            var e = this;
            o.confirm(n.__("video.favs.delete_confirm"), function() {
                e.setPopLoader(),
                $.post({
                    url: "/api/playlists/list/" + e.sId + "/delete",
                    dataType: "json",
                    data: {
                        csrf: e.oCsrf["delete"]
                    },
                    success: function(t) {
                        t.result || e.setPopError(t.message)
                    },
                    error: function(t, i, n) {
                        e.setPopError(n)
                    },
                    complete: function() {
                        e.oListOfLists.loadList(),
                        e.unsetPopLoader()
                    }
                })
            })
        },
        initHistoricalNav: function() {
            var e = this;
            this.oListOfLists.setHistoricalFunc("pl_edit_" + this.sId, function() {
                e.showEdit()
            })
        },
        setThumbBlockAddTo: function(e) {
            var t = {
                bMaxVideosReached: !!this.bMaxVideosReached,
                bWatchLater: this.bWatchLater,
                bInList: !!this.bInList,
                sMax: n.__("video.favs.full"),
                bDisplayModeList: "mozaique" !== e,
                sAdd: !this.bInList && this.bMaxVideosReached ? n.__("video.favs.full") : n.__("video.favs.add_video"),
                sRemove: n.__("video.favs.remove_video_from_list")
            };
            this.setThumbBlock(i.render(p, t), e),
            this.$MaxVideosReached = this.$TBElem.find(".max-videos-reached"),
            this.setThumbBlockAddToEvents()
        },
        setThumbBlockAddToEvents: function() {
            var e = this;
            this.$TBElem.find(".pl-add-remove").off("click").on("click", function(t) {
                t.preventDefault(),
                e.bInList ? e.removeVideoFromList() : e.addVideoToList()
            })
        },
        addVideoToList: function() {
            this.addRemoveVideo("add")
        },
        removeVideoFromList: function() {
            this.addRemoveVideo("remove")
        },
        addRemoveVideo: function(e) {
            if ("add" === e && this.bMaxVideosReached)
                return o.alert(n.__("video.favs.max_vids_reached")),
                !1;
            var t = this
              , i = n.__("add" === e ? "video.favs.error_occured_adding" : "video.favs.error_occured_removing")
              , s = "add" === e ? n.__("video.favs.adding_video") : n.__("video.favs.removing_video");
            this.setPopLoader(s + ' "' + this.sName + '"...'),
            $.post({
                url: "/api/playlists/list/" + this.sId + "/" + e + "/" + this.sIdVideo,
                dataType: "json",
                data: {
                    csrf: this.oCsrf[e]
                },
                success: function(n) {
                    return n.result ? n.logged ? void t.setToInList("add" === e) : void t.oListOfLists.displayLogin() : void t.setPopError(n.message, i)
                },
                error: function(e, n, o) {
                    t.setPopError(o, i)
                },
                complete: function() {
                    t.unsetPopLoader()
                }
            })
        },
        setToInList: function(e, t) {
            "boolean" != typeof e && (e = !0),
            e !== this.bInList && ("boolean" != typeof t && (t = !0),
            this.bInList = e,
            this.bInList ? (this.$TBElem && this.$TBElem.length && this.$TBElem.addClass("in-favlist"),
            t && (this.iNbVideos++,
            this.bNeedInfoUpdate = !0,
            this.bMaxVideosReached = this.bHadMaxVideosReached,
            this.bMaxVideosReached && this.$MaxVideosReached.show())) : (this.$TBElem && this.$TBElem.length && this.$TBElem.removeClass("in-favlist"),
            t && (this.iNbVideos--,
            this.iNbVideos < 1 && this.reloadListInfos(),
            this.bMaxVideosReached ? (this.bMaxVideosReached = !1,
            this.$MaxVideosReached.hide()) : this.bHadMaxVideosReached = !1)),
            this.bNeedTBElemUpdate = !0,
            this.getThumbBlockElem())
        },
        setThumbBlockMoveTo: function(e) {
            var t = {
                bDisplayModeList: "mozaique" !== e,
                sMoveTo: n.__("video.favs.move_to_this_list")
            };
            this.setThumbBlock(i.render(g, t), e),
            this.setThumbBlockMoveToEvents()
        },
        setThumbBlockMoveToEvents: function() {
            var e = this;
            this.$TBElem.find(".pl-move-to").off("click").on("click", function(t) {
                t.preventDefault(),
                e.moveVideosToThisList()
            })
        },
        moveVideosToThisList: function() {
            this.oListOfLists.moveVideosToOtherList(this.sId)
        },
        setThumbBlockEdit: function(e) {
            var t = {
                bDisplayModeList: "mozaique" !== e,
                sEdit: n.__("video.favs.edit_this_list")
            };
            this.setThumbBlock(i.render(_, t), e),
            this.setThumbBlockEditEvents()
        },
        setThumbBlockEditEvents: function() {
            var e = this;
            this.$TBElem.find(".pl-edit").off("click").on("click", function(t) {
                t.preventDefault(),
                e.showEdit()
            })
        },
        showEdit: function() {
            if (bIsLogged = e.dyn.login_info.is_logged,
            !bIsLogged)
                return void this.oListOfLists.displayLogin();
            this.initEditHTML(),
            this.oListOfLists.setContent(this.$EditContainer, "pl_edit_" + this.sId),
            this.updateVideoListMenu(),
            this.updateEditInfos(),
            this.updateHeaderMobileHeight()
        },
        initEditHTML: function() {
            var e = this;
            this.$EditContainer = $(i.render(m, {
                bMaxVideosReached: !!this.bMaxVideosReached,
                bWatchLater: !!this.bWatchLater,
                sTitle: this.sName,
                aVideos: this.aVideos,
                sNbVideo: this.getNbVideosTxt(),
                sMaxTitle: n.__("video.favs.max_vids_reached"),
                sMax: n.__("video.favs.full"),
                sShowMore: n.__("misc.show_less"),
                sBack: n.__("misc.back"),
                sPlayListPageHref: this.sPlaylistUrl,
                sRandomPlayListPageHref: this.sRandomPlaylistUrl,
                sPlayListPage: n.__("video.favs.play_playlist"),
                sRandomPlayListPage: n.__("video.favs.play_random_playlist"),
                sListPageHref: this.sUrl,
                sListPage: n.__("video.favs.list_page"),
                sEmpty: n.__("video.favs.empty_the_list"),
                sReorder: n.__("video.favs.reorder_videos"),
                sSelect: n.__("video.favs.select_videos"),
                sCheckUncheckAll: n.__("form.check_uncheck_all"),
                sMoveToFirstPos: n.__("reorder.move_to_first_pos"),
                sMoveToBeginPage: n.__("reorder.move_to_begin_page"),
                sMoveToOtherList: n.__("video.favs.move_to_other_list"),
                sDelete: n.__("misc.delete"),
                sCancel: n.__("misc.cancel")
            })),
            this.$VideoListContainer = this.$EditContainer.find(".mozaique"),
            this.$VideoListMenu = this.$EditContainer.find(".favlist-edit-list-menu"),
            this.$VideoListMenuShowMore = this.$EditContainer.find(".btn-show-more"),
            this.$VideoListMenuShowMoreIcf = this.$VideoListMenuShowMore.find(".icf-minus-square"),
            this.$VideoListMenuLegend = this.$VideoListMenu.find(".legend"),
            this.$FormEditContainer = this.$EditContainer.find(".favlist-edit-form");
            var o = this.$EditContainer.find(".btn-back");
            this.$BtnSelect = this.$VideoListMenu.find(".btn-select"),
            this.$BtnEmpty = this.$VideoListMenu.find(".btn-empty"),
            this.$BtnReorder = this.$VideoListMenu.find(".btn-reorder"),
            this.$BtnCheckAll = this.$VideoListMenu.find(".btn-check-all"),
            this.$BtnMoveFirst = this.$VideoListMenu.find(".btn-move-first"),
            this.$BtnMoveBeginPage = this.$VideoListMenu.find(".btn-move-begin-page"),
            this.$BtnMoveTo = this.$VideoListMenu.find(".btn-move-to"),
            this.$BtnDelete = this.$VideoListMenu.find(".btn-delete"),
            this.$VotersBtn = this.$VideoListMenu.find(".btn-vote"),
            this.$BtnCancel = this.$VideoListMenu.find(".btn-cancel"),
            this.$BtnsLink = this.$VideoListMenu.find(".btn-link"),
            this.$VideoListMenuShowMore.on("click", function(t) {
                t.preventDefault(),
                e.toggleVideoListMenuShowMore()
            }),
            o.on("click", function(t) {
                t.preventDefault(),
                window.history && window.history.back ? window.history.back() : e.goBackToListOfList()
            }),
            this.$BtnSelect.on("click", function(t) {
                t.preventDefault(),
                e.oDragDrop && e.oDragDrop.setReorderMode("moveMany")
            }),
            this.$BtnCancel.on("click", function(t) {
                t.preventDefault(),
                e.oDragDrop && e.oDragDrop.setReorderMode(null)
            }),
            this.$BtnCheckAll.on("click", function(t) {
                t.preventDefault(),
                !$(this).hasClass("disabled") && e.oDragDrop && e.oDragDrop.toggleSelectAll()
            }),
            this.$BtnMoveFirst.on("click", function(t) {
                t.preventDefault(),
                !$(this).hasClass("disabled") && e.oDragDrop && e.oDragDrop.moveToFirstPos()
            }),
            this.$BtnMoveBeginPage.on("click", function(t) {
                t.preventDefault(),
                !$(this).hasClass("disabled") && e.oDragDrop && e.oDragDrop.moveToBeginPage()
            }),
            this.getPage() < 1 && this.$BtnMoveBeginPage.hide(),
            this.oListOfLists.getNbLists() > 1 ? this.$BtnMoveTo.on("click", function(t) {
                t.preventDefault(),
                !$(this).hasClass("disabled") && e.oDragDrop && e.moveVideosToOtherList()
            }) : this.$BtnMoveTo.remove(),
            this.$BtnDelete.on("click", function(t) {
                t.preventDefault(),
                $(this).hasClass("disabled") || e.deleteSelectedVideos()
            }),
            t.isTouchScreen() ? this.$BtnReorder.remove() : this.$BtnReorder.on("click", function(t) {
                t.preventDefault(),
                e.oDragDrop && e.oDragDrop.setReorderMode("moveOneNoSelect")
            }),
            this.iNbVideos > 0 ? this.$BtnEmpty.on("click", function(t) {
                t.preventDefault(),
                e.deleteAllVideos()
            }) : this.$BtnEmpty.hide()
        },
        goBackToListOfList: function() {
            this.$VideoListContainer = null,
            this.oDragDrop = null,
            this.oListOfLists.showList()
        },
        getNbVideos: function() {
            return this.iNbVideos
        },
        getNbVideosFormatted: function() {
            return this.sNbVideosFormatted
        },
        getNbVideosTxt: function() {
            return "string" == typeof this.getNbVideosFormatted() ? n.__("misc.nb_videos", {
                "%count%": this.getNbVideosFormatted()
            }) : this.getNbVideos() > 1 ? n.__("misc.nb_videos", {
                "%count%": String(this.getNbVideos())
            }) : n.__("misc.one_video", {
                "%count%": String(this.getNbVideos())
            })
        },
        updateHeaderMobileHeight: function() {
            var e = $(window).width()
              , t = $(window).height();
            if (this.iHeaderMobileHeight = e < this.iMobileWidth && e < t ? 41 : 0,
            this.$VideoListMenu && this.$VideoListMenu.length && this.$VideoListMenu.is(":visible")) {
                var i = this.$VideoListMenu.parents().filter(function() {
                    var e = $(this);
                    return e.is("body") || "relative" === e.css("position")
                }).slice(0, 1);
                this.iClosestListMenuRelativeParentTop = Math.round(i.offset().top)
            }
        },
        updateVideoListMenu: function() {
            if (this.$VideoListMenu && this.$VideoListMenu.length && this.$VideoListMenu.is(":visible")) {
                var e = ""
                  , t = ""
                  , i = 0;
                this.oDragDrop && (t = this.oDragDrop.getReorderMode(),
                i = this.oDragDrop.countSelectedElems(),
                e += "_" + t,
                e += "_" + i.toString()),
                e += "_" + this.getPage().toString(),
                this.sLastVideoListMode !== e && (this.oDragDrop && this.oDragDrop.isReorderActivated() ? (this.$BtnSelect.hide(),
                this.$BtnEmpty.hide(),
                this.$BtnReorder.hide(),
                this.$BtnsLink.hide(),
                this.$VotersBtn.hide(),
                "moveMany" === t ? (this.$BtnCheckAll.show(),
                this.$BtnMoveFirst.show(),
                this.$BtnMoveTo.show(),
                this.$BtnDelete.show(),
                this.getPage() > 0 ? this.$BtnMoveBeginPage.show() : this.$BtnMoveBeginPage.hide()) : (this.$BtnMoveFirst.hide(),
                this.$BtnMoveBeginPage.hide(),
                this.$BtnMoveTo.hide(),
                this.$BtnDelete.hide()),
                this.$BtnCancel.show(),
                i > 0 ? (this.$BtnMoveFirst.removeClass("disabled"),
                this.$BtnMoveBeginPage.removeClass("disabled"),
                this.$BtnMoveTo.removeClass("disabled"),
                this.$BtnDelete.removeClass("disabled")) : (this.$BtnMoveFirst.addClass("disabled"),
                this.$BtnMoveBeginPage.addClass("disabled"),
                this.$BtnMoveTo.addClass("disabled"),
                this.$BtnDelete.addClass("disabled"))) : (this.$BtnSelect.show(),
                this.$BtnEmpty.show(),
                this.$BtnReorder.show(),
                this.$BtnsLink.show(),
                this.$VotersBtn.show(),
                this.$BtnCheckAll.hide(),
                this.$BtnMoveFirst.hide(),
                this.$BtnMoveBeginPage.hide(),
                this.$BtnMoveTo.hide(),
                this.$BtnDelete.hide(),
                this.$BtnCancel.hide()));
                var n = this.$VideoListMenu.find(".legend, .btn:not(.btn-show-more)")
                  , o = null
                  , s = !1;
                n.each(function() {
                    var e = $(this);
                    if (e && e.length && e.is(":visible"))
                        return null === o ? void (o = e.position().top) : void (e.position().top > o && (s = !0))
                }),
                s ? (this.$VideoListMenuShowMore.show(),
                this.$VideoListMenu.addClass(this.bVideoListMenuShowMore ? "is-opened" : "is-closed")) : (this.$VideoListMenuShowMore.hide(),
                this.$VideoListMenu.removeClass("is-opened is-closed"))
            }
        },
        toggleVideoListMenuShowMore: function(e) {
            if (e || (this.bVideoListMenuShowMoreAuto = !1),
            !this.$VideoListMenuShowMore || !this.$VideoListMenuShowMore.length)
                return void this.$VideoListMenu.removeClass("is-opened is-closed");
            this.bVideoListMenuShowMore = !this.bVideoListMenuShowMore,
            this.bVideoListMenuShowMore ? (this.$VideoListMenuShowMore.prop("title", n.__("misc.show_less")),
            this.$VideoListMenuShowMoreIcf.removeClass("icf-plus-square").addClass("icf-minus-square"),
            this.$VideoListMenu.removeClass("is-closed").addClass("is-opened")) : (this.$VideoListMenuShowMore.prop("title", n.__("misc.show_more")),
            this.$VideoListMenuShowMoreIcf.removeClass("icf-minus-square").addClass("icf-plus-square"),
            this.$VideoListMenu.removeClass("is-opened").addClass("is-closed"))
        },
        reloadListInfos: function() {
            this.bNeedInfoUpdate = !0,
            this.bNeedTBElemUpdate = !0,
            this.loadListInfos("same-page")
        },
        loadListInfos: function(e, t) {
            if (!this.bIsLoading) {
                if (!this.bNeedInfoUpdate && ("number" != typeof e || e === this.getPage()))
                    return void this.updateEditInfos();
                this.bIsLoading = !0;
                var i = this.getMainContainer();
                i && i.length && i.addClass("is-loading-videos"),
                this.$VideoListContainer && (t ? this.$VideoListContainer.append($('<div class="thumb-block loader">' + a.getIcf() + "</div>")) : this.$VideoListContainer.empty().append($('<div class="thumb-block loader">' + a.getIcf() + "</div>")));
                var o = this;
                if ("number" != typeof e) {
                    var s = "/api/playlists/list/" + this.sId;
                    "same-page" === e && (s += "/" + this.getPage()),
                    $.post({
                        url: s,
                        dataType: "json",
                        success: function(t) {
                            if (!t.result)
                                return void o.setPopError(t.message, n.__("loading.error"));
                            "same-page" === e && 0 !== o.iNbVideos || (o.setPage(0),
                            o.aVideos = o.removeDeletedVideos(t.list.videos)),
                            o.oListOfLists.updateAllLoadedListData(o.sId, t, "load-list"),
                            o.bNeedInfoUpdate = !1,
                            o.oVote.bLoaded = !0,
                            o.updateEditInfos()
                        },
                        error: function(e, t, i) {
                            o.setPopError(i, n.__("loading.error"))
                        },
                        complete: function() {
                            o.bIsLoading = !1,
                            i && i.length && i.removeClass("is-loading-videos")
                        }
                    })
                } else
                    $.post({
                        url: "/api/playlists/list/" + this.sId + "/videos/" + e,
                        dataType: "json",
                        success: function(i) {
                            if (!i.result)
                                return void o.setPopError(i.message, n.__("loading.error"));
                            o.bHasMoreVideosToLoad = i.nb_more > 0;
                            var s = o.removeDeletedVideos(i.videos);
                            t ? (o.setLoadedPage(e),
                            o.concatNewVideos(s)) : (o.setPage(e),
                            o.aVideos = s,
                            o.updateEditInfos())
                        },
                        error: function(e, t, i) {
                            o.setPopError(i, n.__("loading.error"))
                        },
                        complete: function() {
                            o.bIsLoading = !1,
                            i && i.length && i.removeClass("is-loading-videos")
                        }
                    })
            }
        },
        updateListData: function(e, t) {
            var i = [];
            this.iNbVideos = e.list.nb_videos,
            this.iNbVideosPerPage = e.list.nb_per_page,
            this.bHasMoreVideosToLoad = e.list.nb_more > 0,
            e.list.cover && (this.aCover = e.list.cover),
            e.list.csrf && (this.oCsrf = e.list.csrf),
            e.list.vote && e.list.vote.nbtotal && (this.oVote.iTotal = e.list.vote.nbtotal,
            this.oVote.iGood = e.list.vote.nbgood,
            this.oVote.iBad = e.list.vote.nbbad,
            this.oVote.iRating = e.list.vote.rating,
            this.oVote.sTotal = e.list.vote.total,
            this.oVote.sGood = e.list.vote.vgood,
            this.oVote.sBad = e.list.vote.vbad,
            this.oVote.sRating = e.list.vote.vrating),
            this.sFormEdit = e.form,
            this.aFormEditValidationRules = e.js_validation_rules;
            var n = !0;
            for (var o in this.oTags)
                if (!e.list.tags || !e.list.tags[o]) {
                    n = !1;
                    break
                }
            if (n)
                for (var s in e.list.tags)
                    if (!this.oTags || !this.oTags[s]) {
                        n = !1;
                        break
                    }
            return n || (i.push("tags"),
            this.oTags = e.list.tags),
            this.iNbTags !== e.list.nb_tags && (i.push("nb_tags"),
            this.iNbTags = e.list.nb_tags),
            this.sName !== e.list.name && (i.push("name"),
            this.sName = this.t = e.list.name),
            this.sUrl !== e.list.url && (i.push("url"),
            this.sUrl = this.u = e.list.url),
            this.bMaxVideosReached !== e.list.max_videos_reached && (i.push("max_videos_reached"),
            this.bMaxVideosReached = this.bHadMaxVideosReached = e.list.max_videos_reached),
            this.sVisibility !== e.list.status && (i.push("status"),
            this.sVisibility = e.list.status),
            this.iNbVideos !== e.list.nb_videos && (i.push("nb_videos"),
            this.iNbVideos = e.list.nb_videos),
            "edit-save" === t && (this.bNeedTBElemUpdate = !0,
            this.bNeedInfoUpdate = !0),
            i
        },
        removeDeletedVideos: function(e) {
            for (var t in e)
                if (e[t].deleted)
                    return e.splice(t, 1),
                    this.removeDeletedVideos(e);
            return e
        },
        reinitEditForm: function(e) {
            var t = this.sFormEdit
              , o = this.aFormEditValidationRules;
            void 0 !== e && (t = e.form,
            o = e.js_validation_rules),
            this.$FormEditContainer.html(t);
            var s = this
              , a = this.$FormEditContainer.find("form")
              , r = a.find("#" + a.prop("id") + "_status");
            if (a.on("submit", function(e) {
                e.preventDefault(),
                s.setPopLoader(n.__("misc.submitting")),
                $.post({
                    url: "/api/playlists/list/" + s.sId + "/update",
                    dataType: "json",
                    data: a.serializeArray(),
                    success: function(e) {
                        if (!e.result || !e.list)
                            return void (2 === e.code && e.form && e.js_validation_rules ? s.reinitEditForm({
                                form: e.form,
                                js_validation_rules: e.js_validation_rules
                            }) : e.result || s.setPopError(e.message, null, function() {
                                s.reinitEditForm()
                            }));
                        var t = s.oListOfLists.updateAllLoadedListData(s.sId, e, "edit-save");
                        t && (-1 !== t.indexOf("tags") && ($TagList = a.find(".tag-adder .tag-list"),
                        $TagList.removeClass("success"),
                        setTimeout(function() {
                            $TagList.addClass("success")
                        }, 50),
                        setTimeout(function() {
                            $TagList.removeClass("success")
                        }, 2e3)),
                        -1 !== t.indexOf("name") && ($InpName = a.find("#" + a.prop("id") + "_name"),
                        $InpName.removeClass("success"),
                        setTimeout(function() {
                            $InpName.addClass("success")
                        }, 50),
                        setTimeout(function() {
                            $InpName.removeClass("success")
                        }, 2e3)),
                        -1 !== t.indexOf("status") && (r.removeClass("success"),
                        setTimeout(function() {
                            r.addClass("success")
                        }, 50),
                        setTimeout(function() {
                            r.removeClass("success")
                        }, 2e3))),
                        p.resetSubmit()
                    },
                    error: function(e, t, i) {
                        s.setPopError(i, null, function() {
                            s.reinitEditForm()
                        })
                    },
                    complete: function() {
                        s.unsetPopLoader()
                    }
                })
            }),
            r && r.length) {
                var l = $(this.getVisibilityPicto(r.val()))
                  , f = $("<label></label>");
                f.addClass("favlist-status-label select-label").insertBefore(r).append(r),
                l.addClass("favlist-status-picto").prependTo(f),
                r.on("change", function(e) {
                    e.preventDefault();
                    var t = $(s.getVisibilityPicto(r.val()));
                    t.addClass("favlist-status-picto"),
                    l.replaceWith(t),
                    l = t
                })
            }
            var c = a.find("button[type=submit]");
            if (!this.isWatchLater()) {
                var d = $(i.render(b, {
                    sDelete: n.__("misc.delete")
                }));
                d.insertAfter(c),
                d.on("click", function(e) {
                    e.preventDefault(),
                    s["delete"]()
                })
            }
            var h = $(i.render(v, {
                sVoters: n.__("voters.show_all"),
                oVote: this.oVote
            }));
            this.$VotersBtn && this.$VotersBtn.length ? this.$VotersBtn.replaceWith(h) : this.$VideoListMenu.append(h),
            this.$VotersBtn = h,
            this.$VotersBtn.on("click", function(e) {
                e.preventDefault(),
                s.showVoters()
            });
            var p = new u(a,o,{
                no_init_focus: !0,
                no_init_validate: !0
            });
            p.resetSubmit(),
            p.refresh()
        },
        showVoters: function() {
            this.oListOfLists.setContent($('<div class="loader">' + a.getIcf() + "</div>"));
            var e = this;
            this.iLoadedVoters = 0,
            $.post({
                url: "/api/playlists/list/" + this.sId + "/voters/0",
                dataType: "json",
                success: function(t) {
                    if (!t.result)
                        return void e.setPopError(t.message);
                    var o = "";
                    for (var s in t.voters)
                        o += i.render(y, t.voters[s]);
                    var a = i.render(D, {
                        sBack: n.__("misc.back"),
                        sVoters: o,
                        bLastPage: !!t.lastpage,
                        sGood: e.oVote.sGood,
                        sBad: e.oVote.sBad,
                        sRating: e.oVote.sRating,
                        sTitle: n.__("video.favs.people_who_voted"),
                        sShowMore: n.__("profile.see_more_profiles")
                    });
                    e.oListOfLists.setContent(a);
                    var r = e.getMainContainer();
                    r && r.length && (r.find(".btn-back").on("click", function(t) {
                        t.preventDefault(),
                        e.showEdit()
                    }),
                    !0 !== t.lastpage && r.find(".load-more-voters").on("click", function(t) {
                        t.preventDefault(),
                        e.seeMoreVoters()
                    }))
                },
                error: function(t, i, n) {
                    e.setPopError(n)
                }
            })
        },
        seeMoreVoters: function() {
            if (!this.bIsLoadingVoters) {
                this.bIsLoadingVoters = !0,
                this.iLoadedVoters++;
                var e = this.getMainContainer();
                if (e && e.length) {
                    var t = e.find(".action");
                    if (t && t.length) {
                        var n = this;
                        $.post({
                            url: "/api/playlists/list/" + this.sId + "/voters/" + this.iLoadedVoters,
                            dataType: "json",
                            success: function(o) {
                                if (n.bIsLoadingVoters = !1,
                                !o.result)
                                    return void n.setPopError(o.message, "");
                                for (var s in o.voters)
                                    $(i.render(y, o.voters[s])).insertBefore(t);
                                !0 === o.lastpage ? e.find(".load-more-voters").remove() : t.enable()
                            },
                            error: function(e, t, i) {
                                n.bIsLoadingVoters = !1,
                                n.setPopError(i, "")
                            }
                        })
                    }
                }
            }
        },
        concatNewVideos: function(e) {
            this.aVideos = this.aVideos.concat(e),
            this.$VideoListContainer.children(".loader").remove();
            for (var t in e) {
                var n = e[t]
                  , o = {};
                n.id.toString() === this.sIdVideo && (o.tb_thumb_end = i.render(c, {
                    bIsVideo: !0
                })),
                this.$VideoListContainer.append($(xv.thumbs.get_thumb_block_html(n, "video", o).html))
            }
            this.oDragDrop.updateElementList()
        },
        updateEditInfos: function() {
            if (this.bNeedInfoUpdate)
                return void this.loadListInfos();
            if (!this.$VideoListContainer || !this.$VideoListContainer.length)
                return void this.initEditHTML();
            if (this.$VideoListContainer.empty(),
            this.reinitEditForm(),
            !this.iNbVideos)
                return this.$VideoListContainer.append($("<p>" + n.__("video.favs.no_video_in_list") + "</p>")),
                void this.$VideoListMenu.removeClass("init-ok");
            for (var t in this.aVideos) {
                var o = this.aVideos[t]
                  , a = {};
                o.id.toString() === this.sIdVideo && (a.tb_thumb_end = i.render(c, {
                    bIsVideo: !0
                }));
                var r = $(xv.thumbs.get_thumb_block_html(o, "video", a).html)
                  , u = $('<a class="play" href="' + o.u + this.sPlaylistUrlParams + '" title="' + n.__("video.play_video") + '"><i class="icon-f icf-play"></i></a>');
                r.find(".thumb-under").prepend(u),
                this.$VideoListContainer.append(r)
            }
            l.init_listing(this.$VideoListContainer, {
                tb_menu: !1,
                rotator: !1
            });
            var d = this
              , h = f.createElementsBased(this.getPage(), this.iNbVideosPerPage, this.iNbVideos, "", {
                pagin_click: function(e) {
                    d.loadListInfos(e)
                }
            })
              , p = this.$VideoListContainer.parent();
            p.find(".pagination").remove(),
            h && (h.insertBefore(this.$VideoListContainer),
            h.clone(!0).insertAfter(this.$VideoListContainer),
            f.add_all_in(p));
            var _ = this.oListOfLists.getScrollableContainer();
            this.oDragDrop = new s({
                element_list: this.$VideoListContainer.find(".thumb-block"),
                scrollable_container: _,
                functions: {
                    init_elems: function(e) {
                        e.find("a:not(.play)").removeAttr("href").removeAttr("title")
                    },
                    on_reorder_mode_enabled: function() {
                        d.updateVideoListMenu()
                    },
                    on_reorder_mode_disabled: function() {
                        d.$VideoListMenuLegend.html(d.getNbVideosTxt()),
                        d.updateVideoListMenu()
                    },
                    on_scroll: function(e) {
                        if (e >= g ? d.bVideoListMenuPined ? d.oListOfLists.isInPop() || d.$VideoListMenu.css("top", e - d.iClosestListMenuRelativeParentTop + d.iHeaderMobileHeight + "px") : (d.bVideoListMenuPined = !0,
                        d.$FormEditContainer.css("paddingBottom", d.$VideoListMenu.outerHeight()),
                        d.$VideoListMenu.addClass("is-pined"),
                        d.bVideoListMenuShowMoreAuto && d.bVideoListMenuShowMore && setTimeout(function() {
                            d.toggleVideoListMenuShowMore(!0)
                        }, 20),
                        d.oListOfLists.isInPop() ? d.$EditContainer.parent().append(d.$VideoListMenu) : d.$VideoListMenu.css("top", e - d.iClosestListMenuRelativeParentTop + d.iHeaderMobileHeight + "px")) : d.bVideoListMenuPined ? (d.bVideoListMenuPined = !1,
                        d.$FormEditContainer.css("paddingBottom", ""),
                        d.oListOfLists.isInPop() ? d.$VideoListMenu.insertAfter(d.$FormEditContainer) : d.$VideoListMenu.css("top", ""),
                        d.bVideoListMenuShowMoreAuto && !d.bVideoListMenuShowMore && d.toggleVideoListMenuShowMore(!0),
                        d.$VideoListMenu.removeClass("is-pined")) : g = Math.round(d.oListOfLists.isInPop() ? d.$VideoListMenu.position().top : d.$VideoListMenu.offset().top - d.iHeaderMobileHeight),
                        d.oDragDrop && d.oDragDrop.isReorderActivated()) {
                            var t = d.oDragDrop.getElems();
                            !d.bIsLoading && d.bHasMoreVideosToLoad && e + _.innerHeight() >= Math.round(t.last().offset().top) - 20 && d.loadListInfos(d.getNextPageToLoad(), !0)
                        }
                    },
                    save_new_order: function(e, t, i) {
                        $.post({
                            url: "/api/playlists/list/" + d.sId + "/move-after/" + t,
                            dataType: "json",
                            data: {
                                ids: e,
                                csrf: d.oCsrf.move
                            },
                            success: function(e) {
                                e.result || d.setPopError(e.message, null, function() {
                                    window.location.reload()
                                }),
                                d.bNeedTBElemUpdate = !0,
                                "function" == typeof i && i()
                            },
                            error: function(e, t, i) {
                                d.bIsLoadingVoters = !1,
                                d.setPopError(i, null, function() {
                                    window.location.reload()
                                })
                            }
                        })
                    },
                    get_new_order_first_position_id: function(e) {
                        if (0 !== d.getPage()) {
                            var t = function(e) {
                                d.setPopError(e, n.__("misc.error_occured"), function() {
                                    window.location.reload()
                                })
                            };
                            return $.post({
                                url: "/api/playlists/list/" + d.sId + "/videos/" + d.getPreviousPage(),
                                dataType: "json",
                                success: function(i) {
                                    if (!i.result)
                                        return void t(i.message);
                                    if (!i.videos || !i.videos.length)
                                        return void t("");
                                    var n = i.videos.pop();
                                    if (!n || !n.id)
                                        return void t("");
                                    e(n.id)
                                },
                                error: function(e, i, n) {
                                    t(n)
                                }
                            }),
                            !1
                        }
                        e(0)
                    },
                    update_selected_count: function(t) {
                        t > 0 ? e.dyn.is_mobile ? d.$VideoListMenuLegend.html(t.toString()) : d.$VideoListMenuLegend.html(t > 1 ? n.__("video.favs.nb_selected_videos", {
                            "%nb%": t.toString()
                        }) : n.__("video.favs.one_selected_video")) : d.oDragDrop.isReorderActivated() ? d.$VideoListMenuLegend.html('<span class="icon-f icf-arrows"></span> ' + n.__("video.favs.reorder_videos")) : d.$VideoListMenuLegend.html(d.getNbVideosTxt()),
                        d.updateVideoListMenu()
                    }
                }
            }),
            this.$VideoListMenu.addClass("init-ok"),
            this.updateVideoListMenu();
            var g = Math.round(this.oListOfLists.isInPop() ? this.$VideoListMenu.position().top : this.$VideoListMenu.offset().top - this.iHeaderMobileHeight)
              , m = this.$VideoListMenu.parents().filter(function() {
                var e = $(this);
                return e.is("body") || "relative" === e.css("position")
            }).slice(0, 1);
            this.iClosestListMenuRelativeParentTop = Math.round(m.offset().top)
        },
        deleteAllVideos: function() {
            var e = o.confirm("<p>" + n.__("video.favs.empty_the_list_confirm") + '</p><p class="favlist-empty-checkbox"><label><input type="checkbox" /> ' + n.__("video.favs.empty_the_list") + " <span>(" + n.__("form.check_to_confirm") + ")</span></label></p>")
              , t = this
              , i = e.getNode().find(".favlist-empty-checkbox");
            e.getNode().find(".ok-close").off("click").on("click", function() {
                if (!e.getNode().find("label input").prop("checked"))
                    return o.alert(n.__("form.check_to_confirm")),
                    void i.addClass("is-mandatory");
                e.onClose = null,
                e.close();
                var s = t.oCsrf.remove;
                t.setPopLoader(n.__("misc.delete_in_progress")),
                $.post({
                    url: "/api/playlists/list/" + t.sId + "/empty",
                    dataType: "json",
                    data: {
                        csrf: s
                    },
                    success: function(e) {
                        e.result || t.setPopError(e.message),
                        t.reloadListInfos()
                    },
                    error: function(e, i, n) {
                        t.setPopError(n)
                    },
                    complete: function() {
                        t.unsetPopLoader()
                    }
                })
            })
        },
        deleteSelectedVideos: function(e) {
            if (this.oDragDrop) {
                "boolean" != typeof e && (e = !0);
                var t = this;
                if (!this.oDragDrop.countSelectedElems())
                    return this.iNbVideos < 1 && this.reloadListInfos(),
                    this.oDragDrop.setReorderMode(null),
                    void setTimeout(function() {
                        t.unsetPopLoader()
                    }, 400);
                var i = this.oDragDrop.popLastSelectedElement()
                  , o = this.oCsrf.remove;
                $currentBlock = this.oDragDrop.getElemById(i),
                this.setPopLoader(n.__("misc.delete_in_progress"));
                var s = function() {
                    t.iNbVideos--,
                    i === t.sIdVideo && (t.bInList = !1),
                    t.bNeedTBElemUpdate = !0,
                    $currentBlock.fadeOut(500, function() {
                        t.bMaxVideosReached ? (t.bMaxVideosReached = !1,
                        t.$MaxVideosReached.hide()) : t.bHadMaxVideosReached = !1,
                        $(this).remove();
                        for (var e in t.aVideos)
                            if (i === t.aVideos[e].id.toString()) {
                                t.aVideos.splice(e, 1);
                                break
                            }
                    })
                }
                  , a = function() {
                    t.unsetPopLoader(),
                    t.deleteSelectedVideos(e)
                };
                if (!e)
                    return s(),
                    void a();
                $.post({
                    url: "/api/playlists/list/" + this.sId + "/remove/" + i,
                    dataType: "json",
                    data: {
                        csrf: o
                    },
                    success: function(e) {
                        if (!e.result)
                            return void t.setPopError(e.message);
                        s()
                    },
                    error: function(e, i, n) {
                        t.setPopError(n)
                    },
                    complete: function() {
                        a()
                    }
                })
            }
        },
        deleteVideo: function(e, t) {
            var i = this.oCsrf.remove
              , o = this;
            this.setPopLoader(n.__("misc.delete_in_progress")),
            $.post({
                url: "/api/playlists/list/" + this.sId + "/remove/" + e,
                dataType: "json",
                data: {
                    csrf: i
                },
                success: function(e) {
                    if (!e.result)
                        return void o.setPopError(e.message);
                    t()
                },
                error: function(e, t, i) {
                    o.setPopError(i)
                },
                complete: function() {
                    o.unsetPopLoader()
                }
            })
        },
        moveVideosToOtherList: function() {
            var e = this.oDragDrop.getSelectedElems();
            if (!e.length)
                return !1;
            var t = this;
            require(["skins/default/video/playlists/manager"], function(i) {
                i.loadMoveToList(t, e)
            })
        },
        moveVideosToOtherListSuccess: function(e, t) {
            this.oListOfLists.updateListNbVideos(e, t),
            this.deleteSelectedVideos(!1)
        },
        setMovedVideos: function(e) {
            for (var t = 0, i = 0; i < e.length; i++) {
                var n = e[i];
                -1 !== this.aVideos.indexOf(n) && t++,
                this.sIdVideo === n && (this.bInList = !0)
            }
            this.iNbVideos += t,
            this.bNeedTBElemUpdate = !0,
            this.bNeedInfoUpdate = !0
        }
    },
    w
}),
define("text!skins/default/video/playlists/container.mustache", [], function() {
    return '<div class="favlists">\n\t{{^bMaxListsReached}}\n\t\t<button class="btn btn-default favlists-create" type="button">\n\t\t\t<span class="icon-f icf-favorites-add"></span>\n\t\t\t<span class="mobile-hide">{{{ sNew }}}</span>\n\t\t</button>\n\t{{/bMaxListsReached}}\n\t<h2>{{{ sTitle }}}</h2>\n\t<div class="favlists-actions">\n\t\t<div class="favlists-actions-line-1">\n\t\t\t{{#aFilters.length}}\n\t\t\t\t<label class="select-label">\n\t\t\t\t\t<span class="icon-f icf-sort-amount-asc"></span>\n\t\t\t\t\t<select class="favlists-order form-control">\n\t\t\t\t\t\t{{#aFilters}}\n\t\t\t\t\t\t\t<option value="{{{ sMode }}}"{{#bActive}} selected="selected"{{/bActive}}>{{{ sLabel }}}</option>\n\t\t\t\t\t\t{{/aFilters}}\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t\t{{#aAlphaGroups.length}}\n\t\t\t\t\t<label class="favlists-filter-alpha-label select-label">\n\t\t\t\t\t\t<span class="icon-f icf-sort-alpha-asc"></span>\n\t\t\t\t\t\t<select class="favlists-filter-alpha form-control">\n\t\t\t\t\t\t\t{{#aAlphaGroups}}\n\t\t\t\t\t\t\t\t<option value="{{{ sOption }}}"{{#bActive}} selected="selected"{{/bActive}}>{{{ sLabel }}}</option>\n\t\t\t\t\t\t\t{{/aAlphaGroups}}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t{{/aAlphaGroups.length}}\n\t\t\t{{/aFilters.length}}\n\t\t\t{{^bNoSearch}}\n\t\t\t\t<label class="favlists-search">\n\t\t\t\t\t<input type="text" class="form-control" placeholder="{{{ sPlaceHolder }}}"/>\n\t\t\t\t\t<button class="btn btn-default" type="button"><span class="icon-f icf-search"></span></button>\n\t\t\t\t</label>\n\t\t\t{{/bNoSearch}}\n\t\t\t<button class="favlists-show-more-filters btn" type="button">\n\t\t\t\t<span class="icon-f icf-sliders"></span>\n\t\t\t\t<span class="icon-f icf-plus-circle icf-white-fill"></span>\n\t\t\t\t<span class="icon-f icf-minus-circle icf-white-fill"></span>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="favlists-actions-more">\n\t\t\t<button class="favlists-display-mode btn btn-default {{{ sDisplayMode }}}" type="button">\n\t\t\t\t<span class="icon-f icf-grid-4"></span>\n\t\t\t\t<span class="icon-f icf-list-ul"></span>\n\t\t\t\t<span class="icon-f icf-columns"></span>\n\t\t\t</button>\n\t\t\t<label class="favlists-nb-per-page-cont">\n\t\t\t\t<span class="select-label">\n\t\t\t\t\t<select class="favlists-nb-per-page form-control">\n\t\t\t\t\t\t{{#aNbPerPage}}\n\t\t\t\t\t\t\t<option value="{{{ sQtt }}}"{{#bActive}} selected="selected"{{/bActive}}>{{{ sLabel }}}</option>\n\t\t\t\t\t\t{{/aNbPerPage}}\n\t\t\t\t\t</select>\n\t\t\t\t</span>\n\t\t\t\t<span>{{{ sNbPerPage }}}</span>\n\t\t\t</label>\n\t\t</div>\n\t</div>\n\n\t<div class="mozaique thumbs-5-cols {{{ sDisplayMode }}}"></div>\n\n\t{{#sCancel}}\n\t\t<div class="favlists-actions-cancel">\n\t\t\t<button type="button" class="btn btn-default btn-lg">{{{ sCancel }}}</button>\n\t\t</div>\n\t{{/sCancel}}\n</div>'
}),
define("text!skins/default/video/playlists/create_list.mustache", [], function() {
    return '<div class="favlist-create">\n\t<button type="button" class="btn btn-default btn-back"><span class="icon-f icf-chevron-left"></span> {{{ sBack }}}</button>\n\n\t<span class="favlist-picto icon-f icf-favorites"></span>\n\n\t<div class="favlist-list-title"><div class="form-horizontal"><div class="form-group"><p>{{{ sTitle }}}</p></div></div></div>\n\n\t<div class="favlist-create-form"></div>\n</div>\n'
}),
define("text!skins/default/video/playlists/login_alert.mustache", [], function() {
    return '<div class="favlist-alert-login">\n\t<p>{{{ sAlert }}}</p>\n\t<p>\n\t\t<button class="btn btn-primary btn-lg favlist-alert-login-btn" type="button">{{{ sLoginBtn }}}</button>\n\t\t{{#bWatchLaterEnabled}}\n\t\t\t<span class="separator">{{{ sSeparator }}}</span>\n\t\t\t<button class="btn btn-secondary btn-lg favlist-alert-watch-later-btn" type="button"><span class="icon-f icf-clock"></span> {{{ sWatchLaterBtn }}}</button>\n\t\t{{/bWatchLaterEnabled}}\n\t</p>\n</div>'
}),
define("skins/default/video/playlists/list_of_lists", ["config/main", "mustache", "lib/i18n!front", "lib/history", "lib/tools", "lib/helpers/overlay/box", "lib/helpers/overlay/contextual_popup", "skins/form/validator", "skins/common/history/one_info_tracker", "skins/default/pagination", "skins/default/video/watch_later", "./one_list", "text!./container.mustache", "text!./create_list.mustache"], function(e, t, i, n, o, s, a, r, l, u, f, c, d, h) {
    var p = function(e, t, i) {
        this.bNoSearch = !0,
        this.bFirstLoad = !0,
        this.bLoaded = !1,
        this.bIsLoading = !1,
        this.bInPop = !1,
        this.sType = e,
        this.sId = null,
        this.sDisplayMode = "mozaique",
        this.bShowMoreFilter = !1,
        this.oManager = t,
        this.oLoadedPlaylists = {},
        this.aVisiblePlaylists = [],
        this.aFormCreateRules = [],
        this.sQuery = !1,
        this.iPage = 0,
        this.iNbLists = 0,
        this.iNbPerPage = 0,
        this.iMobileOnlyWidth = 480,
        this.iMobileWidth = 768,
        this.$Content = $(),
        this.$FilterAlphaGroup = !1,
        this.$FilterSearchInput = !1,
        this.$FilterSearchBtn = !1,
        this.$FilterOrder = !1,
        this.$FilterShowMoreBtn = !1,
        this.$ToggleDisplayMode = !1,
        this.$ToggleNbPerPage = !1,
        this.$FormCreateContainer = !1,
        this.$ListsContainer = $(),
        this.$Pagination = !1,
        this.$ScrollableContainer = !1,
        this.bMaxListsReached = !1,
        this.bMaxVideosReached = !1,
        this.bUsesHashHistory = "move_to" !== this.sType,
        this.sCurrentHash = !1,
        this.bHasError = !1,
        this.updateOptions(i),
        this.oHistorical = {},
        this.initHistoricalNav();
        var n = this;
        $(window).on("resize", function() {
            "cols" === n.sDisplayMode && $(window).width() < n.iMobileOnlyWidth && n.toggleDisplayMode("list")
        })
    };
    return p.prototype = {
        setId: function(e) {
            this.sId = e
        },
        getId: function() {
            return this.sId
        },
        getNbLists: function() {
            return this.iNbLists
        },
        getDisplayMode: function() {
            return this.sDisplayMode
        },
        isInPop: function() {
            return this.bInPop
        },
        isPopOpen: function() {
            return !(!this.isInPop || !this.oPopContainer) && this.oPopContainer.isOpen()
        },
        getLoadListUrl: function() {
            var e = "/api/playlists/";
            switch (this.sOrder) {
            case "alpha":
                e += "alpha",
                this.sFilterAlphaGroup && (e += "/" + this.sFilterAlphaGroup);
                break;
            case "best":
                e += "best";
                break;
            case "new":
                e += "newest";
                break;
            case "old":
                e += "oldest";
                break;
            case "most":
                e += "most-videos";
                break;
            case "less":
                e += "less-videos";
                break;
            case "last":
            default:
                e += "last-updated"
            }
            return this.iPage && (e += "/" + this.iPage),
            e
        },
        getContainer: function() {
            if (this.$Container && 0 !== this.$Container.length)
                this.isInPop() && this.oPopContainer.show();
            else if (!this.isInPop() && this.oOptions && this.oOptions.container && 0 !== $(this.oOptions.container).length)
                this.bInPop = !1,
                this.$Container = $(this.oOptions.container),
                this.$ScrollableContainer = $(window);
            else {
                this.bInPop = !0;
                var e = this;
                this.oPopContainer = s.get($("body"), !0, "hide"),
                this.oPopContainer.setOverlayClosable(!0),
                this.oPopContainer.setCanReposition(!1),
                this.oPopContainer.addClass("x-overlay-body-bg favlist-overlay"),
                this.oPopContainer.onShow = function() {
                    var e = $("body");
                    e.data("scroll-save", $(window).scrollTop()),
                    $(window).scrollTop(0),
                    e.addClass("fav-list-of-list-opened")
                }
                ,
                this.oPopContainer.onHide = function() {
                    if (e.$Container = !1,
                    e.bLoaded = !1,
                    e.aVisiblePlaylists = [],
                    e.setHistoricalNav(!1),
                    !e.oManager.isAListPopOpen()) {
                        var t = $("body");
                        t.removeClass("fav-list-of-list-opened");
                        var i = t.data("scroll-save");
                        i && setTimeout(function() {
                            $(window).scrollTop(i)
                        }, 50)
                    }
                }
                ,
                this.oPopContainer.show(),
                this.$Container = $(this.oPopContainer.getContainer()),
                this.$ScrollableContainer = this.$Container
            }
            return this.$Container
        },
        getListContainer: function() {
            return this.$ListsContainer
        },
        getScrollableContainer: function() {
            return this.$ScrollableContainer && 0 !== this.$ScrollableContainer.length || this.getContainer(),
            this.$ScrollableContainer
        },
        getSavedCreateForm: function() {
            var e = l.get("pl_manager_create_form");
            return !!(e && Date.now() - e.timestamp < 216e5) && e
        },
        hasSavedCreateForm: function() {
            return !!this.getSavedCreateForm()
        },
        hasError: function() {
            return this.bHasError
        },
        setNbPerPage: function(e) {
            if (e = parseInt(e),
            !this.bIsLoading && !isNaN(e) && e !== this.iNbPerPage) {
                this.bIsLoading = !0,
                this.$Content.addClass("is-loading-lists");
                var t = this
                  , i = "/api/playlists/set-nb-per-page/" + e
                  , n = function(e) {
                    t.$Content.removeClass("is-loading-lists"),
                    t.setPopError(e)
                };
                $.post({
                    url: i,
                    dataType: "json",
                    success: function(e) {
                        if (t.bIsLoading = !1,
                        !e.result)
                            return n(e.message),
                            !1;
                        t.$Content.removeClass("is-loading-lists"),
                        t.loadList()
                    },
                    error: function(e, t, i) {
                        n(i)
                    },
                    complete: function() {
                        t.bIsLoading = !1
                    }
                })
            }
        },
        updateOptions: function(e) {
            this.oOptions = e || {};
            var t = l.get("pl_manager_list_order")
              , i = l.get("pl_manager_list_display_mode");
            if (this.sOrder = t || (this.oOptions.sOrder || "alpha"),
            this.sIdVideo = this.oOptions.sIdVideo || !1,
            i = i || (this.oOptions.sDisplayMode || "mozaique"),
            "cols" === i && $(window).width() < this.iMobileOnlyWidth && (i = "list"),
            this.toggleDisplayMode(i),
            "move_to" === this.sType) {
                if ("undefined" == typeof this.oOptions.oMoveToFromPlaylist || "undefined" == typeof this.oOptions.aMoveToSelectedIds || !this.oOptions.aMoveToSelectedIds.length)
                    return console.error("Informations are missing to move the videos to another playlist"),
                    void (this.bHasError = !0);
                this.oMoveToFromPlaylist = this.oOptions.oMoveToFromPlaylist,
                this.sMoveToFromId = this.oOptions.oMoveToFromPlaylist.getId(),
                this.sMoveToCsrf = this.oOptions.oMoveToFromPlaylist.getMoveToCsrf(),
                this.aMoveToSelectedIds = this.oOptions.aMoveToSelectedIds,
                this.sMoveToFromId && this.sMoveToCsrf || (console.error("Informations are missing to move the videos to another playlist"),
                this.bHasError = !0)
            }
        },
        loadList: function() {
            var e = this
              , t = this.getLoadListUrl()
              , n = {
                wcf: this.hasSavedCreateForm() ? 0 : 1,
                id_video: this.sIdVideo,
                query: this.sQuery
            }
              , o = function(t) {
                e.setPopError(t, i.__("error.internal_err_please_reload"), function() {
                    window.location.reload()
                })
            };
            "alpha" === this.sOrder && (n.wag = 1),
            this.bIsLoading = !0,
            this.$Content.addClass("is-loading-lists"),
            $.post({
                url: t,
                dataType: "json",
                data: n,
                success: function(t) {
                    if (e.bIsLoading = !1,
                    e.$Content.removeClass("is-loading-lists"),
                    !t.result)
                        return o(t.message),
                        !1;
                    if (t.create_form && t.create_form_validation_rules && t.create_form && t.create_form_validation_rules && e.saveCreateForm(t.create_form, t.create_form_validation_rules),
                    e.iNbLists = t.nb_lists,
                    e.iNbPerPage = t.nb_per_page,
                    e.aVisiblePlaylists = t.lists,
                    e.bMaxListsReached = !!t.max_lists_reached,
                    e.bMaxVideosReached = !!t.max_videos_reached,
                    e.aAlphaGroups = t.alpha_groups || [],
                    e.$Pagination = u.createElementsBased(e.iPage, t.nb_per_page, t.nb_lists_alpha || t.nb_lists, "", {
                        pagin_click: function(t) {
                            e.loadPage(t)
                        }
                    }),
                    e.bLoaded = !0,
                    "move_to" === e.sType)
                        for (var i in e.aVisiblePlaylists)
                            if (e.aVisiblePlaylists[i].id === e.sMoveToFromId) {
                                e.aVisiblePlaylists.splice(i, 1);
                                break
                            }
                    e.showList()
                },
                error: function(t, i, n) {
                    e.bIsLoading = !1,
                    e.$Content.removeClass("is-loading-lists"),
                    o(n)
                }
            })
        },
        loadOnePlaylist: function(e, t) {
            var n = this
              , o = function(e) {
                n.setPopError(e, i.__("loading.error"), function() {
                    t(!1)
                })
            };
            return this.bFirstLoad = !1,
            "undefined" != typeof this.oLoadedPlaylists[e] ? void t(this.oLoadedPlaylists[e]) : this.bIsLoading ? void t(!1) : (this.bIsLoading = !0,
            void $.post({
                url: "/api/playlists/list/" + e,
                dataType: "json",
                success: function(i) {
                    if (n.bIsLoading = !1,
                    !i.result)
                        return void o(i.message);
                    i.nb_lists && (n.iNbLists = i.nb_lists);
                    var s = new c(i.list,n);
                    n.oLoadedPlaylists[e] = s,
                    t(s)
                },
                error: function(e, t, i) {
                    o(i)
                },
                complete: function() {
                    n.bIsLoading = !1
                }
            }))
        },
        loadPage: function(e) {
            this.iPage = parseInt(e),
            isNaN(this.iPage) && (this.iPage = 0),
            this.loadList()
        },
        setPopError: function(e, t, n) {
            this.unsetPopLoader(),
            "string" != typeof t && (t = i.__("misc.error_please_retry")),
            "string" == typeof e && e.length ? t.length && (e = " : " + e) : e = "";
            var o = t + e;
            o.length || (o = i.__("misc.error_please_retry")),
            a.alert('<span class="text-danger">' + o + "</span>", "function" == typeof n ? n : null)
        },
        setPopLoader: function(e) {
            this.unsetPopLoader(),
            this.oPopLoader = a.loading(e)
        },
        unsetPopLoader: function() {
            this.oPopLoader && (this.oPopLoader.close(),
            this.oPopLoader = null)
        },
        initHistoricalNav: function() {
            if (this.bUsesHashHistory) {
                var e = this;
                this.setHistoricalFunc(!1, function() {
                    e.isInPop() ? e.oPopContainer.hide() : e.showList()
                }),
                this.setHistoricalFunc("lists", function() {
                    e.showList()
                }),
                this.setHistoricalNav(!1)
            }
        },
        setHistoricalNav: function(e) {
            this.bUsesHashHistory && (e || !1 === e) && (e && "function" == typeof this.oHistorical[e] ? n.setUrlHash("_" + e) : e || "function" != typeof this.oHistorical.noHash || n.setUrlHash(""))
        },
        setHistoricalFunc: function(e, t) {
            if (this.bUsesHashHistory && t) {
                var i = this;
                e && "undefined" == typeof this.oHistorical[e] ? n.registerHash("_" + e, function(e) {
                    i.onHistoricalNav(e)
                }) : e || "undefined" != typeof this.oHistorical.noHash || n.registerHash(!1, function(e) {
                    i.onHistoricalNav(e)
                }),
                e ? this.oHistorical[e] = t : this.oHistorical.noHash = t
            }
        },
        onHistoricalNav: function(e) {
            if (this.bUsesHashHistory) {
                e === n.getNoHashValue() && (e = "_noHash");
                var t = this.oHistorical[e.substr(1)];
                "function" == typeof t && t()
            }
        },
        showList: function() {
            if (!e.dyn.login_info.is_logged)
                return void this.displayLogin();
            if (!this.bIsLoading) {
                if (!this.bLoaded)
                    return void this.loadList();
                if (this.iPage > 0 && (!this.aVisiblePlaylists || !this.aVisiblePlaylists.length)) {
                    var t = Math.ceil(this.iNbLists / this.iNbPerPage) - 1;
                    return t < this.iPage ? this.iPage = t : this.iPage--,
                    void this.loadList()
                }
                this.initEmptyMozaiqueContainer(!!this.oOptions.no_filter);
                for (var i in this.aVisiblePlaylists) {
                    var n, s = this.aVisiblePlaylists[i];
                    "undefined" == typeof this.oLoadedPlaylists[s.id] ? (n = new c(this.aVisiblePlaylists[i],this),
                    this.oLoadedPlaylists[n.sId] = n) : n = this.oLoadedPlaylists[s.id],
                    n.isWatchLater() && n.getNbVideos() < 1 && !f.is_feature_enabled() || this.$ListsContainer.append(n.getThumbBlockElem())
                }
                if (this.$Pagination && (this.$Pagination.insertBefore(this.$ListsContainer),
                this.$Pagination.clone(!0).insertAfter(this.$ListsContainer)),
                this.setContent(this.$Content, "lists"),
                this.bFirstLoad) {
                    this.bFirstLoad = !1;
                    var a = this.oOptions.sLoadEditList ? "_pl_edit_" + this.oOptions.sLoadEditList : o.getUrlHash();
                    this.oOptions.sLoadEditList = !1,
                    this.oOptions.bLoadCreateForm = !1,
                    a && (a = a.substr(1),
                    "function" != typeof this.oHistorical[a.toLowerCase()] && (a = !1)),
                    a && (this.setHistoricalNav(a),
                    this.onHistoricalNav("_" + a))
                }
                this.toggleShowMoreFilters(this.bShowMoreFilter)
            }
        },
        toggleDisplayMode: function(e) {
            if ("string" == typeof e)
                this.sDisplayMode = e;
            else {
                var t = $(window).width() < this.iMobileOnlyWidth;
                this.sDisplayMode = "mozaique" === this.sDisplayMode ? "list" : "list" !== this.sDisplayMode || t ? "mozaique" : "cols"
            }
            l.set("pl_manager_list_display_mode", this.sDisplayMode),
            this.$ToggleDisplayMode && this.$ToggleDisplayMode.length && (this.$ToggleDisplayMode.removeClass("display-mozaique display-list display-cols").addClass("display-" + this.sDisplayMode),
            this.$ListsContainer.removeClass("display-mozaique display-list display-cols").addClass("display-" + this.sDisplayMode)),
            "lists" === this.sCurrentHash && this.showList()
        },
        setOrder: function(e) {
            this.sOrder = e,
            l.set("pl_manager_list_order", e),
            this.sFilterAlphaGroup = null,
            this.loadPage(0)
        },
        setOrderToAlphaGroup: function(e) {
            this.sOrder = "alpha",
            this.sFilterAlphaGroup = "all" !== e ? e : null,
            this.loadPage(0)
        },
        saveCreateForm: function(e, t) {
            l.set("pl_manager_create_form", {
                create_form: e,
                create_form_validation_rules: t,
                timestamp: Date.now()
            })
        },
        setContent: function(e, t) {
            var i = this.getContainer()
              , n = this.getScrollableContainer();
            i.html(e),
            this.isInPop() && n.scrollTop(0),
            u.add_all_in(i),
            this.sCurrentHash = t,
            this.isInPop() || "lists" !== t || (t = !1),
            this.setHistoricalNav(t)
        },
        initEmptyMozaiqueContainer: function(n) {
            var o = n ? {} : {
                aFilters: [{
                    sLabel: i.__("order.a_z"),
                    sMode: "alpha",
                    bActive: "alpha" === this.sOrder
                }, {
                    sLabel: i.__("misc.last_update"),
                    sMode: "last",
                    bActive: "last" === this.sOrder
                }, {
                    sLabel: i.__("video.favs.order.best"),
                    sMode: "best",
                    bActive: "best" === this.sOrder
                }, {
                    sLabel: i.__("video.favs.order.recent"),
                    sMode: "new",
                    bActive: "new" === this.sOrder
                }, {
                    sLabel: i.__("video.favs.order.oldest"),
                    sMode: "old",
                    bActive: "old" === this.sOrder
                }, {
                    sLabel: i.__("video.favs.order.most"),
                    sMode: "most",
                    bActive: "most" === this.sOrder
                }, {
                    sLabel: i.__("video.favs.order.less"),
                    sMode: "less",
                    bActive: "less" === this.sOrder
                }],
                aNbPerPage: [{
                    sLabel: 10..toLocaleString(e.dyn.locale),
                    sQtt: "10",
                    bActive: 10 === this.iNbPerPage
                }, {
                    sLabel: 20..toLocaleString(e.dyn.locale),
                    sQtt: "20",
                    bActive: 20 === this.iNbPerPage
                }, {
                    sLabel: 30..toLocaleString(e.dyn.locale),
                    sQtt: "30",
                    bActive: 30 === this.iNbPerPage
                }, {
                    sLabel: 50..toLocaleString(e.dyn.locale),
                    sQtt: "50",
                    bActive: 50 === this.iNbPerPage
                }, {
                    sLabel: 100..toLocaleString(e.dyn.locale),
                    sQtt: "100",
                    bActive: 100 === this.iNbPerPage
                }],
                sNbPerPage: i.__("js.pagination.per_page"),
                sPlaceHolder: i.__("video.favs.playlist_title"),
                bNoSearch: !!this.bNoSearch,
                sDisplayMode: "display-" + this.sDisplayMode
            };
            if ("add_to" === this.sType)
                o.sTitle = i.__("video.favs.add_to_title"),
                o.sNew = i.__("video.favs.create_add_new");
            else if ("move_to" === this.sType) {
                var s = this.aMoveToSelectedIds.length;
                o.sTitle = s > 1 ? i.__("video.favs.move_to_videos_title", {
                    "%count%": s.toLocaleString(e.dyn.locale)
                }) : i.__("video.favs.move_to_one_video_title"),
                o.sNew = i.__("video.favs.create_move_to_new"),
                o.sCancel = i.__("misc.cancel")
            } else
                o.sTitle = i.__("video.favs.manage_lists"),
                o.sNew = i.__("video.favs.create_new");
            if (o.bMaxListsReached = this.bMaxListsReached,
            this.aAlphaGroups.length > 1) {
                o.aAlphaGroups = [{
                    sLabel: i.__("misc.all"),
                    sOption: "all"
                }];
                for (var a in this.aAlphaGroups) {
                    var r = this.aAlphaGroups[a];
                    if (!r.range || !r.range.length || !r.count)
                        break;
                    var l = r.range[0]
                      , u = r.range[r.range.length - 1]
                      , f = l + "/" + u;
                    "@" === l.substr(0, 1) && (l = l.substr(1)),
                    "@" === u.substr(0, 1) && (u = u.substr(1));
                    var c = (l !== u ? l + " - " + u : l) + " (" + r.count.toLocaleString(e.dyn.locale) + ")";
                    o.aAlphaGroups.push({
                        sLabel: c,
                        sOption: f,
                        bActive: f === this.sFilterAlphaGroup
                    })
                }
            }
            this.$Content = $(t.render(d, o)),
            this.$ListsContainer = this.$Content.find(".mozaique");
            var h = this;
            this.$ToggleDisplayMode = this.$Content.find(".favlists-display-mode"),
            this.$ToggleDisplayMode.on("click", function(e) {
                e.preventDefault(),
                h.toggleDisplayMode()
            }),
            this.$ToggleNbPerPage = this.$Content.find(".favlists-nb-per-page"),
            this.$ToggleNbPerPage.on("change", function(e) {
                e.preventDefault(),
                h.setNbPerPage($(this).val())
            }),
            n || (this.$FilterOrder = this.$Content.find(".favlists-order"),
            this.$FilterOrder.on("change", function(e) {
                e.preventDefault(),
                h.setOrder($(this).prop("value"))
            }),
            this.$FilterAlphaGroup = this.$Content.find(".favlists-filter-alpha"),
            this.$FilterAlphaGroup.on("change", function(e) {
                e.preventDefault(),
                h.setOrderToAlphaGroup($(this).prop("value"))
            }),
            this.$FilterSearchInput = this.$Content.find(".favlists-search input"),
            this.$FilterSearchInput.on("keypress keydown", function(e) {
                13 === e.keyCode && e.preventDefault()
            }),
            this.$FilterSearchInput.on("mouseup keyup", function(e) {
                13 === e.keyCode && (e.preventDefault(),
                e.stopPropagation(),
                h.searchQuery())
            }),
            this.$FilterSearchBtn = this.$Content.find(".favlists-search .btn"),
            this.$FilterSearchBtn.on("click", function(e) {
                e.preventDefault(),
                h.searchQuery()
            }),
            this.$FilterShowMoreBtn = this.$Content.find(".favlists-show-more-filters"),
            this.$FilterShowMoreBtn.on("click", function(e) {
                e.preventDefault(),
                h.toggleShowMoreFilters()
            }),
            "string" == typeof this.sQuery && this.$FilterSearchInput.val(this.sQuery),
            "move_to" === this.sType ? this.$Content.find(".favlists-create").remove() : this.$Content.find(".favlists-create").on("click", function() {
                h.initCreateHTML()
            }),
            this.$Content.find(".favlists-actions-cancel .btn").on("click", function() {
                h.isInPop() && h.oPopContainer.hide()
            }))
        },
        initCreateHTML: function() {
            var e = this
              , n = $(t.render(h, {
                sBack: i.__("misc.back"),
                sTitle: "add_to" === this.sType ? i.__("video.favs.create_add_new") : i.__("video.favs.create_new")
            }));
            this.$FormCreateContainer = n.find(".favlist-create-form"),
            this.setContent(n),
            this.reinitCreateForm(),
            n.find(".btn-back").on("click", function(t) {
                t.preventDefault(),
                e.showList()
            })
        },
        reinitCreateForm: function(e) {
            var t = this;
            if (void 0 === e && (e = this.getSavedCreateForm()),
            !e) {
                var n = this.getLoadListUrl()
                  , o = {
                    wcf: 1
                }
                  , s = function(e) {
                    t.setPopError(e, i.__("error.internal_err_please_reload"), function() {
                        window.location.reload()
                    })
                };
                return void $.post({
                    url: n,
                    dataType: "json",
                    data: o,
                    success: function(e) {
                        e.result || s(e.message),
                        e.create_form && e.create_form_validation_rules && t.saveCreateForm(e.create_form, e.create_form_validation_rules),
                        t.reinitCreateForm()
                    },
                    error: function(e, t, i) {
                        s(i)
                    }
                })
            }
            this.$FormCreateContainer.html(e.create_form);
            var a = this.$FormCreateContainer.find("form");
            this.aFormCreateRules = e.create_form_validation_rules,
            new r(a,this.aFormCreateRules,{
                no_init_focus: !0,
                no_init_validate: !0
            }),
            a.on("submit", function(e) {
                e.preventDefault();
                var n = a.serializeArray()
                  , o = function(e) {
                    t.setPopError(e, null, function() {
                        t.reinitCreateForm()
                    })
                };
                t.setPopLoader(i.__("misc.submitting")),
                "add_to" === t.sType && n.push({
                    name: "id_document",
                    value: t.sIdVideo
                }),
                $.post({
                    url: "/api/playlists/create/",
                    dataType: "json",
                    data: n,
                    success: function(e) {
                        if (!e.result)
                            return void (2 === e.code && e.form && e.js_validation_rules ? t.reinitCreateForm({
                                create_form: e.form,
                                create_form_validation_rules: e.js_validation_rules
                            }) : o(e.message));
                        if (e.list && e.list.id) {
                            var i = e.list
                              , n = new c(i,t)
                              , s = t.aVisiblePlaylists.length && t.aVisiblePlaylists[0].watch_later ? 1 : 0;
                            return t.aVisiblePlaylists.splice(s, 0, i),
                            t.oLoadedPlaylists[n.sId] = n,
                            t.iNbLists++,
                            e.video_added && n.setToInList(!0, !1),
                            void n.showEdit()
                        }
                        t.showList()
                    },
                    error: function(e, t, i) {
                        o(i)
                    },
                    complete: function() {
                        t.unsetPopLoader()
                    }
                })
            });
            var l = a.find("#" + a.prop("id") + "_status");
            if (l && l.length) {
                var u = new c
                  , f = $(u.getVisibilityPicto(l.val()))
                  , d = $("<label></label>");
                d.addClass("favlist-status-label select-label").insertBefore(l).append(l),
                f.addClass("favlist-status-picto").prependTo(d),
                l.on("change", function(e) {
                    e.preventDefault();
                    var t = $(u.getVisibilityPicto(l.val()));
                    t.addClass("favlist-status-picto"),
                    f.replaceWith(t),
                    f = t
                })
            }
        },
        searchQuery: function() {
            var e = this.$FilterSearchInput.val();
            e && e.length || (e = !1),
            this.sQuery !== e && (this.sQuery = e,
            this.loadPage(0))
        },
        toggleShowMoreFilters: function(e) {
            this.bShowMoreFilter = "boolean" == typeof e ? e : !this.bShowMoreFilter,
            this.$FilterShowMoreBtn.toggleClass("is-opened", this.bShowMoreFilter),
            $(".favlists-actions-more").toggleClass("is-visible", this.bShowMoreFilter)
        },
        displayLogin: function() {
            var e = this;
            require(["skins/default/form/login", "skins/default/video/watch_later", "skins/default/video/watch_later/watch_later_tracker", "text!skins/default/video/playlists/login_alert.mustache"], function(n, o, s, a) {
                var r = o.is_feature_enabled() && e.oOptions.bAddWatchLaterOnLogin
                  , l = $(t.render(a, {
                    sAlert: i.__("video.favs.must_be_logged_in_to_fav"),
                    sLoginBtn: i.__("login_form.login_or_create_account"),
                    sWatchLaterBtn: i.__("video.add_to_watch_later"),
                    bWatchLaterEnabled: r,
                    sSeparator: i.__("misc.or")
                }));
                if (e.setContent(l),
                e.isInPop()) {
                    l.parents(".x-overlay").addClass("auto-width-popup");
                    var u = $("body");
                    u.removeClass("fav-list-of-list-opened");
                    var f = u.data("scroll-save");
                    f && setTimeout(function() {
                        $(window).scrollTop(f)
                    }, 50)
                }
                n.setupLinks(l.find(".favlist-alert-login-btn")),
                r && o.init_btn(l.find(".favlist-alert-watch-later-btn"), e.sIdVideo, {
                    $confirmPos: e.oOptions.$confirmPos ? e.oOptions.$confirmPos : null,
                    end_click_func: function() {
                        e.oPopContainer.hide()
                    }
                })
            })
        },
        moveVideosToOtherList: function(e) {
            if (!this.bIsLoading) {
                var t = "/api/playlists/list/" + this.sMoveToFromId + "/move-to/" + e
                  , i = this;
                this.bIsLoading = !0,
                this.setPopLoader(),
                $.post({
                    url: t,
                    dataType: "json",
                    data: {
                        ids: this.aMoveToSelectedIds,
                        csrf: this.sMoveToCsrf
                    },
                    success: function(t) {
                        if (i.bIsLoading = !1,
                        !t.result)
                            return i.isInPop() && (i.oPopContainer.hide(),
                            i.oMoveToFromPlaylist.reloadListInfos()),
                            i.setPopError(t.message),
                            !1;
                        i.isInPop() ? i.oPopContainer.hide() : a.alert("OK"),
                        i.oMoveToFromPlaylist.moveVideosToOtherListSuccess(e, i.aMoveToSelectedIds)
                    },
                    error: function(e, t, n) {
                        i.setPopError(n)
                    },
                    complete: function() {
                        i.bIsLoading = !1,
                        i.unsetPopLoader()
                    }
                })
            }
        },
        updateListNbVideos: function(e, t) {
            "undefined" != typeof this.oLoadedPlaylists[e] && this.oLoadedPlaylists[e].setMovedVideos(t)
        },
        updateLoadedListData: function(e, t, i) {
            return "undefined" != typeof this.oLoadedPlaylists[e] ? this.oLoadedPlaylists[e].updateListData(t, i) : []
        },
        updateAllLoadedListData: function(e, t, i) {
            return this.oManager.updateAllLoadedListData(e, t, i, this)
        }
    },
    p
}),
define("skins/default/video/playlists/manager", ["lib/tools", "./list_of_lists"], function(e, t) {
    var i = function() {
        this.aLoadedListsOfLists = []
    };
    return i.prototype = {
        loadList: function(e, i) {
            var n, o = e + (i && i.sIdVideo ? "_" + i.sIdVideo : "");
            if ("undefined" != typeof this.aLoadedListsOfLists[o])
                n = this.aLoadedListsOfLists[o],
                i && n.updateOptions(i);
            else {
                if (n = new t("editWithoutInitLoad" === e ? "edit" : e,this,i),
                n.hasError())
                    return !1;
                n.setId(o),
                this.aLoadedListsOfLists[o] = n
            }
            return "editWithoutInitLoad" !== e && n.showList(),
            n
        },
        isAListPopOpen: function() {
            for (sLolId in this.aLoadedListsOfLists) {
                if (this.aLoadedListsOfLists[sLolId].isPopOpen())
                    return !0
            }
            return !1
        },
        updateAllLoadedListData: function(e, t, i, n) {
            var o = []
              , s = n.getId();
            for (sLolId in this.aLoadedListsOfLists) {
                var a = this.aLoadedListsOfLists[sLolId]
                  , r = a.updateLoadedListData(e, t, i);
                s === a.getId() && (o = r)
            }
            return o
        },
        loadAddToList: function(e, t) {
            return void 0 === t && (t = {}),
            t.sIdVideo = e,
            this.loadList("add_to", t)
        },
        loadEditList: function(e) {
            return void 0 === e && (e = {}),
            this.loadList("edit", e)
        },
        loadCreateForm: function(e, t) {
            return void 0 === t && (t = {}),
            t.bLoadCreateForm = !0,
            this.loadList(e, t)
        },
        loadCreateList: function(e) {
            return void 0 === e && (e = {}),
            this.loadCreateForm("edit", e)
        },
        loadCreateAndAddToList: function(e, t) {
            return void 0 === t && (t = {}),
            t.sIdVideo = e,
            this.loadCreateForm("add_to", t)
        },
        removeVideoFromList: function(e, t, i) {
            this.loadList("editWithoutInitLoad").loadOnePlaylist(t, function(t) {
                t && t.deleteVideo(e, i)
            })
        },
        loadMoveToList: function(e, t, i) {
            return void 0 === i && (i = {}),
            i.oMoveToFromPlaylist = e,
            i.aMoveToSelectedIds = t,
            this.loadList("move_to", i)
        },
        loadEditPlayList: function(e, t) {
            var i = this.loadList("editWithoutInitLoad");
            i.loadOnePlaylist(e, function(e) {
                e && (t || (i.getContainer(),
                i.isInPop() && i.setHistoricalNav("lists")),
                e.showEdit())
            })
        },
        autoOpenByHash: function() {
            var t = e.getUrlHash();
            if (t.length) {
                var i, n;
                return "pl_edit_" === t.substr(1, 8) ? (n = t.substr(9),
                void this.loadEditPlayList(n, !0)) : "pl_voters_" === t.substr(1, 10) ? (n = t.substr(11),
                i = this.loadList("editWithoutInitLoad"),
                void i.loadOnePlaylist(n, function(e) {
                    e && e.showVoters()
                })) : "lists" === t.substr(1, 5) ? void this.loadList("edit") : void 0
            }
        }
    },
    new i
}),
define("lib/helpers/popup/language_switcher", ["mustache", "../popup", "text!lib/helpers/popup/language_switcher.mustache"], function(e, t, i) {
    return function(n, o, s, a) {
        var r = function() {
            var t = [];
            for (var n in s)
                t.push({
                    url: o + n,
                    country: s[n].country.toLowerCase(),
                    name: s[n].translated
                });
            return e.render(i, {
                languages: t
            })
        };
        return "object" != typeof a && (a = {}),
        "undefined" == typeof a.trigger && (a.trigger = "click mouseclick"),
        "undefined" == typeof a.popup_class && (a.popup_class = "language-switcher-popup"),
        "undefined" == typeof a.autoclose && (a.autoclose = 3e3),
        new t(n,r,a)
    }
}),
define("skins/default/common", ["config/main", "skins/default/pagination"], function(e, t) {
    "object" == typeof e.dyn.ls && "object" == typeof e.dyn.ls.buttons && e.dyn.ls.buttons.length > 0 && require(["skins/common/listing/settings"]);
    var i = $(".menu-login-acct");
    i.length > 0 && require(["skins/default/form/login"], function(e) {
        e.setupLinks(i)
    });
    var n = $("#mobile-login-btn");
    if (n.length > 0) {
        var o = !1
          , s = $("#mobile-login-menu")
          , a = xv.menus.addClose(function() {
            r(!1, !1)
        })
          , r = function(e, t) {
            !1 !== t && xv.menus.closeAll(a),
            o = "boolean" == typeof e ? e : !o,
            s.toggleClass("hidden", !o)
        };
        n.on("click", function(e) {
            e.preventDefault(),
            r()
        }).addClass("init-ok"),
        s.on("menu.forceclose", function() {
            o && (s.addClass("hidden"),
            o = !1)
        }),
        $("body").on("click", function(e) {
            o && ($(e.target).closest("#mobile-login-menu,#mobile-login-btn").length > 0 || (s.addClass("hidden"),
            o = !1))
        }),
        s.find(".playlists").on("click", function(e) {
            e.preventDefault(),
            s.addClass("hidden"),
            o = !1,
            require(["skins/default/video/playlists/manager"], function(e) {
                e.loadEditList()
            })
        })
    }
    var l = $("#reload-page");
    l.length > 0 && l.on("click", function() {
        $("html,body").scrollTop(0),
        window.location.reload()
    }).addClass("init-ok");
    var u = $("#subs-home-toggle");
    u.length > 0 && require(["lib/i18n!front", "lib/helpers/overlay/contextual_popup"], function(t, i) {
        var n = !e.dyn.disfeats || -1 === e.dyn.disfeats.indexOf("s");
        u.html((n ? "<span class='icon-f icf-ban'></span> " : "") + t.__("subscriptions." + (n ? "dont_" : "") + "show_on_homepage")).on("click", function() {
            $.post("/account/feature-" + (n ? "disabled" : "enabled"), {
                featureid: "s"
            }, function(e) {
                if (!e.result)
                    return void i.alert(t.__("form.error_modification_not_saved"));
                $("html,body").scrollTop(0),
                window.location.reload()
            }, "json")
        }).addClass("init-ok")
    });
    var f = $("#language-switcher");
    f.length > 0 && require(["lib/helpers/popup/language_switcher"], function(t) {
        t(f, "/change-language/", e.data.other_locales),
        f.addClass("init-ok")
    }),
    t.add_all_in("#page")
}),
define("skins/common/design/stop_anim_on_resize", [], function() {
    var e = function() {
        this.stop_anim_timeout = null;
        var e = this;
        $(window).on("resize", function() {
            e.launch()
        })
    };
    return e.prototype = {
        launch: function() {
            var e = this;
            this.stop_anim_timeout ? (clearTimeout(this.stop_anim_timeout),
            this.stop_anim_timeout = null) : $("body").addClass("resize-stop-anim"),
            this.stop_anim_timeout = setTimeout(function() {
                e.stop_anim_timeout = null,
                $("body").removeClass("resize-stop-anim")
            }, 500)
        }
    },
    new e
}),
define("skins/common/design/vh_tweak", [], function() {
    try {
        var e = .01 * window.innerHeight;
        document.documentElement.style.setProperty("--vh", e.toString(10) + "px"),
        $(window).on("resize", function() {
            var e = .01 * window.innerHeight;
            document.documentElement.style.setProperty("--vh", e.toString(10) + "px")
        })
    } catch (t) {}
}),
define("skins/common/design/old_ie", ["lib/i18n!front", "static/cookies"], function(e, t) {
    var i = function() {
        !1 !== this.shouldShowAlert() && (this.alertResizeTimer = !1,
        this.showAlert())
    };
    return i.prototype = {
        shouldShowAlert: function() {
            if ("undefined" == typeof navigator)
                return !1;
            var e = navigator.userAgent
              , t = e.indexOf("MSIE ");
            if (t < 0)
                return !1;
            var i = parseInt(e.substring(t + 5, e.indexOf(".", t)));
            return !(i > 9) && (!this.isAlertIgnored() && (this.sBrowser = "Internet Explorer " + i,
            !0))
        },
        showAlert: function() {
            if ("string" == typeof this.sBrowser) {
                this.$alert = $('<div id="browser-too-old"><p>' + e.__("browser.out_of_date_alert", {
                    "%strong%": "<strong>",
                    "%strong_end%": "</strong>",
                    "%browser%": this.sBrowser
                }) + '</p><p><a href="//browser-update.org/' + xv.conf.dyn.locale + '/update-browser.html" class="btn btn-primary" target="_blank">' + e.__("browser.update") + '</a> <button type="button" class="btn btn-default ignore">' + e.__("misc.ignore") + "</button></p></div>");
                var t = this;
                this.$alert.find(".ignore").on("click", function() {
                    t.ignoreAlert()
                }),
                $("body").prepend(this.$alert),
                setTimeout(function() {
                    t.alertResize(),
                    $(window).on("resize", function() {
                        t.alertResize()
                    })
                }, 50),
                setTimeout(function() {
                    t.alertResize()
                }, 1e4)
            }
        },
        alertResize: function() {
            !1 !== this.alertResizeTimer && clearTimeout(this.alertResizeTimer),
            this.$alert.css({
                width: "auto",
                "margin-left": 0,
                "margin-right": 0
            });
            var e = this;
            this.alertResizeTimer = setTimeout(function() {
                e.alertResizeTimer = !1;
                var t = e.$alert.outerWidth()
                  , i = $("html").outerWidth();
                e.$alert.css({
                    width: i - 20,
                    "margin-left": -(i - t) / 2 + 10,
                    "margin-right": -(i - t) / 2 + 10
                })
            }, 200)
        },
        isAlertIgnored: function() {
            return !!t.get("hexavid_ignore_browser_update")
        },
        ignoreAlert: function() {
            this.$alert.remove(),
            t.setLocal("hexavid_ignore_browser_update", "1", 864e5, "/")
        }
    },
    new i
}),
define("text!skins/common/download_app/popup.mustache", [], function() {
    return '<div id="popup-opening-message">\n\t<span id="popup-opening-close" class="icon-f icf-close-thin" title="{{{ close }}}"></span>\n\t<div id="popup-opening-content">\n\t\t<div id="popup-opening-desc">\n\t\t\t<p class="popup-opening-title">\n\t\t\t\t<strong>{{{ title }}}</strong>\n\t\t\t</p>\n\t\t\t<p class="popup-opening-link">{{{ link }}}</p>\n\t\t\t<p class="popup-opening-infos">{{{ infos }}}</p>\n\t\t</div>\n\t\t<span class="icon-f icf-device-mobile"></span>\n\t</div>\n</div>'
}),
define("skins/common/download_app", ["config/main", "mustache", "lib/i18n!front", "text!skins/common/download_app/popup.mustache"], function(e, t, i, n) {
    var o = function() {};
    return o.prototype = {
        _init: function() {
            this.bIsInit = !1,
            this.bIsDisplay = !1,
            this.sSiteName = null,
            this.sPopupId = null,
            this.sPopupStorageValue = "hide_app_popup",
            this.oPopupStorage = null,
            this.$popup = null,
            this.checkStorage()
        },
        checkStorage: function() {
            this.oPopupStorage = xv.storage.get(this.sPopupStorageValue),
            (null === this.oPopupStorage || (new Date).getTime() > this.oPopupStorage.t) && (this.oPopupStorage = {
                i: null,
                t: null
            }),
            1 === this.oPopupStorage.i || this.isPopupDisplay() || this.displayPopup();
            var e = this;
            window.setTimeout(function() {
                1 === e.oPopupStorage.i && e.isPopupDisplay() && e.removePopup(),
                e.checkStorage()
            }, 5e3)
        },
        setPopupDisplay: function(e) {
            this.bIsDisplay = e
        },
        isPopupDisplay: function() {
            return this.bIsDisplay
        },
        displayPopup: function() {
            this.isPopupDisplay() || (this.setPopupDisplay(!0),
            this.sSiteName = "XVIDEOS",
            "xnxx" === e.sitename && (this.sSiteName = "XNXX"),
            document.querySelector("body").insertAdjacentHTML("beforeend", t.render(n, {
                close: i.__("misc.close"),
                title: i.__("messages.download_site_app_title", {
                    "%sitename%": this.sSiteName,
                    "%br%": "<br />"
                }),
                link: i.__("messages.download_site_app_link", {
                    "%link%": '<a href="' + e.dyn.appandroidpop + '">',
                    "%link_end%": "</a>"
                }),
                infos: i.__("messages.download_site_app_infos")
            })),
            this.sPopupId = "popup-opening-message",
            this.$popup = document.querySelector("#" + this.sPopupId),
            this.addEvents())
        },
        addEvents: function() {
            window.addEventListener("scroll", this.removePopup.bind(this)),
            this.$btnClose = document.querySelector("#popup-opening-close").addEventListener("click", this.removePopup.bind(this));
            for (var e = document.querySelector("body").childNodes, t = 0; t < e.length; t++)
                1 === e[t].nodeType && "DIV" === e[t].tagName && e[t].getAttribute("id") !== this.sPopupId && e[t].addEventListener("click", this.removePopup.bind(this))
        },
        removePopup: function() {
            if (this.isPopupDisplay()) {
                this.$popup.parentNode.removeChild(this.$popup);
                var e = (new Date).getTime() + 2592e6;
                1 !== this.oPopupStorage.i && (xv.storage.remove(this.sPopupStorageValue),
                xv.storage.set(this.sPopupStorageValue, {
                    i: 1,
                    t: e
                }, e)),
                this.setPopupDisplay(!1)
            }
        }
    },
    new o
}),
define("text!skins/common/xcams/currently_online_popup.mustache", [], function() {
    return '<div class="live-models">\n\t<h2>{{{ title }}}</h2>\n\t<a href="{{{ home_url }}}" target="_blank" class="btn btn-xs btn-primary">{{{ more }}}</a>\n\t<div class="models">\n\t\t{{#models}}\n\t\t\t<a class="model" target="_blank" href="{{{ link_url }}}">\n\t\t\t\t<img src="{{^live_img_url}}{{{ img_url }}}{{/live_img_url}}{{#live_img_url}}{{{ live_img_url }}}" onerror="this.onerror=null;this.src=\'{{{ img_url }}}\';$(this).parent().addClass(\'not-live\');{{/live_img_url}}" alt="{{{ name }}}"/>\n\t\t\t\t<span class="name">{{{ name }}}</span>\n\t\t\t\t<span class="live badge">{{{ live }}}</span>\n\t\t\t</a>\n\t\t{{/models}}\n\t</div>\n</div>'
}),
define("skins/common/xcams/current_live_cams", ["config/main"], function(e) {
    var t = "rtl" === $("html").prop("dir")
      , i = function() {
        this.popups = {},
        this.bDataIsSetted = !1,
        this.oCurrentLiveCams = {},
        this.oAdsCam = {}
    };
    return i.prototype = {
        addHoverToLink: function(i, n) {
            if (e.dyn.is_desktop) {
                var o = this;
                require(["lib/i18n!front", "lib/helpers/popup", "lib/helpers/inline_loader"], function(e, s, a) {
                    o.popups[n] = new s(i,a.getSafe("after", '<div class="live-models-loading">' + e.__("misc.loading")).getHtml() + "</div>",{
                        trigger: !1,
                        autoclose: 50,
                        trigger_open: "mouseenter",
                        position: {
                            v: "below",
                            h: t ? "right" : "left"
                        }
                    }),
                    o.popups[n].onOpen = function() {
                        o.getCurrentLiveCamsInfos(n)
                    }
                })
            }
        },
        getCurrentLiveCamsInfos: function(t) {
            if (this.bDataIsSetted)
                return void this.setCurrentLiveCams(t);
            "tab" === t && (this.popups[t].onOpen = !1);
            var i = this
              , n = "/cams/live-banners/" + e.dyn.page_main_cat;
            $.ajax({
                url: n,
                type: "POST",
                success: function(e) {
                    if (!e.result || "object" != typeof e.codes || "undefined" == typeof e.codes[t])
                        return void ("tab" === t && (i.popup.close(),
                        i.popups[t].onOpen = function() {
                            i.setCurrentLiveCams(t)
                        }
                        ));
                    i.bDataIsSetted || (i.oCurrentLiveCams = e,
                    i.bDataIsSetted = !0),
                    i.setCurrentLiveCams(t)
                },
                dataType: "json"
            })
        },
        setCurrentLiveCams: function(t) {
            var i = this;
            require(["mustache", "lib/tools", "lib/i18n!front"], function(n, o, s) {
                var a = i.oCurrentLiveCams.banners
                  , r = i.oCurrentLiveCams.codes
                  , l = function(e) {
                    for (var t = "", i = "abcdefABCDEF0123456789", n = 32; n > 0; n--)
                        t += i[Math.floor(Math.random() * i.length)];
                    return e + t
                }
                  , u = i.oCurrentLiveCams.domain
                  , f = [];
                e.dyn.camsnl ? u += "/rooms/" : u = "gay" === e.dyn.page_main_cat ? u + "/live/guys/" : "trans" === e.dyn.page_main_cat ? u + "/live/trans/" : u,
                u = o.addUrlParam(u, "language", e.dyn.locale),
                u = o.addUrlParam(u, "mp_code", r[t]),
                u = o.addUrlParam(u, "utm_content", r[t]),
                "gay" === e.dyn.page_main_cat ? (u = o.addUrlParam(u, "service", "guys"),
                "foot" === t && (u = o.addUrlParam(u, "utm_medium", encodeURIComponent("Guys|" + e.data.slcamscat)))) : "trans" === e.dyn.page_main_cat ? (u = o.addUrlParam(u, "service", "trans"),
                "foot" === t && (u = o.addUrlParam(u, "utm_medium", encodeURIComponent("Trans|" + e.data.slcamscat)))) : (u = o.addUrlParam(u, "service", "girls"),
                "foot" === t && (u = o.addUrlParam(u, "utm_medium", encodeURIComponent("Girls|" + e.data.slcamscat))));
                for (var c in a) {
                    var d = i.oCurrentLiveCams.domain + a[c].link_url;
                    d = o.addUrlParam(d, "mp_code", r[t]),
                    d = o.addUrlParam(d, "utm_content", r[t]),
                    "gay" === e.dyn.page_main_cat ? (d = o.addUrlParam(d, "service", "guys"),
                    "foot" === t && (d = o.addUrlParam(d, "utm_medium", encodeURIComponent("Guys|" + e.data.slcamscat)))) : "trans" === e.dyn.page_main_cat ? (d = o.addUrlParam(d, "service", "trans"),
                    "foot" === t && (d = o.addUrlParam(d, "utm_medium", encodeURIComponent("Trans|" + e.data.slcamscat)))) : "foot" === t && (d = o.addUrlParam(d, "utm_medium", encodeURIComponent("Girls|" + e.data.slcamscat))),
                    a[c].link_url = d,
                    f.push(a[c])
                }
                switch (t) {
                case "tab":
                    require(["text!skins/common/xcams/currently_online_popup.mustache"], function(o) {
                        i.popups[t].setContent(n.render(o, {
                            models: f,
                            home_url: u,
                            title: "<span>" + ("default" === e.sitename ? "XVideos" : "XNXX") + "</span> " + s.__("default" === e.sitename ? "xcams.live_porn_models" : "xcams.live_sex_models"),
                            more: s.__("xcams.more_models"),
                            live: s.__("xcams.live")
                        })),
                        e.dyn.is_premium && $(".live-models").find("a").each(function() {
                            var t = $(this)
                              , i = t.attr("href");
                            -1 === i.indexOf(e.domains.premium) && i.match(/^\http[s]:\/\/[a-z]*.[xvideos|xnxx]*.[com|local]*/gm) && (t.data("no-redirect", 1),
                            t.on("click", function(e) {
                                e.preventDefault(),
                                require(["skins/common/mozaique/premium_redirect_alert"], function(e) {
                                    var t = function() {
                                        document.location.href = i
                                    };
                                    e.displayPopup("exit", null, t)
                                })
                            }))
                        })
                    });
                    break;
                case "ntv":
                    require(["text!skins/" + e.sitename + "/xcams/ad_xv_cams_player_video.mustache"], function(t) {
                        e.dyn.is_mobile || e.dyn.is_tablet || (i.oAdsCam.ntv = $(n.render(t, {
                            class_container: l("ntv"),
                            class_header: l("h"),
                            class_models: l("ms"),
                            class_model: l("m"),
                            models: f,
                            home_url: u,
                            title: "straight" === e.dyn.page_main_cat ? s.__("xcams.chat_with_girls", {
                                "%span_start%": "<span>",
                                "%span_end%": "</span>"
                            }) : "gay" === e.dyn.page_main_cat ? s.__("xcams.chat_with_guys", {
                                "%span_start%": "<span>",
                                "%span_end%": "</span>"
                            }) : s.__("xcams.chat_with_trans", {
                                "%span_start%": "<span>",
                                "%span_end%": "</span>"
                            }),
                            seemore: s.__("xcams.clicktosee"),
                            filter: "straight" === e.dyn.page_main_cat ? s.__("xcams.girls") : "gay" === e.dyn.page_main_cat ? s.__("xcams.guys") : s.__("xcams.trans"),
                            live: s.__("xcams.live")
                        })),
                        i.oAdsCam.ntv.insertBefore("#video-player-bg"),
                        $("#video-ad").addClass("hidden"))
                    });
                    break;
                case "foot":
                    require(["text!skins/" + e.sitename + "/xcams/ad_xv_cams_footer.mustache"], function(e) {
                        i.oAdsCam.foot = $(n.render(e, {
                            class_container: l("foot"),
                            class_models: l("ms"),
                            class_model: l("m"),
                            models: f,
                            home_url: u,
                            live: s.__("xcams.live")
                        })),
                        i.oAdsCam.foot.insertBefore("#ad-footer")
                    })
                }
            })
        }
    },
    new i
}),
define("skins/common/mozaique/simple_dropdown", ["lib/helpers/popup", "static/cookies", "lib/i18n!front"], function(e, t, i) {
    var n = function(e) {
        this.popups = [],
        e && this.init(e)
    };
    return n.prototype = {
        init: function(i) {
            var n = this;
            if (i = $(i),
            i.find(".niv1").each(function() {
                var i = $(this).children(".niv2");
                if (0 === i.length)
                    return !0;
                i.on("click", "a", function() {
                    var e = $(this).data("cookie");
                    e && t.setLocal("sdpdwnce", e, 12e4, "/")
                });
                var o = $(this).children(".show-niv2");
                o.removeAttr("href").addClass("init-ok");
                var s = "simple-dropdown-pop"
                  , a = i.data("popup-class");
                a && (s += " " + a),
                o.hasClass("current") && (s += " current");
                var r = new e(o,i,{
                    popup_class: s,
                    autoclose_on_same_level: "simple_dropdown_niv2",
                    max_width: function() {
                        return Math.floor(96 * $(window).innerWidth() / 100) - 4
                    }
                });
                $(this).closest(".simple-dropdown").data("xvpop", r),
                n.popups.push(r);
                var l = i.children(".see-all");
                if (0 === l.length)
                    return !0;
                var u = i.data("type");
                if (!u)
                    return l.remove(),
                    !0;
                var f = i.find(".uls ul")
                  , c = n.get_uls_to_center(f, u);
                f.addClass("hidden-pagin"),
                c.addClass("main-pagin"),
                l.on("click", function() {
                    n.toggle_see_all($(this), r, u)
                })
            }),
            i.find(".year").length) {
                var o = $(".year")
                  , s = o.find(".year-months");
                if ($(".year-label").on("click", function(e) {
                    var t = $(e.currentTarget)
                      , i = t.parents(".year")
                      , n = i.find(".year-months");
                    if (n.is(":visible"))
                        o.removeClass("hidden").addClass("is-close").find(".icf-angle-left").addClass("hidden"),
                        s.addClass("hidden");
                    else if (o.addClass("hidden"),
                    n.removeClass("hidden"),
                    i.removeClass("hidden is-close").find(".icf-angle-left").removeClass("hidden"),
                    $(".with-days").length) {
                        var a = s.find(".year-month");
                        a.removeClass("hidden").addClass("is-close").find(".icf-angle-left").addClass("hidden")
                    }
                }),
                $(".with-days").length) {
                    var a = s.find(".year-month")
                      , r = a.find(".month-days");
                    $(".month-label").on("click", function(e) {
                        var t = $(e.currentTarget)
                          , i = t.parents(".year-month")
                          , n = i.find(".month-days");
                        n.is(":visible") ? (a.removeClass("hidden").addClass("is-close").find(".icf-angle-left").addClass("hidden"),
                        r.addClass("hidden")) : (a.addClass("hidden"),
                        n.removeClass("hidden"),
                        i.removeClass("hidden is-close").find(".icf-angle-left").removeClass("hidden"))
                    })
                }
            }
        },
        close_all: function() {
            for (var e = 0; e < this.popups.length; e++) {
                var t = this.popups[e];
                t && "function" == typeof t.close && t.close()
            }
        },
        get_uls_to_center: function(e, t) {
            var i = !1
              , n = !1
              , o = !1;
            return e.each(function() {
                if ($(this).find(".current").length > 0) {
                    if ("weeks" === t)
                        return $(this);
                    i ? n = $(this) : (i = $(this),
                    n = !0)
                } else if (n) {
                    if (!0 !== n)
                        return o = $(this),
                        !1;
                    n = $(this)
                } else
                    i = $(this)
            }),
            o ? "boolean" == typeof n ? e.slice(0, "weeks" === t ? 1 : 3) : $(i).add($(n)).add($(o)) : e.slice("weeks" === t ? -1 : -3)
        },
        toggle_see_all: function(e, t, n) {
            var o = t.popup.find(".niv2")
              , s = !o.hasClass("see-all");
            if (o.toggleClass("see-all", s),
            e.text(i.__(s ? "misc.show_less" : "misc.show_more")),
            t.position(),
            !s)
                return !1;
            var a = this.get_uls_to_center(o.find(".uls ul"), n)
              , r = a.first().position().left
              , l = o.find(".uls").first();
            r > 30 && l.scrollLeft(r - 30)
        }
    },
    n
}),
define("skins/default/common_all", ["config/main"], function(e) {
    require(["skins/common/main_cats/switcher", "skins/common/design/stop_anim_on_resize", "skins/common/design/vh_tweak", "skins/common/design/old_ie"], function(e) {
        e.initBtnSwitchers($("#main-cat-switcher"), {
            position: {
                v: "below",
                h: "right"
            }
        }),
        e.initBtnSwitchers($("#mobile-slogan .main-cat-switcher-mobile"), {
            position: {
                v: "below",
                h: "left"
            }
        }),
        e.initBtnSwitchers($("#mobile-footer-slogan .main-cat-switcher-mobile"), {
            position: {
                v: "above",
                h: "left"
            }
        })
    }),
    e.dyn.login_info.is_logged && require(["skins/common/features_test/videos_i_like"], function(e) {
        e.clear()
    }),
    e.dyn.login_info.profile && require(["skins/common/features_test/video_subs"], function(e) {
        e.clear()
    }),
    e.dyn.appandroidpop && require(["skins/common/download_app"], function(e) {
        e._init()
    }),
    $(".thumb-block").length > 0 && require(["skins/default/mozaique/thumb_block_common_init"], function(e) {
        e.init_listing(!1, {
            rotator: !1
        })
    });
    var t = $("#nav .live-cams");
    (t.length > 0 || !e.dyn.is_premium && e.dyn.slcams) && require(["skins/common/xcams/current_live_cams"], function(i) {
        t.length > 0 && i.addHoverToLink(t, "tab"),
        !e.dyn.is_premium && e.dyn.slcams && "undefined" != typeof e.data.slcamscat && window.xv.sda.adblocked.called && i.getCurrentLiveCamsInfos("foot")
    });
    var i = $(".simple-dropdown");
    i.length > 0 && require(["skins/common/mozaique/simple_dropdown"], function(e) {
        new e(i)
    }),
    require(["skins/default/purchase_form/purchase_form_init"]),
    require(["static/utils", "lib/helpers/overlay/contextual_popup"], function(e, t) {
        e.contextual_popup = t
    }),
    !e.dyn.is_premium || e.dyn.login_info && e.dyn.login_info.is_premium && e.dyn.login_info.is_logged || require(["skins/default/mozaique/thumb_block_menu"], function(e) {
        e.disableAll()
    })
}),
define("skins/xnxx/common", [], function() {}),
define("skins/xnxx/mozaique/thumb_block_menu", ["skins/common/mozaique/thumb_block_menu", "skins/common/mozaique/thumb_block_menu/one_tb_menu", "config/main", "lib/i18n!front"], function(e, t, i, n) {
    return t.prototype.add_content_v_report_btn = function() {
        var e, t;
        e = $("<li></li>"),
        t = $("<a href='" + i.domains.info + "/contact' target='_blank'><span class='icon-f icf-flag'></span>" + n.__("misc.report_issue") + "</a>"),
        e.append(t),
        this.$Content.append(e)
    }
    ,
    my_tb_menus = new e,
    xv.thumb_block_menus = my_tb_menus,
    my_tb_menus
}),
define("skins/xnxx/mozaique/thumb_block_common_init", ["skins/xnxx/mozaique/thumb_block_menu", "lib/helpers/thumbs_rotator", "skins/common/mozaique/premium_redirect_alert"], function(e, t, i) {
    var n = function() {};
    n.prototype = {
        init_listing: function(n, o) {
            o && !1 === o.tb_menu || e.init_listing(n),
            o && !1 === o.rotator || t(n, void 0 !== o && "boolean" == typeof o.is_thumb_list ? o.is_thumb_list : null),
            o && !1 === o.premium_redirect_alert || i.init_listing(n)
        }
    };
    var o = new n;
    return xv.thumb_block_initiator = o,
    o
}),
define("skins/xnxx/common_all", ["config/main", "static/cookies", "skins/default/pagination"], function(e, t, i) {
    var n = $("#language-switcher")
      , o = $("#language-switcher-mobile");
    (n.length > 0 || o.length > 0) && require(["lib/helpers/popup/language_switcher"], function(t) {
        n.length > 0 && t(n, "/change-language/", e.data.other_locales),
        o.length > 0 && t(o, "/change-language/", e.data.other_locales)
    });
    var s = $("#main-cat-switcher")
      , a = $("#main-cat-switcher-mobile");
    (s.length > 0 || a.length > 0) && require(["skins/common/main_cats/switcher"], function(e) {
        s.length > 0 && e.initBtnSwitchers(s),
        a.length > 0 && e.initBtnSwitchers(a, {
            autoclose_on_same_level: "header_menu",
            position: {
                v: "below",
                h: "left"
            }
        })
    });
    var r = $("#account-menu-btn")
      , l = $("#account-menu");
    (r.length > 0 || l.length > 0) && require(["lib/helpers/popup"], function(e) {
        $relative = $("#page"),
        0 === $relative.length && ($relative = $("body")),
        new e(r,l,{
            relative_to: $relative,
            trigger: "click mouseclick",
            autoclose: !0,
            mouseout_autoclose: 5e3,
            autoclose_on_same_level: "header_menu",
            popup_class: "account-menu-pop",
            offset: {
                below: -5,
                above: 0,
                left: 0,
                right: 2
            }
        }),
        r.addClass("init-ok")
    }),
    $("#mobile-cat-list").length > 0 && xv.cats.init_write_stored_order("mobile-cat-list", "mobile-cat-order-select", "mobile-cat-history-legend");
    var u = $(".simple-dropdown");
    u.length > 0 && require(["skins/common/mozaique/simple_dropdown"], function(e) {
        new e(u)
    }),
    i.add_all_in("#content", {
        next_class: "next",
        prev_class: "prev"
    }),
    $(".thumb-block").length > 0 && require(["skins/xnxx/mozaique/thumb_block_common_init"], function(e) {
        e.init_listing(!1, {
            rotator: !1
        })
    });
    var f = $("#reload-page");
    f.length > 0 && f.on("click", function() {
        $("html,body").scrollTop(0),
        window.location.reload()
    }).addClass("init-ok");
    var c = $("#subs-home-toggle");
    c.length > 0 && require(["lib/i18n!front", "lib/helpers/overlay/contextual_popup"], function(t, i) {
        var n = !e.dyn.disfeats || -1 === e.dyn.disfeats.indexOf("s");
        c.html((n ? "<span class='icon-f icf-ban'></span> " : "") + t.__("subscriptions." + (n ? "dont_" : "") + "show_on_homepage")).on("click", function() {
            $.post("/account/feature-" + (n ? "disabled" : "enabled"), {
                featureid: "s"
            }, function(e) {
                if (!e.result)
                    return void i.alert(t.__("form.error_modification_not_saved"));
                $("html,body").scrollTop(0),
                window.location.reload()
            }, "json")
        }).addClass("init-ok")
    });
    var d = $("#site-nav .live-cams");
    (d.length > 0 || !e.dyn.is_premium && e.dyn.slcams) && require(["skins/common/xcams/current_live_cams"], function(t) {
        d.length > 0 && t.addHoverToLink(d, "tab"),
        !e.dyn.is_premium && e.dyn.slcams && "undefined" != typeof e.data.slcamscat && window.xv.sda.adblocked.called && t.getCurrentLiveCamsInfos("foot")
    }),
    $("#site-nav, #multi-footer-link").find("a").each(function() {
        var t = $(this)
          , i = t.attr("href");
        (e.dyn.is_premium && -1 === i.indexOf(e.domains.premium) && i.match(/^\http[s]:\/\/[a-z]*.[xnxx|sexstories]*.[com|local]*/gm) || !e.dyn.is_premium && t.hasClass("gold-plate")) && (t.data("no-redirect", 1),
        t.on("click", function(n) {
            n.preventDefault(),
            require(["skins/common/mozaique/premium_redirect_alert"], function(n) {
                var o = function() {
                    !e.dyn.is_premium && t.hasClass("gold-plate") ? document.location.href = e.domains.premium + "/gold/videos" : document.location.href = i
                };
                n.displayPopup("exit", null, o)
            })
        }))
    });
    var h = $("#xnxx-search-bar");
    h.length > 0 && h.on("submit", function(e) {
        e.preventDefault();
        var t = "/search/";
        h.find('input[name="premium"]').val() && (t += "gold/"),
        window.location.href = t + encodeURI($.trim(h.find('input[name="k"]').val().toString()).replace(/ /g, "+"))
    }),
    e.dyn.is_premium && $("#header-mobile-gold,#mobile-menu .free-plate").on("click", function() {
        t.setLocal("sdpdwnce", "free", 12e4, "/")
    }),
    require(["static/utils", "lib/helpers/overlay/contextual_popup"], function(e, t) {
        e.contextual_popup = t
    }),
    e.dyn.appandroidpop && require(["skins/common/download_app"], function(e) {
        e._init()
    }),
    require(["skins/common/design/stop_anim_on_resize", "skins/common/design/vh_tweak", "skins/common/design/old_ie"], function() {})
}),
define("text!skins/common/thread/ui/node.mustache", [], function() {
    return '<div class="thread-node">\r\n\t<div class="thread-node-nb-before hidden"></div>\r\n\t{{#has_profile}}\r\n\t<div class="thread-node-picture">\r\n\t\t<img src="{{{ default_img }}}" />\r\n\t\t<span class="flag-small hidden"></span>\r\n\t</div>\r\n\t{{/has_profile}}\r\n\t<div class="thread-node-loader hidden"></div>\r\n\t<div class="thread-node-error hidden"></div>\r\n\t<div class="thread-node-content hidden">\r\n\t\t<div class="thread-node-poster">\r\n\t\t\t{{^has_profile}}<span class="flag-small hidden"></span>{{/has_profile}}\r\n\t\t\t<span class="thread-node-poster-name"></span>\r\n\t\t\t<span class="thread-node-date"></span>\r\n\t\t</div>\r\n\t\t<div class="thread-node-message"></div>\r\n\t\t<div class="thread-node-metadata">\r\n\t\t\t<span class="icon-f icf-thumb-up"></span>\r\n\t\t\t<span class="thread-node-nb-votes votes-up"></span>\r\n\t\t\t<span class="icon-f icf-thumb-down"></span>\r\n\t\t\t<span class="thread-node-nb-votes votes-down"></span>\r\n\t\t\t<a class="thread-node-btn-post hidden">{{{ lbl_reply }}}</a>\r\n\t\t\t<a class="thread-node-btn-edit hidden">{{{ lbl_edit }}}</a>\r\n\t\t\t<a class="thread-node-btn-delete hidden">{{{ lbl_delete }}}</a>\r\n\t\t\t<a class="thread-node-btn-restore hidden">{{{ lbl_undelete }}}</a>\r\n\t\t\t<a class="thread-node-btn-report hidden">{{{ lbl_report }}}</a>\r\n\t\t</div>\r\n\t\t{{> children}}\r\n\t</div>\r\n\t<div class="thread-node-nb-after hidden"></div>\r\n</div>'
}),
define("text!skins/common/thread/ui/children.mustache", [], function() {
    return '<div class="thread-node-children hidden">\r\n\t<div class="thread-node-children-show"><span></span></div>\r\n\t<div class="thread-node-children-hide"><span>{{{ lbl_hide_replies }}}</span></div>\r\n\t<div class="thread-node-children-nodes" style="display:none"></div>\r\n</div>\r\n<div class="thread-node-children-loader hidden"></div>\r\n<div class="thread-node-children-error hidden"></div>\r\n<div class="thread-node-children-load-next">\r\n\t<a href="#" class="thread-node-btn thread-node-children-load-next-btn hidden"></a>\r\n\t<a href="#" class="thread-node-btn thread-node-children-load-all-btn hidden">{{{ lbl_load_all }}}</a>\r\n\t<a href="#" class="thread-node-btn thread-node-btn-post hidden">{{{ lbl_post_reply }}}</a>\r\n</div>'
}),
define("text!skins/common/thread/ui/message.mustache", [], function() {
    return '{{#is_video}}<span class="icon uploads"></span>{{/is_video}}\n{{#is_gallery}}<span class="icon albums"></span>{{/is_gallery}}\n{{#is_playlist}}<span class="icon playlist"></span>{{/is_playlist}}\n<a class="preview preview-{{ t }}" href="{{ u }}" data-thumb="{{{ i }}}">{{{ n }}}</a>\n{{#v}}<span class="icon-f icf-check-circle verified"></span>{{/v}}'
}),
define("text!skins/common/thread/ui/friend_button.mustache", [], function() {
    return '{{#is_friend}}\n\t<div class="thread-node-pic-bottom" title="{{{ lbl_already_friends }}}"><span class="icon-f icf-user-check"></span></div>\n{{/is_friend}}\n{{#friend_req_asked}}\n\t<div class="thread-node-pic-bottom" title="{{{ lbl_friend_req_asked }}}"><span class="icon-f icf-user-hourglass"></span></div>\n{{/friend_req_asked}}\n{{#can_ask_friend}}\n\t<div class="thread-node-pic-bottom">\n\t\t<button type="button" class="btn btn-default btn-xs thread-node-friend-ask-btn" title="{{{ lbl_add_to_friends }}}">\n\t\t\t<span class="icon-f icf-user-plus"></span>\n\t\t</button>\n\t</div>\n{{/can_ask_friend}}'
}),
function(e) {
    if ("function" == typeof define && define.amd)
        define("jquery.textcomplete.min", ["jquery"], e);
    else if ("object" == typeof module && module.exports) {
        var t = require("jquery");
        module.exports = e(t)
    } else
        e(jQuery)
}(function(e) {
    if (void 0 === e)
        throw new Error("jQuery.textcomplete requires jQuery");
    return function(e) {
        "use strict";
        var t = function(e) {
            console.warn && console.warn(e)
        }
          , i = 1;
        e.fn.textcomplete = function(n, o) {
            var s = Array.prototype.slice.call(arguments);
            return this.each(function() {
                var a = this
                  , r = e(this)
                  , l = r.data("textComplete");
                if (l || (o || (o = {}),
                o._oid = i++,
                l = new e.fn.textcomplete.Completer(this,o),
                r.data("textComplete", l)),
                "string" == typeof n) {
                    if (!l)
                        return;
                    s.shift(),
                    l[n].apply(l, s),
                    "destroy" === n && r.removeData("textComplete")
                } else
                    e.each(n, function(i) {
                        e.each(["header", "footer", "placement", "maxCount"], function(e) {
                            i[e] && (l.option[e] = i[e],
                            t(e + "as a strategy param is deprecated. Use option."),
                            delete i[e])
                        })
                    }),
                    l.register(e.fn.textcomplete.Strategy.parse(n, {
                        el: a,
                        $el: r
                    }))
            })
        }
    }(e),
    function(e) {
        "use strict";
        function t(i, s) {
            if (this.$el = e(i),
            this.id = "textcomplete" + n++,
            this.strategies = [],
            this.views = [],
            this.option = e.extend({}, t.defaults, s),
            !(this.$el.is("input[type=text]") || this.$el.is("input[type=search]") || this.$el.is("textarea") || i.isContentEditable || "true" == i.contentEditable))
                throw new Error("textcomplete must be called on a Textarea or a ContentEditable.");
            if (i === i.ownerDocument.activeElement)
                this.initialize();
            else {
                var a = this;
                this.$el.one("focus." + this.id, function() {
                    a.initialize()
                }),
                this.option.adapter && "CKEditor" != this.option.adapter || "undefined" == typeof CKEDITOR || !this.$el.is("textarea") || CKEDITOR.on("instanceReady", function(t) {
                    -1 == e.inArray(t.editor.id, o) && (o.push(t.editor.id),
                    t.editor.on("focus", function(i) {
                        a.$el = e(t.editor.editable().$),
                        a.option.adapter || (a.option.adapter = e.fn.textcomplete.CKEditor),
                        a.option.ckeditor_instance = t.editor,
                        a.initialize()
                    }))
                })
            }
        }
        var i = function(e) {
            return "[object String]" === Object.prototype.toString.call(e)
        }
          , n = 0
          , o = [];
        t.defaults = {
            appendTo: "body",
            className: "",
            dropdownClassName: "dropdown-menu textcomplete-dropdown",
            maxCount: 10,
            zIndex: "100",
            rightEdgeOffset: 30
        },
        e.extend(t.prototype, {
            id: null,
            option: null,
            strategies: null,
            adapter: null,
            dropdown: null,
            $el: null,
            $iframe: null,
            initialize: function() {
                var t = this.$el.get(0);
                if (this.$el.prop("ownerDocument") !== document && window.frames.length)
                    for (var i = 0; i < window.frames.length; i++)
                        if (this.$el.prop("ownerDocument") === window.frames[i].document) {
                            this.$iframe = e(window.frames[i].frameElement);
                            break
                        }
                this.dropdown = new e.fn.textcomplete.Dropdown(t,this,this.option);
                var n, o;
                this.option.adapter ? n = this.option.adapter : (o = this.$el.is("textarea") || this.$el.is("input[type=text]") || this.$el.is("input[type=search]") ? "number" == typeof t.selectionEnd ? "Textarea" : "IETextarea" : "ContentEditable",
                n = e.fn.textcomplete[o]),
                this.adapter = new n(t,this,this.option)
            },
            destroy: function() {
                this.$el.off("." + this.id),
                this.adapter && this.adapter.destroy(),
                this.dropdown && this.dropdown.destroy(),
                this.$el = this.adapter = this.dropdown = null
            },
            deactivate: function() {
                this.dropdown && this.dropdown.deactivate()
            },
            trigger: function(e, t) {
                this.dropdown || this.initialize(),
                null != e || (e = this.adapter.getTextFromHeadToCaret());
                var i = this._extractSearchQuery(e);
                if (i.length) {
                    var n = i[1];
                    if (t && this._term === n && "" !== n)
                        return;
                    this._term = n,
                    this._search.apply(this, i)
                } else
                    this._term = null,
                    this.dropdown.deactivate()
            },
            fire: function(e) {
                var t = Array.prototype.slice.call(arguments, 1);
                return this.$el.trigger(e, t),
                this
            },
            register: function(e) {
                Array.prototype.push.apply(this.strategies, e)
            },
            select: function(e, t, i) {
                this._term = null,
                this.adapter.select(e, t, i),
                this.fire("change").fire("textComplete:select", e, t),
                this.adapter.focus()
            },
            _clearAtNext: !0,
            _term: null,
            _extractSearchQuery: function(t) {
                for (var n = 0; n < this.strategies.length; n++) {
                    var o = this.strategies[n]
                      , s = o.context(t);
                    if (s || "" === s) {
                        var a = e.isFunction(o.match) ? o.match(t) : o.match;
                        i(s) && (t = s);
                        var r = t.match(a);
                        if (r)
                            return [o, r[o.index], r]
                    }
                }
                return []
            },
            _search: function(e) {
                var t, i;
                return function() {
                    var n = Array.prototype.slice.call(arguments);
                    if (t)
                        return void (i = n);
                    t = !0;
                    var o = this;
                    n.unshift(function s() {
                        if (i) {
                            var n = i;
                            i = void 0,
                            n.unshift(s),
                            e.apply(o, n)
                        } else
                            t = !1
                    }),
                    e.apply(this, n)
                }
            }(function(e, t, i, n) {
                var o = this;
                t.search(i, function(n, s) {
                    o.dropdown.shown || o.dropdown.activate(),
                    o._clearAtNext && (o.dropdown.clear(),
                    o._clearAtNext = !1),
                    o.dropdown.setPosition(o.adapter.getCaretPosition()),
                    o.dropdown.render(o._zip(n, t, i)),
                    s || (e(),
                    o._clearAtNext = !0)
                }, n)
            }),
            _zip: function(t, i, n) {
                return e.map(t, function(e) {
                    return {
                        value: e,
                        strategy: i,
                        term: n
                    }
                })
            }
        }),
        e.fn.textcomplete.Completer = t
    }(e),
    function(e) {
        "use strict";
        function t(i, n, s) {
            this.$el = t.createElement(s),
            this.completer = n,
            this.id = n.id + "dropdown",
            this._data = [],
            this.$inputEl = e(i),
            this.option = s,
            s.listPosition && (this.setPosition = s.listPosition),
            s.height && this.$el.height(s.height);
            var a = this;
            e.each(["maxCount", "placement", "footer", "header", "noResultsMessage", "className"], function(e, t) {
                null != s[t] && (a[t] = s[t])
            }),
            this._bindEvents(i),
            o[this.id] = this
        }
        var i = e(window)
          , n = function(e, t) {
            var i, n, o = t.strategy.idProperty;
            for (i = 0; i < e.length; i++)
                if (n = e[i],
                n.strategy === t.strategy)
                    if (o) {
                        if (n.value[o] === t.value[o])
                            return !0
                    } else if (n.value === t.value)
                        return !0;
            return !1
        }
          , o = {};
        e(document).on("click", function(t) {
            var i = t.originalEvent && t.originalEvent.keepTextCompleteDropdown;
            e.each(o, function(e, t) {
                e !== i && t.deactivate()
            })
        });
        var s = {
            SKIP_DEFAULT: 0,
            KEY_UP: 1,
            KEY_DOWN: 2,
            KEY_ENTER: 3,
            KEY_PAGEUP: 4,
            KEY_PAGEDOWN: 5,
            KEY_ESCAPE: 6
        };
        e.extend(t, {
            createElement: function(t) {
                var i = t.appendTo;
                return i instanceof e || (i = e(i)),
                e("<ul></ul>").addClass(t.dropdownClassName).attr("id", "textcomplete-dropdown-" + t._oid).css({
                    display: "none",
                    left: 0,
                    position: "absolute",
                    zIndex: t.zIndex
                }).appendTo(i)
            }
        }),
        e.extend(t.prototype, {
            $el: null,
            $inputEl: null,
            completer: null,
            footer: null,
            header: null,
            id: null,
            maxCount: null,
            placement: "",
            shown: !1,
            data: [],
            className: "",
            destroy: function() {
                this.deactivate(),
                this.$el.off("." + this.id),
                this.$inputEl.off("." + this.id),
                this.clear(),
                this.$el.remove(),
                this.$el = this.$inputEl = this.completer = null,
                delete o[this.id]
            },
            render: function(t) {
                var i = this._buildContents(t)
                  , n = e.map(t, function(e) {
                    return e.value
                });
                if (t.length) {
                    var o = t[0].strategy;
                    o.id ? this.$el.attr("data-strategy", o.id) : this.$el.removeAttr("data-strategy"),
                    this._renderHeader(n),
                    this._renderFooter(n),
                    i && (this._renderContents(i),
                    this._fitToBottom(),
                    this._fitToRight(),
                    this._activateIndexedItem()),
                    this._setScroll()
                } else
                    this.noResultsMessage ? this._renderNoResultsMessage(n) : this.shown && this.deactivate()
            },
            setPosition: function(t) {
                var n = "absolute";
                return this.$inputEl.add(this.$inputEl.parents()).each(function() {
                    return "absolute" !== e(this).css("position") && ("fixed" === e(this).css("position") ? (t.top -= i.scrollTop(),
                    t.left -= i.scrollLeft(),
                    n = "fixed",
                    !1) : void 0)
                }),
                this.$el.css(this._applyPlacement(t)),
                this.$el.css({
                    position: n
                }),
                this
            },
            clear: function() {
                this.$el.html(""),
                this.data = [],
                this._index = 0,
                this._$header = this._$footer = this._$noResultsMessage = null
            },
            activate: function() {
                return this.shown || (this.clear(),
                this.$el.show(),
                this.className && this.$el.addClass(this.className),
                this.completer.fire("textComplete:show"),
                this.shown = !0),
                this
            },
            deactivate: function() {
                return this.shown && (this.$el.hide(),
                this.className && this.$el.removeClass(this.className),
                this.completer.fire("textComplete:hide"),
                this.shown = !1),
                this
            },
            isUp: function(e) {
                return 38 === e.keyCode || e.ctrlKey && 80 === e.keyCode
            },
            isDown: function(e) {
                return 40 === e.keyCode || e.ctrlKey && 78 === e.keyCode
            },
            isEnter: function(e) {
                return !(e.ctrlKey || e.altKey || e.metaKey || e.shiftKey) && (13 === e.keyCode || 9 === e.keyCode || !0 === this.option.completeOnSpace && 32 === e.keyCode)
            },
            isPageup: function(e) {
                return 33 === e.keyCode
            },
            isPagedown: function(e) {
                return 34 === e.keyCode
            },
            isEscape: function(e) {
                return 27 === e.keyCode
            },
            _data: null,
            _index: null,
            _$header: null,
            _$noResultsMessage: null,
            _$footer: null,
            _bindEvents: function() {
                this.$el.on("mousedown." + this.id, ".textcomplete-item", e.proxy(this._onClick, this)),
                this.$el.on("touchstart." + this.id, ".textcomplete-item", e.proxy(this._onClick, this)),
                this.$el.on("mouseover." + this.id, ".textcomplete-item", e.proxy(this._onMouseover, this)),
                this.$inputEl.on("keydown." + this.id, e.proxy(this._onKeydown, this))
            },
            _onClick: function(t) {
                var i = e(t.target);
                t.preventDefault(),
                t.originalEvent.keepTextCompleteDropdown = this.id,
                i.hasClass("textcomplete-item") || (i = i.closest(".textcomplete-item"));
                var n = this.data[parseInt(i.data("index"), 10)];
                this.completer.select(n.value, n.strategy, t);
                var o = this;
                setTimeout(function() {
                    o.deactivate(),
                    "touchstart" === t.type && o.$inputEl.focus()
                }, 0)
            },
            _onMouseover: function(t) {
                var i = e(t.target);
                t.preventDefault(),
                i.hasClass("textcomplete-item") || (i = i.closest(".textcomplete-item")),
                this._index = parseInt(i.data("index"), 10),
                this._activateIndexedItem()
            },
            _onKeydown: function(t) {
                if (this.shown) {
                    var i;
                    switch (e.isFunction(this.option.onKeydown) && (i = this.option.onKeydown(t, s)),
                    null == i && (i = this._defaultKeydown(t)),
                    i) {
                    case s.KEY_UP:
                        t.preventDefault(),
                        this._up();
                        break;
                    case s.KEY_DOWN:
                        t.preventDefault(),
                        this._down();
                        break;
                    case s.KEY_ENTER:
                        t.preventDefault(),
                        this._enter(t);
                        break;
                    case s.KEY_PAGEUP:
                        t.preventDefault(),
                        this._pageup();
                        break;
                    case s.KEY_PAGEDOWN:
                        t.preventDefault(),
                        this._pagedown();
                        break;
                    case s.KEY_ESCAPE:
                        t.preventDefault(),
                        this.deactivate()
                    }
                }
            },
            _defaultKeydown: function(e) {
                return this.isUp(e) ? s.KEY_UP : this.isDown(e) ? s.KEY_DOWN : this.isEnter(e) ? s.KEY_ENTER : this.isPageup(e) ? s.KEY_PAGEUP : this.isPagedown(e) ? s.KEY_PAGEDOWN : this.isEscape(e) ? s.KEY_ESCAPE : void 0
            },
            _up: function() {
                0 === this._index ? this._index = this.data.length - 1 : this._index -= 1,
                this._activateIndexedItem(),
                this._setScroll()
            },
            _down: function() {
                this._index === this.data.length - 1 ? this._index = 0 : this._index += 1,
                this._activateIndexedItem(),
                this._setScroll()
            },
            _enter: function(e) {
                var t = this.data[parseInt(this._getActiveElement().data("index"), 10)];
                this.completer.select(t.value, t.strategy, e),
                this.deactivate()
            },
            _pageup: function() {
                var t = 0
                  , i = this._getActiveElement().position().top - this.$el.innerHeight();
                this.$el.children().each(function(n) {
                    return e(this).position().top + e(this).outerHeight() > i ? (t = n,
                    !1) : void 0
                }),
                this._index = t,
                this._activateIndexedItem(),
                this._setScroll()
            },
            _pagedown: function() {
                var t = this.data.length - 1
                  , i = this._getActiveElement().position().top + this.$el.innerHeight();
                this.$el.children().each(function(n) {
                    return e(this).position().top > i ? (t = n,
                    !1) : void 0
                }),
                this._index = t,
                this._activateIndexedItem(),
                this._setScroll()
            },
            _activateIndexedItem: function() {
                this.$el.find(".textcomplete-item.active").removeClass("active"),
                this._getActiveElement().addClass("active")
            },
            _getActiveElement: function() {
                return this.$el.children(".textcomplete-item:nth(" + this._index + ")")
            },
            _setScroll: function() {
                var e = this._getActiveElement()
                  , t = e.position().top
                  , i = e.outerHeight()
                  , n = this.$el.innerHeight()
                  , o = this.$el.scrollTop();
                0 === this._index || this._index == this.data.length - 1 || 0 > t ? this.$el.scrollTop(t + o) : t + i > n && this.$el.scrollTop(t + i + o - n)
            },
            _buildContents: function(e) {
                var t, i, o, s = "";
                for (i = 0; i < e.length && this.data.length !== this.maxCount; i++)
                    t = e[i],
                    n(this.data, t) || (o = this.data.length,
                    this.data.push(t),
                    s += '<li class="textcomplete-item" data-index="' + o + '"><a>',
                    s += t.strategy.template(t.value, t.term),
                    s += "</a></li>");
                return s
            },
            _renderHeader: function(t) {
                if (this.header) {
                    this._$header || (this._$header = e('<li class="textcomplete-header"></li>').prependTo(this.$el));
                    var i = e.isFunction(this.header) ? this.header(t) : this.header;
                    this._$header.html(i)
                }
            },
            _renderFooter: function(t) {
                if (this.footer) {
                    this._$footer || (this._$footer = e('<li class="textcomplete-footer"></li>').appendTo(this.$el));
                    var i = e.isFunction(this.footer) ? this.footer(t) : this.footer;
                    this._$footer.html(i)
                }
            },
            _renderNoResultsMessage: function(t) {
                if (this.noResultsMessage) {
                    this._$noResultsMessage || (this._$noResultsMessage = e('<li class="textcomplete-no-results-message"></li>').appendTo(this.$el));
                    var i = e.isFunction(this.noResultsMessage) ? this.noResultsMessage(t) : this.noResultsMessage;
                    this._$noResultsMessage.html(i)
                }
            },
            _renderContents: function(e) {
                this._$footer ? this._$footer.before(e) : this.$el.append(e)
            },
            _fitToBottom: function() {
                var e = i.scrollTop() + i.height()
                  , t = this.$el.height();
                this.$el.position().top + t > e && (this.completer.$iframe || this.$el.offset({
                    top: e - t
                }))
            },
            _fitToRight: function() {
                for (var e, t = this.option.rightEdgeOffset, n = this.$el.offset().left, o = this.$el.width(), s = i.width() - t; n + o > s && (this.$el.offset({
                    left: n - t
                }),
                !((e = this.$el.offset().left) >= n)); )
                    n = e
            },
            _applyPlacement: function(e) {
                return -1 !== this.placement.indexOf("top") ? e = {
                    top: "auto",
                    bottom: this.$el.parent().height() - e.top + e.lineHeight,
                    left: e.left
                } : (e.bottom = "auto",
                delete e.lineHeight),
                -1 !== this.placement.indexOf("absleft") ? e.left = 0 : -1 !== this.placement.indexOf("absright") && (e.right = 0,
                e.left = "auto"),
                e
            }
        }),
        e.fn.textcomplete.Dropdown = t,
        e.extend(e.fn.textcomplete, s)
    }(e),
    function(e) {
        "use strict";
        function t(t) {
            e.extend(this, t),
            this.cache && (this.search = i(this.search))
        }
        var i = function(e) {
            var t = {};
            return function(i, n) {
                t[i] ? n(t[i]) : e.call(this, i, function(e) {
                    t[i] = (t[i] || []).concat(e),
                    n.apply(null, arguments)
                })
            }
        };
        t.parse = function(i, n) {
            return e.map(i, function(e) {
                var i = new t(e);
                return i.el = n.el,
                i.$el = n.$el,
                i
            })
        }
        ,
        e.extend(t.prototype, {
            match: null,
            replace: null,
            search: null,
            id: null,
            cache: !1,
            context: function() {
                return !0
            },
            index: 2,
            template: function(e) {
                return e
            },
            idProperty: null
        }),
        e.fn.textcomplete.Strategy = t
    }(e),
    function(e) {
        "use strict";
        function t() {}
        var i = Date.now || function() {
            return (new Date).getTime()
        }
          , n = function(e, t) {
            var n, o, s, a, r, l = function() {
                var u = i() - a;
                t > u ? n = setTimeout(l, t - u) : (n = null,
                r = e.apply(s, o),
                s = o = null)
            };
            return function() {
                return s = this,
                o = arguments,
                a = i(),
                n || (n = setTimeout(l, t)),
                r
            }
        };
        e.extend(t.prototype, {
            id: null,
            completer: null,
            el: null,
            $el: null,
            option: null,
            initialize: function(t, i, o) {
                this.el = t,
                this.$el = e(t),
                this.id = i.id + this.constructor.name,
                this.completer = i,
                this.option = o,
                this.option.debounce && (this._onKeyup = n(this._onKeyup, this.option.debounce)),
                this._bindEvents()
            },
            destroy: function() {
                this.$el.off("." + this.id),
                this.$el = this.el = this.completer = null
            },
            select: function() {
                throw new Error("Not implemented")
            },
            getCaretPosition: function() {
                var t = this._getCaretRelativePosition()
                  , i = this.$el.offset()
                  , n = this.option.appendTo;
                if (n) {
                    n instanceof e || (n = e(n));
                    var o = n.offsetParent().offset();
                    i.top -= o.top,
                    i.left -= o.left
                }
                return t.top += i.top,
                t.left += i.left,
                t
            },
            focus: function() {
                this.$el.focus()
            },
            _bindEvents: function() {
                this.$el.on("keyup." + this.id, e.proxy(this._onKeyup, this))
            },
            _onKeyup: function(e) {
                this._skipSearch(e) || this.completer.trigger(this.getTextFromHeadToCaret(), !0)
            },
            _skipSearch: function(e) {
                switch (e.keyCode) {
                case 9:
                case 13:
                case 16:
                case 17:
                case 18:
                case 33:
                case 34:
                case 40:
                case 38:
                case 27:
                    return !0
                }
                if (e.ctrlKey)
                    switch (e.keyCode) {
                    case 78:
                    case 80:
                        return !0
                    }
            }
        }),
        e.fn.textcomplete.Adapter = t
    }(e),
    function(e) {
        "use strict";
        function t(e, t, i) {
            this.initialize(e, t, i)
        }
        e.extend(t.prototype, e.fn.textcomplete.Adapter.prototype, {
            select: function(t, i, n) {
                var o, s = this.getTextFromHeadToCaret(), a = this.el.value.substring(this.el.selectionEnd), r = i.replace(t, n);
                void 0 !== r && (e.isArray(r) && (a = r[1] + a,
                r = r[0]),
                o = e.isFunction(i.match) ? i.match(s) : i.match,
                s = s.replace(o, r),
                this.$el.val(s + a),
                this.el.selectionStart = this.el.selectionEnd = s.length)
            },
            getTextFromHeadToCaret: function() {
                return this.el.value.substring(0, this.el.selectionEnd)
            },
            _getCaretRelativePosition: function() {
                var t = e.fn.textcomplete.getCaretCoordinates(this.el, this.el.selectionStart);
                return {
                    top: t.top + this._calculateLineHeight() - this.$el.scrollTop(),
                    left: t.left - this.$el.scrollLeft(),
                    lineHeight: this._calculateLineHeight()
                }
            },
            _calculateLineHeight: function() {
                var e = parseInt(this.$el.css("line-height"), 10);
                if (isNaN(e)) {
                    var t = this.el.parentNode
                      , i = document.createElement(this.el.nodeName)
                      , n = this.el.style;
                    i.setAttribute("style", "margin:0px;padding:0px;font-family:" + n.fontFamily + ";font-size:" + n.fontSize),
                    i.innerHTML = "test",
                    t.appendChild(i),
                    e = i.clientHeight,
                    t.removeChild(i)
                }
                return e
            }
        }),
        e.fn.textcomplete.Textarea = t
    }(e),
    function(e) {
        "use strict";
        function t(t, n, o) {
            this.initialize(t, n, o),
            e("<span>" + i + "</span>").css({
                position: "absolute",
                top: -9999,
                left: -9999
            }).insertBefore(t)
        }
        var i = "吶";
        e.extend(t.prototype, e.fn.textcomplete.Textarea.prototype, {
            select: function(t, i, n) {
                var o, s = this.getTextFromHeadToCaret(), a = this.el.value.substring(s.length), r = i.replace(t, n);
                if (void 0 !== r) {
                    e.isArray(r) && (a = r[1] + a,
                    r = r[0]),
                    o = e.isFunction(i.match) ? i.match(s) : i.match,
                    s = s.replace(o, r),
                    this.$el.val(s + a),
                    this.el.focus();
                    var l = this.el.createTextRange();
                    l.collapse(!0),
                    l.moveEnd("character", s.length),
                    l.moveStart("character", s.length),
                    l.select()
                }
            },
            getTextFromHeadToCaret: function() {
                this.el.focus();
                var e = document.selection.createRange();
                e.moveStart("character", -this.el.value.length);
                var t = e.text.split(i);
                return 1 === t.length ? t[0] : t[1]
            }
        }),
        e.fn.textcomplete.IETextarea = t
    }(e),
    function(e) {
        "use strict";
        function t(e, t, i) {
            this.initialize(e, t, i)
        }
        e.extend(t.prototype, e.fn.textcomplete.Adapter.prototype, {
            select: function(t, i, n) {
                var o = this.getTextFromHeadToCaret()
                  , s = this.el.ownerDocument.getSelection()
                  , a = s.getRangeAt(0)
                  , r = a.cloneRange();
                r.selectNodeContents(a.startContainer);
                var l, u = r.toString(), f = u.substring(a.startOffset), c = i.replace(t, n);
                if (void 0 !== c) {
                    e.isArray(c) && (f = c[1] + f,
                    c = c[0]),
                    l = e.isFunction(i.match) ? i.match(o) : i.match,
                    o = o.replace(l, c).replace(/ $/, "&nbsp"),
                    a.selectNodeContents(a.startContainer),
                    a.deleteContents();
                    var d = this.el.ownerDocument.createElement("div");
                    d.innerHTML = o;
                    var h = this.el.ownerDocument.createElement("div");
                    h.innerHTML = f;
                    for (var p, _, g = this.el.ownerDocument.createDocumentFragment(); p = d.firstChild; )
                        _ = g.appendChild(p);
                    for (; p = h.firstChild; )
                        g.appendChild(p);
                    a.insertNode(g),
                    a.setStartAfter(_),
                    a.collapse(!0),
                    s.removeAllRanges(),
                    s.addRange(a)
                }
            },
            _getCaretRelativePosition: function() {
                var t = this.el.ownerDocument.getSelection().getRangeAt(0).cloneRange()
                  , i = t.endContainer.parentNode
                  , n = this.el.ownerDocument.createElement("span");
                t.insertNode(n),
                t.selectNodeContents(n),
                t.deleteContents(),
                setTimeout(function() {
                    i.normalize()
                }, 0);
                var o = e(n)
                  , s = o.offset();
                if (s.left -= this.$el.offset().left,
                s.top += o.height() - this.$el.offset().top,
                s.lineHeight = o.height(),
                this.completer.$iframe) {
                    var a = this.completer.$iframe.offset();
                    s.top += a.top,
                    s.left += a.left,
                    s.top -= e(this.completer.$iframe[0].contentWindow.document).scrollTop()
                }
                return o.remove(),
                s
            },
            getTextFromHeadToCaret: function() {
                var e = this.el.ownerDocument.getSelection().getRangeAt(0)
                  , t = e.cloneRange();
                return t.selectNodeContents(e.startContainer),
                t.toString().substring(0, e.startOffset)
            }
        }),
        e.fn.textcomplete.ContentEditable = t
    }(e),
    function(e) {
        "use strict";
        function t(e, t, i) {
            this.initialize(e, t, i)
        }
        e.extend(t.prototype, e.fn.textcomplete.ContentEditable.prototype, {
            _bindEvents: function() {
                var t = this;
                this.option.ckeditor_instance.on("key", function(e) {
                    var i = e.data;
                    return t._onKeyup(i),
                    (!t.completer.dropdown.shown || !t._skipSearch(i)) && void 0
                }, null, null, 1),
                this.$el.on("keyup." + this.id, e.proxy(this._onKeyup, this))
            }
        }),
        e.fn.textcomplete.CKEditor = t
    }(e),
    function(e) {
        function t(e, t, s) {
            if (!n)
                throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");
            var a = s && s.debug || !1;
            if (a) {
                var r = document.querySelector("#input-textarea-caret-position-mirror-div");
                r && r.parentNode.removeChild(r)
            }
            var l = document.createElement("div");
            l.id = "input-textarea-caret-position-mirror-div",
            document.body.appendChild(l);
            var u = l.style
              , f = window.getComputedStyle ? getComputedStyle(e) : e.currentStyle;
            u.whiteSpace = "pre-wrap",
            "INPUT" !== e.nodeName && (u.wordWrap = "break-word"),
            u.position = "absolute",
            a || (u.visibility = "hidden"),
            i.forEach(function(e) {
                u[e] = f[e]
            }),
            o ? e.scrollHeight > parseInt(f.height) && (u.overflowY = "scroll") : u.overflow = "hidden",
            l.textContent = e.value.substring(0, t),
            "INPUT" === e.nodeName && (l.textContent = l.textContent.replace(/\s/g, " "));
            var c = document.createElement("span");
            c.textContent = e.value.substring(t) || ".",
            l.appendChild(c);
            var d = {
                top: c.offsetTop + parseInt(f.borderTopWidth),
                left: c.offsetLeft + parseInt(f.borderLeftWidth)
            };
            return a ? c.style.backgroundColor = "#aaa" : document.body.removeChild(l),
            d
        }
        var i = ["direction", "boxSizing", "width", "height", "overflowX", "overflowY", "borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth", "borderStyle", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "fontStyle", "fontVariant", "fontWeight", "fontStretch", "fontSize", "fontSizeAdjust", "lineHeight", "fontFamily", "textAlign", "textTransform", "textIndent", "textDecoration", "letterSpacing", "wordSpacing", "tabSize", "MozTabSize"]
          , n = "undefined" != typeof window
          , o = n && null != window.mozInnerScreenX;
        e.fn.textcomplete.getCaretCoordinates = t
    }(e),
    e
}),
!function(e) {
    e.emojioneList = {
        ":kiss_ww:": ["1f469-200d-2764-fe0f-200d-1f48b-200d-1f469", "1f469-2764-1f48b-1f469"],
        ":couplekiss_ww:": ["1f469-200d-2764-fe0f-200d-1f48b-200d-1f469", "1f469-2764-1f48b-1f469"],
        ":kiss_mm:": ["1f468-200d-2764-fe0f-200d-1f48b-200d-1f468", "1f468-2764-1f48b-1f468"],
        ":couplekiss_mm:": ["1f468-200d-2764-fe0f-200d-1f48b-200d-1f468", "1f468-2764-1f48b-1f468"],
        ":family_mmbb:": ["1f468-200d-1f468-200d-1f466-200d-1f466", "1f468-1f468-1f466-1f466"],
        ":family_mmgb:": ["1f468-200d-1f468-200d-1f467-200d-1f466", "1f468-1f468-1f467-1f466"],
        ":family_mmgg:": ["1f468-200d-1f468-200d-1f467-200d-1f467", "1f468-1f468-1f467-1f467"],
        ":family_mwbb:": ["1f468-200d-1f469-200d-1f466-200d-1f466", "1f468-1f469-1f466-1f466"],
        ":family_mwgb:": ["1f468-200d-1f469-200d-1f467-200d-1f466", "1f468-1f469-1f467-1f466"],
        ":family_mwgg:": ["1f468-200d-1f469-200d-1f467-200d-1f467", "1f468-1f469-1f467-1f467"],
        ":family_wwbb:": ["1f469-200d-1f469-200d-1f466-200d-1f466", "1f469-1f469-1f466-1f466"],
        ":family_wwgb:": ["1f469-200d-1f469-200d-1f467-200d-1f466", "1f469-1f469-1f467-1f466"],
        ":family_wwgg:": ["1f469-200d-1f469-200d-1f467-200d-1f467", "1f469-1f469-1f467-1f467"],
        ":couple_ww:": ["1f469-200d-2764-fe0f-200d-1f469", "1f469-2764-1f469"],
        ":couple_with_heart_ww:": ["1f469-200d-2764-fe0f-200d-1f469", "1f469-2764-1f469"],
        ":couple_mm:": ["1f468-200d-2764-fe0f-200d-1f468", "1f468-2764-1f468"],
        ":couple_with_heart_mm:": ["1f468-200d-2764-fe0f-200d-1f468", "1f468-2764-1f468"],
        ":family_mmb:": ["1f468-200d-1f468-200d-1f466", "1f468-1f468-1f466"],
        ":family_mmg:": ["1f468-200d-1f468-200d-1f467", "1f468-1f468-1f467"],
        ":family_mwg:": ["1f468-200d-1f469-200d-1f467", "1f468-1f469-1f467"],
        ":family_wwb:": ["1f469-200d-1f469-200d-1f466", "1f469-1f469-1f466"],
        ":family_wwg:": ["1f469-200d-1f469-200d-1f467", "1f469-1f469-1f467"],
        ":eye_in_speech_bubble:": ["1f441-200d-1f5e8", "1f441-1f5e8"],
        ":hash:": ["0023-fe0f-20e3", "0023-20e3"],
        ":zero:": ["0030-fe0f-20e3", "0030-20e3"],
        ":one:": ["0031-fe0f-20e3", "0031-20e3"],
        ":two:": ["0032-fe0f-20e3", "0032-20e3"],
        ":three:": ["0033-fe0f-20e3", "0033-20e3"],
        ":four:": ["0034-fe0f-20e3", "0034-20e3"],
        ":five:": ["0035-fe0f-20e3", "0035-20e3"],
        ":six:": ["0036-fe0f-20e3", "0036-20e3"],
        ":seven:": ["0037-fe0f-20e3", "0037-20e3"],
        ":eight:": ["0038-fe0f-20e3", "0038-20e3"],
        ":nine:": ["0039-fe0f-20e3", "0039-20e3"],
        ":asterisk:": ["002a-fe0f-20e3", "002a-20e3"],
        ":keycap_asterisk:": ["002a-fe0f-20e3", "002a-20e3"],
        ":metal_tone5:": ["1f918-1f3ff"],
        ":sign_of_the_horns_tone5:": ["1f918-1f3ff"],
        ":metal_tone4:": ["1f918-1f3fe"],
        ":sign_of_the_horns_tone4:": ["1f918-1f3fe"],
        ":metal_tone3:": ["1f918-1f3fd"],
        ":sign_of_the_horns_tone3:": ["1f918-1f3fd"],
        ":metal_tone2:": ["1f918-1f3fc"],
        ":sign_of_the_horns_tone2:": ["1f918-1f3fc"],
        ":metal_tone1:": ["1f918-1f3fb"],
        ":sign_of_the_horns_tone1:": ["1f918-1f3fb"],
        ":bath_tone5:": ["1f6c0-1f3ff"],
        ":bath_tone4:": ["1f6c0-1f3fe"],
        ":bath_tone3:": ["1f6c0-1f3fd"],
        ":bath_tone2:": ["1f6c0-1f3fc"],
        ":bath_tone1:": ["1f6c0-1f3fb"],
        ":walking_tone5:": ["1f6b6-1f3ff"],
        ":walking_tone4:": ["1f6b6-1f3fe"],
        ":walking_tone3:": ["1f6b6-1f3fd"],
        ":walking_tone2:": ["1f6b6-1f3fc"],
        ":walking_tone1:": ["1f6b6-1f3fb"],
        ":mountain_bicyclist_tone5:": ["1f6b5-1f3ff"],
        ":mountain_bicyclist_tone4:": ["1f6b5-1f3fe"],
        ":mountain_bicyclist_tone3:": ["1f6b5-1f3fd"],
        ":mountain_bicyclist_tone2:": ["1f6b5-1f3fc"],
        ":mountain_bicyclist_tone1:": ["1f6b5-1f3fb"],
        ":bicyclist_tone5:": ["1f6b4-1f3ff"],
        ":bicyclist_tone4:": ["1f6b4-1f3fe"],
        ":bicyclist_tone3:": ["1f6b4-1f3fd"],
        ":bicyclist_tone2:": ["1f6b4-1f3fc"],
        ":bicyclist_tone1:": ["1f6b4-1f3fb"],
        ":rowboat_tone5:": ["1f6a3-1f3ff"],
        ":rowboat_tone4:": ["1f6a3-1f3fe"],
        ":rowboat_tone3:": ["1f6a3-1f3fd"],
        ":rowboat_tone2:": ["1f6a3-1f3fc"],
        ":rowboat_tone1:": ["1f6a3-1f3fb"],
        ":pray_tone5:": ["1f64f-1f3ff"],
        ":pray_tone4:": ["1f64f-1f3fe"],
        ":pray_tone3:": ["1f64f-1f3fd"],
        ":pray_tone2:": ["1f64f-1f3fc"],
        ":pray_tone1:": ["1f64f-1f3fb"],
        ":person_with_pouting_face_tone5:": ["1f64e-1f3ff"],
        ":person_with_pouting_face_tone4:": ["1f64e-1f3fe"],
        ":person_with_pouting_face_tone3:": ["1f64e-1f3fd"],
        ":person_with_pouting_face_tone2:": ["1f64e-1f3fc"],
        ":person_with_pouting_face_tone1:": ["1f64e-1f3fb"],
        ":person_frowning_tone5:": ["1f64d-1f3ff"],
        ":person_frowning_tone4:": ["1f64d-1f3fe"],
        ":person_frowning_tone3:": ["1f64d-1f3fd"],
        ":person_frowning_tone2:": ["1f64d-1f3fc"],
        ":person_frowning_tone1:": ["1f64d-1f3fb"],
        ":raised_hands_tone5:": ["1f64c-1f3ff"],
        ":raised_hands_tone4:": ["1f64c-1f3fe"],
        ":raised_hands_tone3:": ["1f64c-1f3fd"],
        ":raised_hands_tone2:": ["1f64c-1f3fc"],
        ":raised_hands_tone1:": ["1f64c-1f3fb"],
        ":raising_hand_tone5:": ["1f64b-1f3ff"],
        ":raising_hand_tone4:": ["1f64b-1f3fe"],
        ":raising_hand_tone3:": ["1f64b-1f3fd"],
        ":raising_hand_tone2:": ["1f64b-1f3fc"],
        ":raising_hand_tone1:": ["1f64b-1f3fb"],
        ":bow_tone5:": ["1f647-1f3ff"],
        ":bow_tone4:": ["1f647-1f3fe"],
        ":bow_tone3:": ["1f647-1f3fd"],
        ":bow_tone2:": ["1f647-1f3fc"],
        ":bow_tone1:": ["1f647-1f3fb"],
        ":ok_woman_tone5:": ["1f646-1f3ff"],
        ":ok_woman_tone4:": ["1f646-1f3fe"],
        ":ok_woman_tone3:": ["1f646-1f3fd"],
        ":ok_woman_tone2:": ["1f646-1f3fc"],
        ":ok_woman_tone1:": ["1f646-1f3fb"],
        ":no_good_tone5:": ["1f645-1f3ff"],
        ":no_good_tone4:": ["1f645-1f3fe"],
        ":no_good_tone3:": ["1f645-1f3fd"],
        ":no_good_tone2:": ["1f645-1f3fc"],
        ":no_good_tone1:": ["1f645-1f3fb"],
        ":vulcan_tone5:": ["1f596-1f3ff"],
        ":raised_hand_with_part_between_middle_and_ring_fingers_tone5:": ["1f596-1f3ff"],
        ":vulcan_tone4:": ["1f596-1f3fe"],
        ":raised_hand_with_part_between_middle_and_ring_fingers_tone4:": ["1f596-1f3fe"],
        ":vulcan_tone3:": ["1f596-1f3fd"],
        ":raised_hand_with_part_between_middle_and_ring_fingers_tone3:": ["1f596-1f3fd"],
        ":vulcan_tone2:": ["1f596-1f3fc"],
        ":raised_hand_with_part_between_middle_and_ring_fingers_tone2:": ["1f596-1f3fc"],
        ":vulcan_tone1:": ["1f596-1f3fb"],
        ":raised_hand_with_part_between_middle_and_ring_fingers_tone1:": ["1f596-1f3fb"],
        ":middle_finger_tone5:": ["1f595-1f3ff"],
        ":reversed_hand_with_middle_finger_extended_tone5:": ["1f595-1f3ff"],
        ":middle_finger_tone4:": ["1f595-1f3fe"],
        ":reversed_hand_with_middle_finger_extended_tone4:": ["1f595-1f3fe"],
        ":middle_finger_tone3:": ["1f595-1f3fd"],
        ":reversed_hand_with_middle_finger_extended_tone3:": ["1f595-1f3fd"],
        ":middle_finger_tone2:": ["1f595-1f3fc"],
        ":reversed_hand_with_middle_finger_extended_tone2:": ["1f595-1f3fc"],
        ":middle_finger_tone1:": ["1f595-1f3fb"],
        ":reversed_hand_with_middle_finger_extended_tone1:": ["1f595-1f3fb"],
        ":hand_splayed_tone5:": ["1f590-1f3ff"],
        ":raised_hand_with_fingers_splayed_tone5:": ["1f590-1f3ff"],
        ":hand_splayed_tone4:": ["1f590-1f3fe"],
        ":raised_hand_with_fingers_splayed_tone4:": ["1f590-1f3fe"],
        ":hand_splayed_tone3:": ["1f590-1f3fd"],
        ":raised_hand_with_fingers_splayed_tone3:": ["1f590-1f3fd"],
        ":hand_splayed_tone2:": ["1f590-1f3fc"],
        ":raised_hand_with_fingers_splayed_tone2:": ["1f590-1f3fc"],
        ":hand_splayed_tone1:": ["1f590-1f3fb"],
        ":raised_hand_with_fingers_splayed_tone1:": ["1f590-1f3fb"],
        ":spy_tone5:": ["1f575-1f3ff"],
        ":sleuth_or_spy_tone5:": ["1f575-1f3ff"],
        ":spy_tone4:": ["1f575-1f3fe"],
        ":sleuth_or_spy_tone4:": ["1f575-1f3fe"],
        ":spy_tone3:": ["1f575-1f3fd"],
        ":sleuth_or_spy_tone3:": ["1f575-1f3fd"],
        ":spy_tone2:": ["1f575-1f3fc"],
        ":sleuth_or_spy_tone2:": ["1f575-1f3fc"],
        ":spy_tone1:": ["1f575-1f3fb"],
        ":sleuth_or_spy_tone1:": ["1f575-1f3fb"],
        ":muscle_tone5:": ["1f4aa-1f3ff"],
        ":muscle_tone4:": ["1f4aa-1f3fe"],
        ":muscle_tone3:": ["1f4aa-1f3fd"],
        ":muscle_tone2:": ["1f4aa-1f3fc"],
        ":muscle_tone1:": ["1f4aa-1f3fb"],
        ":haircut_tone5:": ["1f487-1f3ff"],
        ":haircut_tone4:": ["1f487-1f3fe"],
        ":haircut_tone3:": ["1f487-1f3fd"],
        ":haircut_tone2:": ["1f487-1f3fc"],
        ":haircut_tone1:": ["1f487-1f3fb"],
        ":massage_tone5:": ["1f486-1f3ff"],
        ":massage_tone4:": ["1f486-1f3fe"],
        ":massage_tone3:": ["1f486-1f3fd"],
        ":massage_tone2:": ["1f486-1f3fc"],
        ":massage_tone1:": ["1f486-1f3fb"],
        ":nail_care_tone5:": ["1f485-1f3ff"],
        ":nail_care_tone4:": ["1f485-1f3fe"],
        ":nail_care_tone3:": ["1f485-1f3fd"],
        ":nail_care_tone2:": ["1f485-1f3fc"],
        ":nail_care_tone1:": ["1f485-1f3fb"],
        ":dancer_tone5:": ["1f483-1f3ff"],
        ":dancer_tone4:": ["1f483-1f3fe"],
        ":dancer_tone3:": ["1f483-1f3fd"],
        ":dancer_tone2:": ["1f483-1f3fc"],
        ":dancer_tone1:": ["1f483-1f3fb"],
        ":guardsman_tone5:": ["1f482-1f3ff"],
        ":guardsman_tone4:": ["1f482-1f3fe"],
        ":guardsman_tone3:": ["1f482-1f3fd"],
        ":guardsman_tone2:": ["1f482-1f3fc"],
        ":guardsman_tone1:": ["1f482-1f3fb"],
        ":information_desk_person_tone5:": ["1f481-1f3ff"],
        ":information_desk_person_tone4:": ["1f481-1f3fe"],
        ":information_desk_person_tone3:": ["1f481-1f3fd"],
        ":information_desk_person_tone2:": ["1f481-1f3fc"],
        ":information_desk_person_tone1:": ["1f481-1f3fb"],
        ":angel_tone5:": ["1f47c-1f3ff"],
        ":angel_tone4:": ["1f47c-1f3fe"],
        ":angel_tone3:": ["1f47c-1f3fd"],
        ":angel_tone2:": ["1f47c-1f3fc"],
        ":angel_tone1:": ["1f47c-1f3fb"],
        ":princess_tone5:": ["1f478-1f3ff"],
        ":princess_tone4:": ["1f478-1f3fe"],
        ":princess_tone3:": ["1f478-1f3fd"],
        ":princess_tone2:": ["1f478-1f3fc"],
        ":princess_tone1:": ["1f478-1f3fb"],
        ":construction_worker_tone5:": ["1f477-1f3ff"],
        ":construction_worker_tone4:": ["1f477-1f3fe"],
        ":construction_worker_tone3:": ["1f477-1f3fd"],
        ":construction_worker_tone2:": ["1f477-1f3fc"],
        ":construction_worker_tone1:": ["1f477-1f3fb"],
        ":baby_tone5:": ["1f476-1f3ff"],
        ":baby_tone4:": ["1f476-1f3fe"],
        ":baby_tone3:": ["1f476-1f3fd"],
        ":baby_tone2:": ["1f476-1f3fc"],
        ":baby_tone1:": ["1f476-1f3fb"],
        ":older_woman_tone5:": ["1f475-1f3ff"],
        ":grandma_tone5:": ["1f475-1f3ff"],
        ":older_woman_tone4:": ["1f475-1f3fe"],
        ":grandma_tone4:": ["1f475-1f3fe"],
        ":older_woman_tone3:": ["1f475-1f3fd"],
        ":grandma_tone3:": ["1f475-1f3fd"],
        ":older_woman_tone2:": ["1f475-1f3fc"],
        ":grandma_tone2:": ["1f475-1f3fc"],
        ":older_woman_tone1:": ["1f475-1f3fb"],
        ":grandma_tone1:": ["1f475-1f3fb"],
        ":older_man_tone5:": ["1f474-1f3ff"],
        ":older_man_tone4:": ["1f474-1f3fe"],
        ":older_man_tone3:": ["1f474-1f3fd"],
        ":older_man_tone2:": ["1f474-1f3fc"],
        ":older_man_tone1:": ["1f474-1f3fb"],
        ":man_with_turban_tone5:": ["1f473-1f3ff"],
        ":man_with_turban_tone4:": ["1f473-1f3fe"],
        ":man_with_turban_tone3:": ["1f473-1f3fd"],
        ":man_with_turban_tone2:": ["1f473-1f3fc"],
        ":man_with_turban_tone1:": ["1f473-1f3fb"],
        ":man_with_gua_pi_mao_tone5:": ["1f472-1f3ff"],
        ":man_with_gua_pi_mao_tone4:": ["1f472-1f3fe"],
        ":man_with_gua_pi_mao_tone3:": ["1f472-1f3fd"],
        ":man_with_gua_pi_mao_tone2:": ["1f472-1f3fc"],
        ":man_with_gua_pi_mao_tone1:": ["1f472-1f3fb"],
        ":person_with_blond_hair_tone5:": ["1f471-1f3ff"],
        ":person_with_blond_hair_tone4:": ["1f471-1f3fe"],
        ":person_with_blond_hair_tone3:": ["1f471-1f3fd"],
        ":person_with_blond_hair_tone2:": ["1f471-1f3fc"],
        ":person_with_blond_hair_tone1:": ["1f471-1f3fb"],
        ":bride_with_veil_tone5:": ["1f470-1f3ff"],
        ":bride_with_veil_tone4:": ["1f470-1f3fe"],
        ":bride_with_veil_tone3:": ["1f470-1f3fd"],
        ":bride_with_veil_tone2:": ["1f470-1f3fc"],
        ":bride_with_veil_tone1:": ["1f470-1f3fb"],
        ":cop_tone5:": ["1f46e-1f3ff"],
        ":cop_tone4:": ["1f46e-1f3fe"],
        ":cop_tone3:": ["1f46e-1f3fd"],
        ":cop_tone2:": ["1f46e-1f3fc"],
        ":cop_tone1:": ["1f46e-1f3fb"],
        ":woman_tone5:": ["1f469-1f3ff"],
        ":woman_tone4:": ["1f469-1f3fe"],
        ":woman_tone3:": ["1f469-1f3fd"],
        ":woman_tone2:": ["1f469-1f3fc"],
        ":woman_tone1:": ["1f469-1f3fb"],
        ":man_tone5:": ["1f468-1f3ff"],
        ":man_tone4:": ["1f468-1f3fe"],
        ":man_tone3:": ["1f468-1f3fd"],
        ":man_tone2:": ["1f468-1f3fc"],
        ":man_tone1:": ["1f468-1f3fb"],
        ":girl_tone5:": ["1f467-1f3ff"],
        ":girl_tone4:": ["1f467-1f3fe"],
        ":girl_tone3:": ["1f467-1f3fd"],
        ":girl_tone2:": ["1f467-1f3fc"],
        ":girl_tone1:": ["1f467-1f3fb"],
        ":boy_tone5:": ["1f466-1f3ff"],
        ":boy_tone4:": ["1f466-1f3fe"],
        ":boy_tone3:": ["1f466-1f3fd"],
        ":boy_tone2:": ["1f466-1f3fc"],
        ":boy_tone1:": ["1f466-1f3fb"],
        ":open_hands_tone5:": ["1f450-1f3ff"],
        ":open_hands_tone4:": ["1f450-1f3fe"],
        ":open_hands_tone3:": ["1f450-1f3fd"],
        ":open_hands_tone2:": ["1f450-1f3fc"],
        ":open_hands_tone1:": ["1f450-1f3fb"],
        ":clap_tone5:": ["1f44f-1f3ff"],
        ":clap_tone4:": ["1f44f-1f3fe"],
        ":clap_tone3:": ["1f44f-1f3fd"],
        ":clap_tone2:": ["1f44f-1f3fc"],
        ":clap_tone1:": ["1f44f-1f3fb"],
        ":thumbsdown_tone5:": ["1f44e-1f3ff"],
        ":-1_tone5:": ["1f44e-1f3ff"],
        ":thumbsdown_tone4:": ["1f44e-1f3fe"],
        ":-1_tone4:": ["1f44e-1f3fe"],
        ":thumbsdown_tone3:": ["1f44e-1f3fd"],
        ":-1_tone3:": ["1f44e-1f3fd"],
        ":thumbsdown_tone2:": ["1f44e-1f3fc"],
        ":-1_tone2:": ["1f44e-1f3fc"],
        ":thumbsdown_tone1:": ["1f44e-1f3fb"],
        ":-1_tone1:": ["1f44e-1f3fb"],
        ":thumbsup_tone5:": ["1f44d-1f3ff"],
        ":+1_tone5:": ["1f44d-1f3ff"],
        ":thumbsup_tone4:": ["1f44d-1f3fe"],
        ":+1_tone4:": ["1f44d-1f3fe"],
        ":thumbsup_tone3:": ["1f44d-1f3fd"],
        ":+1_tone3:": ["1f44d-1f3fd"],
        ":thumbsup_tone2:": ["1f44d-1f3fc"],
        ":+1_tone2:": ["1f44d-1f3fc"],
        ":thumbsup_tone1:": ["1f44d-1f3fb"],
        ":+1_tone1:": ["1f44d-1f3fb"],
        ":ok_hand_tone5:": ["1f44c-1f3ff"],
        ":ok_hand_tone4:": ["1f44c-1f3fe"],
        ":ok_hand_tone3:": ["1f44c-1f3fd"],
        ":ok_hand_tone2:": ["1f44c-1f3fc"],
        ":ok_hand_tone1:": ["1f44c-1f3fb"],
        ":wave_tone5:": ["1f44b-1f3ff"],
        ":wave_tone4:": ["1f44b-1f3fe"],
        ":wave_tone3:": ["1f44b-1f3fd"],
        ":wave_tone2:": ["1f44b-1f3fc"],
        ":wave_tone1:": ["1f44b-1f3fb"],
        ":punch_tone5:": ["1f44a-1f3ff"],
        ":punch_tone4:": ["1f44a-1f3fe"],
        ":punch_tone3:": ["1f44a-1f3fd"],
        ":punch_tone2:": ["1f44a-1f3fc"],
        ":punch_tone1:": ["1f44a-1f3fb"],
        ":point_right_tone5:": ["1f449-1f3ff"],
        ":point_right_tone4:": ["1f449-1f3fe"],
        ":point_right_tone3:": ["1f449-1f3fd"],
        ":point_right_tone2:": ["1f449-1f3fc"],
        ":point_right_tone1:": ["1f449-1f3fb"],
        ":point_left_tone5:": ["1f448-1f3ff"],
        ":point_left_tone4:": ["1f448-1f3fe"],
        ":point_left_tone3:": ["1f448-1f3fd"],
        ":point_left_tone2:": ["1f448-1f3fc"],
        ":point_left_tone1:": ["1f448-1f3fb"],
        ":point_down_tone5:": ["1f447-1f3ff"],
        ":point_down_tone4:": ["1f447-1f3fe"],
        ":point_down_tone3:": ["1f447-1f3fd"],
        ":point_down_tone2:": ["1f447-1f3fc"],
        ":point_down_tone1:": ["1f447-1f3fb"],
        ":point_up_2_tone5:": ["1f446-1f3ff"],
        ":point_up_2_tone4:": ["1f446-1f3fe"],
        ":point_up_2_tone3:": ["1f446-1f3fd"],
        ":point_up_2_tone2:": ["1f446-1f3fc"],
        ":point_up_2_tone1:": ["1f446-1f3fb"],
        ":nose_tone5:": ["1f443-1f3ff"],
        ":nose_tone4:": ["1f443-1f3fe"],
        ":nose_tone3:": ["1f443-1f3fd"],
        ":nose_tone2:": ["1f443-1f3fc"],
        ":nose_tone1:": ["1f443-1f3fb"],
        ":ear_tone5:": ["1f442-1f3ff"],
        ":ear_tone4:": ["1f442-1f3fe"],
        ":ear_tone3:": ["1f442-1f3fd"],
        ":ear_tone2:": ["1f442-1f3fc"],
        ":ear_tone1:": ["1f442-1f3fb"],
        ":lifter_tone5:": ["1f3cb-1f3ff"],
        ":weight_lifter_tone5:": ["1f3cb-1f3ff"],
        ":lifter_tone4:": ["1f3cb-1f3fe"],
        ":weight_lifter_tone4:": ["1f3cb-1f3fe"],
        ":lifter_tone3:": ["1f3cb-1f3fd"],
        ":weight_lifter_tone3:": ["1f3cb-1f3fd"],
        ":lifter_tone2:": ["1f3cb-1f3fc"],
        ":weight_lifter_tone2:": ["1f3cb-1f3fc"],
        ":lifter_tone1:": ["1f3cb-1f3fb"],
        ":weight_lifter_tone1:": ["1f3cb-1f3fb"],
        ":swimmer_tone5:": ["1f3ca-1f3ff"],
        ":swimmer_tone4:": ["1f3ca-1f3fe"],
        ":swimmer_tone3:": ["1f3ca-1f3fd"],
        ":swimmer_tone2:": ["1f3ca-1f3fc"],
        ":swimmer_tone1:": ["1f3ca-1f3fb"],
        ":horse_racing_tone5:": ["1f3c7-1f3ff"],
        ":horse_racing_tone4:": ["1f3c7-1f3fe"],
        ":horse_racing_tone3:": ["1f3c7-1f3fd"],
        ":horse_racing_tone2:": ["1f3c7-1f3fc"],
        ":horse_racing_tone1:": ["1f3c7-1f3fb"],
        ":surfer_tone5:": ["1f3c4-1f3ff"],
        ":surfer_tone4:": ["1f3c4-1f3fe"],
        ":surfer_tone3:": ["1f3c4-1f3fd"],
        ":surfer_tone2:": ["1f3c4-1f3fc"],
        ":surfer_tone1:": ["1f3c4-1f3fb"],
        ":runner_tone5:": ["1f3c3-1f3ff"],
        ":runner_tone4:": ["1f3c3-1f3fe"],
        ":runner_tone3:": ["1f3c3-1f3fd"],
        ":runner_tone2:": ["1f3c3-1f3fc"],
        ":runner_tone1:": ["1f3c3-1f3fb"],
        ":santa_tone5:": ["1f385-1f3ff"],
        ":santa_tone4:": ["1f385-1f3fe"],
        ":santa_tone3:": ["1f385-1f3fd"],
        ":santa_tone2:": ["1f385-1f3fc"],
        ":santa_tone1:": ["1f385-1f3fb"],
        ":flag_zw:": ["1f1ff-1f1fc"],
        ":zw:": ["1f1ff-1f1fc"],
        ":flag_zm:": ["1f1ff-1f1f2"],
        ":zm:": ["1f1ff-1f1f2"],
        ":flag_za:": ["1f1ff-1f1e6"],
        ":za:": ["1f1ff-1f1e6"],
        ":flag_yt:": ["1f1fe-1f1f9"],
        ":yt:": ["1f1fe-1f1f9"],
        ":flag_ye:": ["1f1fe-1f1ea"],
        ":ye:": ["1f1fe-1f1ea"],
        ":flag_xk:": ["1f1fd-1f1f0"],
        ":xk:": ["1f1fd-1f1f0"],
        ":flag_ws:": ["1f1fc-1f1f8"],
        ":ws:": ["1f1fc-1f1f8"],
        ":flag_wf:": ["1f1fc-1f1eb"],
        ":wf:": ["1f1fc-1f1eb"],
        ":flag_vu:": ["1f1fb-1f1fa"],
        ":vu:": ["1f1fb-1f1fa"],
        ":flag_vn:": ["1f1fb-1f1f3"],
        ":vn:": ["1f1fb-1f1f3"],
        ":flag_vi:": ["1f1fb-1f1ee"],
        ":vi:": ["1f1fb-1f1ee"],
        ":flag_vg:": ["1f1fb-1f1ec"],
        ":vg:": ["1f1fb-1f1ec"],
        ":flag_ve:": ["1f1fb-1f1ea"],
        ":ve:": ["1f1fb-1f1ea"],
        ":flag_vc:": ["1f1fb-1f1e8"],
        ":vc:": ["1f1fb-1f1e8"],
        ":flag_va:": ["1f1fb-1f1e6"],
        ":va:": ["1f1fb-1f1e6"],
        ":flag_uz:": ["1f1fa-1f1ff"],
        ":uz:": ["1f1fa-1f1ff"],
        ":flag_uy:": ["1f1fa-1f1fe"],
        ":uy:": ["1f1fa-1f1fe"],
        ":flag_us:": ["1f1fa-1f1f8"],
        ":us:": ["1f1fa-1f1f8"],
        ":flag_um:": ["1f1fa-1f1f2"],
        ":um:": ["1f1fa-1f1f2"],
        ":flag_ug:": ["1f1fa-1f1ec"],
        ":ug:": ["1f1fa-1f1ec"],
        ":flag_ua:": ["1f1fa-1f1e6"],
        ":ua:": ["1f1fa-1f1e6"],
        ":flag_tz:": ["1f1f9-1f1ff"],
        ":tz:": ["1f1f9-1f1ff"],
        ":flag_tw:": ["1f1f9-1f1fc"],
        ":tw:": ["1f1f9-1f1fc"],
        ":flag_tv:": ["1f1f9-1f1fb"],
        ":tuvalu:": ["1f1f9-1f1fb"],
        ":flag_tt:": ["1f1f9-1f1f9"],
        ":tt:": ["1f1f9-1f1f9"],
        ":flag_tr:": ["1f1f9-1f1f7"],
        ":tr:": ["1f1f9-1f1f7"],
        ":flag_to:": ["1f1f9-1f1f4"],
        ":to:": ["1f1f9-1f1f4"],
        ":flag_tn:": ["1f1f9-1f1f3"],
        ":tn:": ["1f1f9-1f1f3"],
        ":flag_tm:": ["1f1f9-1f1f2"],
        ":turkmenistan:": ["1f1f9-1f1f2"],
        ":flag_tl:": ["1f1f9-1f1f1"],
        ":tl:": ["1f1f9-1f1f1"],
        ":flag_tk:": ["1f1f9-1f1f0"],
        ":tk:": ["1f1f9-1f1f0"],
        ":flag_tj:": ["1f1f9-1f1ef"],
        ":tj:": ["1f1f9-1f1ef"],
        ":flag_th:": ["1f1f9-1f1ed"],
        ":th:": ["1f1f9-1f1ed"],
        ":flag_tg:": ["1f1f9-1f1ec"],
        ":tg:": ["1f1f9-1f1ec"],
        ":flag_tf:": ["1f1f9-1f1eb"],
        ":tf:": ["1f1f9-1f1eb"],
        ":flag_td:": ["1f1f9-1f1e9"],
        ":td:": ["1f1f9-1f1e9"],
        ":flag_tc:": ["1f1f9-1f1e8"],
        ":tc:": ["1f1f9-1f1e8"],
        ":flag_ta:": ["1f1f9-1f1e6"],
        ":ta:": ["1f1f9-1f1e6"],
        ":flag_sz:": ["1f1f8-1f1ff"],
        ":sz:": ["1f1f8-1f1ff"],
        ":flag_sy:": ["1f1f8-1f1fe"],
        ":sy:": ["1f1f8-1f1fe"],
        ":flag_sx:": ["1f1f8-1f1fd"],
        ":sx:": ["1f1f8-1f1fd"],
        ":flag_sv:": ["1f1f8-1f1fb"],
        ":sv:": ["1f1f8-1f1fb"],
        ":flag_st:": ["1f1f8-1f1f9"],
        ":st:": ["1f1f8-1f1f9"],
        ":flag_ss:": ["1f1f8-1f1f8"],
        ":ss:": ["1f1f8-1f1f8"],
        ":flag_sr:": ["1f1f8-1f1f7"],
        ":sr:": ["1f1f8-1f1f7"],
        ":flag_so:": ["1f1f8-1f1f4"],
        ":so:": ["1f1f8-1f1f4"],
        ":flag_sn:": ["1f1f8-1f1f3"],
        ":sn:": ["1f1f8-1f1f3"],
        ":flag_sm:": ["1f1f8-1f1f2"],
        ":sm:": ["1f1f8-1f1f2"],
        ":flag_sl:": ["1f1f8-1f1f1"],
        ":sl:": ["1f1f8-1f1f1"],
        ":flag_sk:": ["1f1f8-1f1f0"],
        ":sk:": ["1f1f8-1f1f0"],
        ":flag_sj:": ["1f1f8-1f1ef"],
        ":sj:": ["1f1f8-1f1ef"],
        ":flag_si:": ["1f1f8-1f1ee"],
        ":si:": ["1f1f8-1f1ee"],
        ":flag_sh:": ["1f1f8-1f1ed"],
        ":sh:": ["1f1f8-1f1ed"],
        ":flag_sg:": ["1f1f8-1f1ec"],
        ":sg:": ["1f1f8-1f1ec"],
        ":flag_se:": ["1f1f8-1f1ea"],
        ":se:": ["1f1f8-1f1ea"],
        ":flag_sd:": ["1f1f8-1f1e9"],
        ":sd:": ["1f1f8-1f1e9"],
        ":flag_sc:": ["1f1f8-1f1e8"],
        ":sc:": ["1f1f8-1f1e8"],
        ":flag_sb:": ["1f1f8-1f1e7"],
        ":sb:": ["1f1f8-1f1e7"],
        ":flag_sa:": ["1f1f8-1f1e6"],
        ":saudiarabia:": ["1f1f8-1f1e6"],
        ":saudi:": ["1f1f8-1f1e6"],
        ":flag_rw:": ["1f1f7-1f1fc"],
        ":rw:": ["1f1f7-1f1fc"],
        ":flag_ru:": ["1f1f7-1f1fa"],
        ":ru:": ["1f1f7-1f1fa"],
        ":flag_rs:": ["1f1f7-1f1f8"],
        ":rs:": ["1f1f7-1f1f8"],
        ":flag_ro:": ["1f1f7-1f1f4"],
        ":ro:": ["1f1f7-1f1f4"],
        ":flag_re:": ["1f1f7-1f1ea"],
        ":re:": ["1f1f7-1f1ea"],
        ":flag_qa:": ["1f1f6-1f1e6"],
        ":qa:": ["1f1f6-1f1e6"],
        ":flag_py:": ["1f1f5-1f1fe"],
        ":py:": ["1f1f5-1f1fe"],
        ":flag_pw:": ["1f1f5-1f1fc"],
        ":pw:": ["1f1f5-1f1fc"],
        ":flag_pt:": ["1f1f5-1f1f9"],
        ":pt:": ["1f1f5-1f1f9"],
        ":flag_ps:": ["1f1f5-1f1f8"],
        ":ps:": ["1f1f5-1f1f8"],
        ":flag_pr:": ["1f1f5-1f1f7"],
        ":pr:": ["1f1f5-1f1f7"],
        ":flag_pn:": ["1f1f5-1f1f3"],
        ":pn:": ["1f1f5-1f1f3"],
        ":flag_pm:": ["1f1f5-1f1f2"],
        ":pm:": ["1f1f5-1f1f2"],
        ":flag_pl:": ["1f1f5-1f1f1"],
        ":pl:": ["1f1f5-1f1f1"],
        ":flag_pk:": ["1f1f5-1f1f0"],
        ":pk:": ["1f1f5-1f1f0"],
        ":flag_ph:": ["1f1f5-1f1ed"],
        ":ph:": ["1f1f5-1f1ed"],
        ":flag_pg:": ["1f1f5-1f1ec"],
        ":pg:": ["1f1f5-1f1ec"],
        ":flag_pf:": ["1f1f5-1f1eb"],
        ":pf:": ["1f1f5-1f1eb"],
        ":flag_pe:": ["1f1f5-1f1ea"],
        ":pe:": ["1f1f5-1f1ea"],
        ":flag_pa:": ["1f1f5-1f1e6"],
        ":pa:": ["1f1f5-1f1e6"],
        ":flag_om:": ["1f1f4-1f1f2"],
        ":om:": ["1f1f4-1f1f2"],
        ":flag_nz:": ["1f1f3-1f1ff"],
        ":nz:": ["1f1f3-1f1ff"],
        ":flag_nu:": ["1f1f3-1f1fa"],
        ":nu:": ["1f1f3-1f1fa"],
        ":flag_nr:": ["1f1f3-1f1f7"],
        ":nr:": ["1f1f3-1f1f7"],
        ":flag_np:": ["1f1f3-1f1f5"],
        ":np:": ["1f1f3-1f1f5"],
        ":flag_no:": ["1f1f3-1f1f4"],
        ":no:": ["1f1f3-1f1f4"],
        ":flag_nl:": ["1f1f3-1f1f1"],
        ":nl:": ["1f1f3-1f1f1"],
        ":flag_ni:": ["1f1f3-1f1ee"],
        ":ni:": ["1f1f3-1f1ee"],
        ":flag_ng:": ["1f1f3-1f1ec"],
        ":nigeria:": ["1f1f3-1f1ec"],
        ":flag_nf:": ["1f1f3-1f1eb"],
        ":nf:": ["1f1f3-1f1eb"],
        ":flag_ne:": ["1f1f3-1f1ea"],
        ":ne:": ["1f1f3-1f1ea"],
        ":flag_nc:": ["1f1f3-1f1e8"],
        ":nc:": ["1f1f3-1f1e8"],
        ":flag_na:": ["1f1f3-1f1e6"],
        ":na:": ["1f1f3-1f1e6"],
        ":flag_mz:": ["1f1f2-1f1ff"],
        ":mz:": ["1f1f2-1f1ff"],
        ":flag_my:": ["1f1f2-1f1fe"],
        ":my:": ["1f1f2-1f1fe"],
        ":flag_mx:": ["1f1f2-1f1fd"],
        ":mx:": ["1f1f2-1f1fd"],
        ":flag_mw:": ["1f1f2-1f1fc"],
        ":mw:": ["1f1f2-1f1fc"],
        ":flag_mv:": ["1f1f2-1f1fb"],
        ":mv:": ["1f1f2-1f1fb"],
        ":flag_mu:": ["1f1f2-1f1fa"],
        ":mu:": ["1f1f2-1f1fa"],
        ":flag_mt:": ["1f1f2-1f1f9"],
        ":mt:": ["1f1f2-1f1f9"],
        ":flag_ms:": ["1f1f2-1f1f8"],
        ":ms:": ["1f1f2-1f1f8"],
        ":flag_mr:": ["1f1f2-1f1f7"],
        ":mr:": ["1f1f2-1f1f7"],
        ":flag_mq:": ["1f1f2-1f1f6"],
        ":mq:": ["1f1f2-1f1f6"],
        ":flag_mp:": ["1f1f2-1f1f5"],
        ":mp:": ["1f1f2-1f1f5"],
        ":flag_mo:": ["1f1f2-1f1f4"],
        ":mo:": ["1f1f2-1f1f4"],
        ":flag_mn:": ["1f1f2-1f1f3"],
        ":mn:": ["1f1f2-1f1f3"],
        ":flag_mm:": ["1f1f2-1f1f2"],
        ":mm:": ["1f1f2-1f1f2"],
        ":flag_ml:": ["1f1f2-1f1f1"],
        ":ml:": ["1f1f2-1f1f1"],
        ":flag_mk:": ["1f1f2-1f1f0"],
        ":mk:": ["1f1f2-1f1f0"],
        ":flag_mh:": ["1f1f2-1f1ed"],
        ":mh:": ["1f1f2-1f1ed"],
        ":flag_mg:": ["1f1f2-1f1ec"],
        ":mg:": ["1f1f2-1f1ec"],
        ":flag_mf:": ["1f1f2-1f1eb"],
        ":mf:": ["1f1f2-1f1eb"],
        ":flag_me:": ["1f1f2-1f1ea"],
        ":me:": ["1f1f2-1f1ea"],
        ":flag_md:": ["1f1f2-1f1e9"],
        ":md:": ["1f1f2-1f1e9"],
        ":flag_mc:": ["1f1f2-1f1e8"],
        ":mc:": ["1f1f2-1f1e8"],
        ":flag_ma:": ["1f1f2-1f1e6"],
        ":ma:": ["1f1f2-1f1e6"],
        ":flag_ly:": ["1f1f1-1f1fe"],
        ":ly:": ["1f1f1-1f1fe"],
        ":flag_lv:": ["1f1f1-1f1fb"],
        ":lv:": ["1f1f1-1f1fb"],
        ":flag_lu:": ["1f1f1-1f1fa"],
        ":lu:": ["1f1f1-1f1fa"],
        ":flag_lt:": ["1f1f1-1f1f9"],
        ":lt:": ["1f1f1-1f1f9"],
        ":flag_ls:": ["1f1f1-1f1f8"],
        ":ls:": ["1f1f1-1f1f8"],
        ":flag_lr:": ["1f1f1-1f1f7"],
        ":lr:": ["1f1f1-1f1f7"],
        ":flag_lk:": ["1f1f1-1f1f0"],
        ":lk:": ["1f1f1-1f1f0"],
        ":flag_li:": ["1f1f1-1f1ee"],
        ":li:": ["1f1f1-1f1ee"],
        ":flag_lc:": ["1f1f1-1f1e8"],
        ":lc:": ["1f1f1-1f1e8"],
        ":flag_lb:": ["1f1f1-1f1e7"],
        ":lb:": ["1f1f1-1f1e7"],
        ":flag_la:": ["1f1f1-1f1e6"],
        ":la:": ["1f1f1-1f1e6"],
        ":flag_kz:": ["1f1f0-1f1ff"],
        ":kz:": ["1f1f0-1f1ff"],
        ":flag_ky:": ["1f1f0-1f1fe"],
        ":ky:": ["1f1f0-1f1fe"],
        ":flag_kw:": ["1f1f0-1f1fc"],
        ":kw:": ["1f1f0-1f1fc"],
        ":flag_kr:": ["1f1f0-1f1f7"],
        ":kr:": ["1f1f0-1f1f7"],
        ":flag_kp:": ["1f1f0-1f1f5"],
        ":kp:": ["1f1f0-1f1f5"],
        ":flag_kn:": ["1f1f0-1f1f3"],
        ":kn:": ["1f1f0-1f1f3"],
        ":flag_km:": ["1f1f0-1f1f2"],
        ":km:": ["1f1f0-1f1f2"],
        ":flag_ki:": ["1f1f0-1f1ee"],
        ":ki:": ["1f1f0-1f1ee"],
        ":flag_kh:": ["1f1f0-1f1ed"],
        ":kh:": ["1f1f0-1f1ed"],
        ":flag_kg:": ["1f1f0-1f1ec"],
        ":kg:": ["1f1f0-1f1ec"],
        ":flag_ke:": ["1f1f0-1f1ea"],
        ":ke:": ["1f1f0-1f1ea"],
        ":flag_jp:": ["1f1ef-1f1f5"],
        ":jp:": ["1f1ef-1f1f5"],
        ":flag_jo:": ["1f1ef-1f1f4"],
        ":jo:": ["1f1ef-1f1f4"],
        ":flag_jm:": ["1f1ef-1f1f2"],
        ":jm:": ["1f1ef-1f1f2"],
        ":flag_je:": ["1f1ef-1f1ea"],
        ":je:": ["1f1ef-1f1ea"],
        ":flag_it:": ["1f1ee-1f1f9"],
        ":it:": ["1f1ee-1f1f9"],
        ":flag_is:": ["1f1ee-1f1f8"],
        ":is:": ["1f1ee-1f1f8"],
        ":flag_ir:": ["1f1ee-1f1f7"],
        ":ir:": ["1f1ee-1f1f7"],
        ":flag_iq:": ["1f1ee-1f1f6"],
        ":iq:": ["1f1ee-1f1f6"],
        ":flag_io:": ["1f1ee-1f1f4"],
        ":io:": ["1f1ee-1f1f4"],
        ":flag_in:": ["1f1ee-1f1f3"],
        ":in:": ["1f1ee-1f1f3"],
        ":flag_im:": ["1f1ee-1f1f2"],
        ":im:": ["1f1ee-1f1f2"],
        ":flag_il:": ["1f1ee-1f1f1"],
        ":il:": ["1f1ee-1f1f1"],
        ":flag_ie:": ["1f1ee-1f1ea"],
        ":ie:": ["1f1ee-1f1ea"],
        ":flag_id:": ["1f1ee-1f1e9"],
        ":indonesia:": ["1f1ee-1f1e9"],
        ":flag_ic:": ["1f1ee-1f1e8"],
        ":ic:": ["1f1ee-1f1e8"],
        ":flag_hu:": ["1f1ed-1f1fa"],
        ":hu:": ["1f1ed-1f1fa"],
        ":flag_ht:": ["1f1ed-1f1f9"],
        ":ht:": ["1f1ed-1f1f9"],
        ":flag_hr:": ["1f1ed-1f1f7"],
        ":hr:": ["1f1ed-1f1f7"],
        ":flag_hn:": ["1f1ed-1f1f3"],
        ":hn:": ["1f1ed-1f1f3"],
        ":flag_hm:": ["1f1ed-1f1f2"],
        ":hm:": ["1f1ed-1f1f2"],
        ":flag_hk:": ["1f1ed-1f1f0"],
        ":hk:": ["1f1ed-1f1f0"],
        ":flag_gy:": ["1f1ec-1f1fe"],
        ":gy:": ["1f1ec-1f1fe"],
        ":flag_gw:": ["1f1ec-1f1fc"],
        ":gw:": ["1f1ec-1f1fc"],
        ":flag_gu:": ["1f1ec-1f1fa"],
        ":gu:": ["1f1ec-1f1fa"],
        ":flag_gt:": ["1f1ec-1f1f9"],
        ":gt:": ["1f1ec-1f1f9"],
        ":flag_gs:": ["1f1ec-1f1f8"],
        ":gs:": ["1f1ec-1f1f8"],
        ":flag_gr:": ["1f1ec-1f1f7"],
        ":gr:": ["1f1ec-1f1f7"],
        ":flag_gq:": ["1f1ec-1f1f6"],
        ":gq:": ["1f1ec-1f1f6"],
        ":flag_gp:": ["1f1ec-1f1f5"],
        ":gp:": ["1f1ec-1f1f5"],
        ":flag_gn:": ["1f1ec-1f1f3"],
        ":gn:": ["1f1ec-1f1f3"],
        ":flag_gm:": ["1f1ec-1f1f2"],
        ":gm:": ["1f1ec-1f1f2"],
        ":flag_gl:": ["1f1ec-1f1f1"],
        ":gl:": ["1f1ec-1f1f1"],
        ":flag_gi:": ["1f1ec-1f1ee"],
        ":gi:": ["1f1ec-1f1ee"],
        ":flag_gh:": ["1f1ec-1f1ed"],
        ":gh:": ["1f1ec-1f1ed"],
        ":flag_gg:": ["1f1ec-1f1ec"],
        ":gg:": ["1f1ec-1f1ec"],
        ":flag_gf:": ["1f1ec-1f1eb"],
        ":gf:": ["1f1ec-1f1eb"],
        ":flag_ge:": ["1f1ec-1f1ea"],
        ":ge:": ["1f1ec-1f1ea"],
        ":flag_gd:": ["1f1ec-1f1e9"],
        ":gd:": ["1f1ec-1f1e9"],
        ":flag_gb:": ["1f1ec-1f1e7"],
        ":gb:": ["1f1ec-1f1e7"],
        ":flag_ga:": ["1f1ec-1f1e6"],
        ":ga:": ["1f1ec-1f1e6"],
        ":flag_fr:": ["1f1eb-1f1f7"],
        ":fr:": ["1f1eb-1f1f7"],
        ":flag_fo:": ["1f1eb-1f1f4"],
        ":fo:": ["1f1eb-1f1f4"],
        ":flag_fm:": ["1f1eb-1f1f2"],
        ":fm:": ["1f1eb-1f1f2"],
        ":flag_fk:": ["1f1eb-1f1f0"],
        ":fk:": ["1f1eb-1f1f0"],
        ":flag_fj:": ["1f1eb-1f1ef"],
        ":fj:": ["1f1eb-1f1ef"],
        ":flag_fi:": ["1f1eb-1f1ee"],
        ":fi:": ["1f1eb-1f1ee"],
        ":flag_eu:": ["1f1ea-1f1fa"],
        ":eu:": ["1f1ea-1f1fa"],
        ":flag_et:": ["1f1ea-1f1f9"],
        ":et:": ["1f1ea-1f1f9"],
        ":flag_es:": ["1f1ea-1f1f8"],
        ":es:": ["1f1ea-1f1f8"],
        ":flag_er:": ["1f1ea-1f1f7"],
        ":er:": ["1f1ea-1f1f7"],
        ":flag_eh:": ["1f1ea-1f1ed"],
        ":eh:": ["1f1ea-1f1ed"],
        ":flag_eg:": ["1f1ea-1f1ec"],
        ":eg:": ["1f1ea-1f1ec"],
        ":flag_ee:": ["1f1ea-1f1ea"],
        ":ee:": ["1f1ea-1f1ea"],
        ":flag_ec:": ["1f1ea-1f1e8"],
        ":ec:": ["1f1ea-1f1e8"],
        ":flag_ea:": ["1f1ea-1f1e6"],
        ":ea:": ["1f1ea-1f1e6"],
        ":flag_dz:": ["1f1e9-1f1ff"],
        ":dz:": ["1f1e9-1f1ff"],
        ":flag_do:": ["1f1e9-1f1f4"],
        ":do:": ["1f1e9-1f1f4"],
        ":flag_dm:": ["1f1e9-1f1f2"],
        ":dm:": ["1f1e9-1f1f2"],
        ":flag_dk:": ["1f1e9-1f1f0"],
        ":dk:": ["1f1e9-1f1f0"],
        ":flag_dj:": ["1f1e9-1f1ef"],
        ":dj:": ["1f1e9-1f1ef"],
        ":flag_dg:": ["1f1e9-1f1ec"],
        ":dg:": ["1f1e9-1f1ec"],
        ":flag_de:": ["1f1e9-1f1ea"],
        ":de:": ["1f1e9-1f1ea"],
        ":flag_cz:": ["1f1e8-1f1ff"],
        ":cz:": ["1f1e8-1f1ff"],
        ":flag_cy:": ["1f1e8-1f1fe"],
        ":cy:": ["1f1e8-1f1fe"],
        ":flag_cx:": ["1f1e8-1f1fd"],
        ":cx:": ["1f1e8-1f1fd"],
        ":flag_cw:": ["1f1e8-1f1fc"],
        ":cw:": ["1f1e8-1f1fc"],
        ":flag_cv:": ["1f1e8-1f1fb"],
        ":cv:": ["1f1e8-1f1fb"],
        ":flag_cu:": ["1f1e8-1f1fa"],
        ":cu:": ["1f1e8-1f1fa"],
        ":flag_cr:": ["1f1e8-1f1f7"],
        ":cr:": ["1f1e8-1f1f7"],
        ":flag_cp:": ["1f1e8-1f1f5"],
        ":cp:": ["1f1e8-1f1f5"],
        ":flag_co:": ["1f1e8-1f1f4"],
        ":co:": ["1f1e8-1f1f4"],
        ":flag_cn:": ["1f1e8-1f1f3"],
        ":cn:": ["1f1e8-1f1f3"],
        ":flag_cm:": ["1f1e8-1f1f2"],
        ":cm:": ["1f1e8-1f1f2"],
        ":flag_cl:": ["1f1e8-1f1f1"],
        ":chile:": ["1f1e8-1f1f1"],
        ":flag_ck:": ["1f1e8-1f1f0"],
        ":ck:": ["1f1e8-1f1f0"],
        ":flag_ci:": ["1f1e8-1f1ee"],
        ":ci:": ["1f1e8-1f1ee"],
        ":flag_ch:": ["1f1e8-1f1ed"],
        ":ch:": ["1f1e8-1f1ed"],
        ":flag_cg:": ["1f1e8-1f1ec"],
        ":cg:": ["1f1e8-1f1ec"],
        ":flag_cf:": ["1f1e8-1f1eb"],
        ":cf:": ["1f1e8-1f1eb"],
        ":flag_cd:": ["1f1e8-1f1e9"],
        ":congo:": ["1f1e8-1f1e9"],
        ":flag_cc:": ["1f1e8-1f1e8"],
        ":cc:": ["1f1e8-1f1e8"],
        ":flag_ca:": ["1f1e8-1f1e6"],
        ":ca:": ["1f1e8-1f1e6"],
        ":flag_bz:": ["1f1e7-1f1ff"],
        ":bz:": ["1f1e7-1f1ff"],
        ":flag_by:": ["1f1e7-1f1fe"],
        ":by:": ["1f1e7-1f1fe"],
        ":flag_bw:": ["1f1e7-1f1fc"],
        ":bw:": ["1f1e7-1f1fc"],
        ":flag_bv:": ["1f1e7-1f1fb"],
        ":bv:": ["1f1e7-1f1fb"],
        ":flag_bt:": ["1f1e7-1f1f9"],
        ":bt:": ["1f1e7-1f1f9"],
        ":flag_bs:": ["1f1e7-1f1f8"],
        ":bs:": ["1f1e7-1f1f8"],
        ":flag_br:": ["1f1e7-1f1f7"],
        ":br:": ["1f1e7-1f1f7"],
        ":flag_bq:": ["1f1e7-1f1f6"],
        ":bq:": ["1f1e7-1f1f6"],
        ":flag_bo:": ["1f1e7-1f1f4"],
        ":bo:": ["1f1e7-1f1f4"],
        ":flag_bn:": ["1f1e7-1f1f3"],
        ":bn:": ["1f1e7-1f1f3"],
        ":flag_bm:": ["1f1e7-1f1f2"],
        ":bm:": ["1f1e7-1f1f2"],
        ":flag_bl:": ["1f1e7-1f1f1"],
        ":bl:": ["1f1e7-1f1f1"],
        ":flag_bj:": ["1f1e7-1f1ef"],
        ":bj:": ["1f1e7-1f1ef"],
        ":flag_bi:": ["1f1e7-1f1ee"],
        ":bi:": ["1f1e7-1f1ee"],
        ":flag_bh:": ["1f1e7-1f1ed"],
        ":bh:": ["1f1e7-1f1ed"],
        ":flag_bg:": ["1f1e7-1f1ec"],
        ":bg:": ["1f1e7-1f1ec"],
        ":flag_bf:": ["1f1e7-1f1eb"],
        ":bf:": ["1f1e7-1f1eb"],
        ":flag_be:": ["1f1e7-1f1ea"],
        ":be:": ["1f1e7-1f1ea"],
        ":flag_bd:": ["1f1e7-1f1e9"],
        ":bd:": ["1f1e7-1f1e9"],
        ":flag_bb:": ["1f1e7-1f1e7"],
        ":bb:": ["1f1e7-1f1e7"],
        ":flag_ba:": ["1f1e7-1f1e6"],
        ":ba:": ["1f1e7-1f1e6"],
        ":flag_az:": ["1f1e6-1f1ff"],
        ":az:": ["1f1e6-1f1ff"],
        ":flag_ax:": ["1f1e6-1f1fd"],
        ":ax:": ["1f1e6-1f1fd"],
        ":flag_aw:": ["1f1e6-1f1fc"],
        ":aw:": ["1f1e6-1f1fc"],
        ":flag_au:": ["1f1e6-1f1fa"],
        ":au:": ["1f1e6-1f1fa"],
        ":flag_at:": ["1f1e6-1f1f9"],
        ":at:": ["1f1e6-1f1f9"],
        ":flag_as:": ["1f1e6-1f1f8"],
        ":as:": ["1f1e6-1f1f8"],
        ":flag_ar:": ["1f1e6-1f1f7"],
        ":ar:": ["1f1e6-1f1f7"],
        ":flag_aq:": ["1f1e6-1f1f6"],
        ":aq:": ["1f1e6-1f1f6"],
        ":flag_ao:": ["1f1e6-1f1f4"],
        ":ao:": ["1f1e6-1f1f4"],
        ":flag_am:": ["1f1e6-1f1f2"],
        ":am:": ["1f1e6-1f1f2"],
        ":flag_al:": ["1f1e6-1f1f1"],
        ":al:": ["1f1e6-1f1f1"],
        ":flag_ai:": ["1f1e6-1f1ee"],
        ":ai:": ["1f1e6-1f1ee"],
        ":flag_ag:": ["1f1e6-1f1ec"],
        ":ag:": ["1f1e6-1f1ec"],
        ":flag_af:": ["1f1e6-1f1eb"],
        ":af:": ["1f1e6-1f1eb"],
        ":flag_ae:": ["1f1e6-1f1ea"],
        ":ae:": ["1f1e6-1f1ea"],
        ":flag_ad:": ["1f1e6-1f1e9"],
        ":ad:": ["1f1e6-1f1e9"],
        ":flag_ac:": ["1f1e6-1f1e8"],
        ":ac:": ["1f1e6-1f1e8"],
        ":mahjong:": ["1f004-fe0f", "1f004"],
        ":parking:": ["1f17f-fe0f", "1f17f"],
        ":sa:": ["1f202-fe0f", "1f202"],
        ":u7121:": ["1f21a-fe0f", "1f21a"],
        ":u6307:": ["1f22f-fe0f", "1f22f"],
        ":u6708:": ["1f237-fe0f", "1f237"],
        ":film_frames:": ["1f39e-fe0f", "1f39e"],
        ":tickets:": ["1f39f-fe0f", "1f39f"],
        ":admission_tickets:": ["1f39f-fe0f", "1f39f"],
        ":lifter:": ["1f3cb-fe0f", "1f3cb"],
        ":weight_lifter:": ["1f3cb-fe0f", "1f3cb"],
        ":golfer:": ["1f3cc-fe0f", "1f3cc"],
        ":motorcycle:": ["1f3cd-fe0f", "1f3cd"],
        ":racing_motorcycle:": ["1f3cd-fe0f", "1f3cd"],
        ":race_car:": ["1f3ce-fe0f", "1f3ce"],
        ":racing_car:": ["1f3ce-fe0f", "1f3ce"],
        ":military_medal:": ["1f396-fe0f", "1f396"],
        ":reminder_ribbon:": ["1f397-fe0f", "1f397"],
        ":hot_pepper:": ["1f336-fe0f", "1f336"],
        ":cloud_rain:": ["1f327-fe0f", "1f327"],
        ":cloud_with_rain:": ["1f327-fe0f", "1f327"],
        ":cloud_snow:": ["1f328-fe0f", "1f328"],
        ":cloud_with_snow:": ["1f328-fe0f", "1f328"],
        ":cloud_lightning:": ["1f329-fe0f", "1f329"],
        ":cloud_with_lightning:": ["1f329-fe0f", "1f329"],
        ":cloud_tornado:": ["1f32a-fe0f", "1f32a"],
        ":cloud_with_tornado:": ["1f32a-fe0f", "1f32a"],
        ":fog:": ["1f32b-fe0f", "1f32b"],
        ":wind_blowing_face:": ["1f32c-fe0f", "1f32c"],
        ":chipmunk:": ["1f43f-fe0f", "1f43f"],
        ":spider:": ["1f577-fe0f", "1f577"],
        ":spider_web:": ["1f578-fe0f", "1f578"],
        ":thermometer:": ["1f321-fe0f", "1f321"],
        ":microphone2:": ["1f399-fe0f", "1f399"],
        ":studio_microphone:": ["1f399-fe0f", "1f399"],
        ":level_slider:": ["1f39a-fe0f", "1f39a"],
        ":control_knobs:": ["1f39b-fe0f", "1f39b"],
        ":flag_white:": ["1f3f3-fe0f", "1f3f3"],
        ":waving_white_flag:": ["1f3f3-fe0f", "1f3f3"],
        ":rosette:": ["1f3f5-fe0f", "1f3f5"],
        ":label:": ["1f3f7-fe0f", "1f3f7"],
        ":projector:": ["1f4fd-fe0f", "1f4fd"],
        ":film_projector:": ["1f4fd-fe0f", "1f4fd"],
        ":om_symbol:": ["1f549-fe0f", "1f549"],
        ":dove:": ["1f54a-fe0f", "1f54a"],
        ":dove_of_peace:": ["1f54a-fe0f", "1f54a"],
        ":candle:": ["1f56f-fe0f", "1f56f"],
        ":clock:": ["1f570-fe0f", "1f570"],
        ":mantlepiece_clock:": ["1f570-fe0f", "1f570"],
        ":hole:": ["1f573-fe0f", "1f573"],
        ":dark_sunglasses:": ["1f576-fe0f", "1f576"],
        ":joystick:": ["1f579-fe0f", "1f579"],
        ":paperclips:": ["1f587-fe0f", "1f587"],
        ":linked_paperclips:": ["1f587-fe0f", "1f587"],
        ":pen_ballpoint:": ["1f58a-fe0f", "1f58a"],
        ":lower_left_ballpoint_pen:": ["1f58a-fe0f", "1f58a"],
        ":pen_fountain:": ["1f58b-fe0f", "1f58b"],
        ":lower_left_fountain_pen:": ["1f58b-fe0f", "1f58b"],
        ":paintbrush:": ["1f58c-fe0f", "1f58c"],
        ":lower_left_paintbrush:": ["1f58c-fe0f", "1f58c"],
        ":crayon:": ["1f58d-fe0f", "1f58d"],
        ":lower_left_crayon:": ["1f58d-fe0f", "1f58d"],
        ":desktop:": ["1f5a5-fe0f", "1f5a5"],
        ":desktop_computer:": ["1f5a5-fe0f", "1f5a5"],
        ":printer:": ["1f5a8-fe0f", "1f5a8"],
        ":trackball:": ["1f5b2-fe0f", "1f5b2"],
        ":frame_photo:": ["1f5bc-fe0f", "1f5bc"],
        ":frame_with_picture:": ["1f5bc-fe0f", "1f5bc"],
        ":dividers:": ["1f5c2-fe0f", "1f5c2"],
        ":card_index_dividers:": ["1f5c2-fe0f", "1f5c2"],
        ":card_box:": ["1f5c3-fe0f", "1f5c3"],
        ":card_file_box:": ["1f5c3-fe0f", "1f5c3"],
        ":file_cabinet:": ["1f5c4-fe0f", "1f5c4"],
        ":wastebasket:": ["1f5d1-fe0f", "1f5d1"],
        ":notepad_spiral:": ["1f5d2-fe0f", "1f5d2"],
        ":spiral_note_pad:": ["1f5d2-fe0f", "1f5d2"],
        ":calendar_spiral:": ["1f5d3-fe0f", "1f5d3"],
        ":spiral_calendar_pad:": ["1f5d3-fe0f", "1f5d3"],
        ":compression:": ["1f5dc-fe0f", "1f5dc"],
        ":key2:": ["1f5dd-fe0f", "1f5dd"],
        ":old_key:": ["1f5dd-fe0f", "1f5dd"],
        ":newspaper2:": ["1f5de-fe0f", "1f5de"],
        ":rolled_up_newspaper:": ["1f5de-fe0f", "1f5de"],
        ":dagger:": ["1f5e1-fe0f", "1f5e1"],
        ":dagger_knife:": ["1f5e1-fe0f", "1f5e1"],
        ":speaking_head:": ["1f5e3-fe0f", "1f5e3"],
        ":speaking_head_in_silhouette:": ["1f5e3-fe0f", "1f5e3"],
        ":anger_right:": ["1f5ef-fe0f", "1f5ef"],
        ":right_anger_bubble:": ["1f5ef-fe0f", "1f5ef"],
        ":ballot_box:": ["1f5f3-fe0f", "1f5f3"],
        ":ballot_box_with_ballot:": ["1f5f3-fe0f", "1f5f3"],
        ":map:": ["1f5fa-fe0f", "1f5fa"],
        ":world_map:": ["1f5fa-fe0f", "1f5fa"],
        ":tools:": ["1f6e0-fe0f", "1f6e0"],
        ":hammer_and_wrench:": ["1f6e0-fe0f", "1f6e0"],
        ":shield:": ["1f6e1-fe0f", "1f6e1"],
        ":oil:": ["1f6e2-fe0f", "1f6e2"],
        ":oil_drum:": ["1f6e2-fe0f", "1f6e2"],
        ":satellite_orbital:": ["1f6f0-fe0f", "1f6f0"],
        ":fork_knife_plate:": ["1f37d-fe0f", "1f37d"],
        ":fork_and_knife_with_plate:": ["1f37d-fe0f", "1f37d"],
        ":eye:": ["1f441-fe0f", "1f441"],
        ":levitate:": ["1f574-fe0f", "1f574"],
        ":man_in_business_suit_levitating:": ["1f574-fe0f", "1f574"],
        ":spy:": ["1f575-fe0f", "1f575"],
        ":sleuth_or_spy:": ["1f575-fe0f", "1f575"],
        ":hand_splayed:": ["1f590-fe0f", "1f590"],
        ":raised_hand_with_fingers_splayed:": ["1f590-fe0f", "1f590"],
        ":mountain_snow:": ["1f3d4-fe0f", "1f3d4"],
        ":snow_capped_mountain:": ["1f3d4-fe0f", "1f3d4"],
        ":camping:": ["1f3d5-fe0f", "1f3d5"],
        ":beach:": ["1f3d6-fe0f", "1f3d6"],
        ":beach_with_umbrella:": ["1f3d6-fe0f", "1f3d6"],
        ":construction_site:": ["1f3d7-fe0f", "1f3d7"],
        ":building_construction:": ["1f3d7-fe0f", "1f3d7"],
        ":homes:": ["1f3d8-fe0f", "1f3d8"],
        ":house_buildings:": ["1f3d8-fe0f", "1f3d8"],
        ":cityscape:": ["1f3d9-fe0f", "1f3d9"],
        ":house_abandoned:": ["1f3da-fe0f", "1f3da"],
        ":derelict_house_building:": ["1f3da-fe0f", "1f3da"],
        ":classical_building:": ["1f3db-fe0f", "1f3db"],
        ":desert:": ["1f3dc-fe0f", "1f3dc"],
        ":island:": ["1f3dd-fe0f", "1f3dd"],
        ":desert_island:": ["1f3dd-fe0f", "1f3dd"],
        ":park:": ["1f3de-fe0f", "1f3de"],
        ":national_park:": ["1f3de-fe0f", "1f3de"],
        ":stadium:": ["1f3df-fe0f", "1f3df"],
        ":couch:": ["1f6cb-fe0f", "1f6cb"],
        ":couch_and_lamp:": ["1f6cb-fe0f", "1f6cb"],
        ":shopping_bags:": ["1f6cd-fe0f", "1f6cd"],
        ":bellhop:": ["1f6ce-fe0f", "1f6ce"],
        ":bellhop_bell:": ["1f6ce-fe0f", "1f6ce"],
        ":bed:": ["1f6cf-fe0f", "1f6cf"],
        ":motorway:": ["1f6e3-fe0f", "1f6e3"],
        ":railway_track:": ["1f6e4-fe0f", "1f6e4"],
        ":railroad_track:": ["1f6e4-fe0f", "1f6e4"],
        ":motorboat:": ["1f6e5-fe0f", "1f6e5"],
        ":airplane_small:": ["1f6e9-fe0f", "1f6e9"],
        ":small_airplane:": ["1f6e9-fe0f", "1f6e9"],
        ":cruise_ship:": ["1f6f3-fe0f", "1f6f3"],
        ":passenger_ship:": ["1f6f3-fe0f", "1f6f3"],
        ":white_sun_small_cloud:": ["1f324-fe0f", "1f324"],
        ":white_sun_with_small_cloud:": ["1f324-fe0f", "1f324"],
        ":white_sun_cloud:": ["1f325-fe0f", "1f325"],
        ":white_sun_behind_cloud:": ["1f325-fe0f", "1f325"],
        ":white_sun_rain_cloud:": ["1f326-fe0f", "1f326"],
        ":white_sun_behind_cloud_with_rain:": ["1f326-fe0f", "1f326"],
        ":mouse_three_button:": ["1f5b1-fe0f", "1f5b1"],
        ":three_button_mouse:": ["1f5b1-fe0f", "1f5b1"],
        ":point_up_tone1:": ["261d-1f3fb"],
        ":point_up_tone2:": ["261d-1f3fc"],
        ":point_up_tone3:": ["261d-1f3fd"],
        ":point_up_tone4:": ["261d-1f3fe"],
        ":copyright:": ["00a9-fe0f", "00a9"],
        ":registered:": ["00ae-fe0f", "00ae"],
        ":bangbang:": ["203c-fe0f", "203c"],
        ":interrobang:": ["2049-fe0f", "2049"],
        ":tm:": ["2122-fe0f", "2122"],
        ":information_source:": ["2139-fe0f", "2139"],
        ":left_right_arrow:": ["2194-fe0f", "2194"],
        ":arrow_up_down:": ["2195-fe0f", "2195"],
        ":arrow_upper_left:": ["2196-fe0f", "2196"],
        ":arrow_upper_right:": ["2197-fe0f", "2197"],
        ":arrow_lower_right:": ["2198-fe0f", "2198"],
        ":arrow_lower_left:": ["2199-fe0f", "2199"],
        ":leftwards_arrow_with_hook:": ["21a9-fe0f", "21a9"],
        ":arrow_right_hook:": ["21aa-fe0f", "21aa"],
        ":watch:": ["231a-fe0f", "231a"],
        ":hourglass:": ["231b-fe0f", "231b"],
        ":m:": ["24c2-fe0f", "24c2"],
        ":black_small_square:": ["25aa-fe0f", "25aa"],
        ":white_small_square:": ["25ab-fe0f", "25ab"],
        ":arrow_forward:": ["25b6-fe0f", "25b6"],
        ":arrow_backward:": ["25c0-fe0f", "25c0"],
        ":white_medium_square:": ["25fb-fe0f", "25fb"],
        ":black_medium_square:": ["25fc-fe0f", "25fc"],
        ":white_medium_small_square:": ["25fd-fe0f", "25fd"],
        ":black_medium_small_square:": ["25fe-fe0f", "25fe"],
        ":sunny:": ["2600-fe0f", "2600"],
        ":cloud:": ["2601-fe0f", "2601"],
        ":telephone:": ["260e-fe0f", "260e"],
        ":ballot_box_with_check:": ["2611-fe0f", "2611"],
        ":umbrella:": ["2614-fe0f", "2614"],
        ":coffee:": ["2615-fe0f", "2615"],
        ":point_up:": ["261d-fe0f", "261d"],
        ":relaxed:": ["263a-fe0f", "263a"],
        ":aries:": ["2648-fe0f", "2648"],
        ":taurus:": ["2649-fe0f", "2649"],
        ":gemini:": ["264a-fe0f", "264a"],
        ":cancer:": ["264b-fe0f", "264b"],
        ":leo:": ["264c-fe0f", "264c"],
        ":virgo:": ["264d-fe0f", "264d"],
        ":libra:": ["264e-fe0f", "264e"],
        ":scorpius:": ["264f-fe0f", "264f"],
        ":sagittarius:": ["2650-fe0f", "2650"],
        ":capricorn:": ["2651-fe0f", "2651"],
        ":aquarius:": ["2652-fe0f", "2652"],
        ":pisces:": ["2653-fe0f", "2653"],
        ":spades:": ["2660-fe0f", "2660"],
        ":clubs:": ["2663-fe0f", "2663"],
        ":hearts:": ["2665-fe0f", "2665"],
        ":diamonds:": ["2666-fe0f", "2666"],
        ":hotsprings:": ["2668-fe0f", "2668"],
        ":recycle:": ["267b-fe0f", "267b"],
        ":wheelchair:": ["267f-fe0f", "267f"],
        ":anchor:": ["2693-fe0f", "2693"],
        ":warning:": ["26a0-fe0f", "26a0"],
        ":zap:": ["26a1-fe0f", "26a1"],
        ":white_circle:": ["26aa-fe0f", "26aa"],
        ":black_circle:": ["26ab-fe0f", "26ab"],
        ":soccer:": ["26bd-fe0f", "26bd"],
        ":baseball:": ["26be-fe0f", "26be"],
        ":snowman:": ["26c4-fe0f", "26c4"],
        ":partly_sunny:": ["26c5-fe0f", "26c5"],
        ":no_entry:": ["26d4-fe0f", "26d4"],
        ":church:": ["26ea-fe0f", "26ea"],
        ":fountain:": ["26f2-fe0f", "26f2"],
        ":golf:": ["26f3-fe0f", "26f3"],
        ":sailboat:": ["26f5-fe0f", "26f5"],
        ":tent:": ["26fa-fe0f", "26fa"],
        ":fuelpump:": ["26fd-fe0f", "26fd"],
        ":scissors:": ["2702-fe0f", "2702"],
        ":airplane:": ["2708-fe0f", "2708"],
        ":envelope:": ["2709-fe0f", "2709"],
        ":v:": ["270c-fe0f", "270c"],
        ":pencil2:": ["270f-fe0f", "270f"],
        ":black_nib:": ["2712-fe0f", "2712"],
        ":heavy_check_mark:": ["2714-fe0f", "2714"],
        ":heavy_multiplication_x:": ["2716-fe0f", "2716"],
        ":eight_spoked_asterisk:": ["2733-fe0f", "2733"],
        ":eight_pointed_black_star:": ["2734-fe0f", "2734"],
        ":snowflake:": ["2744-fe0f", "2744"],
        ":sparkle:": ["2747-fe0f", "2747"],
        ":exclamation:": ["2757-fe0f", "2757"],
        ":heart:": ["2764-fe0f", "2764"],
        ":arrow_right:": ["27a1-fe0f", "27a1"],
        ":arrow_heading_up:": ["2934-fe0f", "2934"],
        ":arrow_heading_down:": ["2935-fe0f", "2935"],
        ":arrow_left:": ["2b05-fe0f", "2b05"],
        ":arrow_up:": ["2b06-fe0f", "2b06"],
        ":arrow_down:": ["2b07-fe0f", "2b07"],
        ":black_large_square:": ["2b1b-fe0f", "2b1b"],
        ":white_large_square:": ["2b1c-fe0f", "2b1c"],
        ":star:": ["2b50-fe0f", "2b50"],
        ":o:": ["2b55-fe0f", "2b55"],
        ":wavy_dash:": ["3030-fe0f", "3030"],
        ":part_alternation_mark:": ["303d-fe0f", "303d"],
        ":congratulations:": ["3297-fe0f", "3297"],
        ":secret:": ["3299-fe0f", "3299"],
        ":cross:": ["271d-fe0f", "271d"],
        ":latin_cross:": ["271d-fe0f", "271d"],
        ":keyboard:": ["2328-fe0f", "2328"],
        ":writing_hand:": ["270d-fe0f", "270d"],
        ":track_next:": ["23ed-fe0f", "23ed"],
        ":next_track:": ["23ed-fe0f", "23ed"],
        ":track_previous:": ["23ee-fe0f", "23ee"],
        ":previous_track:": ["23ee-fe0f", "23ee"],
        ":play_pause:": ["23ef-fe0f", "23ef"],
        ":stopwatch:": ["23f1-fe0f", "23f1"],
        ":timer:": ["23f2-fe0f", "23f2"],
        ":timer_clock:": ["23f2-fe0f", "23f2"],
        ":pause_button:": ["23f8-fe0f", "23f8"],
        ":double_vertical_bar:": ["23f8-fe0f", "23f8"],
        ":stop_button:": ["23f9-fe0f", "23f9"],
        ":record_button:": ["23fa-fe0f", "23fa"],
        ":umbrella2:": ["2602-fe0f", "2602"],
        ":snowman2:": ["2603-fe0f", "2603"],
        ":comet:": ["2604-fe0f", "2604"],
        ":shamrock:": ["2618-fe0f", "2618"],
        ":skull_crossbones:": ["2620-fe0f", "2620"],
        ":skull_and_crossbones:": ["2620-fe0f", "2620"],
        ":radioactive:": ["2622-fe0f", "2622"],
        ":radioactive_sign:": ["2622-fe0f", "2622"],
        ":biohazard:": ["2623-fe0f", "2623"],
        ":biohazard_sign:": ["2623-fe0f", "2623"],
        ":orthodox_cross:": ["2626-fe0f", "2626"],
        ":star_and_crescent:": ["262a-fe0f", "262a"],
        ":peace:": ["262e-fe0f", "262e"],
        ":peace_symbol:": ["262e-fe0f", "262e"],
        ":yin_yang:": ["262f-fe0f", "262f"],
        ":wheel_of_dharma:": ["2638-fe0f", "2638"],
        ":frowning2:": ["2639-fe0f", "2639"],
        ":white_frowning_face:": ["2639-fe0f", "2639"],
        ":hammer_pick:": ["2692-fe0f", "2692"],
        ":hammer_and_pick:": ["2692-fe0f", "2692"],
        ":crossed_swords:": ["2694-fe0f", "2694"],
        ":scales:": ["2696-fe0f", "2696"],
        ":alembic:": ["2697-fe0f", "2697"],
        ":gear:": ["2699-fe0f", "2699"],
        ":atom:": ["269b-fe0f", "269b"],
        ":atom_symbol:": ["269b-fe0f", "269b"],
        ":fleur-de-lis:": ["269c-fe0f", "269c"],
        ":coffin:": ["26b0-fe0f", "26b0"],
        ":urn:": ["26b1-fe0f", "26b1"],
        ":funeral_urn:": ["26b1-fe0f", "26b1"],
        ":thunder_cloud_rain:": ["26c8-fe0f", "26c8"],
        ":thunder_cloud_and_rain:": ["26c8-fe0f", "26c8"],
        ":pick:": ["26cf-fe0f", "26cf"],
        ":helmet_with_cross:": ["26d1-fe0f", "26d1"],
        ":helmet_with_white_cross:": ["26d1-fe0f", "26d1"],
        ":chains:": ["26d3-fe0f", "26d3"],
        ":shinto_shrine:": ["26e9-fe0f", "26e9"],
        ":mountain:": ["26f0-fe0f", "26f0"],
        ":beach_umbrella:": ["26f1-fe0f", "26f1"],
        ":umbrella_on_ground:": ["26f1-fe0f", "26f1"],
        ":ferry:": ["26f4-fe0f", "26f4"],
        ":skier:": ["26f7-fe0f", "26f7"],
        ":ice_skate:": ["26f8-fe0f", "26f8"],
        ":basketball_player:": ["26f9-fe0f", "26f9"],
        ":person_with_ball:": ["26f9-fe0f", "26f9"],
        ":star_of_david:": ["2721-fe0f", "2721"],
        ":heart_exclamation:": ["2763-fe0f", "2763"],
        ":heavy_heart_exclamation_mark_ornament:": ["2763-fe0f", "2763"],
        ":black_joker:": ["1f0cf"],
        ":a:": ["1f170"],
        ":b:": ["1f171"],
        ":o2:": ["1f17e"],
        ":ab:": ["1f18e"],
        ":cl:": ["1f191"],
        ":cool:": ["1f192"],
        ":free:": ["1f193"],
        ":id:": ["1f194"],
        ":new:": ["1f195"],
        ":ng:": ["1f196"],
        ":ok:": ["1f197"],
        ":sos:": ["1f198"],
        ":up:": ["1f199"],
        ":vs:": ["1f19a"],
        ":koko:": ["1f201"],
        ":u7981:": ["1f232"],
        ":u7a7a:": ["1f233"],
        ":u5408:": ["1f234"],
        ":u6e80:": ["1f235"],
        ":u6709:": ["1f236"],
        ":u7533:": ["1f238"],
        ":u5272:": ["1f239"],
        ":u55b6:": ["1f23a"],
        ":ideograph_advantage:": ["1f250"],
        ":accept:": ["1f251"],
        ":cyclone:": ["1f300"],
        ":foggy:": ["1f301"],
        ":closed_umbrella:": ["1f302"],
        ":night_with_stars:": ["1f303"],
        ":sunrise_over_mountains:": ["1f304"],
        ":sunrise:": ["1f305"],
        ":city_dusk:": ["1f306"],
        ":city_sunset:": ["1f307"],
        ":city_sunrise:": ["1f307"],
        ":rainbow:": ["1f308"],
        ":bridge_at_night:": ["1f309"],
        ":ocean:": ["1f30a"],
        ":volcano:": ["1f30b"],
        ":milky_way:": ["1f30c"],
        ":earth_asia:": ["1f30f"],
        ":new_moon:": ["1f311"],
        ":first_quarter_moon:": ["1f313"],
        ":waxing_gibbous_moon:": ["1f314"],
        ":full_moon:": ["1f315"],
        ":crescent_moon:": ["1f319"],
        ":first_quarter_moon_with_face:": ["1f31b"],
        ":star2:": ["1f31f"],
        ":stars:": ["1f320"],
        ":chestnut:": ["1f330"],
        ":seedling:": ["1f331"],
        ":palm_tree:": ["1f334"],
        ":cactus:": ["1f335"],
        ":tulip:": ["1f337"],
        ":cherry_blossom:": ["1f338"],
        ":rose:": ["1f339"],
        ":hibiscus:": ["1f33a"],
        ":sunflower:": ["1f33b"],
        ":blossom:": ["1f33c"],
        ":corn:": ["1f33d"],
        ":ear_of_rice:": ["1f33e"],
        ":herb:": ["1f33f"],
        ":four_leaf_clover:": ["1f340"],
        ":maple_leaf:": ["1f341"],
        ":fallen_leaf:": ["1f342"],
        ":leaves:": ["1f343"],
        ":mushroom:": ["1f344"],
        ":tomato:": ["1f345"],
        ":eggplant:": ["1f346"],
        ":grapes:": ["1f347"],
        ":melon:": ["1f348"],
        ":watermelon:": ["1f349"],
        ":tangerine:": ["1f34a"],
        ":banana:": ["1f34c"],
        ":pineapple:": ["1f34d"],
        ":apple:": ["1f34e"],
        ":green_apple:": ["1f34f"],
        ":peach:": ["1f351"],
        ":cherries:": ["1f352"],
        ":strawberry:": ["1f353"],
        ":hamburger:": ["1f354"],
        ":pizza:": ["1f355"],
        ":meat_on_bone:": ["1f356"],
        ":poultry_leg:": ["1f357"],
        ":rice_cracker:": ["1f358"],
        ":rice_ball:": ["1f359"],
        ":rice:": ["1f35a"],
        ":curry:": ["1f35b"],
        ":ramen:": ["1f35c"],
        ":spaghetti:": ["1f35d"],
        ":bread:": ["1f35e"],
        ":fries:": ["1f35f"],
        ":sweet_potato:": ["1f360"],
        ":dango:": ["1f361"],
        ":oden:": ["1f362"],
        ":sushi:": ["1f363"],
        ":fried_shrimp:": ["1f364"],
        ":fish_cake:": ["1f365"],
        ":icecream:": ["1f366"],
        ":shaved_ice:": ["1f367"],
        ":ice_cream:": ["1f368"],
        ":doughnut:": ["1f369"],
        ":cookie:": ["1f36a"],
        ":chocolate_bar:": ["1f36b"],
        ":candy:": ["1f36c"],
        ":lollipop:": ["1f36d"],
        ":custard:": ["1f36e"],
        ":honey_pot:": ["1f36f"],
        ":cake:": ["1f370"],
        ":bento:": ["1f371"],
        ":stew:": ["1f372"],
        ":egg:": ["1f373"],
        ":fork_and_knife:": ["1f374"],
        ":tea:": ["1f375"],
        ":sake:": ["1f376"],
        ":wine_glass:": ["1f377"],
        ":cocktail:": ["1f378"],
        ":tropical_drink:": ["1f379"],
        ":beer:": ["1f37a"],
        ":beers:": ["1f37b"],
        ":ribbon:": ["1f380"],
        ":gift:": ["1f381"],
        ":birthday:": ["1f382"],
        ":jack_o_lantern:": ["1f383"],
        ":christmas_tree:": ["1f384"],
        ":santa:": ["1f385"],
        ":fireworks:": ["1f386"],
        ":sparkler:": ["1f387"],
        ":balloon:": ["1f388"],
        ":tada:": ["1f389"],
        ":confetti_ball:": ["1f38a"],
        ":tanabata_tree:": ["1f38b"],
        ":crossed_flags:": ["1f38c"],
        ":bamboo:": ["1f38d"],
        ":dolls:": ["1f38e"],
        ":flags:": ["1f38f"],
        ":wind_chime:": ["1f390"],
        ":rice_scene:": ["1f391"],
        ":school_satchel:": ["1f392"],
        ":mortar_board:": ["1f393"],
        ":carousel_horse:": ["1f3a0"],
        ":ferris_wheel:": ["1f3a1"],
        ":roller_coaster:": ["1f3a2"],
        ":fishing_pole_and_fish:": ["1f3a3"],
        ":microphone:": ["1f3a4"],
        ":movie_camera:": ["1f3a5"],
        ":cinema:": ["1f3a6"],
        ":headphones:": ["1f3a7"],
        ":art:": ["1f3a8"],
        ":tophat:": ["1f3a9"],
        ":circus_tent:": ["1f3aa"],
        ":ticket:": ["1f3ab"],
        ":clapper:": ["1f3ac"],
        ":performing_arts:": ["1f3ad"],
        ":video_game:": ["1f3ae"],
        ":dart:": ["1f3af"],
        ":slot_machine:": ["1f3b0"],
        ":8ball:": ["1f3b1"],
        ":game_die:": ["1f3b2"],
        ":bowling:": ["1f3b3"],
        ":flower_playing_cards:": ["1f3b4"],
        ":musical_note:": ["1f3b5"],
        ":notes:": ["1f3b6"],
        ":saxophone:": ["1f3b7"],
        ":guitar:": ["1f3b8"],
        ":musical_keyboard:": ["1f3b9"],
        ":trumpet:": ["1f3ba"],
        ":violin:": ["1f3bb"],
        ":musical_score:": ["1f3bc"],
        ":running_shirt_with_sash:": ["1f3bd"],
        ":tennis:": ["1f3be"],
        ":ski:": ["1f3bf"],
        ":basketball:": ["1f3c0"],
        ":checkered_flag:": ["1f3c1"],
        ":snowboarder:": ["1f3c2"],
        ":runner:": ["1f3c3"],
        ":surfer:": ["1f3c4"],
        ":trophy:": ["1f3c6"],
        ":football:": ["1f3c8"],
        ":swimmer:": ["1f3ca"],
        ":house:": ["1f3e0"],
        ":house_with_garden:": ["1f3e1"],
        ":office:": ["1f3e2"],
        ":post_office:": ["1f3e3"],
        ":hospital:": ["1f3e5"],
        ":bank:": ["1f3e6"],
        ":atm:": ["1f3e7"],
        ":hotel:": ["1f3e8"],
        ":love_hotel:": ["1f3e9"],
        ":convenience_store:": ["1f3ea"],
        ":school:": ["1f3eb"],
        ":department_store:": ["1f3ec"],
        ":factory:": ["1f3ed"],
        ":izakaya_lantern:": ["1f3ee"],
        ":japanese_castle:": ["1f3ef"],
        ":european_castle:": ["1f3f0"],
        ":snail:": ["1f40c"],
        ":snake:": ["1f40d"],
        ":racehorse:": ["1f40e"],
        ":sheep:": ["1f411"],
        ":monkey:": ["1f412"],
        ":chicken:": ["1f414"],
        ":boar:": ["1f417"],
        ":elephant:": ["1f418"],
        ":octopus:": ["1f419"],
        ":shell:": ["1f41a"],
        ":bug:": ["1f41b"],
        ":ant:": ["1f41c"],
        ":bee:": ["1f41d"],
        ":beetle:": ["1f41e"],
        ":fish:": ["1f41f"],
        ":tropical_fish:": ["1f420"],
        ":blowfish:": ["1f421"],
        ":turtle:": ["1f422"],
        ":hatching_chick:": ["1f423"],
        ":baby_chick:": ["1f424"],
        ":hatched_chick:": ["1f425"],
        ":bird:": ["1f426"],
        ":penguin:": ["1f427"],
        ":koala:": ["1f428"],
        ":poodle:": ["1f429"],
        ":camel:": ["1f42b"],
        ":dolphin:": ["1f42c"],
        ":mouse:": ["1f42d"],
        ":cow:": ["1f42e"],
        ":tiger:": ["1f42f"],
        ":rabbit:": ["1f430"],
        ":cat:": ["1f431"],
        ":dragon_face:": ["1f432"],
        ":whale:": ["1f433"],
        ":horse:": ["1f434"],
        ":monkey_face:": ["1f435"],
        ":dog:": ["1f436"],
        ":pig:": ["1f437"],
        ":frog:": ["1f438"],
        ":hamster:": ["1f439"],
        ":wolf:": ["1f43a"],
        ":bear:": ["1f43b"],
        ":panda_face:": ["1f43c"],
        ":pig_nose:": ["1f43d"],
        ":feet:": ["1f43e"],
        ":paw_prints:": ["1f43e"],
        ":eyes:": ["1f440"],
        ":ear:": ["1f442"],
        ":nose:": ["1f443"],
        ":lips:": ["1f444"],
        ":tongue:": ["1f445"],
        ":point_up_2:": ["1f446"],
        ":point_down:": ["1f447"],
        ":point_left:": ["1f448"],
        ":point_right:": ["1f449"],
        ":punch:": ["1f44a"],
        ":wave:": ["1f44b"],
        ":ok_hand:": ["1f44c"],
        ":thumbsup:": ["1f44d"],
        ":+1:": ["1f44d"],
        ":thumbsdown:": ["1f44e"],
        ":-1:": ["1f44e"],
        ":clap:": ["1f44f"],
        ":open_hands:": ["1f450"],
        ":crown:": ["1f451"],
        ":womans_hat:": ["1f452"],
        ":eyeglasses:": ["1f453"],
        ":necktie:": ["1f454"],
        ":shirt:": ["1f455"],
        ":jeans:": ["1f456"],
        ":dress:": ["1f457"],
        ":kimono:": ["1f458"],
        ":bikini:": ["1f459"],
        ":womans_clothes:": ["1f45a"],
        ":purse:": ["1f45b"],
        ":handbag:": ["1f45c"],
        ":pouch:": ["1f45d"],
        ":mans_shoe:": ["1f45e"],
        ":athletic_shoe:": ["1f45f"],
        ":high_heel:": ["1f460"],
        ":sandal:": ["1f461"],
        ":boot:": ["1f462"],
        ":footprints:": ["1f463"],
        ":bust_in_silhouette:": ["1f464"],
        ":boy:": ["1f466"],
        ":girl:": ["1f467"],
        ":man:": ["1f468"],
        ":woman:": ["1f469"],
        ":family:": ["1f46a"],
        ":couple:": ["1f46b"],
        ":cop:": ["1f46e"],
        ":dancers:": ["1f46f"],
        ":bride_with_veil:": ["1f470"],
        ":person_with_blond_hair:": ["1f471"],
        ":man_with_gua_pi_mao:": ["1f472"],
        ":man_with_turban:": ["1f473"],
        ":older_man:": ["1f474"],
        ":older_woman:": ["1f475"],
        ":grandma:": ["1f475"],
        ":baby:": ["1f476"],
        ":construction_worker:": ["1f477"],
        ":princess:": ["1f478"],
        ":japanese_ogre:": ["1f479"],
        ":japanese_goblin:": ["1f47a"],
        ":ghost:": ["1f47b"],
        ":angel:": ["1f47c"],
        ":alien:": ["1f47d"],
        ":space_invader:": ["1f47e"],
        ":imp:": ["1f47f"],
        ":skull:": ["1f480"],
        ":skeleton:": ["1f480"],
        ":card_index:": ["1f4c7"],
        ":information_desk_person:": ["1f481"],
        ":guardsman:": ["1f482"],
        ":dancer:": ["1f483"],
        ":lipstick:": ["1f484"],
        ":nail_care:": ["1f485"],
        ":ledger:": ["1f4d2"],
        ":massage:": ["1f486"],
        ":notebook:": ["1f4d3"],
        ":haircut:": ["1f487"],
        ":notebook_with_decorative_cover:": ["1f4d4"],
        ":barber:": ["1f488"],
        ":closed_book:": ["1f4d5"],
        ":syringe:": ["1f489"],
        ":book:": ["1f4d6"],
        ":pill:": ["1f48a"],
        ":green_book:": ["1f4d7"],
        ":kiss:": ["1f48b"],
        ":blue_book:": ["1f4d8"],
        ":love_letter:": ["1f48c"],
        ":orange_book:": ["1f4d9"],
        ":ring:": ["1f48d"],
        ":books:": ["1f4da"],
        ":gem:": ["1f48e"],
        ":name_badge:": ["1f4db"],
        ":couplekiss:": ["1f48f"],
        ":scroll:": ["1f4dc"],
        ":bouquet:": ["1f490"],
        ":pencil:": ["1f4dd"],
        ":couple_with_heart:": ["1f491"],
        ":telephone_receiver:": ["1f4de"],
        ":wedding:": ["1f492"],
        ":pager:": ["1f4df"],
        ":fax:": ["1f4e0"],
        ":heartbeat:": ["1f493"],
        ":satellite:": ["1f4e1"],
        ":loudspeaker:": ["1f4e2"],
        ":broken_heart:": ["1f494"],
        ":mega:": ["1f4e3"],
        ":outbox_tray:": ["1f4e4"],
        ":two_hearts:": ["1f495"],
        ":inbox_tray:": ["1f4e5"],
        ":package:": ["1f4e6"],
        ":sparkling_heart:": ["1f496"],
        ":e-mail:": ["1f4e7"],
        ":email:": ["1f4e7"],
        ":incoming_envelope:": ["1f4e8"],
        ":heartpulse:": ["1f497"],
        ":envelope_with_arrow:": ["1f4e9"],
        ":mailbox_closed:": ["1f4ea"],
        ":cupid:": ["1f498"],
        ":mailbox:": ["1f4eb"],
        ":postbox:": ["1f4ee"],
        ":blue_heart:": ["1f499"],
        ":newspaper:": ["1f4f0"],
        ":iphone:": ["1f4f1"],
        ":green_heart:": ["1f49a"],
        ":calling:": ["1f4f2"],
        ":vibration_mode:": ["1f4f3"],
        ":yellow_heart:": ["1f49b"],
        ":mobile_phone_off:": ["1f4f4"],
        ":signal_strength:": ["1f4f6"],
        ":purple_heart:": ["1f49c"],
        ":camera:": ["1f4f7"],
        ":video_camera:": ["1f4f9"],
        ":gift_heart:": ["1f49d"],
        ":tv:": ["1f4fa"],
        ":radio:": ["1f4fb"],
        ":revolving_hearts:": ["1f49e"],
        ":vhs:": ["1f4fc"],
        ":arrows_clockwise:": ["1f503"],
        ":heart_decoration:": ["1f49f"],
        ":loud_sound:": ["1f50a"],
        ":battery:": ["1f50b"],
        ":diamond_shape_with_a_dot_inside:": ["1f4a0"],
        ":electric_plug:": ["1f50c"],
        ":mag:": ["1f50d"],
        ":bulb:": ["1f4a1"],
        ":mag_right:": ["1f50e"],
        ":lock_with_ink_pen:": ["1f50f"],
        ":anger:": ["1f4a2"],
        ":closed_lock_with_key:": ["1f510"],
        ":key:": ["1f511"],
        ":bomb:": ["1f4a3"],
        ":lock:": ["1f512"],
        ":unlock:": ["1f513"],
        ":zzz:": ["1f4a4"],
        ":bell:": ["1f514"],
        ":bookmark:": ["1f516"],
        ":boom:": ["1f4a5"],
        ":link:": ["1f517"],
        ":radio_button:": ["1f518"],
        ":sweat_drops:": ["1f4a6"],
        ":back:": ["1f519"],
        ":end:": ["1f51a"],
        ":droplet:": ["1f4a7"],
        ":on:": ["1f51b"],
        ":soon:": ["1f51c"],
        ":dash:": ["1f4a8"],
        ":top:": ["1f51d"],
        ":underage:": ["1f51e"],
        ":poop:": ["1f4a9"],
        ":shit:": ["1f4a9"],
        ":hankey:": ["1f4a9"],
        ":poo:": ["1f4a9"],
        ":ten:": ["1f51f"],
        ":muscle:": ["1f4aa"],
        ":capital_abcd:": ["1f520"],
        ":abcd:": ["1f521"],
        ":dizzy:": ["1f4ab"],
        ":1234:": ["1f522"],
        ":symbols:": ["1f523"],
        ":speech_balloon:": ["1f4ac"],
        ":abc:": ["1f524"],
        ":fire:": ["1f525"],
        ":flame:": ["1f525"],
        ":white_flower:": ["1f4ae"],
        ":flashlight:": ["1f526"],
        ":wrench:": ["1f527"],
        ":100:": ["1f4af"],
        ":hammer:": ["1f528"],
        ":nut_and_bolt:": ["1f529"],
        ":moneybag:": ["1f4b0"],
        ":knife:": ["1f52a"],
        ":gun:": ["1f52b"],
        ":currency_exchange:": ["1f4b1"],
        ":crystal_ball:": ["1f52e"],
        ":heavy_dollar_sign:": ["1f4b2"],
        ":six_pointed_star:": ["1f52f"],
        ":credit_card:": ["1f4b3"],
        ":beginner:": ["1f530"],
        ":trident:": ["1f531"],
        ":yen:": ["1f4b4"],
        ":black_square_button:": ["1f532"],
        ":white_square_button:": ["1f533"],
        ":dollar:": ["1f4b5"],
        ":red_circle:": ["1f534"],
        ":large_blue_circle:": ["1f535"],
        ":money_with_wings:": ["1f4b8"],
        ":large_orange_diamond:": ["1f536"],
        ":large_blue_diamond:": ["1f537"],
        ":chart:": ["1f4b9"],
        ":small_orange_diamond:": ["1f538"],
        ":small_blue_diamond:": ["1f539"],
        ":seat:": ["1f4ba"],
        ":small_red_triangle:": ["1f53a"],
        ":small_red_triangle_down:": ["1f53b"],
        ":computer:": ["1f4bb"],
        ":arrow_up_small:": ["1f53c"],
        ":briefcase:": ["1f4bc"],
        ":arrow_down_small:": ["1f53d"],
        ":clock1:": ["1f550"],
        ":minidisc:": ["1f4bd"],
        ":clock2:": ["1f551"],
        ":floppy_disk:": ["1f4be"],
        ":clock3:": ["1f552"],
        ":cd:": ["1f4bf"],
        ":clock4:": ["1f553"],
        ":dvd:": ["1f4c0"],
        ":clock5:": ["1f554"],
        ":clock6:": ["1f555"],
        ":file_folder:": ["1f4c1"],
        ":clock7:": ["1f556"],
        ":clock8:": ["1f557"],
        ":open_file_folder:": ["1f4c2"],
        ":clock9:": ["1f558"],
        ":clock10:": ["1f559"],
        ":page_with_curl:": ["1f4c3"],
        ":clock11:": ["1f55a"],
        ":clock12:": ["1f55b"],
        ":page_facing_up:": ["1f4c4"],
        ":mount_fuji:": ["1f5fb"],
        ":tokyo_tower:": ["1f5fc"],
        ":date:": ["1f4c5"],
        ":statue_of_liberty:": ["1f5fd"],
        ":japan:": ["1f5fe"],
        ":calendar:": ["1f4c6"],
        ":moyai:": ["1f5ff"],
        ":grin:": ["1f601"],
        ":joy:": ["1f602"],
        ":smiley:": ["1f603"],
        ":chart_with_upwards_trend:": ["1f4c8"],
        ":smile:": ["1f604"],
        ":sweat_smile:": ["1f605"],
        ":chart_with_downwards_trend:": ["1f4c9"],
        ":laughing:": ["1f606"],
        ":satisfied:": ["1f606"],
        ":wink:": ["1f609"],
        ":bar_chart:": ["1f4ca"],
        ":blush:": ["1f60a"],
        ":yum:": ["1f60b"],
        ":clipboard:": ["1f4cb"],
        ":relieved:": ["1f60c"],
        ":heart_eyes:": ["1f60d"],
        ":pushpin:": ["1f4cc"],
        ":smirk:": ["1f60f"],
        ":unamused:": ["1f612"],
        ":round_pushpin:": ["1f4cd"],
        ":sweat:": ["1f613"],
        ":pensive:": ["1f614"],
        ":paperclip:": ["1f4ce"],
        ":confounded:": ["1f616"],
        ":kissing_heart:": ["1f618"],
        ":straight_ruler:": ["1f4cf"],
        ":kissing_closed_eyes:": ["1f61a"],
        ":stuck_out_tongue_winking_eye:": ["1f61c"],
        ":triangular_ruler:": ["1f4d0"],
        ":stuck_out_tongue_closed_eyes:": ["1f61d"],
        ":disappointed:": ["1f61e"],
        ":bookmark_tabs:": ["1f4d1"],
        ":angry:": ["1f620"],
        ":rage:": ["1f621"],
        ":cry:": ["1f622"],
        ":persevere:": ["1f623"],
        ":triumph:": ["1f624"],
        ":disappointed_relieved:": ["1f625"],
        ":fearful:": ["1f628"],
        ":weary:": ["1f629"],
        ":sleepy:": ["1f62a"],
        ":tired_face:": ["1f62b"],
        ":sob:": ["1f62d"],
        ":cold_sweat:": ["1f630"],
        ":scream:": ["1f631"],
        ":astonished:": ["1f632"],
        ":flushed:": ["1f633"],
        ":dizzy_face:": ["1f635"],
        ":mask:": ["1f637"],
        ":smile_cat:": ["1f638"],
        ":joy_cat:": ["1f639"],
        ":smiley_cat:": ["1f63a"],
        ":heart_eyes_cat:": ["1f63b"],
        ":smirk_cat:": ["1f63c"],
        ":kissing_cat:": ["1f63d"],
        ":pouting_cat:": ["1f63e"],
        ":crying_cat_face:": ["1f63f"],
        ":scream_cat:": ["1f640"],
        ":no_good:": ["1f645"],
        ":ok_woman:": ["1f646"],
        ":bow:": ["1f647"],
        ":see_no_evil:": ["1f648"],
        ":hear_no_evil:": ["1f649"],
        ":speak_no_evil:": ["1f64a"],
        ":raising_hand:": ["1f64b"],
        ":raised_hands:": ["1f64c"],
        ":person_frowning:": ["1f64d"],
        ":person_with_pouting_face:": ["1f64e"],
        ":pray:": ["1f64f"],
        ":rocket:": ["1f680"],
        ":railway_car:": ["1f683"],
        ":bullettrain_side:": ["1f684"],
        ":bullettrain_front:": ["1f685"],
        ":metro:": ["1f687"],
        ":station:": ["1f689"],
        ":bus:": ["1f68c"],
        ":busstop:": ["1f68f"],
        ":ambulance:": ["1f691"],
        ":fire_engine:": ["1f692"],
        ":police_car:": ["1f693"],
        ":taxi:": ["1f695"],
        ":red_car:": ["1f697"],
        ":blue_car:": ["1f699"],
        ":truck:": ["1f69a"],
        ":ship:": ["1f6a2"],
        ":speedboat:": ["1f6a4"],
        ":traffic_light:": ["1f6a5"],
        ":construction:": ["1f6a7"],
        ":rotating_light:": ["1f6a8"],
        ":triangular_flag_on_post:": ["1f6a9"],
        ":door:": ["1f6aa"],
        ":no_entry_sign:": ["1f6ab"],
        ":smoking:": ["1f6ac"],
        ":no_smoking:": ["1f6ad"],
        ":bike:": ["1f6b2"],
        ":walking:": ["1f6b6"],
        ":mens:": ["1f6b9"],
        ":womens:": ["1f6ba"],
        ":restroom:": ["1f6bb"],
        ":baby_symbol:": ["1f6bc"],
        ":toilet:": ["1f6bd"],
        ":wc:": ["1f6be"],
        ":bath:": ["1f6c0"],
        ":metal:": ["1f918"],
        ":sign_of_the_horns:": ["1f918"],
        ":grinning:": ["1f600"],
        ":innocent:": ["1f607"],
        ":smiling_imp:": ["1f608"],
        ":sunglasses:": ["1f60e"],
        ":neutral_face:": ["1f610"],
        ":expressionless:": ["1f611"],
        ":confused:": ["1f615"],
        ":kissing:": ["1f617"],
        ":kissing_smiling_eyes:": ["1f619"],
        ":stuck_out_tongue:": ["1f61b"],
        ":worried:": ["1f61f"],
        ":frowning:": ["1f626"],
        ":anguished:": ["1f627"],
        ":grimacing:": ["1f62c"],
        ":open_mouth:": ["1f62e"],
        ":hushed:": ["1f62f"],
        ":sleeping:": ["1f634"],
        ":no_mouth:": ["1f636"],
        ":helicopter:": ["1f681"],
        ":steam_locomotive:": ["1f682"],
        ":train2:": ["1f686"],
        ":light_rail:": ["1f688"],
        ":tram:": ["1f68a"],
        ":oncoming_bus:": ["1f68d"],
        ":trolleybus:": ["1f68e"],
        ":minibus:": ["1f690"],
        ":oncoming_police_car:": ["1f694"],
        ":oncoming_taxi:": ["1f696"],
        ":oncoming_automobile:": ["1f698"],
        ":articulated_lorry:": ["1f69b"],
        ":tractor:": ["1f69c"],
        ":monorail:": ["1f69d"],
        ":mountain_railway:": ["1f69e"],
        ":suspension_railway:": ["1f69f"],
        ":mountain_cableway:": ["1f6a0"],
        ":aerial_tramway:": ["1f6a1"],
        ":rowboat:": ["1f6a3"],
        ":vertical_traffic_light:": ["1f6a6"],
        ":put_litter_in_its_place:": ["1f6ae"],
        ":do_not_litter:": ["1f6af"],
        ":potable_water:": ["1f6b0"],
        ":non-potable_water:": ["1f6b1"],
        ":no_bicycles:": ["1f6b3"],
        ":bicyclist:": ["1f6b4"],
        ":mountain_bicyclist:": ["1f6b5"],
        ":no_pedestrians:": ["1f6b7"],
        ":children_crossing:": ["1f6b8"],
        ":shower:": ["1f6bf"],
        ":bathtub:": ["1f6c1"],
        ":passport_control:": ["1f6c2"],
        ":customs:": ["1f6c3"],
        ":baggage_claim:": ["1f6c4"],
        ":left_luggage:": ["1f6c5"],
        ":earth_africa:": ["1f30d"],
        ":earth_americas:": ["1f30e"],
        ":globe_with_meridians:": ["1f310"],
        ":waxing_crescent_moon:": ["1f312"],
        ":waning_gibbous_moon:": ["1f316"],
        ":last_quarter_moon:": ["1f317"],
        ":waning_crescent_moon:": ["1f318"],
        ":new_moon_with_face:": ["1f31a"],
        ":last_quarter_moon_with_face:": ["1f31c"],
        ":full_moon_with_face:": ["1f31d"],
        ":sun_with_face:": ["1f31e"],
        ":evergreen_tree:": ["1f332"],
        ":deciduous_tree:": ["1f333"],
        ":lemon:": ["1f34b"],
        ":pear:": ["1f350"],
        ":baby_bottle:": ["1f37c"],
        ":horse_racing:": ["1f3c7"],
        ":rugby_football:": ["1f3c9"],
        ":european_post_office:": ["1f3e4"],
        ":rat:": ["1f400"],
        ":mouse2:": ["1f401"],
        ":ox:": ["1f402"],
        ":water_buffalo:": ["1f403"],
        ":cow2:": ["1f404"],
        ":tiger2:": ["1f405"],
        ":leopard:": ["1f406"],
        ":rabbit2:": ["1f407"],
        ":cat2:": ["1f408"],
        ":dragon:": ["1f409"],
        ":crocodile:": ["1f40a"],
        ":whale2:": ["1f40b"],
        ":ram:": ["1f40f"],
        ":goat:": ["1f410"],
        ":rooster:": ["1f413"],
        ":dog2:": ["1f415"],
        ":pig2:": ["1f416"],
        ":dromedary_camel:": ["1f42a"],
        ":busts_in_silhouette:": ["1f465"],
        ":two_men_holding_hands:": ["1f46c"],
        ":two_women_holding_hands:": ["1f46d"],
        ":thought_balloon:": ["1f4ad"],
        ":euro:": ["1f4b6"],
        ":pound:": ["1f4b7"],
        ":mailbox_with_mail:": ["1f4ec"],
        ":mailbox_with_no_mail:": ["1f4ed"],
        ":postal_horn:": ["1f4ef"],
        ":no_mobile_phones:": ["1f4f5"],
        ":twisted_rightwards_arrows:": ["1f500"],
        ":repeat:": ["1f501"],
        ":repeat_one:": ["1f502"],
        ":arrows_counterclockwise:": ["1f504"],
        ":low_brightness:": ["1f505"],
        ":high_brightness:": ["1f506"],
        ":mute:": ["1f507"],
        ":sound:": ["1f509"],
        ":no_bell:": ["1f515"],
        ":microscope:": ["1f52c"],
        ":telescope:": ["1f52d"],
        ":clock130:": ["1f55c"],
        ":clock230:": ["1f55d"],
        ":clock330:": ["1f55e"],
        ":clock430:": ["1f55f"],
        ":clock530:": ["1f560"],
        ":clock630:": ["1f561"],
        ":clock730:": ["1f562"],
        ":clock830:": ["1f563"],
        ":clock930:": ["1f564"],
        ":clock1030:": ["1f565"],
        ":clock1130:": ["1f566"],
        ":clock1230:": ["1f567"],
        ":speaker:": ["1f508"],
        ":train:": ["1f68b"],
        ":medal:": ["1f3c5"],
        ":sports_medal:": ["1f3c5"],
        ":flag_black:": ["1f3f4"],
        ":waving_black_flag:": ["1f3f4"],
        ":camera_with_flash:": ["1f4f8"],
        ":sleeping_accommodation:": ["1f6cc"],
        ":middle_finger:": ["1f595"],
        ":reversed_hand_with_middle_finger_extended:": ["1f595"],
        ":vulcan:": ["1f596"],
        ":raised_hand_with_part_between_middle_and_ring_fingers:": ["1f596"],
        ":slight_frown:": ["1f641"],
        ":slightly_frowning_face:": ["1f641"],
        ":slight_smile:": ["1f642"],
        ":slightly_smiling_face:": ["1f642"],
        ":airplane_departure:": ["1f6eb"],
        ":airplane_arriving:": ["1f6ec"],
        ":tone1:": ["1f3fb"],
        ":tone2:": ["1f3fc"],
        ":tone3:": ["1f3fd"],
        ":tone4:": ["1f3fe"],
        ":tone5:": ["1f3ff"],
        ":upside_down:": ["1f643"],
        ":upside_down_face:": ["1f643"],
        ":money_mouth:": ["1f911"],
        ":money_mouth_face:": ["1f911"],
        ":nerd:": ["1f913"],
        ":nerd_face:": ["1f913"],
        ":hugging:": ["1f917"],
        ":hugging_face:": ["1f917"],
        ":rolling_eyes:": ["1f644"],
        ":face_with_rolling_eyes:": ["1f644"],
        ":thinking:": ["1f914"],
        ":thinking_face:": ["1f914"],
        ":zipper_mouth:": ["1f910"],
        ":zipper_mouth_face:": ["1f910"],
        ":thermometer_face:": ["1f912"],
        ":face_with_thermometer:": ["1f912"],
        ":head_bandage:": ["1f915"],
        ":face_with_head_bandage:": ["1f915"],
        ":robot:": ["1f916"],
        ":robot_face:": ["1f916"],
        ":lion_face:": ["1f981"],
        ":lion:": ["1f981"],
        ":unicorn:": ["1f984"],
        ":unicorn_face:": ["1f984"],
        ":scorpion:": ["1f982"],
        ":crab:": ["1f980"],
        ":turkey:": ["1f983"],
        ":cheese:": ["1f9c0"],
        ":cheese_wedge:": ["1f9c0"],
        ":hotdog:": ["1f32d"],
        ":hot_dog:": ["1f32d"],
        ":taco:": ["1f32e"],
        ":burrito:": ["1f32f"],
        ":popcorn:": ["1f37f"],
        ":champagne:": ["1f37e"],
        ":bottle_with_popping_cork:": ["1f37e"],
        ":bow_and_arrow:": ["1f3f9"],
        ":archery:": ["1f3f9"],
        ":amphora:": ["1f3fa"],
        ":place_of_worship:": ["1f6d0"],
        ":worship_symbol:": ["1f6d0"],
        ":kaaba:": ["1f54b"],
        ":mosque:": ["1f54c"],
        ":synagogue:": ["1f54d"],
        ":menorah:": ["1f54e"],
        ":prayer_beads:": ["1f4ff"],
        ":cricket:": ["1f3cf"],
        ":cricket_bat_ball:": ["1f3cf"],
        ":volleyball:": ["1f3d0"],
        ":field_hockey:": ["1f3d1"],
        ":hockey:": ["1f3d2"],
        ":ping_pong:": ["1f3d3"],
        ":table_tennis:": ["1f3d3"],
        ":badminton:": ["1f3f8"],
        ":fast_forward:": ["23e9"],
        ":rewind:": ["23ea"],
        ":arrow_double_up:": ["23eb"],
        ":arrow_double_down:": ["23ec"],
        ":alarm_clock:": ["23f0"],
        ":hourglass_flowing_sand:": ["23f3"],
        ":ophiuchus:": ["26ce"],
        ":white_check_mark:": ["2705"],
        ":fist:": ["270a"],
        ":raised_hand:": ["270b"],
        ":sparkles:": ["2728"],
        ":x:": ["274c"],
        ":negative_squared_cross_mark:": ["274e"],
        ":question:": ["2753"],
        ":grey_question:": ["2754"],
        ":grey_exclamation:": ["2755"],
        ":heavy_plus_sign:": ["2795"],
        ":heavy_minus_sign:": ["2796"],
        ":heavy_division_sign:": ["2797"],
        ":curly_loop:": ["27b0"],
        ":loop:": ["27bf"]
    };
    var t, i = [];
    for (t in e.emojioneList)
        e.emojioneList.hasOwnProperty(t) && i.push(t.replace(/[+]/g, "\\$&"));
    e.shortnames = i.join("|"),
    e.asciiList = {
        "<3": "2764",
        "</3": "1f494",
        ":')": "1f602",
        ":'-)": "1f602",
        ":D": "1f603",
        ":-D": "1f603",
        "=D": "1f603",
        ":)": "1f604",
        ":-)": "1f604",
        "=]": "1f604",
        "=)": "1f604",
        ":]": "1f604",
        "':)": "1f605",
        "':-)": "1f605",
        "'=)": "1f605",
        "':D": "1f605",
        "':-D": "1f605",
        "'=D": "1f605",
        ">:)": "1f606",
        ">;)": "1f606",
        ">:-)": "1f606",
        ">=)": "1f606",
        ";)": "1f609",
        ";-)": "1f609",
        "*-)": "1f609",
        "*)": "1f609",
        ";-]": "1f609",
        ";]": "1f609",
        ";D": "1f609",
        ";^)": "1f609",
        "':(": "1f613",
        "':-(": "1f613",
        "'=(": "1f613",
        ":*": "1f618",
        ":-*": "1f618",
        "=*": "1f618",
        ":^*": "1f618",
        ">:P": "1f61c",
        "X-P": "1f61c",
        "x-p": "1f61c",
        ">:[": "1f61e",
        ":-(": "1f61e",
        ":(": "1f61e",
        ":-[": "1f61e",
        ":[": "1f61e",
        "=(": "1f61e",
        ">:(": "1f620",
        ">:-(": "1f620",
        ":@": "1f620",
        ":'(": "1f622",
        ":'-(": "1f622",
        ";(": "1f622",
        ";-(": "1f622",
        ">.<": "1f623",
        "D:": "1f628",
        ":$": "1f633",
        "=$": "1f633",
        "#-)": "1f635",
        "#)": "1f635",
        "%-)": "1f635",
        "%)": "1f635",
        "X)": "1f635",
        "X-)": "1f635",
        "*\\0/*": "1f646",
        "\\0/": "1f646",
        "*\\O/*": "1f646",
        "\\O/": "1f646",
        "O:-)": "1f607",
        "0:-3": "1f607",
        "0:3": "1f607",
        "0:-)": "1f607",
        "0:)": "1f607",
        "0;^)": "1f607",
        "O:)": "1f607",
        "O;-)": "1f607",
        "O=)": "1f607",
        "0;-)": "1f607",
        "O:-3": "1f607",
        "O:3": "1f607",
        "B-)": "1f60e",
        "B)": "1f60e",
        "8)": "1f60e",
        "8-)": "1f60e",
        "B-D": "1f60e",
        "8-D": "1f60e",
        "-_-": "1f611",
        "-__-": "1f611",
        "-___-": "1f611",
        ">:\\": "1f615",
        ">:/": "1f615",
        ":-/": "1f615",
        ":-.": "1f615",
        ":/": "1f615",
        ":\\": "1f615",
        "=/": "1f615",
        "=\\": "1f615",
        ":L": "1f615",
        "=L": "1f615",
        ":P": "1f61b",
        ":-P": "1f61b",
        "=P": "1f61b",
        ":-p": "1f61b",
        ":p": "1f61b",
        "=p": "1f61b",
        ":-Þ": "1f61b",
        ":Þ": "1f61b",
        ":þ": "1f61b",
        ":-þ": "1f61b",
        ":-b": "1f61b",
        ":b": "1f61b",
        "d:": "1f61b",
        ":-O": "1f62e",
        ":O": "1f62e",
        ":-o": "1f62e",
        ":o": "1f62e",
        O_O: "1f62e",
        ">:O": "1f62e",
        ":-X": "1f636",
        ":X": "1f636",
        ":-#": "1f636",
        ":#": "1f636",
        "=X": "1f636",
        "=x": "1f636",
        ":x": "1f636",
        ":-x": "1f636",
        "=#": "1f636"
    },
    e.asciiRegexp = "(\\<3|&lt;3|\\<\\/3|&lt;\\/3|\\:'\\)|\\:'\\-\\)|\\:D|\\:\\-D|\\=D|\\:\\)|\\:\\-\\)|\\=\\]|\\=\\)|\\:\\]|'\\:\\)|'\\:\\-\\)|'\\=\\)|'\\:D|'\\:\\-D|'\\=D|\\>\\:\\)|&gt;\\:\\)|\\>;\\)|&gt;;\\)|\\>\\:\\-\\)|&gt;\\:\\-\\)|\\>\\=\\)|&gt;\\=\\)|;\\)|;\\-\\)|\\*\\-\\)|\\*\\)|;\\-\\]|;\\]|;D|;\\^\\)|'\\:\\(|'\\:\\-\\(|'\\=\\(|\\:\\*|\\:\\-\\*|\\=\\*|\\:\\^\\*|\\>\\:P|&gt;\\:P|X\\-P|x\\-p|\\>\\:\\[|&gt;\\:\\[|\\:\\-\\(|\\:\\(|\\:\\-\\[|\\:\\[|\\=\\(|\\>\\:\\(|&gt;\\:\\(|\\>\\:\\-\\(|&gt;\\:\\-\\(|\\:@|\\:'\\(|\\:'\\-\\(|;\\(|;\\-\\(|\\>\\.\\<|&gt;\\.&lt;|D\\:|\\:\\$|\\=\\$|#\\-\\)|#\\)|%\\-\\)|%\\)|X\\)|X\\-\\)|\\*\\\\0\\/\\*|\\\\0\\/|\\*\\\\O\\/\\*|\\\\O\\/|O\\:\\-\\)|0\\:\\-3|0\\:3|0\\:\\-\\)|0\\:\\)|0;\\^\\)|O\\:\\-\\)|O\\:\\)|O;\\-\\)|O\\=\\)|0;\\-\\)|O\\:\\-3|O\\:3|B\\-\\)|B\\)|8\\)|8\\-\\)|B\\-D|8\\-D|\\-_\\-|\\-__\\-|\\-___\\-|\\>\\:\\\\|&gt;\\:\\\\|\\>\\:\\/|&gt;\\:\\/|\\:\\-\\/|\\:\\-\\.|\\:\\/|\\:\\\\|\\=\\/|\\=\\\\|\\:L|\\=L|\\:P|\\:\\-P|\\=P|\\:\\-p|\\:p|\\=p|\\:\\-Þ|\\:\\-&THORN;|\\:Þ|\\:&THORN;|\\:þ|\\:&thorn;|\\:\\-þ|\\:\\-&thorn;|\\:\\-b|\\:b|d\\:|\\:\\-O|\\:O|\\:\\-o|\\:o|O_O|\\>\\:O|&gt;\\:O|\\:\\-X|\\:X|\\:\\-#|\\:#|\\=X|\\=x|\\:x|\\:\\-x|\\=#)",
    e.unicodeRegexp = "(\\uD83D\\uDC69\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC69|\\uD83D\\uDC68\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC8B\\u200D\\uD83D\\uDC68|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67|\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66|\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67\\u200D\\uD83D\\uDC67|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC66\\u200D\\uD83D\\uDC66|\\uD83D\\uDC68\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC68|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC67|\\uD83D\\uDC68\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC66|\\uD83D\\uDC69\\u200D\\uD83D\\uDC69\\u200D\\uD83D\\uDC67|\\uD83D\\uDC69\\u200D\\u2764\\uFE0F\\u200D\\uD83D\\uDC69|\\uD83D\\uDC68\\u200D\\uD83D\\uDC68\\u200D\\uD83D\\uDC66|\\uD83D\\uDC41\\u200D\\uD83D\\uDDE8|\\uD83C\\uDDE6\\uD83C\\uDDE9|\\uD83C\\uDDE6\\uD83C\\uDDEA|\\uD83C\\uDDE6\\uD83C\\uDDEB|\\uD83C\\uDDE6\\uD83C\\uDDEC|\\uD83C\\uDDE6\\uD83C\\uDDEE|\\uD83C\\uDDE6\\uD83C\\uDDF1|\\uD83C\\uDDE6\\uD83C\\uDDF2|\\uD83C\\uDDE6\\uD83C\\uDDF4|\\uD83C\\uDDE6\\uD83C\\uDDF6|\\uD83C\\uDDE6\\uD83C\\uDDF7|\\uD83C\\uDDE6\\uD83C\\uDDF8|\\uD83E\\uDD18\\uD83C\\uDFFF|\\uD83E\\uDD18\\uD83C\\uDFFE|\\uD83E\\uDD18\\uD83C\\uDFFD|\\uD83E\\uDD18\\uD83C\\uDFFC|\\uD83E\\uDD18\\uD83C\\uDFFB|\\uD83D\\uDEC0\\uD83C\\uDFFF|\\uD83D\\uDEC0\\uD83C\\uDFFE|\\uD83D\\uDEC0\\uD83C\\uDFFD|\\uD83D\\uDEC0\\uD83C\\uDFFC|\\uD83D\\uDEC0\\uD83C\\uDFFB|\\uD83D\\uDEB6\\uD83C\\uDFFF|\\uD83D\\uDEB6\\uD83C\\uDFFE|\\uD83D\\uDEB6\\uD83C\\uDFFD|\\uD83D\\uDEB6\\uD83C\\uDFFC|\\uD83D\\uDEB6\\uD83C\\uDFFB|\\uD83D\\uDEB5\\uD83C\\uDFFF|\\uD83D\\uDEB5\\uD83C\\uDFFE|\\uD83D\\uDEB5\\uD83C\\uDFFD|\\uD83D\\uDEB5\\uD83C\\uDFFC|\\uD83D\\uDEB5\\uD83C\\uDFFB|\\uD83D\\uDEB4\\uD83C\\uDFFF|\\uD83D\\uDEB4\\uD83C\\uDFFE|\\uD83D\\uDEB4\\uD83C\\uDFFD|\\uD83D\\uDEB4\\uD83C\\uDFFC|\\uD83D\\uDEB4\\uD83C\\uDFFB|\\uD83D\\uDEA3\\uD83C\\uDFFF|\\uD83D\\uDEA3\\uD83C\\uDFFE|\\uD83D\\uDEA3\\uD83C\\uDFFD|\\uD83D\\uDEA3\\uD83C\\uDFFC|\\uD83D\\uDEA3\\uD83C\\uDFFB|\\uD83D\\uDE4F\\uD83C\\uDFFF|\\uD83D\\uDE4F\\uD83C\\uDFFE|\\uD83D\\uDE4F\\uD83C\\uDFFD|\\uD83D\\uDE4F\\uD83C\\uDFFC|\\uD83D\\uDE4F\\uD83C\\uDFFB|\\uD83D\\uDE4E\\uD83C\\uDFFF|\\uD83D\\uDE4E\\uD83C\\uDFFE|\\uD83D\\uDE4E\\uD83C\\uDFFD|\\uD83D\\uDE4E\\uD83C\\uDFFC|\\uD83D\\uDE4E\\uD83C\\uDFFB|\\uD83D\\uDE4D\\uD83C\\uDFFF|\\uD83D\\uDE4D\\uD83C\\uDFFE|\\uD83D\\uDE4D\\uD83C\\uDFFD|\\uD83D\\uDE4D\\uD83C\\uDFFC|\\uD83D\\uDE4D\\uD83C\\uDFFB|\\uD83D\\uDE4C\\uD83C\\uDFFF|\\uD83D\\uDE4C\\uD83C\\uDFFE|\\uD83D\\uDE4C\\uD83C\\uDFFD|\\uD83D\\uDE4C\\uD83C\\uDFFC|\\uD83D\\uDE4C\\uD83C\\uDFFB|\\uD83D\\uDE4B\\uD83C\\uDFFF|\\uD83D\\uDE4B\\uD83C\\uDFFE|\\uD83D\\uDE4B\\uD83C\\uDFFD|\\uD83D\\uDE4B\\uD83C\\uDFFC|\\uD83D\\uDE4B\\uD83C\\uDFFB|\\uD83D\\uDE47\\uD83C\\uDFFF|\\uD83D\\uDE47\\uD83C\\uDFFE|\\uD83D\\uDE47\\uD83C\\uDFFD|\\uD83D\\uDE47\\uD83C\\uDFFC|\\uD83D\\uDE47\\uD83C\\uDFFB|\\uD83D\\uDE46\\uD83C\\uDFFF|\\uD83D\\uDE46\\uD83C\\uDFFE|\\uD83D\\uDE46\\uD83C\\uDFFD|\\uD83D\\uDE46\\uD83C\\uDFFC|\\uD83D\\uDE46\\uD83C\\uDFFB|\\uD83D\\uDE45\\uD83C\\uDFFF|\\uD83D\\uDE45\\uD83C\\uDFFE|\\uD83D\\uDE45\\uD83C\\uDFFD|\\uD83D\\uDE45\\uD83C\\uDFFC|\\uD83D\\uDE45\\uD83C\\uDFFB|\\uD83D\\uDD96\\uD83C\\uDFFF|\\uD83D\\uDD96\\uD83C\\uDFFE|\\uD83D\\uDD96\\uD83C\\uDFFD|\\uD83D\\uDD96\\uD83C\\uDFFC|\\uD83D\\uDD96\\uD83C\\uDFFB|\\uD83D\\uDD95\\uD83C\\uDFFF|\\uD83D\\uDD95\\uD83C\\uDFFE|\\uD83D\\uDD95\\uD83C\\uDFFD|\\uD83D\\uDD95\\uD83C\\uDFFC|\\uD83D\\uDD95\\uD83C\\uDFFB|\\uD83D\\uDD90\\uD83C\\uDFFF|\\uD83D\\uDD90\\uD83C\\uDFFE|\\uD83D\\uDD90\\uD83C\\uDFFD|\\uD83D\\uDD90\\uD83C\\uDFFC|\\uD83D\\uDD90\\uD83C\\uDFFB|\\uD83D\\uDD75\\uD83C\\uDFFF|\\uD83D\\uDD75\\uD83C\\uDFFE|\\uD83D\\uDD75\\uD83C\\uDFFD|\\uD83D\\uDD75\\uD83C\\uDFFC|\\uD83D\\uDD75\\uD83C\\uDFFB|\\uD83D\\uDCAA\\uD83C\\uDFFF|\\uD83D\\uDCAA\\uD83C\\uDFFE|\\uD83D\\uDCAA\\uD83C\\uDFFD|\\uD83D\\uDCAA\\uD83C\\uDFFC|\\uD83D\\uDCAA\\uD83C\\uDFFB|\\uD83D\\uDC87\\uD83C\\uDFFF|\\uD83D\\uDC87\\uD83C\\uDFFE|\\uD83D\\uDC87\\uD83C\\uDFFD|\\uD83D\\uDC87\\uD83C\\uDFFC|\\uD83D\\uDC87\\uD83C\\uDFFB|\\uD83D\\uDC86\\uD83C\\uDFFF|\\uD83D\\uDC86\\uD83C\\uDFFE|\\uD83D\\uDC86\\uD83C\\uDFFD|\\uD83D\\uDC86\\uD83C\\uDFFC|\\uD83D\\uDC86\\uD83C\\uDFFB|\\uD83D\\uDC85\\uD83C\\uDFFF|\\uD83D\\uDC85\\uD83C\\uDFFE|\\uD83D\\uDC85\\uD83C\\uDFFD|\\uD83D\\uDC85\\uD83C\\uDFFC|\\uD83D\\uDC85\\uD83C\\uDFFB|\\uD83D\\uDC83\\uD83C\\uDFFF|\\uD83D\\uDC83\\uD83C\\uDFFE|\\uD83D\\uDC83\\uD83C\\uDFFD|\\uD83D\\uDC83\\uD83C\\uDFFC|\\uD83D\\uDC83\\uD83C\\uDFFB|\\uD83D\\uDC82\\uD83C\\uDFFF|\\uD83D\\uDC82\\uD83C\\uDFFE|\\uD83D\\uDC82\\uD83C\\uDFFD|\\uD83D\\uDC82\\uD83C\\uDFFC|\\uD83D\\uDC82\\uD83C\\uDFFB|\\uD83D\\uDC81\\uD83C\\uDFFF|\\uD83D\\uDC81\\uD83C\\uDFFE|\\uD83D\\uDC81\\uD83C\\uDFFD|\\uD83D\\uDC81\\uD83C\\uDFFC|\\uD83D\\uDC81\\uD83C\\uDFFB|\\uD83D\\uDC7C\\uD83C\\uDFFF|\\uD83D\\uDC7C\\uD83C\\uDFFE|\\uD83D\\uDC7C\\uD83C\\uDFFD|\\uD83D\\uDC7C\\uD83C\\uDFFC|\\uD83D\\uDC7C\\uD83C\\uDFFB|\\uD83D\\uDC78\\uD83C\\uDFFF|\\uD83D\\uDC78\\uD83C\\uDFFE|\\uD83D\\uDC78\\uD83C\\uDFFD|\\uD83D\\uDC78\\uD83C\\uDFFC|\\uD83D\\uDC78\\uD83C\\uDFFB|\\uD83D\\uDC77\\uD83C\\uDFFF|\\uD83D\\uDC77\\uD83C\\uDFFE|\\uD83D\\uDC77\\uD83C\\uDFFD|\\uD83D\\uDC77\\uD83C\\uDFFC|\\uD83D\\uDC77\\uD83C\\uDFFB|\\uD83D\\uDC76\\uD83C\\uDFFF|\\uD83D\\uDC76\\uD83C\\uDFFE|\\uD83D\\uDC76\\uD83C\\uDFFD|\\uD83D\\uDC76\\uD83C\\uDFFC|\\uD83D\\uDC76\\uD83C\\uDFFB|\\uD83D\\uDC75\\uD83C\\uDFFF|\\uD83D\\uDC75\\uD83C\\uDFFE|\\uD83D\\uDC75\\uD83C\\uDFFD|\\uD83D\\uDC75\\uD83C\\uDFFC|\\uD83D\\uDC75\\uD83C\\uDFFB|\\uD83D\\uDC74\\uD83C\\uDFFF|\\uD83D\\uDC74\\uD83C\\uDFFE|\\uD83D\\uDC74\\uD83C\\uDFFD|\\uD83D\\uDC74\\uD83C\\uDFFC|\\uD83D\\uDC74\\uD83C\\uDFFB|\\uD83D\\uDC73\\uD83C\\uDFFF|\\uD83D\\uDC73\\uD83C\\uDFFE|\\uD83D\\uDC73\\uD83C\\uDFFD|\\uD83D\\uDC73\\uD83C\\uDFFC|\\uD83D\\uDC73\\uD83C\\uDFFB|\\uD83D\\uDC72\\uD83C\\uDFFF|\\uD83D\\uDC72\\uD83C\\uDFFE|\\uD83D\\uDC72\\uD83C\\uDFFD|\\uD83D\\uDC72\\uD83C\\uDFFC|\\uD83D\\uDC72\\uD83C\\uDFFB|\\uD83D\\uDC71\\uD83C\\uDFFF|\\uD83D\\uDC71\\uD83C\\uDFFE|\\uD83D\\uDC71\\uD83C\\uDFFD|\\uD83D\\uDC71\\uD83C\\uDFFC|\\uD83D\\uDC71\\uD83C\\uDFFB|\\uD83D\\uDC70\\uD83C\\uDFFF|\\uD83D\\uDC70\\uD83C\\uDFFE|\\uD83D\\uDC70\\uD83C\\uDFFD|\\uD83D\\uDC70\\uD83C\\uDFFC|\\uD83D\\uDC70\\uD83C\\uDFFB|\\uD83D\\uDC6E\\uD83C\\uDFFF|\\uD83D\\uDC6E\\uD83C\\uDFFE|\\uD83D\\uDC6E\\uD83C\\uDFFD|\\uD83D\\uDC6E\\uD83C\\uDFFC|\\uD83D\\uDC6E\\uD83C\\uDFFB|\\uD83D\\uDC69\\uD83C\\uDFFF|\\uD83D\\uDC69\\uD83C\\uDFFE|\\uD83D\\uDC69\\uD83C\\uDFFD|\\uD83D\\uDC69\\uD83C\\uDFFC|\\uD83D\\uDC69\\uD83C\\uDFFB|\\uD83D\\uDC68\\uD83C\\uDFFF|\\uD83D\\uDC68\\uD83C\\uDFFE|\\uD83D\\uDC68\\uD83C\\uDFFD|\\uD83D\\uDC68\\uD83C\\uDFFC|\\uD83D\\uDC68\\uD83C\\uDFFB|\\uD83D\\uDC67\\uD83C\\uDFFF|\\uD83D\\uDC67\\uD83C\\uDFFE|\\uD83D\\uDC67\\uD83C\\uDFFD|\\uD83D\\uDC67\\uD83C\\uDFFC|\\uD83D\\uDC67\\uD83C\\uDFFB|\\uD83D\\uDC66\\uD83C\\uDFFF|\\uD83D\\uDC66\\uD83C\\uDFFE|\\uD83D\\uDC66\\uD83C\\uDFFD|\\uD83D\\uDC66\\uD83C\\uDFFC|\\uD83D\\uDC66\\uD83C\\uDFFB|\\uD83D\\uDC50\\uD83C\\uDFFF|\\uD83D\\uDC50\\uD83C\\uDFFE|\\uD83D\\uDC50\\uD83C\\uDFFD|\\uD83D\\uDC50\\uD83C\\uDFFC|\\uD83D\\uDC50\\uD83C\\uDFFB|\\uD83D\\uDC4F\\uD83C\\uDFFF|\\uD83D\\uDC4F\\uD83C\\uDFFE|\\uD83D\\uDC4F\\uD83C\\uDFFD|\\uD83D\\uDC4F\\uD83C\\uDFFC|\\uD83D\\uDC4F\\uD83C\\uDFFB|\\uD83D\\uDC4E\\uD83C\\uDFFF|\\uD83D\\uDC4E\\uD83C\\uDFFE|\\uD83D\\uDC4E\\uD83C\\uDFFD|\\uD83D\\uDC4E\\uD83C\\uDFFC|\\uD83D\\uDC4E\\uD83C\\uDFFB|\\uD83D\\uDC4D\\uD83C\\uDFFF|\\uD83D\\uDC4D\\uD83C\\uDFFE|\\uD83D\\uDC4D\\uD83C\\uDFFD|\\uD83D\\uDC4D\\uD83C\\uDFFC|\\uD83D\\uDC4D\\uD83C\\uDFFB|\\uD83D\\uDC4C\\uD83C\\uDFFF|\\uD83D\\uDC4C\\uD83C\\uDFFE|\\uD83D\\uDC4C\\uD83C\\uDFFD|\\uD83D\\uDC4C\\uD83C\\uDFFC|\\uD83D\\uDC4C\\uD83C\\uDFFB|\\uD83D\\uDC4B\\uD83C\\uDFFF|\\uD83D\\uDC4B\\uD83C\\uDFFE|\\uD83D\\uDC4B\\uD83C\\uDFFD|\\uD83D\\uDC4B\\uD83C\\uDFFC|\\uD83D\\uDC4B\\uD83C\\uDFFB|\\uD83D\\uDC4A\\uD83C\\uDFFF|\\uD83D\\uDC4A\\uD83C\\uDFFE|\\uD83D\\uDC4A\\uD83C\\uDFFD|\\uD83D\\uDC4A\\uD83C\\uDFFC|\\uD83D\\uDC4A\\uD83C\\uDFFB|\\uD83D\\uDC49\\uD83C\\uDFFF|\\uD83D\\uDC49\\uD83C\\uDFFE|\\uD83D\\uDC49\\uD83C\\uDFFD|\\uD83D\\uDC49\\uD83C\\uDFFC|\\uD83D\\uDC49\\uD83C\\uDFFB|\\uD83D\\uDC48\\uD83C\\uDFFF|\\uD83D\\uDC48\\uD83C\\uDFFE|\\uD83D\\uDC48\\uD83C\\uDFFD|\\uD83D\\uDC48\\uD83C\\uDFFC|\\uD83D\\uDC48\\uD83C\\uDFFB|\\uD83D\\uDC47\\uD83C\\uDFFF|\\uD83D\\uDC47\\uD83C\\uDFFE|\\uD83D\\uDC47\\uD83C\\uDFFD|\\uD83D\\uDC47\\uD83C\\uDFFC|\\uD83D\\uDC47\\uD83C\\uDFFB|\\uD83D\\uDC46\\uD83C\\uDFFF|\\uD83D\\uDC46\\uD83C\\uDFFE|\\uD83D\\uDC46\\uD83C\\uDFFD|\\uD83D\\uDC46\\uD83C\\uDFFC|\\uD83D\\uDC46\\uD83C\\uDFFB|\\uD83D\\uDC43\\uD83C\\uDFFF|\\uD83D\\uDC43\\uD83C\\uDFFE|\\uD83D\\uDC43\\uD83C\\uDFFD|\\uD83D\\uDC43\\uD83C\\uDFFC|\\uD83D\\uDC43\\uD83C\\uDFFB|\\uD83D\\uDC42\\uD83C\\uDFFF|\\uD83D\\uDC42\\uD83C\\uDFFE|\\uD83D\\uDC42\\uD83C\\uDFFD|\\uD83D\\uDC42\\uD83C\\uDFFC|\\uD83D\\uDC42\\uD83C\\uDFFB|\\uD83C\\uDFCB\\uD83C\\uDFFF|\\uD83C\\uDFCB\\uD83C\\uDFFE|\\uD83C\\uDFCB\\uD83C\\uDFFD|\\uD83C\\uDFCB\\uD83C\\uDFFC|\\uD83C\\uDFCB\\uD83C\\uDFFB|\\uD83C\\uDFCA\\uD83C\\uDFFF|\\uD83C\\uDFCA\\uD83C\\uDFFE|\\uD83C\\uDFCA\\uD83C\\uDFFD|\\uD83C\\uDFCA\\uD83C\\uDFFC|\\uD83C\\uDFCA\\uD83C\\uDFFB|\\uD83C\\uDFC7\\uD83C\\uDFFF|\\uD83C\\uDFC7\\uD83C\\uDFFE|\\uD83C\\uDFC7\\uD83C\\uDFFD|\\uD83C\\uDFC7\\uD83C\\uDFFC|\\uD83C\\uDFC7\\uD83C\\uDFFB|\\uD83C\\uDFC4\\uD83C\\uDFFF|\\uD83C\\uDFC4\\uD83C\\uDFFE|\\uD83C\\uDFC4\\uD83C\\uDFFD|\\uD83C\\uDFC4\\uD83C\\uDFFC|\\uD83C\\uDFC4\\uD83C\\uDFFB|\\uD83C\\uDFC3\\uD83C\\uDFFF|\\uD83C\\uDFC3\\uD83C\\uDFFE|\\uD83C\\uDFC3\\uD83C\\uDFFD|\\uD83C\\uDFC3\\uD83C\\uDFFC|\\uD83C\\uDFC3\\uD83C\\uDFFB|\\uD83C\\uDF85\\uD83C\\uDFFF|\\uD83C\\uDF85\\uD83C\\uDFFE|\\uD83C\\uDF85\\uD83C\\uDFFD|\\uD83C\\uDF85\\uD83C\\uDFFC|\\uD83C\\uDF85\\uD83C\\uDFFB|\\uD83C\\uDDFF\\uD83C\\uDDFC|\\uD83C\\uDDFF\\uD83C\\uDDF2|\\uD83C\\uDDFF\\uD83C\\uDDE6|\\uD83C\\uDDFE\\uD83C\\uDDF9|\\uD83C\\uDDFE\\uD83C\\uDDEA|\\uD83C\\uDDFD\\uD83C\\uDDF0|\\uD83C\\uDDFC\\uD83C\\uDDF8|\\uD83C\\uDDFC\\uD83C\\uDDEB|\\uD83C\\uDDFB\\uD83C\\uDDFA|\\uD83C\\uDDFB\\uD83C\\uDDF3|\\uD83C\\uDDFB\\uD83C\\uDDEE|\\uD83C\\uDDFB\\uD83C\\uDDEC|\\uD83C\\uDDFB\\uD83C\\uDDEA|\\uD83C\\uDDFB\\uD83C\\uDDE8|\\uD83C\\uDDFB\\uD83C\\uDDE6|\\uD83C\\uDDFA\\uD83C\\uDDFF|\\uD83C\\uDDFA\\uD83C\\uDDFE|\\uD83C\\uDDFA\\uD83C\\uDDF8|\\uD83C\\uDDFA\\uD83C\\uDDF2|\\uD83C\\uDDFA\\uD83C\\uDDEC|\\uD83C\\uDDFA\\uD83C\\uDDE6|\\uD83C\\uDDF9\\uD83C\\uDDFF|\\uD83C\\uDDE6\\uD83C\\uDDE8|\\uD83C\\uDDF9\\uD83C\\uDDFB|\\uD83C\\uDDF9\\uD83C\\uDDF9|\\uD83C\\uDDF9\\uD83C\\uDDF7|\\uD83C\\uDDF9\\uD83C\\uDDF4|\\uD83C\\uDDF9\\uD83C\\uDDF3|\\uD83C\\uDDF9\\uD83C\\uDDF2|\\uD83C\\uDDF9\\uD83C\\uDDF1|\\uD83C\\uDDF9\\uD83C\\uDDF0|\\uD83C\\uDDF9\\uD83C\\uDDEF|\\uD83C\\uDDF9\\uD83C\\uDDED|\\uD83C\\uDDF9\\uD83C\\uDDEC|\\uD83C\\uDDF9\\uD83C\\uDDEB|\\uD83C\\uDDF9\\uD83C\\uDDE9|\\uD83C\\uDDF9\\uD83C\\uDDE8|\\uD83C\\uDDF9\\uD83C\\uDDE6|\\uD83C\\uDDF8\\uD83C\\uDDFF|\\uD83C\\uDDF8\\uD83C\\uDDFE|\\uD83C\\uDDF8\\uD83C\\uDDFD|\\uD83C\\uDDF8\\uD83C\\uDDFB|\\uD83C\\uDDF8\\uD83C\\uDDF9|\\uD83C\\uDDF8\\uD83C\\uDDF8|\\uD83C\\uDDF8\\uD83C\\uDDF7|\\uD83C\\uDDF8\\uD83C\\uDDF4|\\uD83C\\uDDF8\\uD83C\\uDDF3|\\uD83C\\uDDF8\\uD83C\\uDDF2|\\uD83C\\uDDF8\\uD83C\\uDDF1|\\uD83C\\uDDF8\\uD83C\\uDDF0|\\uD83C\\uDDF8\\uD83C\\uDDEF|\\uD83C\\uDDF8\\uD83C\\uDDEE|\\uD83C\\uDDF8\\uD83C\\uDDED|\\uD83C\\uDDF8\\uD83C\\uDDEC|\\uD83C\\uDDF8\\uD83C\\uDDEA|\\uD83C\\uDDF8\\uD83C\\uDDE9|\\uD83C\\uDDF8\\uD83C\\uDDE8|\\uD83C\\uDDF8\\uD83C\\uDDE7|\\uD83C\\uDDF8\\uD83C\\uDDE6|\\uD83C\\uDDF7\\uD83C\\uDDFC|\\uD83C\\uDDF7\\uD83C\\uDDFA|\\uD83C\\uDDF7\\uD83C\\uDDF8|\\uD83C\\uDDF7\\uD83C\\uDDF4|\\uD83C\\uDDF7\\uD83C\\uDDEA|\\uD83C\\uDDF6\\uD83C\\uDDE6|\\uD83C\\uDDF5\\uD83C\\uDDFE|\\uD83C\\uDDF5\\uD83C\\uDDFC|\\uD83C\\uDDF5\\uD83C\\uDDF9|\\uD83C\\uDDF5\\uD83C\\uDDF8|\\uD83C\\uDDF5\\uD83C\\uDDF7|\\uD83C\\uDDF5\\uD83C\\uDDF3|\\uD83C\\uDDF5\\uD83C\\uDDF2|\\uD83C\\uDDF5\\uD83C\\uDDF1|\\uD83C\\uDDF5\\uD83C\\uDDF0|\\uD83C\\uDDF5\\uD83C\\uDDED|\\uD83C\\uDDF5\\uD83C\\uDDEC|\\uD83C\\uDDF5\\uD83C\\uDDEB|\\uD83C\\uDDF5\\uD83C\\uDDEA|\\uD83C\\uDDF5\\uD83C\\uDDE6|\\uD83C\\uDDF4\\uD83C\\uDDF2|\\uD83C\\uDDF3\\uD83C\\uDDFF|\\uD83C\\uDDF3\\uD83C\\uDDFA|\\uD83C\\uDDF3\\uD83C\\uDDF7|\\uD83C\\uDDF3\\uD83C\\uDDF5|\\uD83C\\uDDF3\\uD83C\\uDDF4|\\uD83C\\uDDF3\\uD83C\\uDDF1|\\uD83C\\uDDF3\\uD83C\\uDDEE|\\uD83C\\uDDF3\\uD83C\\uDDEC|\\uD83C\\uDDF3\\uD83C\\uDDEB|\\uD83C\\uDDF3\\uD83C\\uDDEA|\\uD83C\\uDDF3\\uD83C\\uDDE8|\\uD83C\\uDDF3\\uD83C\\uDDE6|\\uD83C\\uDDF2\\uD83C\\uDDFF|\\uD83C\\uDDF2\\uD83C\\uDDFE|\\uD83C\\uDDF2\\uD83C\\uDDFD|\\uD83C\\uDDF2\\uD83C\\uDDFC|\\uD83C\\uDDF2\\uD83C\\uDDFB|\\uD83C\\uDDF2\\uD83C\\uDDFA|\\uD83C\\uDDF2\\uD83C\\uDDF9|\\uD83C\\uDDF2\\uD83C\\uDDF8|\\uD83C\\uDDF2\\uD83C\\uDDF7|\\uD83C\\uDDF2\\uD83C\\uDDF6|\\uD83C\\uDDF2\\uD83C\\uDDF5|\\uD83C\\uDDF2\\uD83C\\uDDF4|\\uD83C\\uDDF2\\uD83C\\uDDF3|\\uD83C\\uDDF2\\uD83C\\uDDF2|\\uD83C\\uDDF2\\uD83C\\uDDF1|\\uD83C\\uDDF2\\uD83C\\uDDF0|\\uD83C\\uDDF2\\uD83C\\uDDED|\\uD83C\\uDDF2\\uD83C\\uDDEC|\\uD83C\\uDDF2\\uD83C\\uDDEB|\\uD83C\\uDDF2\\uD83C\\uDDEA|\\uD83C\\uDDF2\\uD83C\\uDDE9|\\uD83C\\uDDF2\\uD83C\\uDDE8|\\uD83C\\uDDF2\\uD83C\\uDDE6|\\uD83C\\uDDF1\\uD83C\\uDDFE|\\uD83C\\uDDF1\\uD83C\\uDDFB|\\uD83C\\uDDF1\\uD83C\\uDDFA|\\uD83C\\uDDF1\\uD83C\\uDDF9|\\uD83C\\uDDF1\\uD83C\\uDDF8|\\uD83C\\uDDF1\\uD83C\\uDDF7|\\uD83C\\uDDF1\\uD83C\\uDDF0|\\uD83C\\uDDF1\\uD83C\\uDDEE|\\uD83C\\uDDF1\\uD83C\\uDDE8|\\uD83C\\uDDF1\\uD83C\\uDDE7|\\uD83C\\uDDF1\\uD83C\\uDDE6|\\uD83C\\uDDF0\\uD83C\\uDDFF|\\uD83C\\uDDF0\\uD83C\\uDDFE|\\uD83C\\uDDF0\\uD83C\\uDDFC|\\uD83C\\uDDF0\\uD83C\\uDDF7|\\uD83C\\uDDF0\\uD83C\\uDDF5|\\uD83C\\uDDF0\\uD83C\\uDDF3|\\uD83C\\uDDF0\\uD83C\\uDDF2|\\uD83C\\uDDF0\\uD83C\\uDDEE|\\uD83C\\uDDF0\\uD83C\\uDDED|\\uD83C\\uDDF0\\uD83C\\uDDEC|\\uD83C\\uDDF0\\uD83C\\uDDEA|\\uD83C\\uDDEF\\uD83C\\uDDF5|\\uD83C\\uDDEF\\uD83C\\uDDF4|\\uD83C\\uDDEF\\uD83C\\uDDF2|\\uD83C\\uDDEF\\uD83C\\uDDEA|\\uD83C\\uDDEE\\uD83C\\uDDF9|\\uD83C\\uDDEE\\uD83C\\uDDF8|\\uD83C\\uDDEE\\uD83C\\uDDF7|\\uD83C\\uDDEE\\uD83C\\uDDF6|\\uD83C\\uDDEE\\uD83C\\uDDF4|\\uD83C\\uDDEE\\uD83C\\uDDF3|\\uD83C\\uDDEE\\uD83C\\uDDF2|\\uD83C\\uDDEE\\uD83C\\uDDF1|\\uD83C\\uDDEE\\uD83C\\uDDEA|\\uD83C\\uDDEE\\uD83C\\uDDE9|\\uD83C\\uDDEE\\uD83C\\uDDE8|\\uD83C\\uDDED\\uD83C\\uDDFA|\\uD83C\\uDDED\\uD83C\\uDDF9|\\uD83C\\uDDED\\uD83C\\uDDF7|\\uD83C\\uDDED\\uD83C\\uDDF3|\\uD83C\\uDDED\\uD83C\\uDDF2|\\uD83C\\uDDED\\uD83C\\uDDF0|\\uD83C\\uDDEC\\uD83C\\uDDFE|\\uD83C\\uDDEC\\uD83C\\uDDFC|\\uD83C\\uDDEC\\uD83C\\uDDFA|\\uD83C\\uDDEC\\uD83C\\uDDF9|\\uD83C\\uDDEC\\uD83C\\uDDF8|\\uD83C\\uDDEC\\uD83C\\uDDF7|\\uD83C\\uDDEC\\uD83C\\uDDF6|\\uD83C\\uDDEC\\uD83C\\uDDF5|\\uD83C\\uDDEC\\uD83C\\uDDF3|\\uD83C\\uDDEC\\uD83C\\uDDF2|\\uD83C\\uDDEC\\uD83C\\uDDF1|\\uD83C\\uDDEC\\uD83C\\uDDEE|\\uD83C\\uDDEC\\uD83C\\uDDED|\\uD83C\\uDDEC\\uD83C\\uDDEC|\\uD83C\\uDDEC\\uD83C\\uDDEB|\\uD83C\\uDDEC\\uD83C\\uDDEA|\\uD83C\\uDDEC\\uD83C\\uDDE9|\\uD83C\\uDDEC\\uD83C\\uDDE7|\\uD83C\\uDDEC\\uD83C\\uDDE6|\\uD83C\\uDDEB\\uD83C\\uDDF7|\\uD83C\\uDDEB\\uD83C\\uDDF4|\\uD83C\\uDDEB\\uD83C\\uDDF2|\\uD83C\\uDDEB\\uD83C\\uDDF0|\\uD83C\\uDDEB\\uD83C\\uDDEF|\\uD83C\\uDDEB\\uD83C\\uDDEE|\\uD83C\\uDDEA\\uD83C\\uDDFA|\\uD83C\\uDDEA\\uD83C\\uDDF9|\\uD83C\\uDDEA\\uD83C\\uDDF8|\\uD83C\\uDDEA\\uD83C\\uDDF7|\\uD83C\\uDDEA\\uD83C\\uDDED|\\uD83C\\uDDEA\\uD83C\\uDDEC|\\uD83C\\uDDEA\\uD83C\\uDDEA|\\uD83C\\uDDEA\\uD83C\\uDDE8|\\uD83C\\uDDEA\\uD83C\\uDDE6|\\uD83C\\uDDE9\\uD83C\\uDDFF|\\uD83C\\uDDE9\\uD83C\\uDDF4|\\uD83C\\uDDE9\\uD83C\\uDDF2|\\uD83C\\uDDE9\\uD83C\\uDDF0|\\uD83C\\uDDE9\\uD83C\\uDDEF|\\uD83C\\uDDE9\\uD83C\\uDDEC|\\uD83C\\uDDE9\\uD83C\\uDDEA|\\uD83C\\uDDE8\\uD83C\\uDDFF|\\uD83C\\uDDE8\\uD83C\\uDDFE|\\uD83C\\uDDE8\\uD83C\\uDDFD|\\uD83C\\uDDE8\\uD83C\\uDDFC|\\uD83C\\uDDE8\\uD83C\\uDDFB|\\uD83C\\uDDE8\\uD83C\\uDDFA|\\uD83C\\uDDE8\\uD83C\\uDDF7|\\uD83C\\uDDE8\\uD83C\\uDDF5|\\uD83C\\uDDE8\\uD83C\\uDDF4|\\uD83C\\uDDE8\\uD83C\\uDDF3|\\uD83C\\uDDE8\\uD83C\\uDDF2|\\uD83C\\uDDE8\\uD83C\\uDDF1|\\uD83C\\uDDE8\\uD83C\\uDDF0|\\uD83C\\uDDE8\\uD83C\\uDDEE|\\uD83C\\uDDE8\\uD83C\\uDDED|\\uD83C\\uDDE8\\uD83C\\uDDEC|\\uD83C\\uDDE8\\uD83C\\uDDEB|\\uD83C\\uDDE8\\uD83C\\uDDE9|\\uD83C\\uDDE8\\uD83C\\uDDE8|\\uD83C\\uDDE8\\uD83C\\uDDE6|\\uD83C\\uDDE7\\uD83C\\uDDFF|\\uD83C\\uDDE7\\uD83C\\uDDFE|\\uD83C\\uDDE7\\uD83C\\uDDFC|\\uD83C\\uDDE7\\uD83C\\uDDFB|\\uD83C\\uDDE7\\uD83C\\uDDF9|\\uD83C\\uDDE7\\uD83C\\uDDF8|\\uD83C\\uDDE7\\uD83C\\uDDF7|\\uD83C\\uDDE7\\uD83C\\uDDF6|\\uD83C\\uDDE7\\uD83C\\uDDF4|\\uD83C\\uDDE7\\uD83C\\uDDF3|\\uD83C\\uDDE7\\uD83C\\uDDF2|\\uD83C\\uDDE7\\uD83C\\uDDF1|\\uD83C\\uDDE7\\uD83C\\uDDEF|\\uD83C\\uDDE7\\uD83C\\uDDEE|\\uD83C\\uDDE7\\uD83C\\uDDED|\\uD83C\\uDDE7\\uD83C\\uDDEC|\\uD83C\\uDDE7\\uD83C\\uDDEB|\\uD83C\\uDDE7\\uD83C\\uDDEA|\\uD83C\\uDDE7\\uD83C\\uDDE9|\\uD83C\\uDDE7\\uD83C\\uDDE7|\\uD83C\\uDDE7\\uD83C\\uDDE6|\\uD83C\\uDDE6\\uD83C\\uDDFF|\\uD83C\\uDDE6\\uD83C\\uDDFD|\\uD83C\\uDDE6\\uD83C\\uDDFC|\\uD83C\\uDDE6\\uD83C\\uDDFA|\\uD83C\\uDDE6\\uD83C\\uDDF9|\\uD83C\\uDDF9\\uD83C\\uDDFC|\\uD83D\\uDDA5\\uFE0F|\\u261D\\uD83C\\uDFFE|\\u261D\\uD83C\\uDFFD|\\u261D\\uD83C\\uDFFC|\\u261D\\uD83C\\uDFFB|\\uD83D\\uDDB1\\uFE0F|\\uD83C\\uDF26\\uFE0F|\\uD83C\\uDF25\\uFE0F|\\uD83C\\uDF24\\uFE0F|\\uD83D\\uDEF3\\uFE0F|\\uD83D\\uDEE9\\uFE0F|\\uD83C\\uDC04\\uFE0F|\\uD83C\\uDD7F\\uFE0F|\\uD83C\\uDE02\\uFE0F|\\uD83C\\uDE1A\\uFE0F|\\uD83C\\uDE2F\\uFE0F|\\uD83C\\uDE37\\uFE0F|\\uD83C\\uDF9E\\uFE0F|\\uD83C\\uDF9F\\uFE0F|\\uD83C\\uDFCB\\uFE0F|\\uD83C\\uDFCC\\uFE0F|\\uD83C\\uDFCD\\uFE0F|\\uD83C\\uDFCE\\uFE0F|\\uD83C\\uDF96\\uFE0F|\\uD83C\\uDF97\\uFE0F|\\uD83C\\uDF36\\uFE0F|\\uD83C\\uDF27\\uFE0F|\\uD83C\\uDF28\\uFE0F|\\uD83C\\uDF29\\uFE0F|\\uD83C\\uDF2A\\uFE0F|\\uD83C\\uDF2B\\uFE0F|\\uD83C\\uDF2C\\uFE0F|\\uD83D\\uDC3F\\uFE0F|\\uD83D\\uDD77\\uFE0F|\\uD83D\\uDD78\\uFE0F|\\uD83C\\uDF21\\uFE0F|\\uD83C\\uDF99\\uFE0F|\\uD83C\\uDF9A\\uFE0F|\\uD83C\\uDF9B\\uFE0F|\\uD83C\\uDFF3\\uFE0F|\\uD83C\\uDFF5\\uFE0F|\\uD83C\\uDFF7\\uFE0F|\\uD83D\\uDCFD\\uFE0F|\\uD83D\\uDD49\\uFE0F|\\uD83D\\uDD4A\\uFE0F|\\uD83D\\uDD6F\\uFE0F|\\uD83D\\uDD70\\uFE0F|\\uD83D\\uDD73\\uFE0F|\\uD83D\\uDD76\\uFE0F|\\uD83D\\uDD79\\uFE0F|\\uD83D\\uDD87\\uFE0F|\\uD83D\\uDD8A\\uFE0F|\\uD83D\\uDD8B\\uFE0F|\\uD83D\\uDD8C\\uFE0F|\\uD83D\\uDD8D\\uFE0F|\\uD83D\\uDEE5\\uFE0F|\\uD83D\\uDDA8\\uFE0F|\\uD83D\\uDDB2\\uFE0F|\\uD83D\\uDDBC\\uFE0F|\\uD83D\\uDDC2\\uFE0F|\\uD83D\\uDDC3\\uFE0F|\\uD83D\\uDDC4\\uFE0F|\\uD83D\\uDDD1\\uFE0F|\\uD83D\\uDDD2\\uFE0F|\\uD83D\\uDDD3\\uFE0F|\\uD83D\\uDDDC\\uFE0F|\\uD83D\\uDDDD\\uFE0F|\\uD83D\\uDDDE\\uFE0F|\\uD83D\\uDDE1\\uFE0F|\\uD83D\\uDDE3\\uFE0F|\\uD83D\\uDDEF\\uFE0F|\\uD83D\\uDDF3\\uFE0F|\\uD83D\\uDDFA\\uFE0F|\\uD83D\\uDEE0\\uFE0F|\\uD83D\\uDEE1\\uFE0F|\\uD83D\\uDEE2\\uFE0F|\\uD83D\\uDEF0\\uFE0F|\\uD83C\\uDF7D\\uFE0F|\\uD83D\\uDC41\\uFE0F|\\uD83D\\uDD74\\uFE0F|\\uD83D\\uDD75\\uFE0F|\\uD83D\\uDD90\\uFE0F|\\uD83C\\uDFD4\\uFE0F|\\uD83C\\uDFD5\\uFE0F|\\uD83C\\uDFD6\\uFE0F|\\uD83C\\uDFD7\\uFE0F|\\uD83C\\uDFD8\\uFE0F|\\uD83C\\uDFD9\\uFE0F|\\uD83C\\uDFDA\\uFE0F|\\uD83C\\uDFDB\\uFE0F|\\uD83C\\uDFDC\\uFE0F|\\uD83C\\uDFDD\\uFE0F|\\uD83C\\uDFDE\\uFE0F|\\uD83C\\uDFDF\\uFE0F|\\uD83D\\uDECB\\uFE0F|\\uD83D\\uDECD\\uFE0F|\\uD83D\\uDECE\\uFE0F|\\uD83D\\uDECF\\uFE0F|\\uD83D\\uDEE3\\uFE0F|\\uD83D\\uDEE4\\uFE0F|4\\uFE0F\\u20E3|9\\uFE0F\\u20E3|0\\uFE0F\\u20E3|1\\uFE0F\\u20E3|2\\uFE0F\\u20E3|3\\uFE0F\\u20E3|#\\uFE0F\\u20E3|5\\uFE0F\\u20E3|6\\uFE0F\\u20E3|7\\uFE0F\\u20E3|8\\uFE0F\\u20E3|\\*\\uFE0F\\u20E3|\\u00A9\\uFE0F|\\u00AE\\uFE0F|\\u203C\\uFE0F|\\u2049\\uFE0F|\\u2122\\uFE0F|\\u2139\\uFE0F|\\u2194\\uFE0F|\\u2195\\uFE0F|\\u2196\\uFE0F|\\u2197\\uFE0F|\\u2198\\uFE0F|\\u2199\\uFE0F|\\u21A9\\uFE0F|\\u21AA\\uFE0F|\\u231A\\uFE0F|\\u231B\\uFE0F|\\u24C2\\uFE0F|\\u25AA\\uFE0F|\\u25AB\\uFE0F|\\u25B6\\uFE0F|\\u25C0\\uFE0F|\\u25FB\\uFE0F|\\u25FC\\uFE0F|\\u25FD\\uFE0F|\\u25FE\\uFE0F|\\u2600\\uFE0F|\\u2601\\uFE0F|\\u260E\\uFE0F|\\u2611\\uFE0F|\\u2614\\uFE0F|\\u2615\\uFE0F|\\u261D\\uFE0F|\\u263A\\uFE0F|\\u2648\\uFE0F|\\u2649\\uFE0F|\\u264A\\uFE0F|\\u264B\\uFE0F|\\u264C\\uFE0F|\\u264D\\uFE0F|\\u264E\\uFE0F|\\u264F\\uFE0F|\\u2650\\uFE0F|\\u2651\\uFE0F|\\u2652\\uFE0F|\\u2653\\uFE0F|\\u2660\\uFE0F|\\u2663\\uFE0F|\\u2665\\uFE0F|\\u2666\\uFE0F|\\u2668\\uFE0F|\\u267B\\uFE0F|\\u267F\\uFE0F|\\u2693\\uFE0F|\\u26A0\\uFE0F|\\u26A1\\uFE0F|\\u26AA\\uFE0F|\\u26AB\\uFE0F|\\u26BD\\uFE0F|\\u26BE\\uFE0F|\\u26C4\\uFE0F|\\u26C5\\uFE0F|\\u26D4\\uFE0F|\\u26EA\\uFE0F|\\u26F2\\uFE0F|\\u26F3\\uFE0F|\\u26F5\\uFE0F|\\u26FA\\uFE0F|\\u26FD\\uFE0F|\\u2702\\uFE0F|\\u2708\\uFE0F|\\u2709\\uFE0F|\\u270C\\uFE0F|\\u270F\\uFE0F|\\u2712\\uFE0F|\\u2714\\uFE0F|\\u2716\\uFE0F|\\u2733\\uFE0F|\\u2734\\uFE0F|\\u2744\\uFE0F|\\u2747\\uFE0F|\\u2757\\uFE0F|\\u2764\\uFE0F|\\u27A1\\uFE0F|\\u2934\\uFE0F|\\u2935\\uFE0F|\\u2B05\\uFE0F|\\u2B06\\uFE0F|\\u2B07\\uFE0F|\\u2B1B\\uFE0F|\\u2B1C\\uFE0F|\\u2B50\\uFE0F|\\u2B55\\uFE0F|\\u3030\\uFE0F|\\u303D\\uFE0F|\\u3297\\uFE0F|\\u3299\\uFE0F|\\u271D\\uFE0F|\\u2328\\uFE0F|\\u270D\\uFE0F|\\u23ED\\uFE0F|\\u23EE\\uFE0F|\\u23EF\\uFE0F|\\u23F1\\uFE0F|\\u23F2\\uFE0F|\\u23F8\\uFE0F|\\u23F9\\uFE0F|\\u23FA\\uFE0F|\\u2602\\uFE0F|\\u2603\\uFE0F|\\u2604\\uFE0F|\\u2618\\uFE0F|\\u2620\\uFE0F|\\u2622\\uFE0F|\\u2623\\uFE0F|\\u2626\\uFE0F|\\u262A\\uFE0F|\\u262E\\uFE0F|\\u262F\\uFE0F|\\u2638\\uFE0F|\\u2639\\uFE0F|\\u2692\\uFE0F|\\u2694\\uFE0F|\\u2696\\uFE0F|\\u2697\\uFE0F|\\u2699\\uFE0F|\\u269B\\uFE0F|\\u269C\\uFE0F|\\u26B0\\uFE0F|\\u26B1\\uFE0F|\\u26C8\\uFE0F|\\u26CF\\uFE0F|\\u26D1\\uFE0F|\\u26D3\\uFE0F|\\u26E9\\uFE0F|\\u26F0\\uFE0F|\\u26F1\\uFE0F|\\u26F4\\uFE0F|\\u26F7\\uFE0F|\\u26F8\\uFE0F|\\u26F9\\uFE0F|\\u2721\\uFE0F|\\u2763\\uFE0F|\\uD83C\\uDCCF|\\uD83C\\uDD70|\\uD83C\\uDD71|\\uD83C\\uDD7E|\\uD83C\\uDD8E|\\uD83C\\uDD91|\\uD83C\\uDD92|\\uD83C\\uDD93|\\uD83C\\uDD94|\\uD83C\\uDD95|\\uD83C\\uDD96|\\uD83C\\uDD97|\\uD83C\\uDD98|\\uD83C\\uDD99|\\uD83C\\uDD9A|\\uD83C\\uDE01|\\uD83C\\uDE32|\\uD83C\\uDE33|\\uD83C\\uDE34|\\uD83C\\uDE35|\\uD83C\\uDE36|\\uD83C\\uDE38|\\uD83C\\uDE39|\\uD83C\\uDE3A|\\uD83D\\uDDB1|\\uD83C\\uDE51|\\uD83C\\uDF00|\\uD83C\\uDF01|\\uD83C\\uDF02|\\uD83C\\uDF03|\\uD83C\\uDF04|\\uD83C\\uDF05|\\uD83C\\uDF06|\\uD83C\\uDF07|\\uD83C\\uDF08|\\uD83C\\uDF09|\\uD83C\\uDF0A|\\uD83C\\uDF0B|\\uD83C\\uDF0C|\\uD83C\\uDF0F|\\uD83C\\uDF11|\\uD83C\\uDF13|\\uD83C\\uDF14|\\uD83C\\uDF15|\\uD83C\\uDF19|\\uD83C\\uDF1B|\\uD83C\\uDF1F|\\uD83C\\uDF20|\\uD83C\\uDF30|\\uD83C\\uDF31|\\uD83C\\uDF34|\\uD83C\\uDF35|\\uD83C\\uDF37|\\uD83C\\uDF38|\\uD83C\\uDF39|\\uD83C\\uDF3A|\\uD83C\\uDF3B|\\uD83C\\uDF3C|\\uD83C\\uDF3D|\\uD83C\\uDF3E|\\uD83C\\uDF3F|\\uD83C\\uDF40|\\uD83C\\uDF41|\\uD83C\\uDF42|\\uD83C\\uDF43|\\uD83C\\uDF44|\\uD83C\\uDF45|\\uD83C\\uDF46|\\uD83C\\uDF47|\\uD83C\\uDF48|\\uD83C\\uDF49|\\uD83C\\uDF4A|\\uD83C\\uDF4C|\\uD83C\\uDF4D|\\uD83C\\uDF4E|\\uD83C\\uDF4F|\\uD83C\\uDF51|\\uD83C\\uDF52|\\uD83C\\uDF53|\\uD83C\\uDF54|\\uD83C\\uDF55|\\uD83C\\uDF56|\\uD83C\\uDF57|\\uD83C\\uDF58|\\uD83C\\uDF59|\\uD83C\\uDF5A|\\uD83C\\uDF5B|\\uD83C\\uDF5C|\\uD83C\\uDF5D|\\uD83C\\uDF5E|\\uD83C\\uDF5F|\\uD83C\\uDF60|\\uD83C\\uDF61|\\uD83C\\uDF62|\\uD83C\\uDF63|\\uD83C\\uDF64|\\uD83C\\uDF65|\\uD83C\\uDF66|\\uD83C\\uDF67|\\uD83C\\uDF68|\\uD83C\\uDF69|\\uD83C\\uDF6A|\\uD83C\\uDF6B|\\uD83C\\uDF6C|\\uD83C\\uDF6D|\\uD83C\\uDF6E|\\uD83C\\uDF6F|\\uD83C\\uDF70|\\uD83C\\uDF71|\\uD83C\\uDF72|\\uD83C\\uDF73|\\uD83C\\uDF74|\\uD83C\\uDF75|\\uD83C\\uDF76|\\uD83C\\uDF77|\\uD83C\\uDF78|\\uD83C\\uDF79|\\uD83C\\uDF7A|\\uD83C\\uDF7B|\\uD83C\\uDF80|\\uD83C\\uDF81|\\uD83C\\uDF82|\\uD83C\\uDF83|\\uD83C\\uDF84|\\uD83C\\uDF85|\\uD83C\\uDF86|\\uD83C\\uDF87|\\uD83C\\uDF88|\\uD83C\\uDF89|\\uD83C\\uDF8A|\\uD83C\\uDF8B|\\uD83C\\uDF8C|\\uD83C\\uDF8D|\\uD83C\\uDF8E|\\uD83C\\uDF8F|\\uD83C\\uDF90|\\uD83C\\uDF91|\\uD83C\\uDF92|\\uD83C\\uDF93|\\uD83C\\uDFA0|\\uD83C\\uDFA1|\\uD83C\\uDFA2|\\uD83C\\uDFA3|\\uD83C\\uDFA4|\\uD83C\\uDFA5|\\uD83C\\uDFA6|\\uD83C\\uDFA7|\\uD83C\\uDFA8|\\uD83C\\uDFA9|\\uD83C\\uDFAA|\\uD83C\\uDFAB|\\uD83C\\uDFAC|\\uD83C\\uDFAD|\\uD83C\\uDFAE|\\uD83C\\uDFAF|\\uD83C\\uDFB0|\\uD83C\\uDFB1|\\uD83C\\uDFB2|\\uD83C\\uDFB3|\\uD83C\\uDFB4|\\uD83C\\uDFB5|\\uD83C\\uDFB6|\\uD83C\\uDFB7|\\uD83C\\uDFB8|\\uD83C\\uDFB9|\\uD83C\\uDFBA|\\uD83C\\uDFBB|\\uD83C\\uDFBC|\\uD83C\\uDFBD|\\uD83C\\uDFBE|\\uD83C\\uDFBF|\\uD83C\\uDFC0|\\uD83C\\uDFC1|\\uD83C\\uDFC2|\\uD83C\\uDFC3|\\uD83C\\uDFC4|\\uD83C\\uDFC6|\\uD83C\\uDFC8|\\uD83C\\uDFCA|\\uD83C\\uDFE0|\\uD83C\\uDFE1|\\uD83C\\uDFE2|\\uD83C\\uDFE3|\\uD83C\\uDFE5|\\uD83C\\uDFE6|\\uD83C\\uDFE7|\\uD83C\\uDFE8|\\uD83C\\uDFE9|\\uD83C\\uDFEA|\\uD83C\\uDFEB|\\uD83C\\uDFEC|\\uD83C\\uDFED|\\uD83C\\uDFEE|\\uD83C\\uDFEF|\\uD83C\\uDFF0|\\uD83D\\uDC0C|\\uD83D\\uDC0D|\\uD83D\\uDC0E|\\uD83D\\uDC11|\\uD83D\\uDC12|\\uD83D\\uDC14|\\uD83D\\uDC17|\\uD83D\\uDC18|\\uD83D\\uDC19|\\uD83D\\uDC1A|\\uD83D\\uDC1B|\\uD83D\\uDC1C|\\uD83D\\uDC1D|\\uD83D\\uDC1E|\\uD83D\\uDC1F|\\uD83D\\uDC20|\\uD83D\\uDC21|\\uD83D\\uDC22|\\uD83D\\uDC23|\\uD83D\\uDC24|\\uD83D\\uDC25|\\uD83D\\uDC26|\\uD83D\\uDC27|\\uD83D\\uDC28|\\uD83D\\uDC29|\\uD83D\\uDC2B|\\uD83D\\uDC2C|\\uD83D\\uDC2D|\\uD83D\\uDC2E|\\uD83D\\uDC2F|\\uD83D\\uDC30|\\uD83D\\uDC31|\\uD83D\\uDC32|\\uD83D\\uDC33|\\uD83D\\uDC34|\\uD83D\\uDC35|\\uD83D\\uDC36|\\uD83D\\uDC37|\\uD83D\\uDC38|\\uD83D\\uDC39|\\uD83D\\uDC3A|\\uD83D\\uDC3B|\\uD83D\\uDC3C|\\uD83D\\uDC3D|\\uD83D\\uDC3E|\\uD83D\\uDC40|\\uD83D\\uDC42|\\uD83D\\uDC43|\\uD83D\\uDC44|\\uD83D\\uDC45|\\uD83D\\uDC46|\\uD83D\\uDC47|\\uD83D\\uDC48|\\uD83D\\uDC49|\\uD83D\\uDC4A|\\uD83D\\uDC4B|\\uD83D\\uDC4C|\\uD83D\\uDC4D|\\uD83D\\uDC4E|\\uD83D\\uDC4F|\\uD83D\\uDC50|\\uD83D\\uDC51|\\uD83D\\uDC52|\\uD83D\\uDC53|\\uD83D\\uDC54|\\uD83D\\uDC55|\\uD83D\\uDC56|\\uD83D\\uDC57|\\uD83D\\uDC58|\\uD83D\\uDC59|\\uD83D\\uDC5A|\\uD83D\\uDC5B|\\uD83D\\uDC5C|\\uD83D\\uDC5D|\\uD83D\\uDC5E|\\uD83D\\uDC5F|\\uD83D\\uDC60|\\uD83D\\uDC61|\\uD83D\\uDC62|\\uD83D\\uDC63|\\uD83D\\uDC64|\\uD83D\\uDC66|\\uD83D\\uDC67|\\uD83D\\uDC68|\\uD83D\\uDC69|\\uD83D\\uDC6A|\\uD83D\\uDC6B|\\uD83D\\uDC6E|\\uD83D\\uDC6F|\\uD83D\\uDC70|\\uD83D\\uDC71|\\uD83D\\uDC72|\\uD83D\\uDC73|\\uD83D\\uDC74|\\uD83D\\uDC75|\\uD83D\\uDC76|\\uD83D\\uDC77|\\uD83D\\uDC78|\\uD83D\\uDC79|\\uD83D\\uDC7A|\\uD83D\\uDC7B|\\uD83D\\uDC7C|\\uD83D\\uDC7D|\\uD83D\\uDC7E|\\uD83D\\uDC7F|\\uD83D\\uDC80|\\uD83D\\uDCC7|\\uD83D\\uDC81|\\uD83D\\uDC82|\\uD83D\\uDC83|\\uD83D\\uDC84|\\uD83D\\uDC85|\\uD83D\\uDCD2|\\uD83D\\uDC86|\\uD83D\\uDCD3|\\uD83D\\uDC87|\\uD83D\\uDCD4|\\uD83D\\uDC88|\\uD83D\\uDCD5|\\uD83D\\uDC89|\\uD83D\\uDCD6|\\uD83D\\uDC8A|\\uD83D\\uDCD7|\\uD83D\\uDC8B|\\uD83D\\uDCD8|\\uD83D\\uDC8C|\\uD83D\\uDCD9|\\uD83D\\uDC8D|\\uD83D\\uDCDA|\\uD83D\\uDC8E|\\uD83D\\uDCDB|\\uD83D\\uDC8F|\\uD83D\\uDCDC|\\uD83D\\uDC90|\\uD83D\\uDCDD|\\uD83D\\uDC91|\\uD83D\\uDCDE|\\uD83D\\uDC92|\\uD83D\\uDCDF|\\uD83D\\uDCE0|\\uD83D\\uDC93|\\uD83D\\uDCE1|\\uD83D\\uDCE2|\\uD83D\\uDC94|\\uD83D\\uDCE3|\\uD83D\\uDCE4|\\uD83D\\uDC95|\\uD83D\\uDCE5|\\uD83D\\uDCE6|\\uD83D\\uDC96|\\uD83D\\uDCE7|\\uD83D\\uDCE8|\\uD83D\\uDC97|\\uD83D\\uDCE9|\\uD83D\\uDCEA|\\uD83D\\uDC98|\\uD83D\\uDCEB|\\uD83D\\uDCEE|\\uD83D\\uDC99|\\uD83D\\uDCF0|\\uD83D\\uDCF1|\\uD83D\\uDC9A|\\uD83D\\uDCF2|\\uD83D\\uDCF3|\\uD83D\\uDC9B|\\uD83D\\uDCF4|\\uD83D\\uDCF6|\\uD83D\\uDC9C|\\uD83D\\uDCF7|\\uD83D\\uDCF9|\\uD83D\\uDC9D|\\uD83D\\uDCFA|\\uD83D\\uDCFB|\\uD83D\\uDC9E|\\uD83D\\uDCFC|\\uD83D\\uDD03|\\uD83D\\uDC9F|\\uD83D\\uDD0A|\\uD83D\\uDD0B|\\uD83D\\uDCA0|\\uD83D\\uDD0C|\\uD83D\\uDD0D|\\uD83D\\uDCA1|\\uD83D\\uDD0E|\\uD83D\\uDD0F|\\uD83D\\uDCA2|\\uD83D\\uDD10|\\uD83D\\uDD11|\\uD83D\\uDCA3|\\uD83D\\uDD12|\\uD83D\\uDD13|\\uD83D\\uDCA4|\\uD83D\\uDD14|\\uD83D\\uDD16|\\uD83D\\uDCA5|\\uD83D\\uDD17|\\uD83D\\uDD18|\\uD83D\\uDCA6|\\uD83D\\uDD19|\\uD83D\\uDD1A|\\uD83D\\uDCA7|\\uD83D\\uDD1B|\\uD83D\\uDD1C|\\uD83D\\uDCA8|\\uD83D\\uDD1D|\\uD83D\\uDD1E|\\uD83D\\uDCA9|\\uD83D\\uDD1F|\\uD83D\\uDCAA|\\uD83D\\uDD20|\\uD83D\\uDD21|\\uD83D\\uDCAB|\\uD83D\\uDD22|\\uD83D\\uDD23|\\uD83D\\uDCAC|\\uD83D\\uDD24|\\uD83D\\uDD25|\\uD83D\\uDCAE|\\uD83D\\uDD26|\\uD83D\\uDD27|\\uD83D\\uDCAF|\\uD83D\\uDD28|\\uD83D\\uDD29|\\uD83D\\uDCB0|\\uD83D\\uDD2A|\\uD83D\\uDD2B|\\uD83D\\uDCB1|\\uD83D\\uDD2E|\\uD83D\\uDCB2|\\uD83D\\uDD2F|\\uD83D\\uDCB3|\\uD83D\\uDD30|\\uD83D\\uDD31|\\uD83D\\uDCB4|\\uD83D\\uDD32|\\uD83D\\uDD33|\\uD83D\\uDCB5|\\uD83D\\uDD34|\\uD83D\\uDD35|\\uD83D\\uDCB8|\\uD83D\\uDD36|\\uD83D\\uDD37|\\uD83D\\uDCB9|\\uD83D\\uDD38|\\uD83D\\uDD39|\\uD83D\\uDCBA|\\uD83D\\uDD3A|\\uD83D\\uDD3B|\\uD83D\\uDCBB|\\uD83D\\uDD3C|\\uD83D\\uDCBC|\\uD83D\\uDD3D|\\uD83D\\uDD50|\\uD83D\\uDCBD|\\uD83D\\uDD51|\\uD83D\\uDCBE|\\uD83D\\uDD52|\\uD83D\\uDCBF|\\uD83D\\uDD53|\\uD83D\\uDCC0|\\uD83D\\uDD54|\\uD83D\\uDD55|\\uD83D\\uDCC1|\\uD83D\\uDD56|\\uD83D\\uDD57|\\uD83D\\uDCC2|\\uD83D\\uDD58|\\uD83D\\uDD59|\\uD83D\\uDCC3|\\uD83D\\uDD5A|\\uD83D\\uDD5B|\\uD83D\\uDCC4|\\uD83D\\uDDFB|\\uD83D\\uDDFC|\\uD83D\\uDCC5|\\uD83D\\uDDFD|\\uD83D\\uDDFE|\\uD83D\\uDCC6|\\uD83D\\uDDFF|\\uD83D\\uDE01|\\uD83D\\uDE02|\\uD83D\\uDE03|\\uD83D\\uDCC8|\\uD83D\\uDE04|\\uD83D\\uDE05|\\uD83D\\uDCC9|\\uD83D\\uDE06|\\uD83D\\uDE09|\\uD83D\\uDCCA|\\uD83D\\uDE0A|\\uD83D\\uDE0B|\\uD83D\\uDCCB|\\uD83D\\uDE0C|\\uD83D\\uDE0D|\\uD83D\\uDCCC|\\uD83D\\uDE0F|\\uD83D\\uDE12|\\uD83D\\uDCCD|\\uD83D\\uDE13|\\uD83D\\uDE14|\\uD83D\\uDCCE|\\uD83D\\uDE16|\\uD83D\\uDE18|\\uD83D\\uDCCF|\\uD83D\\uDE1A|\\uD83D\\uDE1C|\\uD83D\\uDCD0|\\uD83D\\uDE1D|\\uD83D\\uDE1E|\\uD83D\\uDCD1|\\uD83D\\uDE20|\\uD83D\\uDE21|\\uD83D\\uDE22|\\uD83D\\uDE23|\\uD83D\\uDE24|\\uD83D\\uDE25|\\uD83D\\uDE28|\\uD83D\\uDE29|\\uD83D\\uDE2A|\\uD83D\\uDE2B|\\uD83D\\uDE2D|\\uD83D\\uDE30|\\uD83D\\uDE31|\\uD83D\\uDE32|\\uD83D\\uDE33|\\uD83D\\uDE35|\\uD83D\\uDE37|\\uD83D\\uDE38|\\uD83D\\uDE39|\\uD83D\\uDE3A|\\uD83D\\uDE3B|\\uD83D\\uDE3C|\\uD83D\\uDE3D|\\uD83D\\uDE3E|\\uD83D\\uDE3F|\\uD83D\\uDE40|\\uD83D\\uDE45|\\uD83D\\uDE46|\\uD83D\\uDE47|\\uD83D\\uDE48|\\uD83D\\uDE49|\\uD83D\\uDE4A|\\uD83D\\uDE4B|\\uD83D\\uDE4C|\\uD83D\\uDE4D|\\uD83D\\uDE4E|\\uD83D\\uDE4F|\\uD83D\\uDE80|\\uD83D\\uDE83|\\uD83D\\uDE84|\\uD83D\\uDE85|\\uD83D\\uDE87|\\uD83D\\uDE89|\\uD83D\\uDE8C|\\uD83D\\uDE8F|\\uD83D\\uDE91|\\uD83D\\uDE92|\\uD83D\\uDE93|\\uD83D\\uDE95|\\uD83D\\uDE97|\\uD83D\\uDE99|\\uD83D\\uDE9A|\\uD83D\\uDEA2|\\uD83D\\uDEA4|\\uD83D\\uDEA5|\\uD83D\\uDEA7|\\uD83D\\uDEA8|\\uD83D\\uDEA9|\\uD83D\\uDEAA|\\uD83D\\uDEAB|\\uD83D\\uDEAC|\\uD83D\\uDEAD|\\uD83D\\uDEB2|\\uD83D\\uDEB6|\\uD83D\\uDEB9|\\uD83D\\uDEBA|\\uD83D\\uDEBB|\\uD83D\\uDEBC|\\uD83D\\uDEBD|\\uD83D\\uDEBE|\\uD83D\\uDEC0|\\uD83E\\uDD18|\\uD83D\\uDE00|\\uD83D\\uDE07|\\uD83D\\uDE08|\\uD83D\\uDE0E|\\uD83D\\uDE10|\\uD83D\\uDE11|\\uD83D\\uDE15|\\uD83D\\uDE17|\\uD83D\\uDE19|\\uD83D\\uDE1B|\\uD83D\\uDE1F|\\uD83D\\uDE26|\\uD83D\\uDE27|\\uD83D\\uDE2C|\\uD83D\\uDE2E|\\uD83D\\uDE2F|\\uD83D\\uDE34|\\uD83D\\uDE36|\\uD83D\\uDE81|\\uD83D\\uDE82|\\uD83D\\uDE86|\\uD83D\\uDE88|\\uD83D\\uDE8A|\\uD83D\\uDE8D|\\uD83D\\uDE8E|\\uD83D\\uDE90|\\uD83D\\uDE94|\\uD83D\\uDE96|\\uD83D\\uDE98|\\uD83D\\uDE9B|\\uD83D\\uDE9C|\\uD83D\\uDE9D|\\uD83D\\uDE9E|\\uD83D\\uDE9F|\\uD83D\\uDEA0|\\uD83D\\uDEA1|\\uD83D\\uDEA3|\\uD83D\\uDEA6|\\uD83D\\uDEAE|\\uD83D\\uDEAF|\\uD83D\\uDEB0|\\uD83D\\uDEB1|\\uD83D\\uDEB3|\\uD83D\\uDEB4|\\uD83D\\uDEB5|\\uD83D\\uDEB7|\\uD83D\\uDEB8|\\uD83D\\uDEBF|\\uD83D\\uDEC1|\\uD83D\\uDEC2|\\uD83D\\uDEC3|\\uD83D\\uDEC4|\\uD83D\\uDEC5|\\uD83C\\uDF0D|\\uD83C\\uDF0E|\\uD83C\\uDF10|\\uD83C\\uDF12|\\uD83C\\uDF16|\\uD83C\\uDF17|\\uD83C\\uDF18|\\uD83C\\uDF1A|\\uD83C\\uDF1C|\\uD83C\\uDF1D|\\uD83C\\uDF1E|\\uD83C\\uDF32|\\uD83C\\uDF33|\\uD83C\\uDF4B|\\uD83C\\uDF50|\\uD83C\\uDF7C|\\uD83C\\uDFC7|\\uD83C\\uDFC9|\\uD83C\\uDFE4|\\uD83D\\uDC00|\\uD83D\\uDC01|\\uD83D\\uDC02|\\uD83D\\uDC03|\\uD83D\\uDC04|\\uD83D\\uDC05|\\uD83D\\uDC06|\\uD83D\\uDC07|\\uD83D\\uDC08|\\uD83D\\uDC09|\\uD83D\\uDC0A|\\uD83D\\uDC0B|\\uD83D\\uDC0F|\\uD83D\\uDC10|\\uD83D\\uDC13|\\uD83D\\uDC15|\\uD83D\\uDC16|\\uD83D\\uDC2A|\\uD83D\\uDC65|\\uD83D\\uDC6C|\\uD83D\\uDC6D|\\uD83D\\uDCAD|\\uD83D\\uDCB6|\\uD83D\\uDCB7|\\uD83D\\uDCEC|\\uD83D\\uDCED|\\uD83D\\uDCEF|\\uD83D\\uDCF5|\\uD83D\\uDD00|\\uD83D\\uDD01|\\uD83D\\uDD02|\\uD83D\\uDD04|\\uD83D\\uDD05|\\uD83D\\uDD06|\\uD83D\\uDD07|\\uD83D\\uDD09|\\uD83D\\uDD15|\\uD83D\\uDD2C|\\uD83D\\uDD2D|\\uD83D\\uDD5C|\\uD83D\\uDD5D|\\uD83D\\uDD5E|\\uD83D\\uDD5F|\\uD83D\\uDD60|\\uD83D\\uDD61|\\uD83D\\uDD62|\\uD83D\\uDD63|\\uD83D\\uDD64|\\uD83D\\uDD65|\\uD83D\\uDD66|\\uD83D\\uDD67|\\uD83D\\uDD08|\\uD83D\\uDE8B|\\uD83C\\uDFC5|\\uD83C\\uDFF4|\\uD83D\\uDCF8|\\uD83D\\uDECC|\\uD83D\\uDD95|\\uD83D\\uDD96|\\uD83D\\uDE41|\\uD83D\\uDE42|\\uD83D\\uDEEB|\\uD83D\\uDEEC|\\uD83C\\uDFFB|\\uD83C\\uDFFC|\\uD83C\\uDFFD|\\uD83C\\uDFFE|\\uD83C\\uDFFF|\\uD83D\\uDE43|\\uD83E\\uDD11|\\uD83E\\uDD13|\\uD83E\\uDD17|\\uD83D\\uDE44|\\uD83E\\uDD14|\\uD83E\\uDD10|\\uD83E\\uDD12|\\uD83E\\uDD15|\\uD83E\\uDD16|\\uD83E\\uDD81|\\uD83E\\uDD84|\\uD83E\\uDD82|\\uD83E\\uDD80|\\uD83E\\uDD83|\\uD83E\\uDDC0|\\uD83C\\uDF2D|\\uD83C\\uDF2E|\\uD83C\\uDF2F|\\uD83C\\uDF7F|\\uD83C\\uDF7E|\\uD83C\\uDFF9|\\uD83C\\uDFFA|\\uD83D\\uDED0|\\uD83D\\uDD4B|\\uD83D\\uDD4C|\\uD83D\\uDD4D|\\uD83D\\uDD4E|\\uD83D\\uDCFF|\\uD83C\\uDFCF|\\uD83C\\uDFD0|\\uD83C\\uDFD1|\\uD83C\\uDFD2|\\uD83C\\uDFD3|\\uD83C\\uDFF8|\\uD83C\\uDF26|\\uD83C\\uDF25|\\uD83C\\uDF24|\\uD83D\\uDEF3|\\uD83D\\uDEE9|\\uD83D\\uDEE5|\\uD83D\\uDEE4|\\uD83D\\uDEE3|\\uD83D\\uDECF|\\uD83D\\uDECE|\\uD83D\\uDECD|\\uD83D\\uDECB|\\uD83C\\uDFDF|\\uD83C\\uDFDE|\\uD83C\\uDFDD|\\uD83C\\uDFDC|\\uD83C\\uDFDB|\\uD83C\\uDFDA|\\uD83C\\uDFD9|\\uD83C\\uDFD8|\\uD83C\\uDFD7|\\uD83C\\uDFD6|\\uD83C\\uDFD5|\\uD83C\\uDFD4|\\uD83D\\uDD90|\\uD83D\\uDD75|\\uD83D\\uDD74|\\uD83D\\uDC41|\\uD83C\\uDF7D|\\uD83D\\uDEF0|\\uD83D\\uDEE2|\\uD83D\\uDEE1|\\uD83D\\uDEE0|\\uD83D\\uDDFA|\\uD83D\\uDDF3|\\uD83D\\uDDEF|\\uD83D\\uDDE3|\\uD83D\\uDDE1|\\uD83D\\uDDDE|\\uD83D\\uDDDD|\\uD83D\\uDDDC|\\uD83D\\uDDD3|\\uD83D\\uDDD2|\\uD83D\\uDDD1|\\uD83D\\uDDC4|\\uD83D\\uDDC3|\\uD83D\\uDDC2|\\uD83D\\uDDBC|\\uD83D\\uDDB2|\\uD83D\\uDDA8|\\uD83D\\uDDA5|\\uD83D\\uDD8D|\\uD83D\\uDD8C|\\uD83D\\uDD8B|\\uD83D\\uDD8A|\\uD83D\\uDD87|\\uD83D\\uDD79|\\uD83D\\uDD76|\\uD83D\\uDD73|\\uD83D\\uDD70|\\uD83D\\uDD6F|\\uD83D\\uDD4A|\\uD83D\\uDD49|\\uD83D\\uDCFD|\\uD83C\\uDFF7|\\uD83C\\uDFF5|\\uD83C\\uDFF3|\\uD83C\\uDF9B|\\uD83C\\uDF9A|\\uD83C\\uDF99|\\uD83C\\uDF21|\\uD83D\\uDD78|\\uD83D\\uDD77|\\uD83D\\uDC3F|\\uD83C\\uDF2C|\\uD83C\\uDF2B|\\uD83C\\uDF2A|\\uD83C\\uDF29|\\uD83C\\uDF28|\\uD83C\\uDF27|\\uD83C\\uDF36|\\uD83C\\uDF97|\\uD83C\\uDF96|\\uD83C\\uDFCE|\\uD83C\\uDFCD|\\uD83C\\uDFCC|\\uD83C\\uDFCB|\\uD83C\\uDF9F|\\uD83C\\uDF9E|\\uD83C\\uDE37|\\uD83C\\uDE2F|\\uD83C\\uDE1A|\\uD83C\\uDE02|\\uD83C\\uDD7F|\\uD83C\\uDC04|\\uD83C\\uDE50|\\u2714|\\u2733|\\u2734|\\u2744|\\u2747|\\u2757|\\u2764|\\u27A1|\\u2934|\\u2935|\\u2B05|\\u2B06|\\u2B07|\\u2B1B|\\u2B1C|\\u2B50|\\u2B55|\\u3030|\\u303D|\\u3297|\\u3299|\\u2712|\\u270F|\\u270C|\\u2709|\\u2708|\\u2702|\\u26FD|\\u26FA|\\u26F5|\\u26F3|\\u26F2|\\u26EA|\\u26D4|\\u26C5|\\u26C4|\\u26BE|\\u26BD|\\u26AB|\\u26AA|\\u26A1|\\u26A0|\\u2693|\\u267F|\\u267B|\\u2668|\\u2666|\\u2665|\\u2663|\\u2660|\\u2653|\\u2652|\\u2651|\\u271D|\\u2650|\\u264F|\\u264E|\\u264D|\\u264C|\\u264B|\\u264A|\\u2649|\\u2648|\\u263A|\\u261D|\\u2615|\\u2614|\\u2611|\\u2328|\\u260E|\\u2601|\\u2600|\\u25FE|\\u25FD|\\u25FC|\\u25FB|\\u25C0|\\u25B6|\\u25AB|\\u25AA|\\u24C2|\\u2716|\\u231A|\\u21AA|\\u21A9|\\u2199|\\u2198|\\u2197|\\u2196|\\u2195|\\u2194|\\u2139|\\u2122|\\u270D|\\u2049|\\u203C|\\u00AE|\\u00A9|\\u27BF|\\u27B0|\\u2797|\\u2796|\\u2795|\\u2755|\\u2754|\\u2753|\\u274E|\\u274C|\\u2728|\\u270B|\\u270A|\\u2705|\\u26CE|\\u23F3|\\u23F0|\\u23EC|\\u23ED|\\u23EE|\\u23EF|\\u23F1|\\u23F2|\\u23F8|\\u23F9|\\u23FA|\\u2602|\\u2603|\\u2604|\\u2618|\\u2620|\\u2622|\\u2623|\\u2626|\\u262A|\\u262E|\\u262F|\\u2638|\\u2639|\\u2692|\\u2694|\\u2696|\\u2697|\\u2699|\\u269B|\\u269C|\\u26B0|\\u26B1|\\u26C8|\\u26CF|\\u26D1|\\u26D3|\\u26E9|\\u26F0|\\u26F1|\\u26F4|\\u26F7|\\u26F8|\\u26F9|\\u2721|\\u2763|\\u23EB|\\u23EA|\\u23E9|\\u231B)",
    e.jsEscapeMap = {
        "👩‍❤️‍💋‍👩": "1f469-2764-1f48b-1f469",
        "👨‍❤️‍💋‍👨": "1f468-2764-1f48b-1f468",
        "👨‍👨‍👦‍👦": "1f468-1f468-1f466-1f466",
        "👨‍👨‍👧‍👦": "1f468-1f468-1f467-1f466",
        "👨‍👨‍👧‍👧": "1f468-1f468-1f467-1f467",
        "👨‍👩‍👦‍👦": "1f468-1f469-1f466-1f466",
        "👨‍👩‍👧‍👦": "1f468-1f469-1f467-1f466",
        "👨‍👩‍👧‍👧": "1f468-1f469-1f467-1f467",
        "👩‍👩‍👦‍👦": "1f469-1f469-1f466-1f466",
        "👩‍👩‍👧‍👦": "1f469-1f469-1f467-1f466",
        "👩‍👩‍👧‍👧": "1f469-1f469-1f467-1f467",
        "👩‍❤️‍👩": "1f469-2764-1f469",
        "👨‍❤️‍👨": "1f468-2764-1f468",
        "👨‍👨‍👦": "1f468-1f468-1f466",
        "👨‍👨‍👧": "1f468-1f468-1f467",
        "👨‍👩‍👧": "1f468-1f469-1f467",
        "👩‍👩‍👦": "1f469-1f469-1f466",
        "👩‍👩‍👧": "1f469-1f469-1f467",
        "👁‍🗨": "1f441-1f5e8",
        "#️⃣": "0023-20e3",
        "0️⃣": "0030-20e3",
        "1️⃣": "0031-20e3",
        "2️⃣": "0032-20e3",
        "3️⃣": "0033-20e3",
        "4️⃣": "0034-20e3",
        "5️⃣": "0035-20e3",
        "6️⃣": "0036-20e3",
        "7️⃣": "0037-20e3",
        "8️⃣": "0038-20e3",
        "9️⃣": "0039-20e3",
        "*️⃣": "002a-20e3",
        "🤘🏿": "1f918-1f3ff",
        "🤘🏾": "1f918-1f3fe",
        "🤘🏽": "1f918-1f3fd",
        "🤘🏼": "1f918-1f3fc",
        "🤘🏻": "1f918-1f3fb",
        "🛀🏿": "1f6c0-1f3ff",
        "🛀🏾": "1f6c0-1f3fe",
        "🛀🏽": "1f6c0-1f3fd",
        "🛀🏼": "1f6c0-1f3fc",
        "🛀🏻": "1f6c0-1f3fb",
        "🚶🏿": "1f6b6-1f3ff",
        "🚶🏾": "1f6b6-1f3fe",
        "🚶🏽": "1f6b6-1f3fd",
        "🚶🏼": "1f6b6-1f3fc",
        "🚶🏻": "1f6b6-1f3fb",
        "🚵🏿": "1f6b5-1f3ff",
        "🚵🏾": "1f6b5-1f3fe",
        "🚵🏽": "1f6b5-1f3fd",
        "🚵🏼": "1f6b5-1f3fc",
        "🚵🏻": "1f6b5-1f3fb",
        "🚴🏿": "1f6b4-1f3ff",
        "🚴🏾": "1f6b4-1f3fe",
        "🚴🏽": "1f6b4-1f3fd",
        "🚴🏼": "1f6b4-1f3fc",
        "🚴🏻": "1f6b4-1f3fb",
        "🚣🏿": "1f6a3-1f3ff",
        "🚣🏾": "1f6a3-1f3fe",
        "🚣🏽": "1f6a3-1f3fd",
        "🚣🏼": "1f6a3-1f3fc",
        "🚣🏻": "1f6a3-1f3fb",
        "🙏🏿": "1f64f-1f3ff",
        "🙏🏾": "1f64f-1f3fe",
        "🙏🏽": "1f64f-1f3fd",
        "🙏🏼": "1f64f-1f3fc",
        "🙏🏻": "1f64f-1f3fb",
        "🙎🏿": "1f64e-1f3ff",
        "🙎🏾": "1f64e-1f3fe",
        "🙎🏽": "1f64e-1f3fd",
        "🙎🏼": "1f64e-1f3fc",
        "🙎🏻": "1f64e-1f3fb",
        "🙍🏿": "1f64d-1f3ff",
        "🙍🏾": "1f64d-1f3fe",
        "🙍🏽": "1f64d-1f3fd",
        "🙍🏼": "1f64d-1f3fc",
        "🙍🏻": "1f64d-1f3fb",
        "🙌🏿": "1f64c-1f3ff",
        "🙌🏾": "1f64c-1f3fe",
        "🙌🏽": "1f64c-1f3fd",
        "🙌🏼": "1f64c-1f3fc",
        "🙌🏻": "1f64c-1f3fb",
        "🙋🏿": "1f64b-1f3ff",
        "🙋🏾": "1f64b-1f3fe",
        "🙋🏽": "1f64b-1f3fd",
        "🙋🏼": "1f64b-1f3fc",
        "🙋🏻": "1f64b-1f3fb",
        "🙇🏿": "1f647-1f3ff",
        "🙇🏾": "1f647-1f3fe",
        "🙇🏽": "1f647-1f3fd",
        "🙇🏼": "1f647-1f3fc",
        "🙇🏻": "1f647-1f3fb",
        "🙆🏿": "1f646-1f3ff",
        "🙆🏾": "1f646-1f3fe",
        "🙆🏽": "1f646-1f3fd",
        "🙆🏼": "1f646-1f3fc",
        "🙆🏻": "1f646-1f3fb",
        "🙅🏿": "1f645-1f3ff",
        "🙅🏾": "1f645-1f3fe",
        "🙅🏽": "1f645-1f3fd",
        "🙅🏼": "1f645-1f3fc",
        "🙅🏻": "1f645-1f3fb",
        "🖖🏿": "1f596-1f3ff",
        "🖖🏾": "1f596-1f3fe",
        "🖖🏽": "1f596-1f3fd",
        "🖖🏼": "1f596-1f3fc",
        "🖖🏻": "1f596-1f3fb",
        "🖕🏿": "1f595-1f3ff",
        "🖕🏾": "1f595-1f3fe",
        "🖕🏽": "1f595-1f3fd",
        "🖕🏼": "1f595-1f3fc",
        "🖕🏻": "1f595-1f3fb",
        "🖐🏿": "1f590-1f3ff",
        "🖐🏾": "1f590-1f3fe",
        "🖐🏽": "1f590-1f3fd",
        "🖐🏼": "1f590-1f3fc",
        "🖐🏻": "1f590-1f3fb",
        "🕵🏿": "1f575-1f3ff",
        "🕵🏾": "1f575-1f3fe",
        "🕵🏽": "1f575-1f3fd",
        "🕵🏼": "1f575-1f3fc",
        "🕵🏻": "1f575-1f3fb",
        "💪🏿": "1f4aa-1f3ff",
        "💪🏾": "1f4aa-1f3fe",
        "💪🏽": "1f4aa-1f3fd",
        "💪🏼": "1f4aa-1f3fc",
        "💪🏻": "1f4aa-1f3fb",
        "💇🏿": "1f487-1f3ff",
        "💇🏾": "1f487-1f3fe",
        "💇🏽": "1f487-1f3fd",
        "💇🏼": "1f487-1f3fc",
        "💇🏻": "1f487-1f3fb",
        "💆🏿": "1f486-1f3ff",
        "💆🏾": "1f486-1f3fe",
        "💆🏽": "1f486-1f3fd",
        "💆🏼": "1f486-1f3fc",
        "💆🏻": "1f486-1f3fb",
        "💅🏿": "1f485-1f3ff",
        "💅🏾": "1f485-1f3fe",
        "💅🏽": "1f485-1f3fd",
        "💅🏼": "1f485-1f3fc",
        "💅🏻": "1f485-1f3fb",
        "💃🏿": "1f483-1f3ff",
        "💃🏾": "1f483-1f3fe",
        "💃🏽": "1f483-1f3fd",
        "💃🏼": "1f483-1f3fc",
        "💃🏻": "1f483-1f3fb",
        "💂🏿": "1f482-1f3ff",
        "💂🏾": "1f482-1f3fe",
        "💂🏽": "1f482-1f3fd",
        "💂🏼": "1f482-1f3fc",
        "💂🏻": "1f482-1f3fb",
        "💁🏿": "1f481-1f3ff",
        "💁🏾": "1f481-1f3fe",
        "💁🏽": "1f481-1f3fd",
        "💁🏼": "1f481-1f3fc",
        "💁🏻": "1f481-1f3fb",
        "👼🏿": "1f47c-1f3ff",
        "👼🏾": "1f47c-1f3fe",
        "👼🏽": "1f47c-1f3fd",
        "👼🏼": "1f47c-1f3fc",
        "👼🏻": "1f47c-1f3fb",
        "👸🏿": "1f478-1f3ff",
        "👸🏾": "1f478-1f3fe",
        "👸🏽": "1f478-1f3fd",
        "👸🏼": "1f478-1f3fc",
        "👸🏻": "1f478-1f3fb",
        "👷🏿": "1f477-1f3ff",
        "👷🏾": "1f477-1f3fe",
        "👷🏽": "1f477-1f3fd",
        "👷🏼": "1f477-1f3fc",
        "👷🏻": "1f477-1f3fb",
        "👶🏿": "1f476-1f3ff",
        "👶🏾": "1f476-1f3fe",
        "👶🏽": "1f476-1f3fd",
        "👶🏼": "1f476-1f3fc",
        "👶🏻": "1f476-1f3fb",
        "👵🏿": "1f475-1f3ff",
        "👵🏾": "1f475-1f3fe",
        "👵🏽": "1f475-1f3fd",
        "👵🏼": "1f475-1f3fc",
        "👵🏻": "1f475-1f3fb",
        "👴🏿": "1f474-1f3ff",
        "👴🏾": "1f474-1f3fe",
        "👴🏽": "1f474-1f3fd",
        "👴🏼": "1f474-1f3fc",
        "👴🏻": "1f474-1f3fb",
        "👳🏿": "1f473-1f3ff",
        "👳🏾": "1f473-1f3fe",
        "👳🏽": "1f473-1f3fd",
        "👳🏼": "1f473-1f3fc",
        "👳🏻": "1f473-1f3fb",
        "👲🏿": "1f472-1f3ff",
        "👲🏾": "1f472-1f3fe",
        "👲🏽": "1f472-1f3fd",
        "👲🏼": "1f472-1f3fc",
        "👲🏻": "1f472-1f3fb",
        "👱🏿": "1f471-1f3ff",
        "👱🏾": "1f471-1f3fe",
        "👱🏽": "1f471-1f3fd",
        "👱🏼": "1f471-1f3fc",
        "👱🏻": "1f471-1f3fb",
        "👰🏿": "1f470-1f3ff",
        "👰🏾": "1f470-1f3fe",
        "👰🏽": "1f470-1f3fd",
        "👰🏼": "1f470-1f3fc",
        "👰🏻": "1f470-1f3fb",
        "👮🏿": "1f46e-1f3ff",
        "👮🏾": "1f46e-1f3fe",
        "👮🏽": "1f46e-1f3fd",
        "👮🏼": "1f46e-1f3fc",
        "👮🏻": "1f46e-1f3fb",
        "👩🏿": "1f469-1f3ff",
        "👩🏾": "1f469-1f3fe",
        "👩🏽": "1f469-1f3fd",
        "👩🏼": "1f469-1f3fc",
        "👩🏻": "1f469-1f3fb",
        "👨🏿": "1f468-1f3ff",
        "👨🏾": "1f468-1f3fe",
        "👨🏽": "1f468-1f3fd",
        "👨🏼": "1f468-1f3fc",
        "👨🏻": "1f468-1f3fb",
        "👧🏿": "1f467-1f3ff",
        "👧🏾": "1f467-1f3fe",
        "👧🏽": "1f467-1f3fd",
        "👧🏼": "1f467-1f3fc",
        "👧🏻": "1f467-1f3fb",
        "👦🏿": "1f466-1f3ff",
        "👦🏾": "1f466-1f3fe",
        "👦🏽": "1f466-1f3fd",
        "👦🏼": "1f466-1f3fc",
        "👦🏻": "1f466-1f3fb",
        "👐🏿": "1f450-1f3ff",
        "👐🏾": "1f450-1f3fe",
        "👐🏽": "1f450-1f3fd",
        "👐🏼": "1f450-1f3fc",
        "👐🏻": "1f450-1f3fb",
        "👏🏿": "1f44f-1f3ff",
        "👏🏾": "1f44f-1f3fe",
        "👏🏽": "1f44f-1f3fd",
        "👏🏼": "1f44f-1f3fc",
        "👏🏻": "1f44f-1f3fb",
        "👎🏿": "1f44e-1f3ff",
        "👎🏾": "1f44e-1f3fe",
        "👎🏽": "1f44e-1f3fd",
        "👎🏼": "1f44e-1f3fc",
        "👎🏻": "1f44e-1f3fb",
        "👍🏿": "1f44d-1f3ff",
        "👍🏾": "1f44d-1f3fe",
        "👍🏽": "1f44d-1f3fd",
        "👍🏼": "1f44d-1f3fc",
        "👍🏻": "1f44d-1f3fb",
        "👌🏿": "1f44c-1f3ff",
        "👌🏾": "1f44c-1f3fe",
        "👌🏽": "1f44c-1f3fd",
        "👌🏼": "1f44c-1f3fc",
        "👌🏻": "1f44c-1f3fb",
        "👋🏿": "1f44b-1f3ff",
        "👋🏾": "1f44b-1f3fe",
        "👋🏽": "1f44b-1f3fd",
        "👋🏼": "1f44b-1f3fc",
        "👋🏻": "1f44b-1f3fb",
        "👊🏿": "1f44a-1f3ff",
        "👊🏾": "1f44a-1f3fe",
        "👊🏽": "1f44a-1f3fd",
        "👊🏼": "1f44a-1f3fc",
        "👊🏻": "1f44a-1f3fb",
        "👉🏿": "1f449-1f3ff",
        "👉🏾": "1f449-1f3fe",
        "👉🏽": "1f449-1f3fd",
        "👉🏼": "1f449-1f3fc",
        "👉🏻": "1f449-1f3fb",
        "👈🏿": "1f448-1f3ff",
        "👈🏾": "1f448-1f3fe",
        "👈🏽": "1f448-1f3fd",
        "👈🏼": "1f448-1f3fc",
        "👈🏻": "1f448-1f3fb",
        "👇🏿": "1f447-1f3ff",
        "👇🏾": "1f447-1f3fe",
        "👇🏽": "1f447-1f3fd",
        "👇🏼": "1f447-1f3fc",
        "👇🏻": "1f447-1f3fb",
        "👆🏿": "1f446-1f3ff",
        "👆🏾": "1f446-1f3fe",
        "👆🏽": "1f446-1f3fd",
        "👆🏼": "1f446-1f3fc",
        "👆🏻": "1f446-1f3fb",
        "👃🏿": "1f443-1f3ff",
        "👃🏾": "1f443-1f3fe",
        "👃🏽": "1f443-1f3fd",
        "👃🏼": "1f443-1f3fc",
        "👃🏻": "1f443-1f3fb",
        "👂🏿": "1f442-1f3ff",
        "👂🏾": "1f442-1f3fe",
        "👂🏽": "1f442-1f3fd",
        "👂🏼": "1f442-1f3fc",
        "👂🏻": "1f442-1f3fb",
        "🏋🏿": "1f3cb-1f3ff",
        "🏋🏾": "1f3cb-1f3fe",
        "🏋🏽": "1f3cb-1f3fd",
        "🏋🏼": "1f3cb-1f3fc",
        "🏋🏻": "1f3cb-1f3fb",
        "🏊🏿": "1f3ca-1f3ff",
        "🏊🏾": "1f3ca-1f3fe",
        "🏊🏽": "1f3ca-1f3fd",
        "🏊🏼": "1f3ca-1f3fc",
        "🏊🏻": "1f3ca-1f3fb",
        "🏇🏿": "1f3c7-1f3ff",
        "🏇🏾": "1f3c7-1f3fe",
        "🏇🏽": "1f3c7-1f3fd",
        "🏇🏼": "1f3c7-1f3fc",
        "🏇🏻": "1f3c7-1f3fb",
        "🏄🏿": "1f3c4-1f3ff",
        "🏄🏾": "1f3c4-1f3fe",
        "🏄🏽": "1f3c4-1f3fd",
        "🏄🏼": "1f3c4-1f3fc",
        "🏄🏻": "1f3c4-1f3fb",
        "🏃🏿": "1f3c3-1f3ff",
        "🏃🏾": "1f3c3-1f3fe",
        "🏃🏽": "1f3c3-1f3fd",
        "🏃🏼": "1f3c3-1f3fc",
        "🏃🏻": "1f3c3-1f3fb",
        "🎅🏿": "1f385-1f3ff",
        "🎅🏾": "1f385-1f3fe",
        "🎅🏽": "1f385-1f3fd",
        "🎅🏼": "1f385-1f3fc",
        "🎅🏻": "1f385-1f3fb",
        "🇿🇼": "1f1ff-1f1fc",
        "🇿🇲": "1f1ff-1f1f2",
        "🇿🇦": "1f1ff-1f1e6",
        "🇾🇹": "1f1fe-1f1f9",
        "🇾🇪": "1f1fe-1f1ea",
        "🇽🇰": "1f1fd-1f1f0",
        "🇼🇸": "1f1fc-1f1f8",
        "🇼🇫": "1f1fc-1f1eb",
        "🇻🇺": "1f1fb-1f1fa",
        "🇻🇳": "1f1fb-1f1f3",
        "🇻🇮": "1f1fb-1f1ee",
        "🇻🇬": "1f1fb-1f1ec",
        "🇻🇪": "1f1fb-1f1ea",
        "🇻🇨": "1f1fb-1f1e8",
        "🇻🇦": "1f1fb-1f1e6",
        "🇺🇿": "1f1fa-1f1ff",
        "🇺🇾": "1f1fa-1f1fe",
        "🇺🇸": "1f1fa-1f1f8",
        "🇺🇲": "1f1fa-1f1f2",
        "🇺🇬": "1f1fa-1f1ec",
        "🇺🇦": "1f1fa-1f1e6",
        "🇹🇿": "1f1f9-1f1ff",
        "🇹🇼": "1f1f9-1f1fc",
        "🇹🇻": "1f1f9-1f1fb",
        "🇹🇹": "1f1f9-1f1f9",
        "🇹🇷": "1f1f9-1f1f7",
        "🇹🇴": "1f1f9-1f1f4",
        "🇹🇳": "1f1f9-1f1f3",
        "🇹🇲": "1f1f9-1f1f2",
        "🇹🇱": "1f1f9-1f1f1",
        "🇹🇰": "1f1f9-1f1f0",
        "🇹🇯": "1f1f9-1f1ef",
        "🇹🇭": "1f1f9-1f1ed",
        "🇹🇬": "1f1f9-1f1ec",
        "🇹🇫": "1f1f9-1f1eb",
        "🇹🇩": "1f1f9-1f1e9",
        "🇹🇨": "1f1f9-1f1e8",
        "🇹🇦": "1f1f9-1f1e6",
        "🇸🇿": "1f1f8-1f1ff",
        "🇸🇾": "1f1f8-1f1fe",
        "🇸🇽": "1f1f8-1f1fd",
        "🇸🇻": "1f1f8-1f1fb",
        "🇸🇹": "1f1f8-1f1f9",
        "🇸🇸": "1f1f8-1f1f8",
        "🇸🇷": "1f1f8-1f1f7",
        "🇸🇴": "1f1f8-1f1f4",
        "🇸🇳": "1f1f8-1f1f3",
        "🇸🇲": "1f1f8-1f1f2",
        "🇸🇱": "1f1f8-1f1f1",
        "🇸🇰": "1f1f8-1f1f0",
        "🇸🇯": "1f1f8-1f1ef",
        "🇸🇮": "1f1f8-1f1ee",
        "🇸🇭": "1f1f8-1f1ed",
        "🇸🇬": "1f1f8-1f1ec",
        "🇸🇪": "1f1f8-1f1ea",
        "🇸🇩": "1f1f8-1f1e9",
        "🇸🇨": "1f1f8-1f1e8",
        "🇸🇧": "1f1f8-1f1e7",
        "🇸🇦": "1f1f8-1f1e6",
        "🇷🇼": "1f1f7-1f1fc",
        "🇷🇺": "1f1f7-1f1fa",
        "🇷🇸": "1f1f7-1f1f8",
        "🇷🇴": "1f1f7-1f1f4",
        "🇷🇪": "1f1f7-1f1ea",
        "🇶🇦": "1f1f6-1f1e6",
        "🇵🇾": "1f1f5-1f1fe",
        "🇵🇼": "1f1f5-1f1fc",
        "🇵🇹": "1f1f5-1f1f9",
        "🇵🇸": "1f1f5-1f1f8",
        "🇵🇷": "1f1f5-1f1f7",
        "🇵🇳": "1f1f5-1f1f3",
        "🇵🇲": "1f1f5-1f1f2",
        "🇵🇱": "1f1f5-1f1f1",
        "🇵🇰": "1f1f5-1f1f0",
        "🇵🇭": "1f1f5-1f1ed",
        "🇵🇬": "1f1f5-1f1ec",
        "🇵🇫": "1f1f5-1f1eb",
        "🇵🇪": "1f1f5-1f1ea",
        "🇵🇦": "1f1f5-1f1e6",
        "🇴🇲": "1f1f4-1f1f2",
        "🇳🇿": "1f1f3-1f1ff",
        "🇳🇺": "1f1f3-1f1fa",
        "🇳🇷": "1f1f3-1f1f7",
        "🇳🇵": "1f1f3-1f1f5",
        "🇳🇴": "1f1f3-1f1f4",
        "🇳🇱": "1f1f3-1f1f1",
        "🇳🇮": "1f1f3-1f1ee",
        "🇳🇬": "1f1f3-1f1ec",
        "🇳🇫": "1f1f3-1f1eb",
        "🇳🇪": "1f1f3-1f1ea",
        "🇳🇨": "1f1f3-1f1e8",
        "🇳🇦": "1f1f3-1f1e6",
        "🇲🇿": "1f1f2-1f1ff",
        "🇲🇾": "1f1f2-1f1fe",
        "🇲🇽": "1f1f2-1f1fd",
        "🇲🇼": "1f1f2-1f1fc",
        "🇲🇻": "1f1f2-1f1fb",
        "🇲🇺": "1f1f2-1f1fa",
        "🇲🇹": "1f1f2-1f1f9",
        "🇲🇸": "1f1f2-1f1f8",
        "🇲🇷": "1f1f2-1f1f7",
        "🇲🇶": "1f1f2-1f1f6",
        "🇲🇵": "1f1f2-1f1f5",
        "🇲🇴": "1f1f2-1f1f4",
        "🇲🇳": "1f1f2-1f1f3",
        "🇲🇲": "1f1f2-1f1f2",
        "🇲🇱": "1f1f2-1f1f1",
        "🇲🇰": "1f1f2-1f1f0",
        "🇲🇭": "1f1f2-1f1ed",
        "🇲🇬": "1f1f2-1f1ec",
        "🇲🇫": "1f1f2-1f1eb",
        "🇲🇪": "1f1f2-1f1ea",
        "🇲🇩": "1f1f2-1f1e9",
        "🇲🇨": "1f1f2-1f1e8",
        "🇲🇦": "1f1f2-1f1e6",
        "🇱🇾": "1f1f1-1f1fe",
        "🇱🇻": "1f1f1-1f1fb",
        "🇱🇺": "1f1f1-1f1fa",
        "🇱🇹": "1f1f1-1f1f9",
        "🇱🇸": "1f1f1-1f1f8",
        "🇱🇷": "1f1f1-1f1f7",
        "🇱🇰": "1f1f1-1f1f0",
        "🇱🇮": "1f1f1-1f1ee",
        "🇱🇨": "1f1f1-1f1e8",
        "🇱🇧": "1f1f1-1f1e7",
        "🇱🇦": "1f1f1-1f1e6",
        "🇰🇿": "1f1f0-1f1ff",
        "🇰🇾": "1f1f0-1f1fe",
        "🇰🇼": "1f1f0-1f1fc",
        "🇰🇷": "1f1f0-1f1f7",
        "🇰🇵": "1f1f0-1f1f5",
        "🇰🇳": "1f1f0-1f1f3",
        "🇰🇲": "1f1f0-1f1f2",
        "🇰🇮": "1f1f0-1f1ee",
        "🇰🇭": "1f1f0-1f1ed",
        "🇰🇬": "1f1f0-1f1ec",
        "🇰🇪": "1f1f0-1f1ea",
        "🇯🇵": "1f1ef-1f1f5",
        "🇯🇴": "1f1ef-1f1f4",
        "🇯🇲": "1f1ef-1f1f2",
        "🇯🇪": "1f1ef-1f1ea",
        "🇮🇹": "1f1ee-1f1f9",
        "🇮🇸": "1f1ee-1f1f8",
        "🇮🇷": "1f1ee-1f1f7",
        "🇮🇶": "1f1ee-1f1f6",
        "🇮🇴": "1f1ee-1f1f4",
        "🇮🇳": "1f1ee-1f1f3",
        "🇮🇲": "1f1ee-1f1f2",
        "🇮🇱": "1f1ee-1f1f1",
        "🇮🇪": "1f1ee-1f1ea",
        "🇮🇩": "1f1ee-1f1e9",
        "🇮🇨": "1f1ee-1f1e8",
        "🇭🇺": "1f1ed-1f1fa",
        "🇭🇹": "1f1ed-1f1f9",
        "🇭🇷": "1f1ed-1f1f7",
        "🇭🇳": "1f1ed-1f1f3",
        "🇭🇲": "1f1ed-1f1f2",
        "🇭🇰": "1f1ed-1f1f0",
        "🇬🇾": "1f1ec-1f1fe",
        "🇬🇼": "1f1ec-1f1fc",
        "🇬🇺": "1f1ec-1f1fa",
        "🇬🇹": "1f1ec-1f1f9",
        "🇬🇸": "1f1ec-1f1f8",
        "🇬🇷": "1f1ec-1f1f7",
        "🇬🇶": "1f1ec-1f1f6",
        "🇬🇵": "1f1ec-1f1f5",
        "🇬🇳": "1f1ec-1f1f3",
        "🇬🇲": "1f1ec-1f1f2",
        "🇬🇱": "1f1ec-1f1f1",
        "🇬🇮": "1f1ec-1f1ee",
        "🇬🇭": "1f1ec-1f1ed",
        "🇬🇬": "1f1ec-1f1ec",
        "🇬🇫": "1f1ec-1f1eb",
        "🇬🇪": "1f1ec-1f1ea",
        "🇬🇩": "1f1ec-1f1e9",
        "🇬🇧": "1f1ec-1f1e7",
        "🇬🇦": "1f1ec-1f1e6",
        "🇫🇷": "1f1eb-1f1f7",
        "🇫🇴": "1f1eb-1f1f4",
        "🇫🇲": "1f1eb-1f1f2",
        "🇫🇰": "1f1eb-1f1f0",
        "🇫🇯": "1f1eb-1f1ef",
        "🇫🇮": "1f1eb-1f1ee",
        "🇪🇺": "1f1ea-1f1fa",
        "🇪🇹": "1f1ea-1f1f9",
        "🇪🇸": "1f1ea-1f1f8",
        "🇪🇷": "1f1ea-1f1f7",
        "🇪🇭": "1f1ea-1f1ed",
        "🇪🇬": "1f1ea-1f1ec",
        "🇪🇪": "1f1ea-1f1ea",
        "🇪🇨": "1f1ea-1f1e8",
        "🇪🇦": "1f1ea-1f1e6",
        "🇩🇿": "1f1e9-1f1ff",
        "🇩🇴": "1f1e9-1f1f4",
        "🇩🇲": "1f1e9-1f1f2",
        "🇩🇰": "1f1e9-1f1f0",
        "🇩🇯": "1f1e9-1f1ef",
        "🇩🇬": "1f1e9-1f1ec",
        "🇩🇪": "1f1e9-1f1ea",
        "🇨🇿": "1f1e8-1f1ff",
        "🇨🇾": "1f1e8-1f1fe",
        "🇨🇽": "1f1e8-1f1fd",
        "🇨🇼": "1f1e8-1f1fc",
        "🇨🇻": "1f1e8-1f1fb",
        "🇨🇺": "1f1e8-1f1fa",
        "🇨🇷": "1f1e8-1f1f7",
        "🇨🇵": "1f1e8-1f1f5",
        "🇨🇴": "1f1e8-1f1f4",
        "🇨🇳": "1f1e8-1f1f3",
        "🇨🇲": "1f1e8-1f1f2",
        "🇨🇱": "1f1e8-1f1f1",
        "🇨🇰": "1f1e8-1f1f0",
        "🇨🇮": "1f1e8-1f1ee",
        "🇨🇭": "1f1e8-1f1ed",
        "🇨🇬": "1f1e8-1f1ec",
        "🇨🇫": "1f1e8-1f1eb",
        "🇨🇩": "1f1e8-1f1e9",
        "🇨🇨": "1f1e8-1f1e8",
        "🇨🇦": "1f1e8-1f1e6",
        "🇧🇿": "1f1e7-1f1ff",
        "🇧🇾": "1f1e7-1f1fe",
        "🇧🇼": "1f1e7-1f1fc",
        "🇧🇻": "1f1e7-1f1fb",
        "🇧🇹": "1f1e7-1f1f9",
        "🇧🇸": "1f1e7-1f1f8",
        "🇧🇷": "1f1e7-1f1f7",
        "🇧🇶": "1f1e7-1f1f6",
        "🇧🇴": "1f1e7-1f1f4",
        "🇧🇳": "1f1e7-1f1f3",
        "🇧🇲": "1f1e7-1f1f2",
        "🇧🇱": "1f1e7-1f1f1",
        "🇧🇯": "1f1e7-1f1ef",
        "🇧🇮": "1f1e7-1f1ee",
        "🇧🇭": "1f1e7-1f1ed",
        "🇧🇬": "1f1e7-1f1ec",
        "🇧🇫": "1f1e7-1f1eb",
        "🇧🇪": "1f1e7-1f1ea",
        "🇧🇩": "1f1e7-1f1e9",
        "🇧🇧": "1f1e7-1f1e7",
        "🇧🇦": "1f1e7-1f1e6",
        "🇦🇿": "1f1e6-1f1ff",
        "🇦🇽": "1f1e6-1f1fd",
        "🇦🇼": "1f1e6-1f1fc",
        "🇦🇺": "1f1e6-1f1fa",
        "🇦🇹": "1f1e6-1f1f9",
        "🇦🇸": "1f1e6-1f1f8",
        "🇦🇷": "1f1e6-1f1f7",
        "🇦🇶": "1f1e6-1f1f6",
        "🇦🇴": "1f1e6-1f1f4",
        "🇦🇲": "1f1e6-1f1f2",
        "🇦🇱": "1f1e6-1f1f1",
        "🇦🇮": "1f1e6-1f1ee",
        "🇦🇬": "1f1e6-1f1ec",
        "🇦🇫": "1f1e6-1f1eb",
        "🇦🇪": "1f1e6-1f1ea",
        "🇦🇩": "1f1e6-1f1e9",
        "🇦🇨": "1f1e6-1f1e8",
        "🀄️": "1f004",
        "🅿️": "1f17f",
        "🈂️": "1f202",
        "🈚️": "1f21a",
        "🈯️": "1f22f",
        "🈷️": "1f237",
        "🎞️": "1f39e",
        "🎟️": "1f39f",
        "🏋️": "1f3cb",
        "🏌️": "1f3cc",
        "🏍️": "1f3cd",
        "🏎️": "1f3ce",
        "🎖️": "1f396",
        "🎗️": "1f397",
        "🌶️": "1f336",
        "🌧️": "1f327",
        "🌨️": "1f328",
        "🌩️": "1f329",
        "🌪️": "1f32a",
        "🌫️": "1f32b",
        "🌬️": "1f32c",
        "🐿️": "1f43f",
        "🕷️": "1f577",
        "🕸️": "1f578",
        "🌡️": "1f321",
        "🎙️": "1f399",
        "🎚️": "1f39a",
        "🎛️": "1f39b",
        "🏳️": "1f3f3",
        "🏵️": "1f3f5",
        "🏷️": "1f3f7",
        "📽️": "1f4fd",
        "🕉️": "1f549",
        "🕊️": "1f54a",
        "🕯️": "1f56f",
        "🕰️": "1f570",
        "🕳️": "1f573",
        "🕶️": "1f576",
        "🕹️": "1f579",
        "🖇️": "1f587",
        "🖊️": "1f58a",
        "🖋️": "1f58b",
        "🖌️": "1f58c",
        "🖍️": "1f58d",
        "🖥️": "1f5a5",
        "🖨️": "1f5a8",
        "🖲️": "1f5b2",
        "🖼️": "1f5bc",
        "🗂️": "1f5c2",
        "🗃️": "1f5c3",
        "🗄️": "1f5c4",
        "🗑️": "1f5d1",
        "🗒️": "1f5d2",
        "🗓️": "1f5d3",
        "🗜️": "1f5dc",
        "🗝️": "1f5dd",
        "🗞️": "1f5de",
        "🗡️": "1f5e1",
        "🗣️": "1f5e3",
        "🗯️": "1f5ef",
        "🗳️": "1f5f3",
        "🗺️": "1f5fa",
        "🛠️": "1f6e0",
        "🛡️": "1f6e1",
        "🛢️": "1f6e2",
        "🛰️": "1f6f0",
        "🍽️": "1f37d",
        "👁️": "1f441",
        "🕴️": "1f574",
        "🕵️": "1f575",
        "🖐️": "1f590",
        "🏔️": "1f3d4",
        "🏕️": "1f3d5",
        "🏖️": "1f3d6",
        "🏗️": "1f3d7",
        "🏘️": "1f3d8",
        "🏙️": "1f3d9",
        "🏚️": "1f3da",
        "🏛️": "1f3db",
        "🏜️": "1f3dc",
        "🏝️": "1f3dd",
        "🏞️": "1f3de",
        "🏟️": "1f3df",
        "🛋️": "1f6cb",
        "🛍️": "1f6cd",
        "🛎️": "1f6ce",
        "🛏️": "1f6cf",
        "🛣️": "1f6e3",
        "🛤️": "1f6e4",
        "🛥️": "1f6e5",
        "🛩️": "1f6e9",
        "🛳️": "1f6f3",
        "🌤️": "1f324",
        "🌥️": "1f325",
        "🌦️": "1f326",
        "🖱️": "1f5b1",
        "☝🏻": "261d-1f3fb",
        "☝🏼": "261d-1f3fc",
        "☝🏽": "261d-1f3fd",
        "☝🏾": "261d-1f3fe",
        "©️": "00a9",
        "®️": "00ae",
        "‼️": "203c",
        "⁉️": "2049",
        "™️": "2122",
        "ℹ️": "2139",
        "↔️": "2194",
        "↕️": "2195",
        "↖️": "2196",
        "↗️": "2197",
        "↘️": "2198",
        "↙️": "2199",
        "↩️": "21a9",
        "↪️": "21aa",
        "⌚️": "231a",
        "⌛️": "231b",
        "Ⓜ️": "24c2",
        "▪️": "25aa",
        "▫️": "25ab",
        "▶️": "25b6",
        "◀️": "25c0",
        "◻️": "25fb",
        "◼️": "25fc",
        "◽️": "25fd",
        "◾️": "25fe",
        "☀️": "2600",
        "☁️": "2601",
        "☎️": "260e",
        "☑️": "2611",
        "☔️": "2614",
        "☕️": "2615",
        "☝️": "261d",
        "☺️": "263a",
        "♈️": "2648",
        "♉️": "2649",
        "♊️": "264a",
        "♋️": "264b",
        "♌️": "264c",
        "♍️": "264d",
        "♎️": "264e",
        "♏️": "264f",
        "♐️": "2650",
        "♑️": "2651",
        "♒️": "2652",
        "♓️": "2653",
        "♠️": "2660",
        "♣️": "2663",
        "♥️": "2665",
        "♦️": "2666",
        "♨️": "2668",
        "♻️": "267b",
        "♿️": "267f",
        "⚓️": "2693",
        "⚠️": "26a0",
        "⚡️": "26a1",
        "⚪️": "26aa",
        "⚫️": "26ab",
        "⚽️": "26bd",
        "⚾️": "26be",
        "⛄️": "26c4",
        "⛅️": "26c5",
        "⛔️": "26d4",
        "⛪️": "26ea",
        "⛲️": "26f2",
        "⛳️": "26f3",
        "⛵️": "26f5",
        "⛺️": "26fa",
        "⛽️": "26fd",
        "✂️": "2702",
        "✈️": "2708",
        "✉️": "2709",
        "✌️": "270c",
        "✏️": "270f",
        "✒️": "2712",
        "✔️": "2714",
        "✖️": "2716",
        "✳️": "2733",
        "✴️": "2734",
        "❄️": "2744",
        "❇️": "2747",
        "❗️": "2757",
        "❤️": "2764",
        "➡️": "27a1",
        "⤴️": "2934",
        "⤵️": "2935",
        "⬅️": "2b05",
        "⬆️": "2b06",
        "⬇️": "2b07",
        "⬛️": "2b1b",
        "⬜️": "2b1c",
        "⭐️": "2b50",
        "⭕️": "2b55",
        "〰️": "3030",
        "〽️": "303d",
        "㊗️": "3297",
        "㊙️": "3299",
        "✝️": "271d",
        "⌨️": "2328",
        "✍️": "270d",
        "⏭️": "23ed",
        "⏮️": "23ee",
        "⏯️": "23ef",
        "⏱️": "23f1",
        "⏲️": "23f2",
        "⏸️": "23f8",
        "⏹️": "23f9",
        "⏺️": "23fa",
        "☂️": "2602",
        "☃️": "2603",
        "☄️": "2604",
        "☘️": "2618",
        "☠️": "2620",
        "☢️": "2622",
        "☣️": "2623",
        "☦️": "2626",
        "☪️": "262a",
        "☮️": "262e",
        "☯️": "262f",
        "☸️": "2638",
        "☹️": "2639",
        "⚒️": "2692",
        "⚔️": "2694",
        "⚖️": "2696",
        "⚗️": "2697",
        "⚙️": "2699",
        "⚛️": "269b",
        "⚜️": "269c",
        "⚰️": "26b0",
        "⚱️": "26b1",
        "⛈️": "26c8",
        "⛏️": "26cf",
        "⛑️": "26d1",
        "⛓️": "26d3",
        "⛩️": "26e9",
        "⛰️": "26f0",
        "⛱️": "26f1",
        "⛴️": "26f4",
        "⛷️": "26f7",
        "⛸️": "26f8",
        "⛹️": "26f9",
        "✡️": "2721",
        "❣️": "2763",
        "🃏": "1f0cf",
        "🅰": "1f170",
        "🅱": "1f171",
        "🅾": "1f17e",
        "🆎": "1f18e",
        "🆑": "1f191",
        "🆒": "1f192",
        "🆓": "1f193",
        "🆔": "1f194",
        "🆕": "1f195",
        "🆖": "1f196",
        "🆗": "1f197",
        "🆘": "1f198",
        "🆙": "1f199",
        "🆚": "1f19a",
        "🈁": "1f201",
        "🈲": "1f232",
        "🈳": "1f233",
        "🈴": "1f234",
        "🈵": "1f235",
        "🈶": "1f236",
        "🈸": "1f238",
        "🈹": "1f239",
        "🈺": "1f23a",
        "🉐": "1f250",
        "🉑": "1f251",
        "🌀": "1f300",
        "🌁": "1f301",
        "🌂": "1f302",
        "🌃": "1f303",
        "🌄": "1f304",
        "🌅": "1f305",
        "🌆": "1f306",
        "🌇": "1f307",
        "🌈": "1f308",
        "🌉": "1f309",
        "🌊": "1f30a",
        "🌋": "1f30b",
        "🌌": "1f30c",
        "🌏": "1f30f",
        "🌑": "1f311",
        "🌓": "1f313",
        "🌔": "1f314",
        "🌕": "1f315",
        "🌙": "1f319",
        "🌛": "1f31b",
        "🌟": "1f31f",
        "🌠": "1f320",
        "🌰": "1f330",
        "🌱": "1f331",
        "🌴": "1f334",
        "🌵": "1f335",
        "🌷": "1f337",
        "🌸": "1f338",
        "🌹": "1f339",
        "🌺": "1f33a",
        "🌻": "1f33b",
        "🌼": "1f33c",
        "🌽": "1f33d",
        "🌾": "1f33e",
        "🌿": "1f33f",
        "🍀": "1f340",
        "🍁": "1f341",
        "🍂": "1f342",
        "🍃": "1f343",
        "🍄": "1f344",
        "🍅": "1f345",
        "🍆": "1f346",
        "🍇": "1f347",
        "🍈": "1f348",
        "🍉": "1f349",
        "🍊": "1f34a",
        "🍌": "1f34c",
        "🍍": "1f34d",
        "🍎": "1f34e",
        "🍏": "1f34f",
        "🍑": "1f351",
        "🍒": "1f352",
        "🍓": "1f353",
        "🍔": "1f354",
        "🍕": "1f355",
        "🍖": "1f356",
        "🍗": "1f357",
        "🍘": "1f358",
        "🍙": "1f359",
        "🍚": "1f35a",
        "🍛": "1f35b",
        "🍜": "1f35c",
        "🍝": "1f35d",
        "🍞": "1f35e",
        "🍟": "1f35f",
        "🍠": "1f360",
        "🍡": "1f361",
        "🍢": "1f362",
        "🍣": "1f363",
        "🍤": "1f364",
        "🍥": "1f365",
        "🍦": "1f366",
        "🍧": "1f367",
        "🍨": "1f368",
        "🍩": "1f369",
        "🍪": "1f36a",
        "🍫": "1f36b",
        "🍬": "1f36c",
        "🍭": "1f36d",
        "🍮": "1f36e",
        "🍯": "1f36f",
        "🍰": "1f370",
        "🍱": "1f371",
        "🍲": "1f372",
        "🍳": "1f373",
        "🍴": "1f374",
        "🍵": "1f375",
        "🍶": "1f376",
        "🍷": "1f377",
        "🍸": "1f378",
        "🍹": "1f379",
        "🍺": "1f37a",
        "🍻": "1f37b",
        "🎀": "1f380",
        "🎁": "1f381",
        "🎂": "1f382",
        "🎃": "1f383",
        "🎄": "1f384",
        "🎅": "1f385",
        "🎆": "1f386",
        "🎇": "1f387",
        "🎈": "1f388",
        "🎉": "1f389",
        "🎊": "1f38a",
        "🎋": "1f38b",
        "🎌": "1f38c",
        "🎍": "1f38d",
        "🎎": "1f38e",
        "🎏": "1f38f",
        "🎐": "1f390",
        "🎑": "1f391",
        "🎒": "1f392",
        "🎓": "1f393",
        "🎠": "1f3a0",
        "🎡": "1f3a1",
        "🎢": "1f3a2",
        "🎣": "1f3a3",
        "🎤": "1f3a4",
        "🎥": "1f3a5",
        "🎦": "1f3a6",
        "🎧": "1f3a7",
        "🎨": "1f3a8",
        "🎩": "1f3a9",
        "🎪": "1f3aa",
        "🎫": "1f3ab",
        "🎬": "1f3ac",
        "🎭": "1f3ad",
        "🎮": "1f3ae",
        "🎯": "1f3af",
        "🎰": "1f3b0",
        "🎱": "1f3b1",
        "🎲": "1f3b2",
        "🎳": "1f3b3",
        "🎴": "1f3b4",
        "🎵": "1f3b5",
        "🎶": "1f3b6",
        "🎷": "1f3b7",
        "🎸": "1f3b8",
        "🎹": "1f3b9",
        "🎺": "1f3ba",
        "🎻": "1f3bb",
        "🎼": "1f3bc",
        "🎽": "1f3bd",
        "🎾": "1f3be",
        "🎿": "1f3bf",
        "🏀": "1f3c0",
        "🏁": "1f3c1",
        "🏂": "1f3c2",
        "🏃": "1f3c3",
        "🏄": "1f3c4",
        "🏆": "1f3c6",
        "🏈": "1f3c8",
        "🏊": "1f3ca",
        "🏠": "1f3e0",
        "🏡": "1f3e1",
        "🏢": "1f3e2",
        "🏣": "1f3e3",
        "🏥": "1f3e5",
        "🏦": "1f3e6",
        "🏧": "1f3e7",
        "🏨": "1f3e8",
        "🏩": "1f3e9",
        "🏪": "1f3ea",
        "🏫": "1f3eb",
        "🏬": "1f3ec",
        "🏭": "1f3ed",
        "🏮": "1f3ee",
        "🏯": "1f3ef",
        "🏰": "1f3f0",
        "🐌": "1f40c",
        "🐍": "1f40d",
        "🐎": "1f40e",
        "🐑": "1f411",
        "🐒": "1f412",
        "🐔": "1f414",
        "🐗": "1f417",
        "🐘": "1f418",
        "🐙": "1f419",
        "🐚": "1f41a",
        "🐛": "1f41b",
        "🐜": "1f41c",
        "🐝": "1f41d",
        "🐞": "1f41e",
        "🐟": "1f41f",
        "🐠": "1f420",
        "🐡": "1f421",
        "🐢": "1f422",
        "🐣": "1f423",
        "🐤": "1f424",
        "🐥": "1f425",
        "🐦": "1f426",
        "🐧": "1f427",
        "🐨": "1f428",
        "🐩": "1f429",
        "🐫": "1f42b",
        "🐬": "1f42c",
        "🐭": "1f42d",
        "🐮": "1f42e",
        "🐯": "1f42f",
        "🐰": "1f430",
        "🐱": "1f431",
        "🐲": "1f432",
        "🐳": "1f433",
        "🐴": "1f434",
        "🐵": "1f435",
        "🐶": "1f436",
        "🐷": "1f437",
        "🐸": "1f438",
        "🐹": "1f439",
        "🐺": "1f43a",
        "🐻": "1f43b",
        "🐼": "1f43c",
        "🐽": "1f43d",
        "🐾": "1f43e",
        "👀": "1f440",
        "👂": "1f442",
        "👃": "1f443",
        "👄": "1f444",
        "👅": "1f445",
        "👆": "1f446",
        "👇": "1f447",
        "👈": "1f448",
        "👉": "1f449",
        "👊": "1f44a",
        "👋": "1f44b",
        "👌": "1f44c",
        "👍": "1f44d",
        "👎": "1f44e",
        "👏": "1f44f",
        "👐": "1f450",
        "👑": "1f451",
        "👒": "1f452",
        "👓": "1f453",
        "👔": "1f454",
        "👕": "1f455",
        "👖": "1f456",
        "👗": "1f457",
        "👘": "1f458",
        "👙": "1f459",
        "👚": "1f45a",
        "👛": "1f45b",
        "👜": "1f45c",
        "👝": "1f45d",
        "👞": "1f45e",
        "👟": "1f45f",
        "👠": "1f460",
        "👡": "1f461",
        "👢": "1f462",
        "👣": "1f463",
        "👤": "1f464",
        "👦": "1f466",
        "👧": "1f467",
        "👨": "1f468",
        "👩": "1f469",
        "👪": "1f46a",
        "👫": "1f46b",
        "👮": "1f46e",
        "👯": "1f46f",
        "👰": "1f470",
        "👱": "1f471",
        "👲": "1f472",
        "👳": "1f473",
        "👴": "1f474",
        "👵": "1f475",
        "👶": "1f476",
        "👷": "1f477",
        "👸": "1f478",
        "👹": "1f479",
        "👺": "1f47a",
        "👻": "1f47b",
        "👼": "1f47c",
        "👽": "1f47d",
        "👾": "1f47e",
        "👿": "1f47f",
        "💀": "1f480",
        "📇": "1f4c7",
        "💁": "1f481",
        "💂": "1f482",
        "💃": "1f483",
        "💄": "1f484",
        "💅": "1f485",
        "📒": "1f4d2",
        "💆": "1f486",
        "📓": "1f4d3",
        "💇": "1f487",
        "📔": "1f4d4",
        "💈": "1f488",
        "📕": "1f4d5",
        "💉": "1f489",
        "📖": "1f4d6",
        "💊": "1f48a",
        "📗": "1f4d7",
        "💋": "1f48b",
        "📘": "1f4d8",
        "💌": "1f48c",
        "📙": "1f4d9",
        "💍": "1f48d",
        "📚": "1f4da",
        "💎": "1f48e",
        "📛": "1f4db",
        "💏": "1f48f",
        "📜": "1f4dc",
        "💐": "1f490",
        "📝": "1f4dd",
        "💑": "1f491",
        "📞": "1f4de",
        "💒": "1f492",
        "📟": "1f4df",
        "📠": "1f4e0",
        "💓": "1f493",
        "📡": "1f4e1",
        "📢": "1f4e2",
        "💔": "1f494",
        "📣": "1f4e3",
        "📤": "1f4e4",
        "💕": "1f495",
        "📥": "1f4e5",
        "📦": "1f4e6",
        "💖": "1f496",
        "📧": "1f4e7",
        "📨": "1f4e8",
        "💗": "1f497",
        "📩": "1f4e9",
        "📪": "1f4ea",
        "💘": "1f498",
        "📫": "1f4eb",
        "📮": "1f4ee",
        "💙": "1f499",
        "📰": "1f4f0",
        "📱": "1f4f1",
        "💚": "1f49a",
        "📲": "1f4f2",
        "📳": "1f4f3",
        "💛": "1f49b",
        "📴": "1f4f4",
        "📶": "1f4f6",
        "💜": "1f49c",
        "📷": "1f4f7",
        "📹": "1f4f9",
        "💝": "1f49d",
        "📺": "1f4fa",
        "📻": "1f4fb",
        "💞": "1f49e",
        "📼": "1f4fc",
        "🔃": "1f503",
        "💟": "1f49f",
        "🔊": "1f50a",
        "🔋": "1f50b",
        "💠": "1f4a0",
        "🔌": "1f50c",
        "🔍": "1f50d",
        "💡": "1f4a1",
        "🔎": "1f50e",
        "🔏": "1f50f",
        "💢": "1f4a2",
        "🔐": "1f510",
        "🔑": "1f511",
        "💣": "1f4a3",
        "🔒": "1f512",
        "🔓": "1f513",
        "💤": "1f4a4",
        "🔔": "1f514",
        "🔖": "1f516",
        "💥": "1f4a5",
        "🔗": "1f517",
        "🔘": "1f518",
        "💦": "1f4a6",
        "🔙": "1f519",
        "🔚": "1f51a",
        "💧": "1f4a7",
        "🔛": "1f51b",
        "🔜": "1f51c",
        "💨": "1f4a8",
        "🔝": "1f51d",
        "🔞": "1f51e",
        "💩": "1f4a9",
        "🔟": "1f51f",
        "💪": "1f4aa",
        "🔠": "1f520",
        "🔡": "1f521",
        "💫": "1f4ab",
        "🔢": "1f522",
        "🔣": "1f523",
        "💬": "1f4ac",
        "🔤": "1f524",
        "🔥": "1f525",
        "💮": "1f4ae",
        "🔦": "1f526",
        "🔧": "1f527",
        "💯": "1f4af",
        "🔨": "1f528",
        "🔩": "1f529",
        "💰": "1f4b0",
        "🔪": "1f52a",
        "🔫": "1f52b",
        "💱": "1f4b1",
        "🔮": "1f52e",
        "💲": "1f4b2",
        "🔯": "1f52f",
        "💳": "1f4b3",
        "🔰": "1f530",
        "🔱": "1f531",
        "💴": "1f4b4",
        "🔲": "1f532",
        "🔳": "1f533",
        "💵": "1f4b5",
        "🔴": "1f534",
        "🔵": "1f535",
        "💸": "1f4b8",
        "🔶": "1f536",
        "🔷": "1f537",
        "💹": "1f4b9",
        "🔸": "1f538",
        "🔹": "1f539",
        "💺": "1f4ba",
        "🔺": "1f53a",
        "🔻": "1f53b",
        "💻": "1f4bb",
        "🔼": "1f53c",
        "💼": "1f4bc",
        "🔽": "1f53d",
        "🕐": "1f550",
        "💽": "1f4bd",
        "🕑": "1f551",
        "💾": "1f4be",
        "🕒": "1f552",
        "💿": "1f4bf",
        "🕓": "1f553",
        "📀": "1f4c0",
        "🕔": "1f554",
        "🕕": "1f555",
        "📁": "1f4c1",
        "🕖": "1f556",
        "🕗": "1f557",
        "📂": "1f4c2",
        "🕘": "1f558",
        "🕙": "1f559",
        "📃": "1f4c3",
        "🕚": "1f55a",
        "🕛": "1f55b",
        "📄": "1f4c4",
        "🗻": "1f5fb",
        "🗼": "1f5fc",
        "📅": "1f4c5",
        "🗽": "1f5fd",
        "🗾": "1f5fe",
        "📆": "1f4c6",
        "🗿": "1f5ff",
        "😁": "1f601",
        "😂": "1f602",
        "😃": "1f603",
        "📈": "1f4c8",
        "😄": "1f604",
        "😅": "1f605",
        "📉": "1f4c9",
        "😆": "1f606",
        "😉": "1f609",
        "📊": "1f4ca",
        "😊": "1f60a",
        "😋": "1f60b",
        "📋": "1f4cb",
        "😌": "1f60c",
        "😍": "1f60d",
        "📌": "1f4cc",
        "😏": "1f60f",
        "😒": "1f612",
        "📍": "1f4cd",
        "😓": "1f613",
        "😔": "1f614",
        "📎": "1f4ce",
        "😖": "1f616",
        "😘": "1f618",
        "📏": "1f4cf",
        "😚": "1f61a",
        "😜": "1f61c",
        "📐": "1f4d0",
        "😝": "1f61d",
        "😞": "1f61e",
        "📑": "1f4d1",
        "😠": "1f620",
        "😡": "1f621",
        "😢": "1f622",
        "😣": "1f623",
        "😤": "1f624",
        "😥": "1f625",
        "😨": "1f628",
        "😩": "1f629",
        "😪": "1f62a",
        "😫": "1f62b",
        "😭": "1f62d",
        "😰": "1f630",
        "😱": "1f631",
        "😲": "1f632",
        "😳": "1f633",
        "😵": "1f635",
        "😷": "1f637",
        "😸": "1f638",
        "😹": "1f639",
        "😺": "1f63a",
        "😻": "1f63b",
        "😼": "1f63c",
        "😽": "1f63d",
        "😾": "1f63e",
        "😿": "1f63f",
        "🙀": "1f640",
        "🙅": "1f645",
        "🙆": "1f646",
        "🙇": "1f647",
        "🙈": "1f648",
        "🙉": "1f649",
        "🙊": "1f64a",
        "🙋": "1f64b",
        "🙌": "1f64c",
        "🙍": "1f64d",
        "🙎": "1f64e",
        "🙏": "1f64f",
        "🚀": "1f680",
        "🚃": "1f683",
        "🚄": "1f684",
        "🚅": "1f685",
        "🚇": "1f687",
        "🚉": "1f689",
        "🚌": "1f68c",
        "🚏": "1f68f",
        "🚑": "1f691",
        "🚒": "1f692",
        "🚓": "1f693",
        "🚕": "1f695",
        "🚗": "1f697",
        "🚙": "1f699",
        "🚚": "1f69a",
        "🚢": "1f6a2",
        "🚤": "1f6a4",
        "🚥": "1f6a5",
        "🚧": "1f6a7",
        "🚨": "1f6a8",
        "🚩": "1f6a9",
        "🚪": "1f6aa",
        "🚫": "1f6ab",
        "🚬": "1f6ac",
        "🚭": "1f6ad",
        "🚲": "1f6b2",
        "🚶": "1f6b6",
        "🚹": "1f6b9",
        "🚺": "1f6ba",
        "🚻": "1f6bb",
        "🚼": "1f6bc",
        "🚽": "1f6bd",
        "🚾": "1f6be",
        "🛀": "1f6c0",
        "🤘": "1f918",
        "😀": "1f600",
        "😇": "1f607",
        "😈": "1f608",
        "😎": "1f60e",
        "😐": "1f610",
        "😑": "1f611",
        "😕": "1f615",
        "😗": "1f617",
        "😙": "1f619",
        "😛": "1f61b",
        "😟": "1f61f",
        "😦": "1f626",
        "😧": "1f627",
        "😬": "1f62c",
        "😮": "1f62e",
        "😯": "1f62f",
        "😴": "1f634",
        "😶": "1f636",
        "🚁": "1f681",
        "🚂": "1f682",
        "🚆": "1f686",
        "🚈": "1f688",
        "🚊": "1f68a",
        "🚍": "1f68d",
        "🚎": "1f68e",
        "🚐": "1f690",
        "🚔": "1f694",
        "🚖": "1f696",
        "🚘": "1f698",
        "🚛": "1f69b",
        "🚜": "1f69c",
        "🚝": "1f69d",
        "🚞": "1f69e",
        "🚟": "1f69f",
        "🚠": "1f6a0",
        "🚡": "1f6a1",
        "🚣": "1f6a3",
        "🚦": "1f6a6",
        "🚮": "1f6ae",
        "🚯": "1f6af",
        "🚰": "1f6b0",
        "🚱": "1f6b1",
        "🚳": "1f6b3",
        "🚴": "1f6b4",
        "🚵": "1f6b5",
        "🚷": "1f6b7",
        "🚸": "1f6b8",
        "🚿": "1f6bf",
        "🛁": "1f6c1",
        "🛂": "1f6c2",
        "🛃": "1f6c3",
        "🛄": "1f6c4",
        "🛅": "1f6c5",
        "🌍": "1f30d",
        "🌎": "1f30e",
        "🌐": "1f310",
        "🌒": "1f312",
        "🌖": "1f316",
        "🌗": "1f317",
        "🌘": "1f318",
        "🌚": "1f31a",
        "🌜": "1f31c",
        "🌝": "1f31d",
        "🌞": "1f31e",
        "🌲": "1f332",
        "🌳": "1f333",
        "🍋": "1f34b",
        "🍐": "1f350",
        "🍼": "1f37c",
        "🏇": "1f3c7",
        "🏉": "1f3c9",
        "🏤": "1f3e4",
        "🐀": "1f400",
        "🐁": "1f401",
        "🐂": "1f402",
        "🐃": "1f403",
        "🐄": "1f404",
        "🐅": "1f405",
        "🐆": "1f406",
        "🐇": "1f407",
        "🐈": "1f408",
        "🐉": "1f409",
        "🐊": "1f40a",
        "🐋": "1f40b",
        "🐏": "1f40f",
        "🐐": "1f410",
        "🐓": "1f413",
        "🐕": "1f415",
        "🐖": "1f416",
        "🐪": "1f42a",
        "👥": "1f465",
        "👬": "1f46c",
        "👭": "1f46d",
        "💭": "1f4ad",
        "💶": "1f4b6",
        "💷": "1f4b7",
        "📬": "1f4ec",
        "📭": "1f4ed",
        "📯": "1f4ef",
        "📵": "1f4f5",
        "🔀": "1f500",
        "🔁": "1f501",
        "🔂": "1f502",
        "🔄": "1f504",
        "🔅": "1f505",
        "🔆": "1f506",
        "🔇": "1f507",
        "🔉": "1f509",
        "🔕": "1f515",
        "🔬": "1f52c",
        "🔭": "1f52d",
        "🕜": "1f55c",
        "🕝": "1f55d",
        "🕞": "1f55e",
        "🕟": "1f55f",
        "🕠": "1f560",
        "🕡": "1f561",
        "🕢": "1f562",
        "🕣": "1f563",
        "🕤": "1f564",
        "🕥": "1f565",
        "🕦": "1f566",
        "🕧": "1f567",
        "🔈": "1f508",
        "🚋": "1f68b",
        "🏅": "1f3c5",
        "🏴": "1f3f4",
        "📸": "1f4f8",
        "🛌": "1f6cc",
        "🖕": "1f595",
        "🖖": "1f596",
        "🙁": "1f641",
        "🙂": "1f642",
        "🛫": "1f6eb",
        "🛬": "1f6ec",
        "🏻": "1f3fb",
        "🏼": "1f3fc",
        "🏽": "1f3fd",
        "🏾": "1f3fe",
        "🏿": "1f3ff",
        "🙃": "1f643",
        "🤑": "1f911",
        "🤓": "1f913",
        "🤗": "1f917",
        "🙄": "1f644",
        "🤔": "1f914",
        "🤐": "1f910",
        "🤒": "1f912",
        "🤕": "1f915",
        "🤖": "1f916",
        "🦁": "1f981",
        "🦄": "1f984",
        "🦂": "1f982",
        "🦀": "1f980",
        "🦃": "1f983",
        "🧀": "1f9c0",
        "🌭": "1f32d",
        "🌮": "1f32e",
        "🌯": "1f32f",
        "🍿": "1f37f",
        "🍾": "1f37e",
        "🏹": "1f3f9",
        "🏺": "1f3fa",
        "🛐": "1f6d0",
        "🕋": "1f54b",
        "🕌": "1f54c",
        "🕍": "1f54d",
        "🕎": "1f54e",
        "📿": "1f4ff",
        "🏏": "1f3cf",
        "🏐": "1f3d0",
        "🏑": "1f3d1",
        "🏒": "1f3d2",
        "🏓": "1f3d3",
        "🏸": "1f3f8",
        "⏩": "23e9",
        "⏪": "23ea",
        "⏫": "23eb",
        "⏬": "23ec",
        "⏰": "23f0",
        "⏳": "23f3",
        "⛎": "26ce",
        "✅": "2705",
        "✊": "270a",
        "✋": "270b",
        "✨": "2728",
        "❌": "274c",
        "❎": "274e",
        "❓": "2753",
        "❔": "2754",
        "❕": "2755",
        "➕": "2795",
        "➖": "2796",
        "➗": "2797",
        "➰": "27b0",
        "➿": "27bf",
        "©": "00a9",
        "®": "00ae",
        "‼": "203c",
        "⁉": "2049",
        "™": "2122",
        "ℹ": "2139",
        "↔": "2194",
        "↕": "2195",
        "↖": "2196",
        "↗": "2197",
        "↘": "2198",
        "↙": "2199",
        "↩": "21a9",
        "↪": "21aa",
        "⌚": "231a",
        "⌛": "231b",
        "Ⓜ": "24c2",
        "▪": "25aa",
        "▫": "25ab",
        "▶": "25b6",
        "◀": "25c0",
        "◻": "25fb",
        "◼": "25fc",
        "◽": "25fd",
        "◾": "25fe",
        "☀": "2600",
        "☁": "2601",
        "☎": "260e",
        "☑": "2611",
        "☔": "2614",
        "☕": "2615",
        "☝": "261d",
        "☺": "263a",
        "♈": "2648",
        "♉": "2649",
        "♊": "264a",
        "♋": "264b",
        "♌": "264c",
        "♍": "264d",
        "♎": "264e",
        "♏": "264f",
        "♐": "2650",
        "♑": "2651",
        "♒": "2652",
        "♓": "2653",
        "♠": "2660",
        "♣": "2663",
        "♥": "2665",
        "♦": "2666",
        "♨": "2668",
        "♻": "267b",
        "♿": "267f",
        "⚓": "2693",
        "⚠": "26a0",
        "⚡": "26a1",
        "⚪": "26aa",
        "⚫": "26ab",
        "⚽": "26bd",
        "⚾": "26be",
        "⛄": "26c4",
        "⛅": "26c5",
        "⛔": "26d4",
        "⛪": "26ea",
        "⛲": "26f2",
        "⛳": "26f3",
        "⛵": "26f5",
        "⛺": "26fa",
        "⛽": "26fd",
        "✂": "2702",
        "✈": "2708",
        "✉": "2709",
        "✌": "270c",
        "✏": "270f",
        "✒": "2712",
        "✔": "2714",
        "✖": "2716",
        "✳": "2733",
        "✴": "2734",
        "❄": "2744",
        "❇": "2747",
        "❗": "2757",
        "❤": "2764",
        "➡": "27a1",
        "⤴": "2934",
        "⤵": "2935",
        "⬅": "2b05",
        "⬆": "2b06",
        "⬇": "2b07",
        "⬛": "2b1b",
        "⬜": "2b1c",
        "⭐": "2b50",
        "⭕": "2b55",
        "〰": "3030",
        "〽": "303d",
        "㊗": "3297",
        "㊙": "3299",
        "🀄": "1f004",
        "🅿": "1f17f",
        "🈂": "1f202",
        "🈚": "1f21a",
        "🈯": "1f22f",
        "🈷": "1f237",
        "🎞": "1f39e",
        "🎟": "1f39f",
        "🏋": "1f3cb",
        "🏌": "1f3cc",
        "🏍": "1f3cd",
        "🏎": "1f3ce",
        "🎖": "1f396",
        "🎗": "1f397",
        "🌶": "1f336",
        "🌧": "1f327",
        "🌨": "1f328",
        "🌩": "1f329",
        "🌪": "1f32a",
        "🌫": "1f32b",
        "🌬": "1f32c",
        "🐿": "1f43f",
        "🕷": "1f577",
        "🕸": "1f578",
        "🌡": "1f321",
        "🎙": "1f399",
        "🎚": "1f39a",
        "🎛": "1f39b",
        "🏳": "1f3f3",
        "🏵": "1f3f5",
        "🏷": "1f3f7",
        "📽": "1f4fd",
        "✝": "271d",
        "🕉": "1f549",
        "🕊": "1f54a",
        "🕯": "1f56f",
        "🕰": "1f570",
        "🕳": "1f573",
        "🕶": "1f576",
        "🕹": "1f579",
        "🖇": "1f587",
        "🖊": "1f58a",
        "🖋": "1f58b",
        "🖌": "1f58c",
        "🖍": "1f58d",
        "🖥": "1f5a5",
        "🖨": "1f5a8",
        "⌨": "2328",
        "🖲": "1f5b2",
        "🖼": "1f5bc",
        "🗂": "1f5c2",
        "🗃": "1f5c3",
        "🗄": "1f5c4",
        "🗑": "1f5d1",
        "🗒": "1f5d2",
        "🗓": "1f5d3",
        "🗜": "1f5dc",
        "🗝": "1f5dd",
        "🗞": "1f5de",
        "🗡": "1f5e1",
        "🗣": "1f5e3",
        "🗯": "1f5ef",
        "🗳": "1f5f3",
        "🗺": "1f5fa",
        "🛠": "1f6e0",
        "🛡": "1f6e1",
        "🛢": "1f6e2",
        "🛰": "1f6f0",
        "🍽": "1f37d",
        "👁": "1f441",
        "🕴": "1f574",
        "🕵": "1f575",
        "✍": "270d",
        "🖐": "1f590",
        "🏔": "1f3d4",
        "🏕": "1f3d5",
        "🏖": "1f3d6",
        "🏗": "1f3d7",
        "🏘": "1f3d8",
        "🏙": "1f3d9",
        "🏚": "1f3da",
        "🏛": "1f3db",
        "🏜": "1f3dc",
        "🏝": "1f3dd",
        "🏞": "1f3de",
        "🏟": "1f3df",
        "🛋": "1f6cb",
        "🛍": "1f6cd",
        "🛎": "1f6ce",
        "🛏": "1f6cf",
        "🛣": "1f6e3",
        "🛤": "1f6e4",
        "🛥": "1f6e5",
        "🛩": "1f6e9",
        "🛳": "1f6f3",
        "⏭": "23ed",
        "⏮": "23ee",
        "⏯": "23ef",
        "⏱": "23f1",
        "⏲": "23f2",
        "⏸": "23f8",
        "⏹": "23f9",
        "⏺": "23fa",
        "☂": "2602",
        "☃": "2603",
        "☄": "2604",
        "☘": "2618",
        "☠": "2620",
        "☢": "2622",
        "☣": "2623",
        "☦": "2626",
        "☪": "262a",
        "☮": "262e",
        "☯": "262f",
        "☸": "2638",
        "☹": "2639",
        "⚒": "2692",
        "⚔": "2694",
        "⚖": "2696",
        "⚗": "2697",
        "⚙": "2699",
        "⚛": "269b",
        "⚜": "269c",
        "⚰": "26b0",
        "⚱": "26b1",
        "⛈": "26c8",
        "⛏": "26cf",
        "⛑": "26d1",
        "⛓": "26d3",
        "⛩": "26e9",
        "⛰": "26f0",
        "⛱": "26f1",
        "⛴": "26f4",
        "⛷": "26f7",
        "⛸": "26f8",
        "⛹": "26f9",
        "✡": "2721",
        "❣": "2763",
        "🌤": "1f324",
        "🌥": "1f325",
        "🌦": "1f326",
        "🖱": "1f5b1"
    },
    e.imagePathPNG = "//cdn.jsdelivr.net/emojione/assets/png/",
    e.imagePathSVG = "//cdn.jsdelivr.net/emojione/assets/svg/",
    e.imagePathSVGSprites = "./../assets/sprites/emojione.sprites.svg",
    e.imageType = "png",
    e.sprites = !1,
    e.unicodeAlt = !0,
    e.ascii = !1,
    e.cacheBustParam = "?v=2.1.1",
    e.regShortNames = new RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(" + e.shortnames + ")","gi"),
    e.regAscii = new RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|((\\s|^)" + e.asciiRegexp + "(?=\\s|$|[!,.?]))","g"),
    e.regUnicode = new RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(" + e.unicodeRegexp + ")","gi"),
    e.toImage = function(t) {
        return t = e.unicodeToImage(t),
        t = e.shortnameToImage(t)
    }
    ,
    e.unifyUnicode = function(t) {
        return t = e.toShort(t),
        t = e.shortnameToUnicode(t)
    }
    ,
    e.shortnameToAscii = function(t) {
        var i, n = e.objectFlip(e.asciiList);
        return t = t.replace(e.regShortNames, function(t) {
            return void 0 !== t && "" !== t && t in e.emojioneList ? (i = e.emojioneList[t][e.emojioneList[t].length - 1],
            "undefined" != typeof n[i] ? n[i] : t) : t
        })
    }
    ,
    e.shortnameToUnicode = function(t) {
        var i;
        return t = t.replace(e.regShortNames, function(t) {
            return void 0 !== t && "" !== t && t in e.emojioneList ? (i = e.emojioneList[t][0].toUpperCase(),
            e.convert(i)) : t
        }),
        e.ascii && (t = t.replace(e.regAscii, function(t, n, o, s) {
            return void 0 !== s && "" !== s && e.unescapeHTML(s)in e.asciiList ? (s = e.unescapeHTML(s),
            i = e.asciiList[s].toUpperCase(),
            o + e.convert(i)) : t
        })),
        t
    }
    ,
    e.shortnameToImage = function(t) {
        var i, n, o;
        return t = t.replace(e.regShortNames, function(t) {
            return void 0 !== t && "" !== t && t in e.emojioneList ? (n = e.emojioneList[t][e.emojioneList[t].length - 1],
            o = e.unicodeAlt ? e.convert(n.toUpperCase()) : t,
            i = "png" === e.imageType ? e.sprites ? '<span class="emojione-' + n + '" title="' + t + '">' + o + "</span>" : '<img class="emojione" alt="' + o + '" src="' + e.imagePathPNG + n + ".png" + e.cacheBustParam + '"/>' : e.sprites ? '<svg class="emojione"><description>' + o + '</description><use xlink:href="' + e.imagePathSVGSprites + "#emoji-" + n + '"></use></svg>' : '<object class="emojione" data="' + e.imagePathSVG + n + ".svg" + e.cacheBustParam + '" type="image/svg+xml" standby="' + o + '">' + o + "</object>") : t
        }),
        e.ascii && (t = t.replace(e.regAscii, function(t, s, a, r) {
            return void 0 !== r && "" !== r && e.unescapeHTML(r)in e.asciiList ? (r = e.unescapeHTML(r),
            n = e.asciiList[r],
            o = e.unicodeAlt ? e.convert(n.toUpperCase()) : e.escapeHTML(r),
            i = "png" === e.imageType ? e.sprites ? a + '<span class="emojione-' + n + '" title="' + e.escapeHTML(r) + '">' + o + "</span>" : a + '<img class="emojione" alt="' + o + '" src="' + e.imagePathPNG + n + ".png" + e.cacheBustParam + '"/>' : e.sprites ? '<svg class="emojione"><description>' + o + '</description><use xlink:href="' + e.imagePathSVGSprites + "#emoji-" + n + '"></use></svg>' : a + '<object class="emojione" data="' + e.imagePathSVG + n + ".svg" + e.cacheBustParam + '" type="image/svg+xml" standby="' + o + '">' + o + "</object>") : t
        })),
        t
    }
    ,
    e.unicodeToImage = function(t) {
        var i, n, o;
        if (!e.unicodeAlt || e.sprites)
            var s = e.mapShortToUnicode();
        return t = t.replace(e.regUnicode, function(t) {
            return void 0 !== t && "" !== t && t in e.jsEscapeMap ? (n = e.jsEscapeMap[t],
            o = e.unicodeAlt ? e.convert(n.toUpperCase()) : s[n],
            i = "png" === e.imageType ? e.sprites ? '<span class="emojione-' + n + '" title="' + s[n] + '">' + o + "</span>" : '<img class="emojione" alt="' + o + '" src="' + e.imagePathPNG + n + ".png" + e.cacheBustParam + '"/>' : e.sprites ? '<svg class="emojione"><description>' + o + '</description><use xlink:href="' + e.imagePathSVGSprites + "#emoji-" + n + '"></use></svg>' : '<img class="emojione" alt="' + o + '" src="' + e.imagePathSVG + n + ".svg" + e.cacheBustParam + '"/>') : t
        })
    }
    ,
    e.toShort = function(t) {
        for (var i in e.emojioneList)
            if (e.emojioneList.hasOwnProperty(i))
                for (var n = 0, o = e.emojioneList[i].length; o > n; n++) {
                    var s = e.emojioneList[i][n];
                    t = e.replaceAll(t, e.convert(s.toUpperCase()), i)
                }
        return t
    }
    ,
    e.convert = function(e) {
        if (e.indexOf("-") > -1) {
            for (var t = [], i = e.split("-"), n = 0; n < i.length; n++) {
                var o = parseInt(i[n], 16);
                if (o >= 65536 && 1114111 >= o) {
                    var s = Math.floor((o - 65536) / 1024) + 55296
                      , a = (o - 65536) % 1024 + 56320;
                    o = String.fromCharCode(s) + String.fromCharCode(a)
                } else
                    o = String.fromCharCode(o);
                t.push(o)
            }
            return t.join("")
        }
        var i = parseInt(e, 16);
        if (i >= 65536 && 1114111 >= i) {
            var s = Math.floor((i - 65536) / 1024) + 55296
              , a = (i - 65536) % 1024 + 56320;
            return String.fromCharCode(s) + String.fromCharCode(a)
        }
        return String.fromCharCode(i)
    }
    ,
    e.escapeHTML = function(e) {
        var t = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#039;"
        };
        return e.replace(/[&<>"']/g, function(e) {
            return t[e]
        })
    }
    ,
    e.unescapeHTML = function(e) {
        var t = {
            "&amp;": "&",
            "&#38;": "&",
            "&#x26;": "&",
            "&lt;": "<",
            "&#60;": "<",
            "&#x3C;": "<",
            "&gt;": ">",
            "&#62;": ">",
            "&#x3E;": ">",
            "&quot;": '"',
            "&#34;": '"',
            "&#x22;": '"',
            "&apos;": "'",
            "&#39;": "'",
            "&#x27;": "'"
        };
        return e.replace(/&(?:amp|#38|#x26|lt|#60|#x3C|gt|#62|#x3E|apos|#39|#x27|quot|#34|#x22);/gi, function(e) {
            return t[e]
        })
    }
    ,
    e.mapShortToUnicode = function() {
        var t = {};
        for (var i in e.emojioneList)
            if (e.emojioneList.hasOwnProperty(i))
                for (var n = 0, o = e.emojioneList[i].length; o > n; n++)
                    t[e.emojioneList[i][n]] = i;
        return t
    }
    ,
    e.objectFlip = function(e) {
        var t, i = {};
        for (t in e)
            e.hasOwnProperty(t) && (i[e[t]] = t);
        return i
    }
    ,
    e.escapeRegExp = function(e) {
        return e.replace(/[-[\]{}()*+?.,;:&\\^$|#\s]/g, "\\$&")
    }
    ,
    e.replaceAll = function(t, i, n) {
        var o = e.escapeRegExp(i)
          , s = new RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(" + o + ")","gi")
          , a = function(e, t) {
            return void 0 === t || "" === t ? e : n
        };
        return t.replace(s, a)
    }
}(this.emojione = this.emojione || {}),
"object" == typeof module && (module.exports = this.emojione),
define("libs/emojione.min", function() {}),
define("text!skins/default/profile/action/link/captcha.html", [], function() {
    return '<p>{{{ labels.ip_not_trusted }}}</p>\n<div id="prof-recaptcha">{{{ loader }}}</div>\n<p>{{{ labels.verifiy_to_trust }}}</p>'
}),
define("skins/default/profile/action/link", ["config/main", "mustache", "static/utils", "lib/tools", "lib/helpers/popup", "lib/helpers/inline_loader", "lib/i18n!front", "text!./link/captcha.html"], function(e, t, i, n, o, s, a, r) {
    var l, u, f, c = null, d = function() {
        return null === c && (c = e.data.visitor.trusted),
        c
    }, h = function(i) {
        if (l)
            i !== f && (f.enable(),
            l.setButton(i.link));
        else {
            var c = function() {
                u = $("#prof-recaptcha").empty();
                var t = grecaptcha.render(u.get(0), {
                    sitekey: e.data.recaptcha_key,
                    callback: function(e) {
                        l.close(),
                        f.trigger(e),
                        grecaptcha.reset(t)
                    }
                });
                l.position()
            }
              , d = {
                labels: a.__("profile.captcha.*", {
                    "%verif_link_start%": '<a href="/account/verify_account">',
                    "%verif_link_end%": "</a>"
                }),
                loader: s.get("after", a.__("loading.loading"), "prof-recaptcha-loading").getHtml()
            };
            l = new o(i.link,t.render(r, d),{
                trigger: !1,
                popup_class: "prof-link-captcha"
            }),
            l.onClose = function() {
                f.enable()
            }
            ,
            n.loadRecaptcha(c, e.dyn.locale)
        }
        f = i,
        f.disable(),
        l.open()
    }, p = function(e, t, i, n, o) {
        if (void 0 !== e) {
            this.link = e,
            this.setAction(t, i, n, o),
            this.enabled = !0,
            this.posting = !1,
            this.error_popup = !1;
            var s = this;
            e.on("click", function(e) {
                return e.preventDefault(),
                s.trigger()
            })
        }
    };
    return p.prototype = {
        validate: null,
        getPost: function() {
            return {}
        },
        onSuccess: null,
        setAction: function(e, t, i, n) {
            this.url = e,
            this.confirm = t,
            this.is_confirmed = !t,
            this.check_trusted = !!i,
            this.csrf_token = n || !1
        },
        setLoadingMessage: function(e) {
            this.loading_msg = e
        },
        _is_confirmed: function() {
            if (this.is_confirmed)
                return !0;
            var e = "string" == typeof this.confirm ? this.confirm : a.__("misc.are_you_sure");
            return !!window.confirm(i.unescape(e)) && (this.is_confirmed = !0,
            !0)
        },
        _is_trusted: function() {
            return !this.check_trusted || (!!d() || (this.clearError(),
            h(this),
            !1))
        },
        enable: function() {
            this.enabled || this.posting || (this.enabled = !0,
            this.link.removeClass("disabled"))
        },
        disable: function() {
            this.enabled && (this.enabled = !1,
            this.link.addClass("disabled"))
        },
        toggle: function(e) {
            e ? this.enable() : this.disable()
        },
        showError: function(e) {
            var t = this;
            this.error_popup ? (this.error_popup.setContent("<strong>" + e + "</strong>"),
            this.error_popup.open()) : (this.error_popup = new o(this.link,"<strong>" + e + "</strong>",{
                trigger: !1,
                autoclose: !1,
                closebtn: !0,
                popup_class: "profile-action-link-popup"
            }),
            this.error_popup.open(),
            this.error_popup.popup.on("click", function() {
                t.error_popup.close()
            }))
        },
        clearError: function() {
            this.error_popup && this.error_popup.close()
        },
        trigger: function(e) {
            if (this.enabled && !this.posting && this._is_confirmed() && ("function" != typeof this.validate || this.validate()) && ("string" == typeof e || this._is_trusted())) {
                this.clearError(),
                this.posting = !0,
                this.disable();
                var t = this.link.html()
                  , i = s.get("after", "undefined" == typeof this.loading_msg ? a.__("loading.in_progress") : this.loading_msg).appendTo(this.link.empty())
                  , n = this
                  , o = this.getPost();
                "string" == typeof e && (o["g-recaptcha-response"] = e),
                this.csrf_token && (o.csrf = this.csrf_token),
                $.post(this.url, o, function(e) {
                    if (i.remove(),
                    n.link.html(t),
                    n.posting = !1,
                    n.enable(),
                    e.result)
                        return void ("function" == typeof n.onSuccess && n.onSuccess(e));
                    n.showError("string" == typeof e.message ? e.message : a.__("misc.error_please_retry"))
                }, "json").fail(function() {
                    i.remove(),
                    n.link.html(t),
                    n.posting = !1,
                    n.enable(),
                    n.showError(a.__("misc.error_please_retry"))
                })
            }
        }
    },
    p
}),
define("skins/common/thread/ui/node", ["jquery", "mustache", "static/utils", "lib/helpers/inline_loader", "lib/helpers/popup", "text!./node.mustache", "text!./children.mustache", "text!./message.mustache", "text!./friend_button.mustache", "lib/i18n!front", "jquery.textcomplete.min", "libs/emojione.min"], function(e, t, i, n, o, s, a, r, l, u) {
    emojione.sprites = !0,
    emojione.ascii = !0;
    var f = function(e, t) {
        void 0 !== e && (this.id_post = e,
        this.logic_node = t,
        this.node = null,
        this.children_node = null,
        this.nb_children = 0,
        this.children_open = !1,
        this.has_next = 0,
        this.next_is_last = !0,
        this.rendered = !1,
        this.form_node = null,
        this.pending_delete = !1,
        this.edit = null,
        this.edit_timer = null,
        this.edit_remaining = 0,
        this["delete"] = null,
        this.undelete = null,
        this.report = null,
        emojione.sprites = !0,
        emojione.ascii = !0,
        this.createNode())
    };
    return f.prototype = {
        createChild: function(e, t) {
            return new f(e,t)
        },
        setNbChildren: function(e) {
            this.nb_children = e,
            this.children_show_label.html(u.__(this.getMessageKey("show_" + (e > 1 ? "replies" : "reply")), {
                "%nb%": e.toFixed(0)
            }, e > 1 ? "Show %nb% answers" : "Show 1 answer")),
            this.renderChildren(),
            this.renderPostBtn()
        },
        getTemplate: function() {
            return s
        },
        getTemplateVars: function() {
            return {
                has_profile: !0,
                default_img: this.getDefaultPictureUrl(),
                lbl_load_all: u.__(this.getMessageKey("load_all_replies"), {}, "Load all replies"),
                lbl_reply: u.__(this.getMessageKey("reply"), {}, "Reply"),
                lbl_delete: u.__(this.getMessageKey("delete"), {}, "Delete"),
                lbl_undelete: u.__(this.getMessageKey("restore"), {}, "Restore"),
                lbl_hide_replies: u.__(this.getMessageKey("hide_replies"), {}, "Hide replies"),
                lbl_post_reply: u.__(this.getMessageKey("post_reply"), {}, "Reply"),
                lbl_report: u.__(this.getMessageKey("report"), {}, "Report")
            }
        },
        getTemplatePartials: function() {
            return {
                children: a
            }
        },
        getMessageKey: function(e) {
            switch (e) {
            case "node_loading":
            case "children_loading":
                return "loading.loading";
            case "node_error":
            case "children_error":
                return "loading.error";
            case "node_error_retry":
            case "children_error_retry":
                return "loading.failed_retry";
            case "user_profile_picture":
                return "profile.user_profile_picture";
            case "anonymous":
                return "misc.anonymous";
            case "delete":
                return "misc.delete";
            case "restore":
                return "misc.restore";
            case "edit":
                return "misc.edit";
            case "show_reply":
                return "misc.show_one_reply";
            case "show_replies":
                return "misc.show_nb_replies";
            case "hide_replies":
                return "misc.hide_replies";
            case "load_next_nb_replies":
                return "misc.load_next_nb_replies";
            case "load_last_reply":
                return "misc.load_last_reply";
            case "load_last_nb_replies":
                return "misc.load_last_nb_replies";
            case "load_all_replies":
                return "misc.load_all_replies";
            case "reply":
            case "post_reply":
                return "misc.reply";
            case "one_reply_before":
                return "misc.one_reply_before";
            case "nb_replies_before":
                return "misc.nb_replies_before";
            case "one_reply_between":
                return "misc.one_reply_between";
            case "nb_replies_between":
                return "misc.nb_replies_between";
            case "one_reply_after":
                return "misc.one_reply_after";
            case "nb_replies_after":
                return "misc.nb_replies_after";
            case "already_friends":
                return "profile.friends.already_friends";
            case "friend_req_asked":
                return "profile.friends.you_asked_friends";
            case "add_to_friends":
                return "profile.friends.add_to_friends";
            case "report":
                return "report_form.report";
            case "report_this_post":
                return "report_form.report_comment";
            case "report_thanks":
                return "report_form.thanks"
            }
            return e
        },
        getDefaultPictureUrl: function() {
            return i.getStaticDomain() + "/img/profile_default_small.jpg"
        },
        createNode: function() {
            this.node || (this.node = e(t.render(this.getTemplate(), this.getTemplateVars(), this.getTemplatePartials())),
            this.getNodes(),
            this.getFormNodes(),
            this.getChildrenNodes())
        },
        getNodes: function() {
            this.loader = this.node.find(".thread-node-loader").append(n.getSafe("after", u.__(this.getMessageKey("node_loading"), {}, "Loading...")).getHtml()),
            this.nb_hidden_before = this.node.find(".thread-node-nb-before"),
            this.nb_hidden_after = this.node.find(".thread-node-nb-after"),
            this.error = this.node.find(".thread-node-error"),
            this.picture = this.node.find(".thread-node-picture"),
            this.content = this.node.find(".thread-node-content"),
            this.flag = this.node.find(".flag-small"),
            this.poster = this.node.find(".thread-node-poster-name"),
            this.message = this.node.find(".thread-node-message");
            var e = this;
            this.metadata = this.node.find(".thread-node-metadata"),
            this.date = this.node.find(".thread-node-date");
            var t = this.node.find(".thread-node-nb-votes");
            this.votes_count_good = t.filter(".votes-up"),
            this.votes_count_bad = t.filter(".votes-down"),
            this.thumb_up = this.node.find(".icon-f.icf-thumb-up").on("click", function() {
                e.pending_delete || e.logic_node.vote("GOOD")
            }),
            this.thumb_down = this.node.find(".icon-f.icf-thumb-down").on("click", function() {
                e.pending_delete || e.logic_node.vote("BAD")
            }),
            this.edit = this.node.find(".thread-node-btn-edit").on("click", function() {
                e.pending_delete || (e.form_node ? (e.form_node.ui_node.node.insertAfter(e.message),
                e.form_node.open()) : (e.form_node = e.logic_node.getForm(),
                e.form_node && (e.poster.addClass("hidden"),
                e.message.addClass("hidden").after(e.form_node.ui_node.node),
                e.form_node.open(),
                e.logic_node.canLoadChildren() && e.logic_node.loadChildren())),
                e.form_node.setEditMode(e.logic_node.edit_text, e.logic_node.edit_user, e.logic_node.edit_csrf))
            }),
            this["delete"] = this.node.find(".thread-node-btn-delete").on("click", function() {
                e.pending_delete || e.logic_node["delete"]()
            }),
            this.undelete = this.node.find(".thread-node-btn-restore").on("click", function() {
                e.pending_delete && e.logic_node.undelete()
            }),
            this.report = this.node.find(".thread-node-btn-report").on("click", function() {
                e.logic_node.report()
            })
        },
        getFormNodes: function() {
            var t = this
              , i = this.node.find(".thread-node-btn-post").on("click", function(e) {
                e.preventDefault(),
                t.form_node ? (t.content.append(t.form_node.ui_node.node),
                t.form_node.open()) : (t.form_node = t.logic_node.getForm(),
                t.form_node && (t.content.append(t.form_node.ui_node.node),
                t.form_node.open(),
                t.logic_node.canLoadChildren() && t.logic_node.loadChildren()))
            });
            this.btn_post_in_next = e(),
            this.btn_post_other = e(),
            i.each(function() {
                e(this).parents(".thread-node-children-load-next").length > 0 ? t.btn_post_in_next = t.btn_post_in_next.add(this) : t.btn_post_other = t.btn_post_other.add(this)
            })
        },
        getChildrenNodes: function() {
            this.children_loader = this.node.find(".thread-node-children-loader").append(n.getSafe("after", u.__(this.getMessageKey("children_loading"), {}, "Loading...")).getHtml()),
            this.children_error = this.node.find(".thread-node-children-error");
            var e = this;
            this.children = this.node.find(".thread-node-children"),
            this.children_show = this.node.find(".thread-node-children-show"),
            this.children_show_label = this.children_show.children("span").on("click", function() {
                if (e.logic_node.canLoadChildren())
                    return void e.logic_node.loadChildren();
                e.toggleChildren(!0)
            }),
            this.children_hide = this.node.find(".thread-node-children-hide"),
            this.children_hide.children("span").on("click", function() {
                e.toggleChildren(!1)
            }),
            this.children_node = this.node.find(".thread-node-children-nodes"),
            this.children_load_next = this.node.find(".thread-node-children-load-next"),
            this.children_load_next_btn = this.children_load_next.find(".thread-node-children-load-next-btn").on("click", function(t) {
                t.preventDefault(),
                e.children_load_next_btn.addClass("hidden"),
                e.children_load_all_btn.addClass("hidden"),
                e.logic_node.loadChildren()
            }),
            this.children_load_all_btn = this.children_load_next.find(".thread-node-children-load-all-btn").on("click", function(t) {
                t.preventDefault(),
                e.children_load_next_btn.addClass("hidden"),
                e.children_load_all_btn.addClass("hidden"),
                e.logic_node.loadChildren(!0)
            })
        },
        render: function(i) {
            this.pending_delete = !!i.pending_delete,
            this.node.toggleClass("pending-delete", this.pending_delete);
            var n = "number" == typeof i.nb_hidden_before && i.nb_hidden_before > 0
              , o = "number" == typeof i.nb_hidden_between && i.nb_hidden_between > 0
              , s = "number" == typeof i.nb_hidden_after && i.nb_hidden_after > 0;
            this.nb_hidden_before.toggleClass("hidden", !n && !o),
            this.nb_hidden_after.toggleClass("hidden", !s),
            n && (1 === i.nb_hidden_before ? this.nb_hidden_before.html("-- " + u.__(this.getMessageKey("one_reply_before"), {}, "1 reply before") + " --") : this.nb_hidden_before.html("-- " + u.__(this.getMessageKey("nb_replies_before"), {
                "%nb%": i.nb_hidden_before.toString()
            }, "%nb% replies before") + " --")),
            o && (1 === i.nb_hidden_between ? this.nb_hidden_before.html("-- " + u.__(this.getMessageKey("one_reply_between"), {}, "1 reply between") + " --") : this.nb_hidden_before.html("-- " + u.__(this.getMessageKey("nb_replies_between"), {
                "%nb%": i.nb_hidden_between.toString()
            }, "%nb% replies between") + " --")),
            s && (1 === i.nb_hidden_after ? this.nb_hidden_after.html("-- " + u.__(this.getMessageKey("one_reply_after"), {}, "1 reply after") + " --") : this.nb_hidden_after.html("-- " + u.__(this.getMessageKey("nb_replies_after"), {
                "%nb%": i.nb_hidden_after.toString()
            }, "%nb% replies after") + " --"));
            var a = i.name;
            if (a || (a = u.__(this.getMessageKey("anonymous"), {}, "Anonymous")),
            i.url && (a = e("<a>" + a + "</a>").prop("href", i.url)),
            this.picture.length > 0) {
                var r = this.getDefaultPictureUrl()
                  , f = e("<img />");
                if (i.pic ? f.on("error", function() {
                    e(this).off("error").prop("src", r)
                }).prop("src", i.pic) : f.prop("src", r),
                i.name && f.prop("title", u.__(this.getMessageKey("user_profile_picture"), {
                    "%name%": i.name
                }, "%name% profile picture")),
                i.url && (f = e("<a></a>").prop("href", i.url).append(f)),
                this.picture.children("a,img").remove(),
                this.picture.prepend(f),
                this.picture.removeClass("has-bottom").find(".thread-node-pic-bottom").remove(),
                (i.is_friend || i.friend_req_asked || i.can_ask_friend) && (this.picture.addClass("has-bottom").append(e(t.render(l, {
                    is_friend: i.is_friend,
                    friend_req_asked: !i.is_friend && i.friend_req_asked,
                    can_ask_friend: !i.is_friend && !i.friend_req_asked && i.can_ask_friend,
                    lbl_already_friends: u.__(this.getMessageKey("already_friends"), {}, "You are already friends"),
                    lbl_friend_req_asked: u.__(this.getMessageKey("friend_req_asked"), {
                        "%name%": i.name
                    }, "You asked %name% as friend"),
                    lbl_add_to_friends: u.__(this.getMessageKey("add_to_friends"), {}, "Add to friends")
                }))),
                !i.is_friend && !i.friend_req_asked && i.can_ask_friend)) {
                    var c = this.picture.find(".thread-node-friend-ask-btn");
                    require(["skins/default/profile/action/link"], function(t) {
                        var n = new t(c,"/profiles/" + i.profile + "/friends/requests/ask",!1,!1,i.ask_req_csrf);
                        c.addClass("init-ok"),
                        n.setLoadingMessage(""),
                        n.onSuccess = function() {
                            e(this.link).replaceWith("<span class='icon-f icf-user-hourglass'></span>")
                        }
                    })
                }
            }
            i.country ? this.flag.removeClass().addClass("flag-small flag-" + i.country.toLowerCase()).prop("title", i.country_name) : this.flag.addClass("hidden"),
            this.poster.empty().append(a).toggleClass("poster-model", !0 === i.model).toggleClass("poster-channel", !0 === i.channel).toggleClass("poster-owner", !0 === i.is_owner),
            i.verified && this.poster.append(' <span class="icon-f icf-check-circle verified"></span>');
            var d = [];
            "number" == typeof i.nb_videos && (i.nb_videos > 1 ? d.push(u.__("misc.nb_videos", {
                "%count%": i.nb_videos_f
            }, "%count% videos")) : i.nb_videos > 0 && d.push(u.__("misc.one_video", {
                "%count%": i.nb_videos_f
            }, "%count% video"))),
            "number" == typeof i.nb_subs && (i.nb_subs > 1 ? d.push(u.__("profile.subscribers", {
                "%count%": i.nb_subs_f
            }, "%count% subscribers")) : i.nb_subs > 0 && d.push(u.__("misc.sub_count_s", {
                "%count%": i.nb_subs_f
            }, "%count% subscriber"))),
            d.length > 0 && this.poster.append('<span class="poster-stats">(' + d.join(" / ") + ")</span>"),
            this.renderMessage(i.message),
            this.renderDate(i.time_diff, i.date),
            i.lang && this.date.append('<em> (Debug: <span class="flag-small flag-' + i.lang_country.toLowerCase() + '"></span> ' + i.lang + ")</em>"),
            this.renderVotes(i.votes),
            this.setupEditBtn(i.edit, i.max_edit_time),
            this["delete"].toggleClass("hidden", !i["delete"]),
            this.undelete.toggleClass("hidden", !i.undelete),
            this.report.toggleClass("hidden", !i.report),
            this.content.removeClass("hidden"),
            this.rendered = !0,
            this.renderChildren(),
            this.renderPostBtn()
        },
        renderDate: function(e, t) {
            this.date.html(e).prop("title", t)
        },
        renderMessage: function(i) {
            if ("string" == typeof i)
                return emojione && this.logic_node.thread.show_emojis && (i = emojione.toImage(i)),
                void this.message.html(i);
            var n = i.m;
            emojione && this.logic_node.thread.show_emojis && (n = emojione.toImage(n));
            for (var s in i.p) {
                var a = i.p[s];
                a.is_video = "v" === a.t,
                a.is_profile = "p" === a.t,
                a.is_gallery = "g" === a.t,
                a.is_playlist = "f" === a.t,
                n = n.replace(new RegExp("##A" + a.x + "A##","g"), t.render(r, a))
            }
            this.message.html(n).find(".preview").each(function() {
                var t = e(this)
                  , i = t.data("thumb");
                if (i) {
                    var n = t.prev(".icon,.icon-f")
                      , s = t.next(".icon,.icon-f");
                    n = n.length > 0 && "string" == typeof n[0].outerHTML ? n[0].outerHTML + " " : "",
                    s = s.length > 0 && "string" == typeof s[0].outerHTML ? " " + s[0].outerHTML : "";
                    var a = e("<span>" + n + "<strong></strong>" + s + '<br><img src="' + i + '" /></span>');
                    a.find("strong").text(t.text());
                    var r = new o(t,a,{
                        relative_to: this.node,
                        trigger: "mouseenter",
                        popup_class: "x-thread-node-link-preview-popup"
                    });
                    t.on("mouseleave", function() {
                        r.close()
                    })
                }
            })
        },
        renderChildren: function() {
            this.rendered && (this.children.toggleClass("hidden", 0 === this.nb_children),
            this.toggleChildrenShowHide(!0),
            this.renderPostBtn())
        },
        toggleChildren: function(e) {
            if ("boolean" != typeof e)
                e = !this.children_open;
            else if (e === this.children_open)
                return;
            e ? this.children_node.slideDown("fast") : this.children_node.slideUp("fast"),
            this.children_open = e,
            this.children_load_next_btn.toggleClass("hidden", !this.has_next || !this.children_open),
            this.children_load_all_btn.toggleClass("hidden", !this.has_next || this.next_is_last || !this.children_open),
            this.toggleChildrenShowHide(!0),
            this.renderPostBtn()
        },
        toggleChildrenShowHide: function(e) {
            this.children_show.toggleClass("hidden", !e || this.children_open || this.logic_node.thread.is_admin),
            this.children_hide.toggleClass("hidden", !e || !this.children_open || this.logic_node.thread.is_admin)
        },
        renderVotes: function(e) {
            this.votes_count_good.html(e.nbf).toggleClass("hidden", 0 === e.nb || this.pending_delete),
            this.votes_count_bad.html(e.nbbf).toggleClass("hidden", 0 === e.nbb || this.pending_delete),
            this.thumb_up.toggleClass("active", "GOOD" === e.user).toggleClass("hidden", this.pending_delete),
            this.thumb_down.toggleClass("active", "BAD" === e.user).toggleClass("hidden", this.pending_delete)
        },
        setupEditBtn: function(e, t) {
            if (this.edit_timer && (clearInterval(this.edit_timer),
            this.edit_timer = null),
            this.edit.toggleClass("hidden", !e).html(u.__(this.getMessageKey("edit"), {}, "Edit")),
            e && (this.edit_remaining = t - Math.round((new Date).getTime() / 1e3),
            !(this.edit_remaining < 60))) {
                var i = this;
                this.edit_timer = setInterval(function() {
                    i.updateEditTimer()
                }, 1e3),
                this.updateEditTimer()
            }
        },
        updateEditTimer: function() {
            if (--this.edit_remaining <= 0)
                return this.edit_timer && (clearInterval(this.edit_timer),
                this.edit_timer = null),
                this.edit.addClass("hidden"),
                void (this.form_node && "edit" === this.form_node.ui_node.mode && this.form_node.close());
            var e = []
              , t = Math.floor(this.edit_remaining / 60);
            t > 0 && e.push(t + "m"),
            e.push(this.edit_remaining - 60 * t + "s"),
            this.edit.html(u.__(this.getMessageKey("edit"), {}, "Edit") + " (" + e.join(" ") + ")")
        },
        renderEditBtn: function(e) {
            if (!this.edit)
                return !1;
            e && (this.poster.removeClass("hidden"),
            this.message.removeClass("hidden")),
            this.edit.toggleClass("hidden", !this.logic_node.can_edit || this.edit_remaining <= 0 || this.logic_node.isFormOpened() || this.logic_node.isDeleting() || this.logic_node.isUndeleting())
        },
        renderPostBtn: function() {
            if (!this.logic_node.canPost())
                return this.btn_post_in_next.addClass("hidden"),
                void this.btn_post_other.addClass("hidden");
            this.btn_post_in_next.toggleClass("hidden", this.logic_node.canLoadChildren() || this.logic_node.isFormOpened() || !this.children_open || this.logic_node.isDeleting() || this.logic_node.isUndeleting()),
            this.btn_post_other.toggleClass("hidden", this.logic_node.isFormOpened() || this.children_open || this.logic_node.isDeleting() || this.logic_node.isUndeleting())
        },
        prependChild: function(e) {
            this.children_node.prepend(e.node)
        },
        appendChild: function(e) {
            this.children_node.append(e.node)
        },
        setNbNext: function(e, t) {
            if (this.has_next = e > 0,
            this.next_is_last = e <= t,
            this.children_load_next_btn.toggleClass("hidden", !this.has_next || !this.children_open),
            this.children_load_all_btn.toggleClass("hidden", !this.has_next || this.next_is_last || !this.children_open),
            e > 0) {
                var i;
                i = 1 === e ? u.__(this.getMessageKey("load_last_reply"), {}, "Load last reply") : e <= t ? u.__(this.getMessageKey("load_last_nb_replies"), {
                    "%nb%": e.toFixed(0)
                }, "Load last %nb% replies") : u.__(this.getMessageKey("load_next_nb_replies"), {
                    "%nb%": t.toFixed(0)
                }, "Load next %nb% replies"),
                this.children_load_next_btn.html(i)
            }
        },
        destroy: function() {
            this.node.remove(),
            this.form_node && delete this.form_node
        },
        show: function() {
            this.node.show()
        },
        hide: function() {
            this.node.hide()
        },
        showLoader: function() {
            this.loader.removeClass("hidden"),
            this.content.addClass("hidden")
        },
        hideLoader: function() {
            this.loader.addClass("hidden")
        },
        showError: function(t, i) {
            var n = this.error.empty().removeClass("hidden");
            if (!t)
                var o = "node_error"
                  , s = "Loading failed!";
            i && (n = e("<a></a>").appendTo(this.error).on("click", function(e) {
                e.preventDefault(),
                i()
            }),
            t || (o = "node_error_retry",
            s = "Loading failed! Please click here to retry.")),
            n.html(t || u.__(this.getMessageKey(o), {}, s)),
            this.content.addClass("hidden")
        },
        hideError: function() {
            this.error.addClass("hidden")
        },
        showChildrenLoader: function() {
            this.children_loader.removeClass("hidden"),
            this["delete"] && this["delete"].addClass("hidden"),
            this.undelete && this.undelete.addClass("hidden"),
            this.children_load_next_btn.addClass("hidden"),
            this.children_load_all_btn.addClass("hidden")
        },
        hideChildrenLoader: function() {
            this.children_loader.addClass("hidden"),
            this["delete"] && this["delete"].toggleClass("hidden", !this.logic_node.can_delete),
            this.undelete && this.undelete.toggleClass("hidden", !this.logic_node.can_undelete)
        },
        showChildrenError: function(t, i) {
            var n = this.children_error.empty().removeClass("hidden");
            if (!t)
                var o = "children_error"
                  , s = "Loading failed!";
            i && (n = e("<a></a>").appendTo(this.children_error).on("click", function(e) {
                e.preventDefault(),
                i()
            }),
            t || (o = "children_error_retry",
            s = "Loading failed! Please click here to retry.")),
            n.html(t || u.__(this.getMessageKey(o), {}, s))
        },
        hideChildrenError: function() {
            this.children_error.addClass("hidden")
        },
        setDeleteError: function(e) {
            this["delete"].html(e).addClass("has-error");
            var t = this;
            window.setTimeout(function() {
                t["delete"].html(u.__(t.getMessageKey("delete"), {}, "Delete")).removeClass("has-error")
            }, 3e4)
        },
        setUndeleteError: function(e) {
            this.undelete.html(e).addClass("has-error");
            var t = this;
            window.setTimeout(function() {
                t.undelete.html(u.__(t.getMessageKey("restore"), {}, "Restore")).removeClass("has-error")
            }, 3e4)
        },
        disableReport: function() {
            this.report.addClass("success").html(u.__(this.getMessageKey("report_thanks"), {}, "Thanks for your report!"))
        },
        toggleVotesDelete: function(e) {
            this.metadata.toggleClass("votes-disabled", !e),
            this["delete"].toggleClass("hidden", !e || !this.logic_node.can_delete),
            this.undelete.toggleClass("hidden", !e || !this.logic_node.can_undelete),
            this.report.toggleClass("hidden", !e || !this.logic_node.can_report)
        }
    },
    f
}),
define("text!skins/common/thread/ui/root.mustache", [], function() {
    return '<div class="x-thread thread-{{ type }}">\r\n\t<div class="thread-header">\r\n\t\t<span class="thread-title"></span>\r\n\t\t<span class="thread-node-children-count"></span>\r\n\t\t<a href="#" class="thread-node-btn thread-node-btn-sort mobile-only-show-inline hidden"><span class="icon-f icf-sliders"></span></a>\r\n\t\t<span class="thread-sort mobile-only-hide hidden">{{{ lbl_sort_by }}}</span>\r\n\t\t<a href="#" class="thread-node-btn thread-node-btn-post hidden">{{{ lbl_post_reply }}}</a>\r\n\t</div>\r\n\t<div class="thread-form hidden"></div>\r\n\t<div class="thread-node-loader hidden"></div>\r\n\t<div class="thread-node-error hidden"></div>\r\n\t{{> children}}\r\n</div>'
}),
define("text!skins/common/thread/ui/sort_popup.mustache", [], function() {
    return '<ul>\n\t<li><a href="#" class="top{{#active_top}} active{{/active_top}}">{{{ lbl_top }}}</a></li>\n\t<li><a href="#" class="new{{#active_new}} active{{/active_new}}">{{{ lbl_new }}}</a></li>\n\t<li><a href="#" class="worst{{#active_worst}} active{{/active_worst}}">{{{ lbl_worst }}}</a></li>\n\t<li><a href="#" class="old{{#active_old}} active{{/active_old}}">{{{ lbl_old }}}</a></li>\n\t<li><a href="#" class="author{{#active_author}} active{{/active_author}}">{{{ lbl_author }}}</a></li>\n</ul>'
}),
define("skins/common/thread/ui/root", ["mustache", "lib/helpers/popup", "./node", "text!./root.mustache", "text!./sort_popup.mustache", "lib/i18n!front"], function(e, t, i, n, o, s) {
    var a = function(e, t, n, o) {
        void 0 !== e && (this.type = e,
        this.title = t,
        this.id_related = n,
        this.sort = null,
        i.apply(this, [0, null]),
        o.empty().append(this.node))
    };
    return a.prototype = new i,
    a.prototype.getTemplate = function() {
        return n
    }
    ,
    a.prototype.getTemplateVars = function() {
        var e = i.prototype.getTemplateVars.apply(this, []);
        return e.type = this.type,
        e.lbl_sort_by = s.__(this.getMessageKey("sort_by"), {
            "%start_top%": '<a class="top">',
            "%end_top%": "</a>",
            "%start_new%": '<a class="new">',
            "%end_new%": "</a>",
            "%start_worst%": '<a class="worst">',
            "%end_worst%": "</a>",
            "%start_old%": '<a class="old">',
            "%end_old%": "</a>",
            "%start_author%": '<a class="author">',
            "%end_author%": "</a>"
        }, "Sort by %start_top%Top%end_top% / %start_new%New%end_new% / %start_worst%Worst%end_worst% / %start_old%Old%end_old% / %start_author%Author%end_author%"),
        e
    }
    ,
    a.prototype.getMessageKey = function(e) {
        return "sort_by" === e ? "misc.sort_by_top_new_worst_old_author" : "reply" === e || "post_reply" === e ? "misc.post_message" : "sort_by_top" === e ? "misc.top" : "sort_by_worst" === e ? "misc.worst" : "sort_by_new" === e ? "misc.new" : "sort_by_old" === e ? "misc.old" : "sort_by_author" === e ? "misc.author" : "one_reply_before" === e ? "misc.one_message_before" : "nb_replies_before" === e ? "misc.nb_messages_before" : "one_reply_between" === e ? "misc.one_message_between" : "nb_replies_between" === e ? "misc.nb_messages_between" : "one_reply_after" === e ? "misc.one_message_after" : "nb_replies_after" === e ? "misc.nb_messages_after" : i.prototype.getMessageKey.apply(this, [e])
    }
    ,
    a.prototype.setNbChildren = function(e) {
        i.prototype.setNbChildren.apply(this, [e]),
        this.sort_btn.toggleClass("hidden", 0 === e),
        this.sort_links.toggleClass("hidden", 0 === e),
        this.children_count.text(e)
    }
    ,
    a.prototype.render = function() {
        this.rendered = !0,
        this.renderChildren()
    }
    ,
    a.prototype.getNodes = function() {
        this.content = this.node,
        this.node.find(".thread-title").html(this.title);
        var e = this;
        this.sort_links = this.node.find(".thread-sort"),
        this.sort_link_top = this.sort_links.find(".top").on("click", function(t) {
            t.preventDefault(),
            e.logic_node.updateSort("top")
        }),
        this.sort_link_new = this.sort_links.find(".new").on("click", function(t) {
            t.preventDefault(),
            e.logic_node.updateSort("new")
        }),
        this.sort_link_worst = this.sort_links.find(".worst").on("click", function(t) {
            t.preventDefault(),
            e.logic_node.updateSort("worst")
        }),
        this.sort_link_old = this.sort_links.find(".old").on("click", function(t) {
            t.preventDefault(),
            e.logic_node.updateSort("old")
        }),
        this.sort_link_author = this.sort_links.find(".author").on("click", function(t) {
            t.preventDefault(),
            e.logic_node.updateSort("author")
        }),
        this.sort_btn = this.node.find(".thread-node-btn-sort"),
        this.createPopup(),
        this.form = this.node.find(".thread-form")
    }
    ,
    a.prototype.getChildrenNodes = function() {
        i.prototype.getChildrenNodes.apply(this, []),
        this.children_hide.remove(),
        this.children_show.remove(),
        this.children_count = this.node.find(".thread-node-children-count")
    }
    ,
    a.prototype.setSort = function(e) {
        this.logic_node.thread.is_admin && this.node.find(".thread-header").addClass("hidden"),
        this.sort = e,
        this.sort_link_top.toggleClass("active", "top" === e),
        this.sort_link_new.toggleClass("active", "new" === e),
        this.sort_link_worst.toggleClass("active", "worst" === e),
        this.sort_link_old.toggleClass("active", "old" === e),
        this.sort_link_author.toggleClass("active", "author" === e),
        this.sort_popup && (this.sort_top.toggleClass("active", "top" === e),
        this.sort_new.toggleClass("active", "new" === e),
        this.sort_worst.toggleClass("active", "worst" === e),
        this.sort_old.toggleClass("active", "old" === e),
        this.sort_author.toggleClass("active", "author" === e))
    }
    ,
    a.prototype.renderPostBtn = function() {
        if (!this.logic_node.canPost())
            return this.btn_post_in_next.addClass("hidden"),
            void this.btn_post_other.addClass("hidden");
        this.btn_post_in_next.toggleClass("hidden", this.logic_node.canLoadChildren() || 0 === this.logic_node.getNbChildren() || this.logic_node.isFormOpened()),
        this.btn_post_other.toggleClass("hidden", this.logic_node.canLoadChildren())
    }
    ,
    a.prototype.createPopup = function() {
        var i = $(e.render(o, {
            lbl_top: s.__(this.getMessageKey("sort_by_top"), {}, "Top"),
            lbl_new: s.__(this.getMessageKey("sort_by_new"), {}, "New"),
            lbl_worst: s.__(this.getMessageKey("sort_by_worst"), {}, "Worst"),
            lbl_old: s.__(this.getMessageKey("sort_by_old"), {}, "Old"),
            lbl_author: s.__(this.getMessageKey("sort_by_author"), {}, "Author"),
            active_top: "top" === this.sort,
            active_new: "new" === this.sort,
            active_worst: "worst" === this.sort,
            active_old: "old" === this.sort,
            active_author: "author" === this.sort
        }));
        this.sort_popup = new t(this.sort_btn,i,{
            relative_to: this.node,
            position: {
                v: "below",
                h: "left"
            },
            closebtn: !0,
            popup_class: "thread-root-sort-popup"
        });
        var n = this;
        this.sort_top = i.find(".top").on("click", function(e) {
            e.preventDefault(),
            n.logic_node.updateSort("top"),
            n.sort_popup.close()
        }),
        this.sort_new = i.find(".new").on("click", function(e) {
            e.preventDefault(),
            n.logic_node.updateSort("new"),
            n.sort_popup.close()
        }),
        this.sort_worst = i.find(".worst").on("click", function(e) {
            e.preventDefault(),
            n.logic_node.updateSort("worst"),
            n.sort_popup.close()
        }),
        this.sort_old = i.find(".old").on("click", function(e) {
            e.preventDefault(),
            n.logic_node.updateSort("old"),
            n.sort_popup.close()
        }),
        this.sort_author = i.find(".author").on("click", function(e) {
            e.preventDefault(),
            n.logic_node.updateSort("author"),
            n.sort_popup.close()
        })
    }
    ,
    a
}),
define("skins/common/thread/video_comments/ui/node", ["../../ui/node"], function(e) {
    var t = function(t, i) {
        void 0 !== i && e.apply(this, [t, i])
    };
    return t.prototype = new e,
    t.prototype.createChild = function(e, i) {
        return new t(e,i)
    }
    ,
    t.prototype.getMessageKey = function(t) {
        switch (t) {
        case "node_loading":
            return "video.loading_comment";
        case "children_loading":
            return "video.loading_replies";
        case "children_error":
            return "video.failed_loading_replies";
        case "children_error_retry":
            return "video.failed_loading_replies_retry"
        }
        return e.prototype.getMessageKey.apply(this, [t])
    }
    ,
    t
}),
define("skins/common/thread/video_comments/ui/root", ["../../ui/root", "./node", "lib/i18n!front"], function(e, t, i) {
    var n = function(t, n, o) {
        void 0 !== t && e.apply(this, ["video-comments", "string" == typeof o ? o : i.__("video.comments", {}, "Comments"), t, n])
    };
    return n.prototype = new e,
    n.prototype.createChild = function(e, i) {
        return new t(e,i)
    }
    ,
    n.prototype.getMessageKey = function(t) {
        switch (t) {
        case "sort_by":
            return "misc.sort_by_top_new_worst_old";
        case "children_loading":
            return "video.loading_comments";
        case "children_error":
            return "video.failed_loading_comments";
        case "children_error_retry":
            return "video.failed_loading_comments_retry";
        case "load_next_nb_replies":
            return "video.load_next_nb_comments";
        case "load_last_reply":
            return "video.load_last_comment";
        case "load_last_nb_replies":
            return "video.load_last_nb_comments";
        case "load_all_replies":
            return "misc.load_all_comments";
        case "reply":
        case "post_reply":
            return "video.post_a_comment";
        case "one_reply_before":
            return "misc.one_comment_before";
        case "nb_replies_before":
            return "misc.nb_comments_before";
        case "one_reply_between":
            return "misc.one_comment_between";
        case "nb_replies_between":
            return "misc.nb_comments_between";
        case "one_reply_after":
            return "misc.one_comment_after";
        case "nb_replies_after":
            return "misc.nb_comments_after"
        }
        return e.prototype.getMessageKey.apply(this, [t])
    }
    ,
    n.prototype.createPopup = function() {
        e.prototype.createPopup.apply(this, []),
        this.sort_author.remove()
    }
    ,
    n
}),
define("skins/default/video/comments/ui_root", ["skins/common/thread/video_comments/ui/root", "lib/i18n!front"], function(e, t) {
    var i = function(t, i, n) {
        e.apply(this, [t, i, n])
    };
    return i.prototype = new e,
    i.prototype.setNbChildren = function(t) {
        e.prototype.setNbChildren.apply(this, [t]),
        $("#tabComments_btn .nb-video-comments").html(t)
    }
    ,
    i
}),
define("skins/xnxx/video/comments/ui_node", ["skins/common/thread/video_comments/ui/node"], function(e) {
    var t = function(t, i) {
        e.apply(this, [t, i])
    };
    return t.prototype = new e,
    t.prototype.createChild = function(e, i) {
        return new t(e,i)
    }
    ,
    t.prototype.getTemplateVars = function() {
        var t = e.prototype.getTemplateVars.apply(this);
        return t.has_profile = !1,
        t
    }
    ,
    t.prototype.renderDate = function(e, t) {
        this.date.html(t).prop("title", e)
    }
    ,
    t
}),
define("skins/xnxx/video/comments/ui_root", ["skins/common/thread/video_comments/ui/root", "./ui_node", "lib/i18n!front"], function(e, t, i) {
    var n = function(t, i) {
        e.apply(this, [t, i])
    };
    return n.prototype = new e,
    n.prototype.createChild = function(e, i) {
        return new t(e,i)
    }
    ,
    n.prototype.setNbChildren = function(t) {
        e.prototype.setNbChildren.apply(this, [t]),
        $("#video-content-metadata .video-metadata .tab-buttons").children().first().find(".value").html(t)
    }
    ,
    n.prototype.getMessageKey = function(t) {
        return "sort_by" === t ? "misc.most_votes_recent" : "sort_by_top" === t ? "misc.most_votes" : "sort_by_new" === t ? "misc.recent" : e.prototype.getMessageKey.apply(this, [t])
    }
    ,
    n.prototype.createPopup = function() {
        e.prototype.createPopup.apply(this, []),
        this.sort_worst.remove(),
        this.sort_old.remove(),
        this.sort_author.remove()
    }
    ,
    n
}),
define("skins/account/api/documentation", ["config/main", "lib/helpers/overlay/contextual_popup", "lib/i18n!front"], function(e, t, i) {
    $("#renew-btn").on("click", function() {
        var n = ($(this),
        e.data.csrf.api_renew);
        t.confirm(i.__("misc.are_you_sure"), function() {
            $.ajax({
                url: "/account/api/renew",
                type: "POST",
                dataType: "json",
                data: {
                    csrf: n
                },
                success: function(e) {
                    1 == e.result && ($("#api-key").html(e.api_key),
                    $("#api-password").html(e.api_password))
                }
            }).fail(function(e, t, i) {})
        })
    })
}),
define("skins/account/login", [], function() {}),
define("skins/form/element_state", ["lib/helpers/popup"], function(e) {
    var t = function(e) {
        if (this.elem = $(e),
        this.elem.length < 1)
            return !1;
        switch (this.type = this.elem.prop("nodeName").toLowerCase(),
        "input" === this.type && (this.inp_type = this.elem.prop("type").toLowerCase()),
        this.default_disable = this.elem.prop("disabled"),
        this.type) {
        case "input":
        case "select":
        case "textarea":
            this.default_val = this.elem.data("default") || this.elem.val() || !1
        }
    }
      , i = {
        pop: !1,
        next_message: !1,
        next_button: !1,
        next_class: !1,
        closing_end_timer: !1,
        next_open_timer: !1,
        closing_date: !1,
        is_closing: function() {
            return this.closing_date && $.now() - this.closing_date < 500
        },
        initPop: function() {
            if (this.pop)
                return !0;
            this.pop = new e($("<div></div>"),!1,{
                relative_to: $("#page"),
                position: {
                    v: "above",
                    h: "right"
                },
                trigger: !1,
                autoclose: !0,
                closebtn: !0
            });
            var t = this;
            this.pop.onClose = function() {
                t.closing_date = $.now()
            }
        },
        close: function() {
            if (this.initPop(),
            this.pop.isOpened() && !this.is_closing()) {
                this.pop.close(),
                this.closing_date = $.now(),
                !1 !== this.closing_end_timer && (clearTimeout(this.closing_end_timer),
                this.closing_end_timer = !1);
                var e = this;
                this.closing_end_timer = setTimeout(function() {
                    e.closing_date = !1,
                    e.closing_end_timer = !1
                }, 500)
            }
        },
        open: function() {
            this.initPop(),
            !1 !== this.next_open_timer && (clearTimeout(this.next_open_timer),
            this.next_open_timer = !1);
            var e = this;
            return this.pop.isOpened() ? (this.close(),
            void (this.next_open_timer = setTimeout(function() {
                e.open(),
                e.next_open_timer = !1
            }, 600))) : this.is_closing() ? void (this.next_open_timer = setTimeout(function() {
                e.open(),
                e.next_open_timer = !1
            }, 250)) : ("string" == typeof this.pop.options.popup_class && this.pop.popup.removeClass(this.pop.options.popup_class),
            this.pop.options.popup_class = "tooltip",
            "string" == typeof this.next_class && (this.pop.options.popup_class += " " + this.next_class),
            this.pop.open(),
            this.next_class && this.pop.popup.addClass(this.pop.options.popup_class),
            this.next_button && this.pop.setButton(this.next_button),
            this.next_message && this.pop.setContent(this.next_message),
            this.next_button = !1,
            this.next_message = !1,
            void (this.next_class = !1))
        },
        setNext: function(e, t, i) {
            this.initPop(),
            this.next_button = e,
            this.next_message = t,
            this.next_class = i
        }
    };
    return t.prototype = {
        elem: !1,
        type: !1,
        inp_type: !1,
        default_val: !1,
        default_disable: !1,
        remove_class: "success error warning wait",
        reinit: function() {
            this.elem.removeClass(this.remove_class).prop("disabled", this.default_disable),
            !1 !== i.pop && i.pop.button.is(this.elem) && i.close()
        },
        set_success: function(e) {
            switch (this.reinit(),
            this.type) {
            case "input":
            case "select":
            case "textarea":
                this.default_val = this.elem.val()
            }
            void 0 !== e && this.set_tooltip(e, "success"),
            this.elem.addClass("success")
        },
        set_error: function(e, t) {
            this.reinit(),
            "boolean" != typeof t && !1 !== t && this.default_val && ("select" !== this.type && ("input" !== this.type || "radio" !== this.inp_type && "checkbox" !== this.inp_type) || this.elem.val(this.default_val)),
            void 0 !== e && this.set_tooltip(e, "error"),
            this.elem.addClass("error")
        },
        set_wait: function(e) {
            this.reinit(),
            void 0 !== e && this.set_tooltip(e, "wait"),
            this.elem.addClass("wait").prop("disabled", !0)
        },
        set_tooltip: function(e, t) {
            e = "string" == typeof e ? $("<div>" + e + "</div>") : $(e),
            i.setNext(this.elem, e, t),
            i.open()
        }
    },
    t
}),
define("text!skins/account/uploads/uploader_stats/stats_preselect_dropdown.mustache", [], function() {
    return '<div class="input-group-btn">\n\t<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="icon-f icf-caret-down"></i></button>\n\t<ul class="dropdown-menu dropdown-menu-right">\n\t\t{{#preselects}}\n\t\t\t<li><a href="#{{{ val }}}">{{{ label }}}</a></li>\n\t\t{{/preselects}}\n\t</ul>\n</div>'
}),
function(e) {
    "use strict";
    function t(t) {
        var i = t.attr("data-target");
        i || (i = t.attr("href"),
        i = i && /#[A-Za-z]/.test(i) && i.replace(/.*(?=#[^\s]*$)/, ""));
        var n = "#" !== i ? e(document).find(i) : null;
        return n && n.length ? n : t.parent()
    }
    function i(i) {
        i && 3 === i.which || (e(o).remove(),
        e(s).each(function() {
            var n = e(this)
              , o = t(n)
              , s = {
                relatedTarget: this
            };
            o.hasClass("open") && (i && "click" == i.type && /input|textarea/i.test(i.target.tagName) && e.contains(o[0], i.target) || (o.trigger(i = e.Event("hide.bs.dropdown", s)),
            i.isDefaultPrevented() || (n.attr("aria-expanded", "false"),
            o.removeClass("open").trigger(e.Event("hidden.bs.dropdown", s)))))
        }))
    }
    function n(t) {
        return this.each(function() {
            var i = e(this)
              , n = i.data("bs.dropdown");
            n || i.data("bs.dropdown", n = new a(this)),
            "string" == typeof t && n[t].call(i)
        })
    }
    var o = ".dropdown-backdrop"
      , s = '[data-toggle="dropdown"]'
      , a = function(t) {
        e(t).on("click.bs.dropdown", this.toggle)
    };
    a.VERSION = "3.4.1",
    a.prototype.toggle = function(n) {
        var o = e(this);
        if (!o.is(".disabled, :disabled")) {
            var s = t(o)
              , a = s.hasClass("open");
            if (i(),
            !a) {
                "ontouchstart"in document.documentElement && !s.closest(".navbar-nav").length && e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click", i);
                var r = {
                    relatedTarget: this
                };
                if (s.trigger(n = e.Event("show.bs.dropdown", r)),
                n.isDefaultPrevented())
                    return;
                o.trigger("focus").attr("aria-expanded", "true"),
                s.toggleClass("open").trigger(e.Event("shown.bs.dropdown", r))
            }
            return !1
        }
    }
    ,
    a.prototype.keydown = function(i) {
        if (/(38|40|27|32)/.test(i.which) && !/input|textarea/i.test(i.target.tagName)) {
            var n = e(this);
            if (i.preventDefault(),
            i.stopPropagation(),
            !n.is(".disabled, :disabled")) {
                var o = t(n)
                  , a = o.hasClass("open");
                if (!a && 27 != i.which || a && 27 == i.which)
                    return 27 == i.which && o.find(s).trigger("focus"),
                    n.trigger("click");
                var r = o.find(".dropdown-menu li:not(.disabled):visible a");
                if (r.length) {
                    var l = r.index(i.target);
                    38 == i.which && l > 0 && l--,
                    40 == i.which && l < r.length - 1 && l++,
                    ~l || (l = 0),
                    r.eq(l).trigger("focus")
                }
            }
        }
    }
    ;
    var r = e.fn.dropdown;
    e.fn.dropdown = n,
    e.fn.dropdown.Constructor = a,
    e.fn.dropdown.noConflict = function() {
        return e.fn.dropdown = r,
        this
    }
    ,
    e(document).on("click.bs.dropdown.data-api", i).on("click.bs.dropdown.data-api", ".dropdown form", function(e) {
        e.stopPropagation()
    }).on("click.bs.dropdown.data-api", s, a.prototype.toggle).on("keydown.bs.dropdown.data-api", s, a.prototype.keydown).on("keydown.bs.dropdown.data-api", ".dropdown-menu", a.prototype.keydown)
}(jQuery),
define("bootstrap/dropdown", function() {}),
define("skins/account/uploads/uploader_stats/filters", ["config/main", "mustache", "lib/i18n!front", "skins/form/validator", "text!./stats_preselect_dropdown.mustache", "bootstrap/dropdown"], function(e, t, i, n, o) {
    var s = function(e, t, i) {
        if ("month" === i) {
            var n = e.getMonth() - t;
            n < 0 && (n = 12 + n),
            e.setMonth(n)
        }
        "year" === i && e.setFullYear(e.getFullYear() - 1)
    }
      , a = function(e) {
        e.setDate(e.getDate() - 1),
        e.setHours(0),
        e.setMinutes(0),
        e.setSeconds(0),
        e.setMilliseconds(0)
    }
      , r = function(e) {
        this.form = e
    };
    return r.prototype = {
        setStatsLoad: function(e) {
            this.load_stats = e
        },
        setup: function(r, l) {
            if (0 === this.form.length)
                return !1;
            "string" == typeof l && (this.form.parent().html(l),
            this.form = $("#uploader-stats-filter"));
            var u = new n(this.form,r)
              , f = $("#uploader-stats-filter_dates_from").parent()
              , c = $("#uploader-stats-filter_dates_to").parent()
              , d = this
              , h = $('<button type="button" class="btn btn-md btn-danger">' + i.__("misc.update", {}, "Update") + "</button>").on("click", function() {
                if (u.is_valid) {
                    var e = f.data("DateTimePicker")
                      , t = c.data("DateTimePicker");
                    if (e && t) {
                        if (e = e.date(),
                        t = t.date(),
                        !e || !t)
                            return void d.load_stats(i.__("datetime.all_time"));
                        d.load_stats(e.format("ll") + " " + i.__("misc.to") + " " + t.format("ll"))
                    }
                }
            }).toggle(u.is_valid)
              , p = $('<button type="button" class="btn btn-md btn-danger" title="' + i.__("misc.download_stats", "Download statistics") + '"><span class="icon-f icf-download"></button>').on("click", function() {
                if (u.is_valid) {
                    var t = d.form.serializeArray()
                      , i = "0000-00-00"
                      , n = "0000-00-00"
                      , o = "0";
                    for (var s in t)
                        "uploader-stats-filter[dates][from]" === t[s].name && "string" == typeof t[s].value && t[s].value.length > 0 && (i = t[s].value),
                        "uploader-stats-filter[dates][to]" === t[s].name && "string" == typeof t[s].value && t[s].value.length > 0 && (n = t[s].value),
                        e.data.with_sub_accounts && "uploader-stats-filter[accounts][]" === t[s].name && ("0" === o ? o = t[s].value : o += "-" + t[s].value);
                    window.open("/account/uploads/statistics/" + o + "/" + i + "/" + n + "/export.csv", "_blank")
                }
            }).toggle(u.is_valid)
              , _ = this.form.find(".form-field-uploader-stats-filter_accounts .content");
            _.length > 0 && (_.append(p),
            _.append(h)),
            u.errorChanged = function(e, t) {
                n.prototype.errorChanged.apply(this, arguments),
                h.toggle(u.is_valid),
                p.toggle(u.is_valid)
            }
            ;
            var g = [{
                val: "this-month",
                label: i.__("datetime.this_month")
            }, {
                val: "last-month",
                label: i.__("datetime.last_month")
            }, {
                val: "last-3-month",
                label: i.__("datetime.last_nb_months", {
                    "%nb%": "3"
                })
            }, {
                val: "last-6-month",
                label: i.__("datetime.last_nb_months", {
                    "%nb%": "6"
                })
            }, {
                val: "this-year",
                label: i.__("datetime.this_year")
            }, {
                val: "last-year",
                label: i.__("datetime.last_year")
            }, {
                val: "all-time",
                label: i.__("datetime.all_time")
            }]
              , m = $(t.render(o, {
                preselects: g
            }))
              , b = function(e) {
                for (var t in g)
                    if (g[t].val === e)
                        return g[t].label
            };
            this.form.find(".form-field-uploader-stats-filter_dates_to .input-group-addon").last().replaceWith(m),
            m.children("button").dropdown(),
            0 === _.length && (m.append(h.removeClass("btn-md").html('<span class="mobile-only-hide">' + h.text() + '</span><span class="mobile-only-show"><span class="icon-f icf-check"></span></span>')),
            m.append(p.removeClass("btn-md"))),
            m.find("a").on("click", function(e) {
                e.preventDefault();
                var t = $(this).attr("href").substr(1)
                  , i = f.data("DateTimePicker")
                  , n = c.data("DateTimePicker");
                if (i && n) {
                    var o = b(t);
                    if ("all-time" === t)
                        return i.clear(),
                        n.clear(),
                        void d.load_stats(o);
                    t = t.split("-");
                    var r = t[0]
                      , l = 2 === t.length ? 1 : t[1]
                      , u = t[t.length - 1]
                      , h = new Date
                      , p = new Date;
                    a(h),
                    a(p),
                    h.setDate(1),
                    "year" === u && h.setMonth(0),
                    "last" === r && (s(h, l, u),
                    1 === l && (p.setDate(1),
                    "year" === u && p.setMonth(0),
                    p.setDate(0))),
                    i.date(h),
                    n.date(p),
                    d.load_stats(o)
                }
            })
        },
        reset: function() {
            this.form && (this.form.find(".form-group.has-error").remove(),
            this.form.find(".error-block").remove())
        },
        serializeArray: function() {
            var t = this.form.serializeArray();
            return t.push({
                name: "with_sub_accounts",
                value: e.data.with_sub_accounts ? 1 : 0
            }),
            t
        }
    },
    r
}),
define("lib/helpers/amcharts/remove_credits", [], function() {
    return function(e) {
        $(e).find("title").each(function() {
            "Chart created using amCharts library" === $.trim($(this).text()) && $(this).parent().remove()
        })
    }
}),
define("skins/account/uploads/uploader_stats/views_earnings_chart", ["config/main", "lib/helpers/amcharts/remove_credits"], function(e, t) {
    var i = function(e, t, i) {
        this.id = e,
        this.get_series_config = i,
        this.mode = t,
        this.chart_data = null,
        this.chart_obj = null
    };
    return i.prototype = {
        onLoaded: null,
        create: function(i) {
            if (this.chart_obj)
                return void (this.chart_obj.data = i);
            if (this.chart_data)
                return void (this.chart_data = i);
            this.chart_data = i;
            var n = this
              , o = ["libs/amcharts4/core", "libs/amcharts4/charts"]
              , s = "en";
            for (var a in e.amcharts_langs) {
                var r = e.amcharts_langs[a]
                  , l = r.replace("_", "-");
                if (l === e.dyn.locale) {
                    s = r;
                    break
                }
                if ((l = l.substr(0, 2)) === e.dyn.locale) {
                    s = r;
                    break
                }
            }
            o.push("libs/amcharts4/lang/" + s),
            "dark" === e.dyn.theme && o.push("libs/amcharts4/themes/dark"),
            require(o, function(e, i, o, s) {
                s && e.useTheme(s);
                var a = e.create(n.id, i.XYChart);
                a.mouseWheelBehavior = "zoomX",
                a.language.locale = o,
                a.zoomOutButton.parent = a.tooltipContainer,
                n.onLoaded && a.events.once("ready", function() {
                    n.onLoaded(),
                    a.events.on("datavalidated", function() {
                        n.onLoaded()
                    })
                });
                var r = function() {
                    t($("#" + n.id)),
                    setTimeout(r, 2e3)
                };
                a.events.on("ready", r);
                var l = a.xAxes.push(new i.DateAxis);
                l.strokeDasharray = [1, 1],
                l.showOnInit = !1,
                "month" === n.mode ? l.dateFormats.setKey("month", "MMM, yyyy") : l.dateFormats.setKey("day", "d MMM, yyyy"),
                l.renderer.ticks.template.disabled = !1,
                l.renderer.ticks.template.strokeOpacity = 1,
                l.renderer.ticks.template.stroke = e.color("#666"),
                l.renderer.ticks.template.strokeWidth = 1,
                l.renderer.ticks.template.length = 5,
                a.events.on("datavalidated", function() {
                    var e = a.data.length > 40 ? (a.data.length - 40) / a.data.length : 0;
                    l.zoom({
                        start: e,
                        end: 1
                    })
                });
                var u = a.yAxes.push(new i.ValueAxis);
                u.numberFormatter = new e.NumberFormatter,
                u.numberFormatter.numberFormat = "#.# a",
                u.min = 0;
                var f = a.yAxes.push(new i.ValueAxis);
                f.numberFormatter = new e.NumberFormatter,
                f.numberFormatter.numberFormat = "$ #.#",
                f.min = 0,
                f.renderer.opposite = !0,
                a.scrollbarX = new i.XYChartScrollbar,
                a.scrollbarX.parent = a.bottomAxesContainer;
                var c = n.get_series_config(f);
                for (var d in c)
                    n.createSeries(e, a, u, f, c[d]);
                a.cursor = new i.XYCursor,
                a.cursor.xAxis = l,
                a.legend = new i.Legend,
                a.data = n.chart_data,
                n.chart_obj = a
            })
        },
        createSeries: function(e, t, i, n, o) {
            var s = t.series.push(new am4charts.LineSeries);
            s.name = o.name,
            s.dataFields.valueY = o.field,
            s.dataFields.dateX = "date",
            s.strokeWidth = 2,
            s.stroke = e.color(o.color),
            o.dashed && (s.strokeDasharray = "5,5"),
            s.tooltip.getFillFromObject = !1,
            s.tooltip.getStrokeFromObject = !1,
            s.tooltip.background.fill = e.color("#fff"),
            s.tooltip.background.fillOpacity = .8,
            s.tooltip.background.stroke = e.color(o.color),
            s.tooltip.background.strokeWidth = 1,
            s.tooltip.background.cornerRadius = 0,
            s.tooltip.label.fill = e.color("#000"),
            s.tooltipText = o.name + ": {valueY}",
            s.legendSettings.valueText = "{valueY.sum}",
            this.isHidden("views_earnings", o.field) && (s.visible = !1);
            var a = this;
            s.events.on("hidden", function() {
                a.onSeriesToggle("views_earnings", o.field, !1)
            }),
            s.events.on("shown", function() {
                a.onSeriesToggle("views_earnings", o.field, !0)
            }),
            o.axis && (s.yAxis = o.axis,
            o.axis === n && (s.tooltipText = o.name + ": ${valueY}")),
            0 === t.scrollbarX.series.length && t.scrollbarX.series.push(s)
        },
        destroy: function() {
            this.chart_data = null,
            this.chart_obj && (this.chart_obj.dispose(),
            this.chart_obj = null)
        },
        onSeriesToggle: function(e, t, i) {
            var n = xv.storage;
            if ("local" === n.type) {
                var o = n.get(e, "acct_charts_labels");
                null === o && (o = []);
                for (var s = 0; s < o.length; s++)
                    if (o[s] === t)
                        return void (i && (o.splice(s, 1),
                        0 === o.length ? n.remove(e, "acct_charts_labels") : n.set(e, o, "acct_charts_labels")));
                i || (o.push(t),
                n.set(e, o, "acct_charts_labels"))
            }
        },
        isHidden: function(e, t) {
            var i = xv.storage;
            if ("local" === i.type) {
                var n = i.get(e, "acct_charts_labels");
                if (!n)
                    return !1;
                for (var o = 0; o < n.length; o++)
                    if (n[o] === t)
                        return !0;
                return !1
            }
        }
    },
    i
}),
define("skins/account/uploads/uploader_stats/main_chart_series", ["static/utils", "lib/i18n!front"], function(e, t) {
    return function(i) {
        var n = [];
        return n.push({
            field: "v",
            name: e.unescape(t.__("stats.total_views")),
            color: "#000"
        }),
        n.push({
            field: "r",
            name: e.unescape(t.__("stats.paid_views")),
            color: "#000",
            dashed: !0
        }),
        n.push({
            field: "x",
            name: e.unescape(t.__("stats.xvideos_views")),
            color: "#de2600"
        }),
        n.push({
            field: "o",
            name: e.unescape(t.__("stats.network_views")),
            color: "#004be8"
        }),
        n.push({
            field: "f",
            name: "XVideos RED",
            color: "#de2600",
            axis: i,
            dashed: !0
        }),
        n.push({
            field: "e",
            name: e.unescape(t.__("stats.free_vids_earnings")),
            color: "#009000",
            dashed: !0,
            axis: i
        }),
        n.push({
            field: "te",
            name: e.unescape(t.__("stats.total_earnings")),
            color: "#009000",
            axis: i
        }),
        n
    }
}),
define("skins/account/uploads/uploader_stats/pie_chart", ["config/main", "lib/helpers/amcharts/remove_credits"], function(e, t) {
    var i = function(e, t) {
        this.id = e,
        this.is_earnings = !!t,
        this.title = null,
        this.title_obj = null,
        this.chart_data = null,
        this.colors = null,
        this.chart_obj = null
    };
    return i.prototype = {
        onLoaded: null,
        setTitle: function(e) {
            if (!this.chart_obj)
                return void (this.title = e);
            this.title_obj || (this.title_obj = this.chart_obj.titles.create(),
            this.title_obj.fontSize = 14,
            this.title_obj.marginBottom = 30,
            this.title_obj.fontWeight = "bold"),
            this.title_obj.text = e
        },
        create: function(i) {
            if (this.chart_obj)
                return void (this.chart_obj.data = i);
            if (this.chart_data)
                return void (this.chart_data = i);
            this.chart_data = i;
            var n = this
              , o = ["libs/amcharts4/core", "libs/amcharts4/charts"]
              , s = "en";
            for (var a in e.amcharts_langs) {
                var r = e.amcharts_langs[a]
                  , l = r.replace("_", "-");
                if (l === e.dyn.locale) {
                    s = r;
                    break
                }
                if ((l = l.substr(0, 2)) === e.dyn.locale) {
                    s = r;
                    break
                }
            }
            o.push("libs/amcharts4/lang/" + s),
            "dark" === e.dyn.theme && o.push("libs/amcharts4/themes/dark"),
            require(o, function(e, i, o, s) {
                s && e.useTheme(s);
                var a = e.create(n.id, i.PieChart);
                a.language.locale = o,
                a.innerRadius = e.percent(20),
                n.onLoaded && a.events.once("ready", function() {
                    n.onLoaded(),
                    a.events.on("datavalidated", function() {
                        n.onLoaded()
                    })
                }),
                a.events.on("ready", function() {
                    t($("#" + n.id))
                });
                var r = a.series.push(new i.PieSeries);
                r.dataFields.value = "value",
                r.dataFields.category = "label",
                n.is_earnings ? (r.labels.template.text = "{category}: {value.value.formatNumber('#.##a')}$",
                r.slices.template.tooltipText = "{category}: $ {value.value.formatNumber('#.00')} ({value.percent.formatNumber('#.0')}%)") : (r.labels.template.text = "{category}: {value.value.formatNumber('#.##a')}",
                r.slices.template.tooltipText = "{category}: {value.value} ({value.percent.formatNumber('#.0')}%)"),
                r.labels.template.disabled = !0,
                r.colors = new e.ColorSet,
                r.colors.list = [];
                for (var l in n.chart_data)
                    r.colors.list.push(new e.color(n.chart_data[l].color));
                r.slices.template.stroke = e.color("#fff"),
                r.slices.template.strokeWidth = 2,
                r.slices.template.strokeOpacity = 1,
                a.legend = new i.Legend,
                a.legend.position = "right",
                a.legend.width = new e.percent(100),
                a.data = n.chart_data,
                n.chart_obj = a,
                n.title && (n.setTitle(n.title),
                n.title = null)
            })
        }
    },
    i
}),
define("skins/account/uploads/uploader_stats/manager", ["config/main"], function(e) {
    "object" == typeof e.data.stats_form_js_rules && require(["static/utils", "lib/helpers/inline_loader", "lib/helpers/overlay", "lib/i18n!front", "skins/account/uploads/uploader_stats/filters", "skins/account/uploads/uploader_stats/views_earnings_chart", "skins/account/uploads/uploader_stats/main_chart_series", "skins/account/uploads/uploader_stats/pie_chart", "libs/amcharts4/core"], function(t, i, n, o, s, a, r, l) {
        var u = $("#stats-views-chart")
          , f = null
          , c = $("#uploader-stats-container")
          , d = null
          , h = 0
          , p = function() {
            --h <= 0 && d && d.hide()
        }
          , _ = new s($("#uploader-stats-filter"))
          , g = new a("stats-views-chart","day",r);
        g.onLoaded = function() {
            f && f.hide()
        }
        ;
        var m = "channels_content_partner_program" !== e.data.action;
        if (m) {
            var b = new l("uploader-stats-nbvideos");
            b.onLoaded = p;
            var v = new l("uploader-stats-views");
            v.onLoaded = p
        }
        var D = new l("uploader-stats-claimed",!0);
        D.onLoaded = p;
        var y = new l("uploader-stats-balance",!0);
        y.onLoaded = p;
        var w = new l("uploader-stats-earnings",!0);
        w.onLoaded = p;
        var C = function(e) {
            f || (f = n.get(u.parent(), !1).setContent('<p class="text-center"><strong>' + i.get("after", o.__("loading.loading")).getHtml() + "</strong></p>"),
            f.node.addClass("x-overlay-inside")),
            d || (d = n.get(c, !1).setContent('<p class="text-center"><strong>' + i.get("after", o.__("loading.loading")).getHtml() + "</strong></p>"),
            d.node.addClass("x-overlay-inside")),
            f.show(),
            d.show(),
            $.post("/account/uploads/statistics.json", _.serializeArray(), function(i) {
                if (_.reset(),
                f.hide(),
                d.hide(),
                !i.result)
                    return 15 === i.code ? void _.setup(i.js_validation_rules, i.form) : (g.destroy(),
                    void u.html('<p class="text-center text-danger"><strong>' + o.__("loading.error") + "</strong></p>"));
                for (var n in i) {
                    var s = i[n];
                    if ((s || "object" == typeof s) && s.length)
                        for (var a in s) {
                            var r = s[a];
                            !r && "object" != typeof r || "string" != typeof r.label || (r.label = t.unescape(r.label))
                        }
                }
                h = m ? 5 : 3,
                g.create(i.graph_stats),
                m && (b.create(i.nb_videos_stats),
                b.setTitle(t.unescape(o.__("misc.videos")) + ": " + i.nb_videos_total),
                v.create(i.views_stats),
                v.setTitle(t.unescape(o.__("misc.views_period", {
                    "%period%": e
                })) + ": " + i.views_total)),
                D.create(i.claimed_stats),
                D.setTitle(t.unescape(o.__("misc.claimed_earnings")) + ": " + i.total_claimed),
                y.create(i.balance_stats),
                y.setTitle(t.unescape(o.__("misc.earnings_balance")) + ": " + i.total_balance),
                w.create(i.earnings_stats),
                w.setTitle(t.unescape(o.__("misc.earnings_period", {
                    "%period%": e
                })) + ": " + i.total_earnings)
            }, "json").fail(function() {
                f.hide(),
                d.hide(),
                g.destroy(),
                u.html('<p class="text-center text-danger"><strong>' + o.__("loading.error") + "</strong></p>").show()
            })
        };
        _.setStatsLoad(C),
        _.setup(e.data.stats_form_js_rules),
        C(o.__("datetime.all_time"))
    })
}),
define("skins/account/channels/content_partner_program", ["config/main", "lib/helpers/popup", "skins/form/validator", "skins/form/element_state", "lib/i18n!front", "skins/account/uploads/uploader_stats/manager"], function(e, t, i, n, o) {
    var s = $("#invoice-upload");
    s.length > 0 && new i(s,e.data.invoice_form_rules);
    var a = $("#content-owner");
    if (a.length > 0) {
        new i(a,e.data.form_validation_rules);
        var r = $('<span class="help-block">' + o.__("revshare.min_payment_help", {
            "%payment_type%": '<strong class="min-payment-help-type"></strong>',
            "%default_value%": '<strong class="min-payment-help-default"></strong>',
            "%min_value%": '<strong class="min-payment-help-min"></strong>'
        }, "Default value for %payment_type%: %default_value% (write 0 or let blank to use default). Minimum value for %payment_type%: %min_value%.") + "</span>").insertAfter("#content-owner_auto-payout_min_payment")
          , l = $("#content-owner_auto-payout_payment_currency")
          , u = l.children('option[value="USD"]')
          , f = l.children('option[value="EUR"]')
          , c = r.find(".min-payment-help-type")
          , d = r.find(".min-payment-help-min")
          , h = r.find(".min-payment-help-default")
          , p = $("#content-owner_auto-payout_payment_type")
          , _ = $("#content-owner_bank_payment_swift_code")
          , g = $("#content-owner_bank_payment_no_swift_code")
          , m = $("#content-owner_account-id")
          , b = m.find(".form-field-content-owner_account-id_payment_account_id label")
          , v = m.find(".content-partener-warning")
          , D = m.children(".form-field-content-owner_account-id_payment_crypto_network")
          , y = $("#content-owner_bank")
          , w = y.find(".form-field-content-owner_bank_payment_bank_name,.form-field-content-owner_bank_payment_bank_address")
          , C = y.find(".form-field-content-owner_bank_payment_bank_country,.form-field-content-owner_bank_payment_account_type")
          , k = $("#content-owner_intermediary-bank")
          , x = function() {
            var e = g.is(":checked");
            _.toggleClass("disabled", e).prop("disabled", e)
        }
          , F = function() {
            var t = p.val();
            m.toggle("WIRE" !== t),
            v.toggle("CRYPTO_WALLET" === t),
            D.toggle("CRYPTO_WALLET" === t),
            y.toggle("WIRE" === t || "TRANSFERWISE" === t),
            w.toggle("WIRE" === t),
            C.toggle("TRANSFERWISE" === t),
            k.toggle("WIRE" === t),
            c.text(t),
            d.html(e.data.min_payments[t]),
            h.html(e.data.min_payments_default[t]),
            "COSMO" === t ? b.html(o.__("revshare.cosmo_9digit_san", {}, "COSMO 9-digit SAN")) : "EPAYSERVICE" === t ? b.html(o.__("revshare.epayservice_wallet_number", {}, "ePayService Wallet Number")) : "TRANSFERWISE" === t ? b.html(o.__("revshare.transferwise_email", {}, "Email linked to your Wise account (optional)")) : "CRYPTO_WALLET" === t ? b.html(o.__("revshare.tether_address", {}, "Tether address")) : b.html(o.__("revshare.paxum_email_address", {}, "Paxum email address")),
            u.text("CRYPTO_WALLET" === t ? "USDT" : "$US"),
            f.toggle("COSMO" !== t && "EPAYSERVICE" !== t && "CRYPTO_WALLET" !== t),
            "COSMO" !== t && "EPAYSERVICE" !== t && "CRYPTO_WALLET" !== t || l.val("USD")
        };
        p.on("change", F),
        g.on("change", x),
        F(),
        x();
        var E = $('#content-owner_attachments input[type="file"]');
        if (E.length > 1) {
            var T = 0;
            E.on("change", function() {
                E.index(this) >= T && (T++,
                E.eq(T).closest("fieldset").show())
            })
        }
    }
    var S = $("#adsrevshare-payments-history");
    if (S.length > 0) {
        var L, P, I, M, A, O = function() {
            return L || (L = new t($("<div></div>"),!1,{
                relative_to: $("#account-content-block .panel-heading"),
                position: {
                    v: "above",
                    h: "right"
                },
                trigger: !1,
                autoclose: !0,
                closebtn: !1,
                popup_class: "stats-info-pop"
            })),
            L
        }, B = function(e, t) {
            e && e !== P && (P = e,
            I = t.clone(),
            M = Date.now(),
            R())
        }, j = function() {
            A = Date.now(),
            R()
        }, R = function() {
            if (!M)
                return !1;
            if (!A || M >= A) {
                var e = O();
                return !(!e.isOpened() || !e.button.is(P)) || (e.open(),
                e.setButton(P),
                e.setContent(I),
                !0)
            }
            window.setTimeout(N, 750)
        }, N = function() {
            A && M < A && O().close()
        }, V = function(e) {
            e.find(".with-info").click(function() {
                B($(this), $(this).find(".info-content"))
            }).hover(function() {
                B($(this), $(this).find(".info-content"))
            }, j),
            e.find(".open-details").click(function() {
                var e = $(this).data("opened");
                $(this).toggleClass("icf-eye icf-eye-blocked").prop("title", o.__("misc." + (e ? "show_details" : "hide_details"))).parents("tr").nextUntil(":not(.sub-row)").toggleClass("hidden", e),
                $(this).data("opened", !e)
            })
        };
        V(S);
        var U = $("#display-next-transfers");
        if (U.length > 0) {
            var q = e.data.nb_transfers_per_page
              , H = new n(U);
            U.click(function() {
                H.set_wait();
                $.ajax({
                    type: "POST",
                    dataType: "json",
                    url: "/account/channel/content-partner-program/transfers/" + q,
                    success: function(t) {
                        if (t.result) {
                            if (0 === t.nb_transfers)
                                return void U.remove();
                            V($(t.rows).appendTo(S.find("tbody"))),
                            t.has_more_transfers ? (H.set_success(),
                            q += e.data.nb_transfers_per_page) : U.remove()
                        } else
                            H.set_error(t.message ? t.message : o.__("misc.error_please_retry"))
                    },
                    error: function() {
                        H.set_error(o.__("misc.error_please_retry"))
                    }
                })
            })
        }
    }
    $("#show-more-linked-accounts").on("click", function(e) {
        e.preventDefault();
        var t = $(this).parents("li");
        t.prevAll().removeClass("hidden"),
        t.remove()
    });
    var z = $("#not-associated-accts-list");
    if (z.length > 0) {
        var W = $("#associated-accts-list")
          , z = $("#not-associated-accts-list")
          , X = z.find("button")
          , G = {}
          , Y = $("#associate-all-accts")
          , K = function(e, t, i) {
            X.not(e).prop("disabled", !0),
            Y.is(e) || Y.prop("disabled", !0),
            t.set_wait(),
            $.ajax({
                type: "POST",
                dataType: "json",
                data: {
                    children: i
                },
                url: "/account/channel/content-partner-program/associate",
                success: function(e) {
                    if (e.result) {
                        t.set_success();
                        for (var i in e.associated) {
                            var n = e.associated[i];
                            if ("object" == typeof G[n]) {
                                var s = G[n];
                                W.append($('<li><span class="icon-f icf-check-square"></span> </li>').append(s.elem.prev())),
                                s.elem.parent().remove()
                            }
                        }
                        if (e.errors)
                            for (var a in e.errors)
                                "object" == typeof G[a] && G[a].set_error(e.errors[a]);
                        Z()
                    } else
                        t.set_error(e.message ? e.message : o.__("misc.error_please_retry"))
                },
                error: function() {
                    t.set_error(o.__("misc.error_please_retry"))
                }
            }).always(function() {
                X.not(e).prop("disabled", !1),
                Y.is(e) || Y.prop("disabled", !1)
            })
        }
          , Z = function() {
            W.removeClass("hidden"),
            W.prev().removeClass("hidden"),
            z.children().length > 0 || (z.prev().remove(),
            z.remove(),
            Y.remove())
        };
        X.each(function() {
            var e = $(this)
              , t = new n(e)
              , i = e.data("id");
            G[i] = t,
            e.click(function() {
                K(e, t, [i])
            })
        }),
        Y.click(function() {
            var e = new n(Y)
              , t = z.find('input[type="checkbox"]:checked');
            if (0 === t.length)
                return void e.set_error(o.__("misc.select_at_least_one_account"));
            var i = t.map(function() {
                return $(this).val()
            }).toArray();
            K(Y, e, i)
        })
    }
}),
define("skins/account/channels/membership_program", ["config/main", "lib/helpers/overlay/contextual_popup", "skins/form/validator", "lib/i18n!front", "skins/account/uploads/uploader_stats/manager"], function(e, t, i, n) {
    var o = $("#membership");
    if (o.length > 0) {
        new i(o,e.data.membership_validation_rules);
        var s = $('#membership_attachments input[type="file"]');
        if (s.length > 1) {
            var a = 0;
            s.on("change", function() {
                s.index(this) >= a && (a++,
                s.eq(a).closest("fieldset").show())
            })
        }
    }
    var r = $("#cancel-membership");
    r.length > 0 && (new i(r,e.data.membership_cancel_validation_rules),
    $("#disable-membership-btn").on("click", function(i) {
        i.preventDefault(),
        t.confirm("<p>" + n.__("account.channel_membership_disable_warning") + "</p><p><strong>" + n.__("account.confirm_disable_channel_membership", {}, "Are you sure?") + "</strong></p>", function() {
            var i = t.loading(n.__("misc.in_progress"));
            $.post("/account/channel/membership-program/disable", {
                csrf: e.data.membership_disable_csrf
            }, function(e) {
                if (e.result)
                    return void window.location.reload();
                i.close(),
                t.alert(n.__("misc.error_please_retry"))
            }, "json").fail(function() {
                i.close(),
                t.alert(n.__("misc.error_please_retry"))
            })
        })
    }))
}),
define("skins/account/channels/promo_links", [], function() {}),
define("skins/account/channels/promo_links_edit", ["config/main", "skins/form/validator"], function(e, t) {
    new t($("#promo-links-edit"),e.data.form_validation_rules)
}),
define("skins/account/channels/promo_links_request", ["config/main", "skins/form/validator"], function(e, t) {
    new t($("#promo-links-request"),e.data.form_validation_rules)
}),
define("skins/account/channels/promo_links_select_thumb", ["config/main", "skins/form/validator"], function(e, t) {
    new t($("#select-promo-link-thumb"),e.data.validation_rules);
    var i = function(e) {
        var t = $(e.currentTarget)
          , i = t.parents(".thumb-block").find("label");
        $(".thumb-block").find("label").attr("aria-checked", !1).find(".icon-f").remove(),
        t.is(":checked") && i.attr("aria-checked", !0).append('<span class="icon-f icf-check-circle"></span>')
    };
    $("#select-promo-link-thumb").find(".thumb-block").each(function() {
        var e = $(this)
          , t = e.find("label")
          , n = e.find("input")
          , o = t.find("input").attr("id");
        if (t.children().length < 2) {
            var s = t.text();
            t.contents().filter(function() {
                return 3 == this.nodeType
            }).remove(),
            t.addClass("label-text").append("<span>" + s + "</span>")
        }
        n.is(":checked") ? t.attr("aria-checked", !0).append('<span class="icon-f icf-check-circle"></span>') : t.attr("aria-checked", !1),
        t.attr("for", o),
        n.appendTo(e).on("change", i)
    }).addClass("is-init")
}),
define("skins/account/channels/request_status_channel", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#terms");
    i.length > 0 && new t(i,e.data.form_validation_rules)
}),
define("skins/account/channels/request_status_model", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#model");
    i.length > 0 && new t(i,e.data.form_validation_rules)
}),
define("skins/account/channels/terms", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#terms");
    if (i.length > 0) {
        new t(i,e.data.form_validation_rules),
        $("#btn-accept-terms").on("click", function(e) {
            $("#terms_result").val("accepted"),
            e.preventDefault(),
            e.stopPropagation(),
            i.submit()
        }),
        $("#btn-reject-terms").on("click", function(e) {
            $("#terms_result").val("rejected"),
            e.preventDefault(),
            e.stopPropagation(),
            i.submit()
        });
        var n = $('#terms_attachments input[type="file"]');
        if (n.length > 1) {
            var o = 0;
            n.on("change", function() {
                n.index(this) >= o && (o++,
                n.eq(o).closest("fieldset").show())
            })
        }
    }
}),
define("skins/account/manage/auto_delete", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#delete-account");
    i.length > 0 && new t(i,e.data.validation_rules)
}),
define("text!skins/account/manage/totp_edit_input.mustache", [], function() {
    return '<div class="input-group">\n\t<span class="input-group-btn">\n        <button class="btn btn-danger btn-save" type="button" title="{{{ lbl_save }}}"><span class="icon-f icf-check"></span></button>\n        <button class="btn btn-default btn-cancel" type="button" title="{{{ lbl_cancel }}}"><span class="icon-f icf-close"></span></button>\n      </span>\n</div>'
}),
define("text!skins/account/manage/totp_recovery_codes.mustache", [], function() {
    return '<h1>{{{title}}}</h1>\n<p>{{{help}}}</p>\n<br>\n<p>\n\t{{#codes}}\n\t\t<strong>{{code}}</strong><br>\n\t{{/codes}}\n</p>\n<br>\n<a download="xvideos-network-recovery-codes.txt" class="btn btn-success" href="{{{codes_text}}}">{{{download}}}</a>'
}),
define("skins/account/manage/change_password", ["config/main", "mustache", "skins/form/validator", "lib/helpers/overlay/box", "lib/helpers/overlay/contextual_popup", "skins/form/element_state", "lib/i18n!front", "text!skins/account/manage/totp_edit_input.mustache", "text!skins/account/manage/totp_recovery_codes.mustache", "lib/helpers/popup"], function(e, t, i, n, o, s, a, r, l, u) {
    var f = $("#change-password");
    f.length > 0 && new i(f,e.data.validation_rules,{
        no_init_focus: !0,
        no_init_validate: !0
    });
    var c = function(e, t, s, r, l, u, f) {
        var c, d, h = function() {
            if (!c) {
                var e = $(t);
                c = n.get("body", !0, "hide"),
                l && c.setContent(l),
                c.append(e)
            }
            if (c.show(),
            d)
                d.resetSubmit(),
                d.refresh();
            else {
                e.removeClass("hidden");
                var h = function() {
                    d = new i(e,s,{
                        no_init_focus: !0,
                        no_init_validate: !0
                    }),
                    e.find(".btn-cancel").on("click", function(e) {
                        e.preventDefault(),
                        c.hide()
                    }),
                    e.on("submit", function(t) {
                        t.preventDefault(),
                        c.hide();
                        var i = o.loading(a.__("misc.submitting"));
                        $.post(r, e.serializeArray(), function(t) {
                            if (!t.result)
                                return 15 === t.code ? (e.remove(),
                                e = $(t.form),
                                c.append(e),
                                c.show(),
                                s = t.js_validation_rules,
                                void h()) : void o.alert(t.message, function() {
                                    c.show(),
                                    d.resetSubmit(),
                                    d.refresh()
                                }, !0);
                            u(t, e)
                        }, "json").fail(function() {
                            o.alert(a.__("misc.error_please_retry"), function() {
                                c.show(),
                                d.resetSubmit(),
                                d.refresh()
                            }, !0)
                        }).done(function() {
                            i.close()
                        })
                    }),
                    f && f(e)
                };
                h()
            }
        };
        return e && e.on("click", h),
        h
    };
    for (var d in e.data.totp_keys)
        !function(e) {
            var n = $("#totp-key-" + e.id + "-edit-form")
              , o = $(t.render(r, {
                lbl_save: a.__("misc.save"),
                lbl_cancel: a.__("misc.cancel")
            }))
              , l = n.find('input[type="text"]')
              , u = l.parent();
            l.prependTo(o),
            o.appendTo(u);
            var f, d = n.prevAll(".title"), h = n.prevAll(".totp-title-edit").on("click", function() {
                n.removeClass("hidden"),
                h.addClass("hidden"),
                d.addClass("hidden"),
                f ? (f.resetSubmit(),
                f.refresh()) : f = new i(n,e.validation_rules)
            }), p = n.find(".btn-cancel").on("click", function() {
                n.addClass("hidden"),
                h.removeClass("hidden"),
                d.removeClass("hidden")
            }), _ = !1, g = new s(l);
            n.find(".btn-save").on("click", function() {
                if (!_ && f.isValid()) {
                    _ = !0;
                    var t = n.serializeArray();
                    h.addClass("disabled"),
                    p.addClass("hidden"),
                    g.set_wait(),
                    $.post("/account/totp/" + e.id + "/update", t, function(e) {
                        e.result ? (d.html(e.title),
                        p.trigger("click"),
                        g.reinit()) : g.set_error(e.message || a.__("form.error_modification_not_saved"))
                    }, "json").fail(function() {
                        g.set_error(a.__("form.error_modification_not_saved"))
                    }).done(function() {
                        _ = !1,
                        h.removeClass("disabled"),
                        p.removeClass("hidden")
                    })
                }
            }),
            c($("#totp-app-delete-" + e.id), "#delete-totp-form-" + e.id, e.delete_validation_rules, "/account/totp/" + e.id + "/delete", null, function(e, t) {
                t.parents("tr").remove(),
                window.location.reload()
            })
        }(e.data.totp_keys[d]);
    var h, p = c(null, "#totp-key-create-form", e.data.create_totp_validation_rules, "/account/totp/create", "<h1>" + a.__("account.totp.register_new_app") + "</h1>", function(e, t) {
        _(e)
    }, function(e) {
        e.find("#totp-key-create-form_credentials").val(h)
    });
    c($("#add-totp-app"), "#add-totp-form", e.data.get_credentials_validation_rules, "/account/totp/check-credentials", null, function(e, t) {
        h = e.credentials,
        p()
    }),
    c($(".regenerate-recovery-codes"), "#regen-recovery-codes-form", e.data.regen_recovery_codes_validation_rules, "/account/totp/regenerate-recovery-codes", null, function(e, t) {
        _(e)
    });
    var _ = function(e) {
        var i = e.recovery_codes ? t.render(l, {
            title: a.__("account.totp.recovery_codes"),
            help: a.__("account.totp.save_recovery_codes"),
            download: a.__("account.totp.download_codes"),
            codes: e.recovery_codes.map(function(e) {
                return {
                    code: e
                }
            }),
            codes_text: "data:text/plain;charset=utf-8," + encodeURIComponent(e.recovery_codes.join("\n"))
        }) : a.__("account.totp.app_added");
        o.alert(i, function() {
            window.location.reload()
        }, !0)
    }
      , g = $("#unknown-browser-login-alert");
    if (g.length > 0) {
        var m = new s(g);
        g.change(function() {
            m.set_wait();
            var e = this.checked ? 1 : 0;
            $.post("/account/security/unknown-browser/toggle-notif/" + e, function(t) {
                t.result ? m.set_success(t.message) : (m.set_error(t.message || a.__("form.error_modification_not_saved")),
                g.prop("checked", !e))
            }, "json").fail(function() {
                m.set_error(a.__("form.error_modification_not_saved")),
                g.prop("checked", !e)
            })
        }),
        new u($("#unknown-browser-login-alert-help"),"<p>" + $("#unknown-browser-login-alert-help-content").html() + "</p>",{
            trigger: !1,
            autoclose: 50,
            trigger_open: "mouseenter"
        })
    }
}),
define("skins/account/manage/check_age_verif", ["config/main", "lib/i18n!front"], function(e, t) {
    e.data.alert_on_leave && $(window).on("beforeunload", function() {
        return t.__("login_form.age_verif.are_you_sure_leave", {}, "Are you sure you want to leave? Make sure you have bookmarked this page before!")
    })
}),
define("skins/account/manage/close", ["config/main", "lib/i18n!front", "skins/form/validator", "skins/common/history/page_view_history"], function(e, t, i, n) {
    var o = $("#confirm-close,#reason-close");
    if (o.length > 0) {
        var s = new i(o,e.data.validation_rules)
          , a = $("#reason-close_confirm_centered");
        if (a.length > 0) {
            var r = a.find("input")
              , l = o.children("div");
            r.change(function() {
                var e = $(this).val();
                l.toggleClass("hidden", "yes" !== e),
                "yes" === e && s.refresh()
            }),
            r.filter(":checked").change()
        }
    }
    var u = $("#navigation-history");
    if (u.length > 0) {
        if (!n.canTrack())
            return void u.hide();
        $ToggleBtn = u.find(".toggle-history"),
        $ToggleBtnLabel = $ToggleBtn.find(".label"),
        $ClearBtn = u.find(".clear-history"),
        $ToggleBtnLabel.html(t.__(n.isTracking() ? "history.enabled" : "history.disabled", {
            "%strong%": "<strong>",
            "%end_strong%": "</strong>"
        })),
        $ToggleBtn.on("click", function() {
            n.isTracking() ? n.stopTracking(function() {
                $ToggleBtnLabel.html(t.__("history.disabled", {
                    "%strong%": "<strong>",
                    "%end_strong%": "</strong>"
                }))
            }) : n.startTracking(function() {
                $ToggleBtnLabel.html(t.__("history.enabled", {
                    "%strong%": "<strong>",
                    "%end_strong%": "</strong>"
                }))
            })
        }),
        $ClearBtn.on("click", function() {
            n.clear(function() {
                $ClearBtn.off("click").prop("disabled", !0),
                $ClearBtn.html('<span class="icon-f icf-check"></span> <span class="label">' + t.__("history.is_empty") + "</span>")
            })
        }),
        $ToggleBtn.addClass("init-ok"),
        $ClearBtn.addClass("init-ok")
    }
}),
define("skins/account/manage/create_profile", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#create-profile");
    i.length > 0 && new t(i,e.data.form_validation_rules)
}),
define("skins/account/manage/edit_account", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#edit-account");
    i.length > 0 && (new t(i,e.data.validation_rules),
    $("#edit-account_sex").on("change", function() {
        $("#edit-account_couple_other_birth_date").closest(".form-group").toggleClass("hidden", -1 === this.value.toLowerCase().indexOf("couple"))
    }).trigger("change"))
}),
define("skins/account/manage/email", ["config/main", "skins/form/validator"], function(e, t) {
    function i() {
        var e = a.is(":checked");
        s.prop("disabled", !e).val(e ? "DIGEST" : "NONE")
    }
    var n = $("#change-email");
    n.length > 0 && new t(n,e.data.email_form_validation_rules,{
        no_init_validate: !0
    });
    var o = $("#update-email-prefs");
    if (o.length > 0) {
        var s = o.find("select");
        new t(o,e.data.prefs_form_validation_rules,{
            no_init_focus: !0,
            no_init_validate: !0
        }).onSubmit = function() {
            return s.prop("disabled", !1),
            !0
        }
        ;
        var a = $("#update-email-prefs_prefs_accept_digest");
        a.length > 0 && (a.on("change", i),
        i())
    }
}),
define("text!skins/account/elements/table_manager/container.mustache", [], function() {
    return '\n<div class="overflowable-table">\n\t<div class="overflowable-table-container"></div>\n\t<div class="overflowable-table-gotoleft"><span class="icon-f icf-chevron-circle-left icf-white-fill"></span></div>\n\t<div class="overflowable-table-gotoright"><span class="icon-f icf-chevron-circle-right icf-white-fill"></span></div>\n</div>'
}),
define("skins/account/elements/table_manager", ["mustache", "config/main", "lib/helpers/popup", "text!./table_manager/container.mustache"], function(e, t, i, n) {
    var o = function(t) {
        this.$table = $(t),
        this.sTableMaxHeight = this.$table.data("max-height") || !1,
        this.$tabList = $(e.render(n)),
        this.$tabListScrollable = this.$tabList.find(".overflowable-table-container"),
        this.$tabList.insertAfter(this.$table),
        this.$tabListScrollable.append(this.$table),
        this.sTableMaxHeight && this.$tabListScrollable.css("max-height", this.sTableMaxHeight),
        this.$tabListLeft = $(".overflowable-table-gotoleft"),
        this.$tabListLeftArrow = this.$tabListLeft.find(".icon-f"),
        this.$tabListRight = $(".overflowable-table-gotoright"),
        this.$tabListRightArrow = this.$tabListRight.find(".icon-f"),
        this.$tabListCustomize = $("#" + this.$table.data("filter-table")),
        this.$tabListFiltersInp = this.$tabListCustomize.find("input"),
        this.$tabListFiltersContainer = this.$tabListCustomize.find(".overflowable-table-filters"),
        this.update_all_graphic();
        var i = this;
        $(window).on("resize", function() {
            i.update_tab_list_dims(),
            i.is_tab_to_wide(),
            i.update_fixed_first_col(),
            i.update_fixed_first_row()
        }).on("scroll", function() {
            i.update_tab_side_scroll_top_pos(),
            i.update_top_fixed_first_row()
        }),
        this.$tabListFiltersInp.change(function() {
            i.update_tab_filtered_columns($(this))
        }),
        this.$tabListCustomize.find('[data-toggle="filters"]').click(function() {
            i.toggle_filter_list()
        }),
        this.$tabListCustomize.find('[data-toggle="full-width"]').click(function() {
            i.toggle_tab_width()
        }),
        animation_duration = 1e3,
        this.$tabListLeft.hover(function() {
            var e = i.$tabListScrollable.scrollLeft();
            e < 1 ? (i.$tabListScrollable.scrollLeft(0),
            i.update_tab_side_scroll_view()) : i.$tabListScrollable.stop(!0, !1).animate({
                scrollLeft: 0
            }, animation_duration * e / i.iTabListCurToWide)
        }, function() {
            i.$tabListScrollable.stop(!0, !1)
        }),
        this.$tabListRight.hover(function() {
            var e = i.$tabListScrollable.scrollLeft();
            e > i.iTabListCurToWide - 1 ? (i.$tabListScrollable.scrollLeft(i.iTabListCurToWide),
            i.update_tab_side_scroll_view()) : i.$tabListScrollable.stop(!0, !1).animate({
                scrollLeft: i.iTabListCurToWide
            }, animation_duration - animation_duration * e / i.iTabListCurToWide)
        }, function() {
            i.$tabListScrollable.stop(!0, !1)
        }),
        this.$tabListScrollable.on("scroll", function() {
            i.update_tab_side_scroll_view(),
            i.update_top_fixed_first_row()
        }),
        this.$tabList.find("tbody tr").on("click", function() {
            i.focus_tab_line($(this))
        }),
        this.$tabList.find("[data-filter]").each(function() {
            var e = $(this).data("filter");
            i.oTabListToFilter[e] || (i.oTabListToFilter[e] = []),
            i.oTabListToFilter[e].push($(this))
        }),
        this.$tabList.find('[data-visibility-toggle="line-clamp"]').click(function() {
            i.toggle_line_clamp($(this))
        }),
        this.$tabListFiltersInp.each(function() {
            i.update_tab_filtered_columns($(this))
        }),
        this.update_tab_side_scroll_view(),
        this.update_tab_side_scroll_top_pos()
    };
    o.prototype = {
        $table: !1,
        oTabHeaderPop: !1,
        bFirstColFixed: !1,
        bFirstRowFixed: !0,
        sTableMaxHeight: !1,
        $tabList: !1,
        $tabListScrollable: !1,
        $tabListFocusedLine: !1,
        $tabListLeft: !1,
        $tabListLeftArrow: !1,
        $tabListRight: !1,
        $tabListRightArrow: !1,
        oTabListDims: !1,
        bTabListToWide: !1,
        iTabListCurToWide: !1,
        sTabListLeftRightConfig: !1,
        $tabListCustomize: !1,
        $tabListFiltersInp: !1,
        $tabListFiltersContainer: !1,
        bTabListFiltersOpened: !1,
        bTabListFullWidth: !1,
        oTabListToFilter: {},
        $infoBtnOver: !1,
        $infoContentOver: !1,
        iInfoTimeOver: !1,
        iInfoTimeOut: !1,
        toggle_filter_list: function(e) {
            this.bTabListFiltersOpened = "boolean" == typeof e ? e : !this.bTabListFiltersOpened,
            this.bTabListFiltersOpened ? (this.$tabListCustomize.addClass("opened"),
            this.$tabListFiltersContainer.stop(!0, !1).slideDown()) : (this.$tabListCustomize.removeClass("opened"),
            this.$tabListFiltersContainer.stop(!0, !1).slideUp())
        },
        toggle_tab_width: function(e) {
            this.bTabListFullWidth = "boolean" == typeof e ? e : !this.bTabListFullWidth,
            this.bTabListFullWidth ? $("#content").addClass("tab-full-width") : $("#content").removeClass("tab-full-width")
        },
        toggle_line_clamp: function(e, t) {
            this.bTabListFullWidth = "boolean" == typeof t ? t : !$(e).hasClass("no-line-clamp"),
            $(e).toggleClass("no-line-clamp", t)
        },
        get_tab_header_pop: function() {
            return this.oTabHeaderPop || (this.oTabHeaderPop = new i($("<div></div>"),!1,{
                relative_to: $("#account-content-block .panel-heading"),
                position: {
                    v: "above",
                    h: "right"
                },
                trigger: !1,
                autoclose: !0,
                closebtn: !1,
                popup_class: "stats-info-pop"
            })),
            this.oTabHeaderPop
        },
        info_hover_init: function(e) {
            var t = this;
            e.find(".info").not(".info-init-ok").click(function() {
                t.info_over($(this), $(this).find(".info-content"))
            }).hover(function() {
                t.info_over($(this), $(this).find(".info-content"))
            }, function() {
                t.info_out()
            }).addClass("info-init-ok")
        },
        info_over: function(e, t, i) {
            e && e !== this.$infoBtnOver && (this.$infoBtnOver = e,
            this.$infoContentOver = t.clone(),
            this.iInfoTimeOver = Date.now(),
            this.info_update(i))
        },
        info_out: function() {
            this.iInfoTimeOut = Date.now(),
            this.info_update()
        },
        info_update: function(e) {
            if (!this.iInfoTimeOver)
                return !1;
            if (!this.iInfoTimeOut || this.iInfoTimeOver >= this.iInfoTimeOut) {
                var t = this.get_tab_header_pop();
                if (t.isOpened() && t.button.is(this.$infoBtnOver))
                    return !0;
                var i = {
                    v: !0 === e ? "below" : "above",
                    h: "right"
                };
                return t.setPosition(i, !0),
                t.open(),
                t.setButton(this.$infoBtnOver),
                t.setContent(this.$infoContentOver),
                !0
            }
            var n = this;
            setTimeout(function() {
                n.info_delayed_close()
            }, 750)
        },
        info_delayed_close: function() {
            if (this.iInfoTimeOut && this.iInfoTimeOver < this.iInfoTimeOut) {
                var e = this.get_tab_header_pop();
                e.isOpened() && e.close()
            }
        },
        is_tab_to_wide: function() {
            return this.iTabListCurToWide = this.oTabListDims.width - this.$tabList.width(),
            this.update_tab_side_scroll_view(),
            !(this.iTabListCurToWide <= 0) && (this.$tabList.addClass("to-wide"),
            this.bTabListToWide || (this.bTabListToWide = !0),
            !0)
        },
        update_all_graphic: function() {
            this.update_tab_list_dims(),
            this.is_tab_to_wide(),
            this.update_fixed_first_col(),
            this.update_fixed_first_row(),
            this.update_tab_side_scroll_top_pos(),
            this.update_top_fixed_first_row(),
            this.info_hover_init(this.$tabList)
        },
        update_tab_side_scroll_view: function() {
            if (!this.bTabListToWide)
                return !1;
            var e;
            if ((e = this.iTabListCurToWide <= 0 ? "none" : 0 === this.$tabListScrollable.scrollLeft() ? "right" : this.iTabListCurToWide > this.$tabListScrollable.scrollLeft() ? "both" : "left") === this.sTabListLeftRightConfig)
                return !1;
            this.sTabListLeftRightConfig = e,
            "left" === this.sTabListLeftRightConfig || "both" === this.sTabListLeftRightConfig ? this.$tabListLeft.fadeIn("fast") : this.$tabListLeft.fadeOut("fast"),
            "right" === this.sTabListLeftRightConfig || "both" === this.sTabListLeftRightConfig ? this.$tabListRight.fadeIn("fast") : this.$tabListRight.fadeOut("fast")
        },
        update_tab_side_scroll_top_pos: function() {
            if (!this.bTabListToWide)
                return !1;
            var e = this.oTabListDims.view_height / 2 - this.oTabListDims.offsetTop + $(window).scrollTop();
            if (e < 0)
                e = 0;
            else {
                var t = this.oTabListDims.scrollable_height - 50;
                e > t && (e = t)
            }
            this.$tabListLeftArrow.css("top", e + "px"),
            this.$tabListRightArrow.css("top", e + "px")
        },
        update_tab_list_dims: function() {
            this.oTabListDims = {
                width: this.$table.width(),
                height: this.$table.height(),
                offsetTop: this.$table.offset().top,
                view_height: $(window).height(),
                scrollable_width: this.$tabListScrollable.width(),
                scrollable_height: this.$tabListScrollable.height()
            }
        },
        update_tab_filtered_columns: function(e) {
            var t = this.oTabListToFilter[e.val()];
            if (t) {
                var i = e.prop("checked");
                for (var n in t)
                    t[n].toggle(i)
            }
            this.update_tab_list_dims(),
            this.is_tab_to_wide(),
            this.update_fixed_first_col(),
            this.update_fixed_first_row(),
            this.update_tab_side_scroll_top_pos(),
            this.update_top_fixed_first_row()
        },
        focus_tab_line: function(e) {
            e.is(this.$tabListFocusedLine) ? (e.removeClass("focused"),
            this.$tabListFocusedLine = !1) : ($(this.$tabListFocusedLine).removeClass("focused"),
            e.addClass("focused"),
            this.$tabListFocusedLine = e)
        },
        update_fixed_first_col: function() {
            if (this.bFirstColFixed) {
                this.$tableFirstCol && this.$tableFirstCol.remove(),
                this.$tableFirstCol = $('<table class="overflowable-table-fixed-first-col' + this.$table.attr("class").replace("table-to-overflow", "") + '"></table>');
                var e = $("<tbody></tbody>")
                  , t = 0
                  , i = 0;
                this.$table.find("tbody td:first-child").each(function() {
                    0 === t && (t = $(this).css("width"),
                    i = $(this).offset().top);
                    var n = $("<tr></tr>")
                      , o = $(this).clone();
                    o.css({
                        height: $(this).css("height"),
                        width: $(this).css("width")
                    }),
                    n.append(o),
                    e.append(n)
                }),
                this.$tableFirstCol.append(e),
                this.$tableFirstCol.css({
                    top: i - this.$tabList.offset().top,
                    width: t
                }),
                this.$tabList.append(this.$tableFirstCol)
            }
        },
        update_fixed_first_row: function() {
            if (this.bFirstRowFixed) {
                this.$tableFirstRow && this.$tableFirstRow.remove(),
                this.$tableFirstRow = $('<table class="overflowable-table-fixed-first-row ' + this.$table.attr("class").replace("table-to-overflow", "") + '"></table>');
                var e = $("<thead></thead>")
                  , t = 0;
                this.$table.find("thead tr").each(function() {
                    var i = $("<tr></tr>");
                    $(this).find("th").each(function() {
                        0 === t && (t = $(this).css("height"));
                        var e = $(this).clone();
                        e.css({
                            height: $(this).css("height"),
                            width: $(this).css("width")
                        }),
                        i.append(e)
                    }),
                    e.append(i)
                }),
                this.$tabListScrollable.prepend(this.$tableFirstRow),
                this.$tableFirstRow.append(e),
                this.$tableFirstRow.css({
                    "margin-bottom": -this.$tableFirstRow.outerHeight(),
                    width: this.$table.css("width")
                });
                var i = this;
                this.$tableFirstRow.find(".info").click(function() {
                    i.info_over($(this), $(this).find(".info-content"), !0)
                }),
                this.$tableFirstRow.find(".info").hover(function() {
                    i.info_over($(this), $(this).find(".info-content"), !0)
                }, function() {
                    i.info_out()
                })
            }
        },
        update_top_fixed_first_row: function() {
            this.bFirstRowFixed && this.$tableFirstRow && (parent_scroll_top = this.$tabListScrollable.scrollTop(),
            topFromWindow = this.$tabList.offset().top - $(window).scrollTop() - (xv.header.is_mobile() && $(window).innerWidth() < $(window).innerHeight() ? "default" === t.sitename ? 41 : 62 : 0),
            parent_scroll_top > 0 || topFromWindow < 0 ? this.$tableFirstRow.show().css("top", (topFromWindow < 0 ? -topFromWindow : 0) + parent_scroll_top).toggleClass("is_over", topFromWindow < 0) : this.$tableFirstRow.hide())
        }
    };
    var s = function() {};
    return s.prototype = {
        aTables: [],
        create: function(e) {
            void 0 !== e && 0 !== $(e).length || (e = $("body"));
            var t = this;
            $(e).find(".table-to-overflow").each(function() {
                t.is_table_init($(this)) || t.aTables.push(new o($(this)))
            })
        },
        is_table_init: function(e) {
            for (var t in this.aTables)
                if ($(this.aTables[t].$table).is($(e)))
                    return !0;
            return !1
        },
        update_all_tables_graphic: function() {
            for (var e in this.aTables)
                this.aTables[e].update_all_graphic()
        },
        info_hover_reinit: function(e) {
            e.find(".info.info-init-ok").removeClass("info-init-ok")
        }
    },
    new s
}),
define("skins/account/manage/export_data", ["config/main", "skins/form/validator", "lib/i18n!front"], function(e, t, i) {
    var n = $("#export-your-data");
    n.length > 0 && new t(n,e.data.form_validation,{
        no_init_validate: !0
    }),
    window.setTimeout(function() {
        $(".expires-link").replaceWith('<em class="text-danger">' + i.__("misc.link_expired_reload_page") + "</em>")
    }, 1e3 * e.dyn.link_expires_time),
    "xnxx" === e.sitename && require(["skins/account/elements/table_manager"], function(e) {
        e.create()
    })
}),
define("lib/tab", ["config/main", "static/dom", "lib/tools", "./history"], function(e, t, i, n) {
    var o = function(i, o, s, a, r, l) {
        this.node = $(i),
        this.closable = !!s,
        this.use_class = "class" === r,
        this.use_func = "function" == typeof r,
        this.open_func = this.use_func ? r : null,
        this.no_first_tab_hash = !!a,
        this.no_tab_hash = "no_tab_hash" === a,
        this.side_scrollable_tab_buttons = this.node.find(".side-scrollable-tab-buttons .tab-buttons").length > 0 && this.node.find(".side-scrollable-tab-buttons"),
        this.bFirstLoad = !0,
        l && "object" == typeof l.oHistory ? this.oHistory = l.oHistory : this.oHistory = n;
        var u = this.node.find(".tab-buttons a, .tab-button").not(".notab")
          , f = this.node.find(".tabs .tab")
          , c = this;
        if (!(0 === f.length || u.length < f.length)) {
            var d = t.getViewportWidth() <= 768;
            this.oActions = o || {},
            this.first_tab_id,
            this.active = !1,
            this.tabs = {};
            for (var h in this.oActions)
                this.oActions[h].active && (this.active = h);
            f.each(function(e) {
                var t = u.first()
                  , i = t.data("target");
                u = i ? u.filter(function(e) {
                    return 0 !== e && ($(this).data("target") !== i || (t = t.add(this),
                    !1))
                }) : u.slice(1);
                var n = $(this)
                  , o = n.data("tab-id") || n.prop("id")
                  , s = {};
                if (c.first_tab_id || (c.first_tab_id = o),
                s.first = 0 === e,
                s.id = o,
                s.tab = n,
                s.btn = t,
                s.target = i,
                s.active = c.active === o,
                !c.active || s.active) {
                    s.btn.hasClass("active") || d && s.btn.hasClass("mobile-active") || !d && s.btn.hasClass("desktop-active") ? (s.active = !0,
                    c.active = o,
                    c.use_class ? n.addClass("active") : c.use_func ? c.open_func(c, n, !0) : n.show()) : c.use_class ? n.removeClass("active") : c.use_func ? c.open_func(c, n, !1) : n.hide()
                } else
                    c.use_class ? n.removeClass("active") : c.use_func ? c.open_func(c, n, !1) : n.hide(),
                    s.btn.removeClass("active");
                n.removeClass("mobile-active desktop-active"),
                s.btn.removeClass("mobile-active desktop-active"),
                s.action = !1;
                var a = [];
                "function" == typeof c.oActions[o] ? s.action = c.oActions[o] : "object" == typeof c.oActions[o] && ("function" == typeof c.oActions[o].action && (s.action = c.oActions[o].action),
                "function" == typeof c.oActions[o].action_already_open && (s.action_already_open = c.oActions[o].action_already_open),
                "object" == typeof c.oActions[o].subhashes && (a = c.oActions[o].subhashes));
                var r = "_" + o;
                (c.no_tab_hash || c.no_first_tab_hash && 0 === e) && (r = !1),
                c.oHistory.registerHash(r, function(e, t) {
                    c._onhashchange(e, t)
                }),
                s.btn.on("click", function(e) {
                    e.preventDefault(),
                    c.closable && c.active === o ? c.close() : (!1 !== r && c.oHistory.setUrlHash(r, null),
                    c.open(o))
                }),
                c.tabs[o.toLowerCase()] = s;
                for (var l in a)
                    c.setSubHash(o, a[l])
            });
            var p = this.oHistory.getHash();
            if (p && (p = p.substr(1),
            "undefined" != typeof this.tabs[p.toLowerCase()] && (this._close(),
            this.active = p)),
            s || this.active || (this.active = this.first_tab_id),
            !s || this.no_first_tab_hash || this.no_tab_hash || c.oHistory.registerHash(!1, function(e, t) {
                c._onhashchange(e, t)
            }),
            this.active && this.open(this.active, !0),
            !1 !== this.side_scrollable_tab_buttons) {
                e.dyn.is_desktop || this.side_scrollable_tab_buttons.addClass("is_mobile"),
                this.side_scrollable_tab_buttons_left = this.node.find(".left-scroll"),
                this.side_scrollable_tab_buttons_right = this.node.find(".right-scroll"),
                c.side_scroll_window_resize();
                this.side_scrollable_tab_buttons_left.hover(function() {
                    var e = c.side_scrollable_tab_buttons_full_width - c.side_scrollable_tab_buttons_width
                      , t = c.side_scrollable_tab_buttons.scrollLeft();
                    t < 1 ? (c.side_scrollable_tab_buttons.scrollLeft(0),
                    c.side_scroll_arrows_update()) : c.side_scrollable_tab_buttons.stop(!0, !1).animate({
                        scrollLeft: 0
                    }, {
                        duration: 1e3 - 1e3 * (e - t) / e,
                        complete: function() {
                            c.side_scroll_arrows_update()
                        }
                    })
                }, function() {
                    c.side_scrollable_tab_buttons.stop(!0, !1)
                }),
                this.side_scrollable_tab_buttons_right.hover(function() {
                    var e = c.side_scrollable_tab_buttons_full_width - c.side_scrollable_tab_buttons_width
                      , t = c.side_scrollable_tab_buttons.scrollLeft();
                    t > e - 1 ? (c.side_scrollable_tab_buttons.scrollLeft(e),
                    c.side_scroll_arrows_update()) : c.side_scrollable_tab_buttons.stop(!0, !1).animate({
                        scrollLeft: e
                    }, {
                        duration: 1e3 - 1e3 * t / e,
                        complete: function() {
                            c.side_scroll_arrows_update()
                        }
                    })
                }, function() {
                    c.side_scrollable_tab_buttons.stop(!0, !1)
                }),
                this.side_scrollable_tab_buttons.scroll(function() {
                    c.side_scroll_arrows_update()
                }),
                $(window).resize(function() {
                    c.side_scroll_window_resize()
                })
            }
        }
    };
    return o.prototype = {
        open: function(e, t, i) {
            var n, o = e.toLowerCase(), s = !!this.active && this.active.toLowerCase(), a = this.tabs[o];
            if (o !== this.active && (this.prev = this.active),
            n = void 0 === i ? e === this.oHistory.getHash().substr(1) && this.oHistory.getPaginHash() - 1 > 0 ? this.oHistory.getPaginHash() - 1 : null : i,
            !t && s === o || void 0 === a)
                return a && a.action_already_open && !1 !== t && (console.log("open action_already_open"),
                a.action_already_open(e)),
                void console.log("open RETURN");
            t && s === o || this._close(),
            a.active = !0,
            this.use_class ? a.tab.addClass("active") : this.use_func ? this.open_func(this, a.tab, !0) : a.tab.show(),
            !1 !== this.side_scrollable_tab_buttons && this.side_scroll_to_button(a),
            a.btn.addClass("active"),
            a.action && a.action(e, n, a.tab);
            var r = "_" + e;
            (this.no_tab_hash || this.no_first_tab_hash && a.first && -1 === r.indexOf(",")) && (r = ""),
            this.active = e,
            this.oHistory.setUrlHash(r, n > 0 ? n + 1 : null),
            this.node.addClass("disp-" + e.replace(",", "-"))
        },
        close: function() {
            this.closable && this._close()
        },
        _close: function() {
            if (this.active) {
                this.node.removeClass("disp-" + this.active.replace(",", "-"));
                var e = this.tabs[this.active.toLowerCase()];
                e.active = !1,
                this.use_class ? e.tab.removeClass("active") : this.use_func ? this.open_func(this, e.tab, !1) : e.tab.hide(),
                e.btn.removeClass("active"),
                this.active = !1
            }
        },
        _onhashchange: function(e, t) {
            if ((this.no_tab_hash || this.no_first_tab_hash) && e === n.getNoHashValue() && (e = "_" + this.first_tab_id),
            e !== n.getNoHashValue()) {
                var i = -1 !== e.indexOf(this.active) ? this.active.split(",")[0] : e.split(",")[0].substr(1)
                  , o = this.oActions[i]
                  , s = void 0 !== o && o.oListings && "undefined" != typeof o.oListings && "object" == typeof o.oListings;
                if (s) {
                    t = null === t ? 0 : t - 1;
                    var a, r, l = e.split("-");
                    if (l.length > 2)
                        for (var u = 1; u < l.length; u++)
                            1 === u ? a = l[u] : a += "-" + l[u];
                    else
                        a = l[1];
                    1 === l.length ? (a = this.oActions[e.substr(1)].oListings.sort_opts[0],
                    r = s ? this.oActions[e.substr(1)].oListings.loaders[a] : null) : r = s ? o.oListings.loaders[a] : null,
                    void 0 !== r && null !== r && t !== parseInt(r._get_url_pagin().substr(1)) && r.loadPage(t),
                    -1 !== this.active.indexOf(i) && a === o.oListings.ups_sort || this.open(e.substr(1), !1, t)
                } else
                    this.open(e.substr(1), !1)
            } else
                console.log(5),
                this.close()
        },
        side_scroll_to_button: function(e) {
            var t = e.btn
              , i = !1
              , n = Math.ceil(t.position().left)
              , o = Math.ceil(t.outerWidth())
              , s = this.side_scrollable_tab_buttons.width()
              , a = this.side_scrollable_tab_buttons.scrollLeft();
            if (n + o + 20 > s ? i = a + n + o + 20 - s : n < 20 && (i = a + n - 20) < 0 && (i = 0),
            !1 !== i) {
                var r = this;
                this.side_scrollable_tab_buttons.animate({
                    scrollLeft: i + "px"
                }, {
                    complete: function() {
                        r.side_scroll_window_resize()
                    }
                })
            }
        },
        side_scroll_arrows_update: function() {
            var e = this.side_scrollable_tab_buttons.scrollLeft()
              , t = e > 0
              , i = this.side_scrollable_tab_buttons_width + e < this.side_scrollable_tab_buttons_full_width;
            t ? this.side_scrollable_tab_buttons_left.fadeIn("fast") : this.side_scrollable_tab_buttons_left.fadeOut("fast"),
            i ? this.side_scrollable_tab_buttons_right.fadeIn("fast") : this.side_scrollable_tab_buttons_right.fadeOut("fast")
        },
        side_scroll_window_resize: function() {
            this.side_scrollable_tab_buttons_width = this.side_scrollable_tab_buttons.width(),
            this.side_scrollable_tab_buttons_full_width = this.side_scrollable_tab_buttons[0].scrollWidth,
            this.side_scroll_arrows_update()
        },
        getFirstLoad: function() {
            return this.bFirstLoad
        },
        setFirstLoad: function(e) {
            this.bFirstLoad = e
        },
        getPrev: function() {
            var e = this.prev;
            return void 0 === e && (e = this.first_tab_id),
            e
        },
        setSubHash: function(e, t) {
            var i = this.tabs[e.toLowerCase()];
            if (void 0 !== i) {
                var n = {}
                  , o = this;
                for (var s in i)
                    n[s] = i[s];
                n.id = !1,
                n.active = !1,
                this.tabs[e.toLowerCase() + "," + t] = n,
                this.oHistory.registerHash("_" + e + "," + t, function(e, t) {
                    o._onhashchange(e, t)
                })
            }
        }
    },
    o
}),
define("skins/account/manage/home", ["lib/tab"], function(e) {
    var t = []
      , i = [];
    new e($("#dashboard"));
    var n = function(e, i) {
        "undefined" != typeof t[e] && ("boolean" != typeof i && (i = !t[e].is_opened),
        i ? t[e].panel.addClass("opened") : t[e].panel.removeClass("opened"),
        t[e].is_opened = i)
    };
    $(".panel").each(function() {
        var e = t.length + 1;
        t[e] = {
            panel: $(this)
        },
        t[e].is_opened = $(this).hasClass("opened"),
        $(this).find(".toggle").click(function(t) {
            t.preventDefault(),
            n(e)
        })
    });
    var o = function(e, t) {
        "undefined" != typeof i[e] && ("boolean" != typeof t && (t = !i[e].is_opened),
        t ? i[e]["group-item"].addClass("help-opened") : i[e]["group-item"].removeClass("help-opened"),
        i[e].is_opened = t)
    };
    $(".list-group-item .help-toggle").each(function() {
        var e = i.length + 1;
        i[e] = {
            "group-item": $(this).closest(".list-group-item")
        },
        i[e].is_opened = i[e]["group-item"].hasClass("help-opened"),
        $(this).click(function(t) {
            t.preventDefault(),
            o(e)
        })
    }),
    $(".panel.panel-red-promo-link").length > 0 && require(["lib/helpers/popup", "lib/i18n!front"], function(e, t) {
        var i = !1
          , n = function(t, n) {
            i ? i.setButton(t) : i = new e(t,"",{
                trigger: !1,
                position: {
                    v: "above",
                    h: "left"
                },
                popup_class: "link-copied-popup",
                autoclose: 2e3
            }),
            i.open(),
            i.setContent($("<p>" + n + "</p>"))
        };
        $(".panel.panel-red-promo-link button").on("click", function() {
            var e = $(".panel.panel-red-promo-link input");
            e.focus().select(),
            document.execCommand("copy"),
            n(e, t.__("misc.text_copied"))
        }).prop("disabled", !1)
    })
}),
define("skins/common/video/lastviews", ["config/main", "static/cookies"], function(e, t) {
    var i = function() {};
    return i.prototype = {
        storageAvailable: function() {
            try {
                var e = window.localStorage
                  , t = "__storage_test__";
                return e.setItem(t, t),
                e.removeItem(t),
                !0
            } catch (i) {
                return !1
            }
        },
        getLastViews: function() {
            var e = []
              , i = t.get("last_views");
            if (i) {
                var n = JSON.parse(i);
                "object" == typeof n && i.length && (e = n)
            }
            return e
        },
        declareVideoView: function(i) {
            var n = this.getLastViews()
              , o = [];
            for (var s in n)
                if (n.hasOwnProperty(s) && n[s])
                    if (n[s] !== i) {
                        if ("string" == typeof n[s] && "function" == typeof n[s].split) {
                            var a = n[s].split("-");
                            if (a.length > 1 && a[0] == i) {
                                console.log("Video " + i + " already registered (" + n[s] + "), removing");
                                continue
                            }
                        }
                        o.push(n[s])
                    } else
                        console.log("Video " + i + " already registered, removing");
            for (; o.length > 70; )
                o.shift();
            o.push(i + "-" + e.dyn.gentime),
            t.setLocal("last_views", JSON.stringify(o), 7776e6, "/", !0, "None"),
            console.log("Video " + i + " processed")
        },
        mergeVideoViews: function(e) {
            if ("string" == typeof e)
                try {
                    e = JSON.parse(e)
                } catch (o) {
                    return
                }
            if ("object" == typeof e && e.length) {
                var i = this.mergeViews([], this.getLastViews());
                for (i = this.mergeViews(i, e),
                i.sort(function(e, t) {
                    return e.time - t.time
                }); i.length > 70; )
                    i.shift();
                for (var n = 0; n < i.length; n++)
                    i[n] = i[n].id + (i[n].time > 0 ? "-" + i[n].time : "");
                t.setLocal("last_views", JSON.stringify(i), 7776e6, "/")
            }
        },
        mergeViews: function(e, t) {
            e: for (var i = 0; i < t.length; i++)
                if (t.hasOwnProperty(i) && t[i]) {
                    var n = null
                      , o = 0;
                    if ("number" == typeof t[i])
                        n = t[i];
                    else {
                        if ("string" != typeof t[i] || "function" != typeof t[i].split)
                            return;
                        var s = t[i].split("-");
                        if (s.length < 2)
                            continue;
                        n = parseInt(s[0]),
                        o = parseInt(s[1])
                    }
                    if (!(n <= 0 || o < 0)) {
                        for (var a = 0; a < e.length; a++)
                            if (e[a].id === n) {
                                e[a].time = Math.max(e[a].time, o);
                                continue e
                            }
                        e.push({
                            id: n,
                            time: o
                        })
                    }
                }
            return e
        },
        getHistory: function() {
            var e = t.get("last_views");
            if (!e)
                return [];
            var i = JSON.parse(e);
            return i || []
        },
        resetRelated: function() {},
        increaseNumberVideoView: function() {
            var e = t.get("ucchecknb");
            e || (e = 0),
            e++,
            t.setLocal("ucchecknb", e, 432e5, "/")
        }
    },
    new i
}),
define("skins/common/profile/last_channels_visited", ["static/cookies"], function(e) {
    var t = function() {};
    return t.prototype = {
        set: function(t) {
            if (t = parseInt(t),
            isNaN(t) || t < 1)
                return !1;
            for (var i = e.get("freechvws") || "", n = i.split(","), o = [t], s = 0; s < n.length && 5 !== o.length; s++)
                iSavedIdChannel = parseInt(n[s]),
                iSavedIdChannel === t || isNaN(iSavedIdChannel) || iSavedIdChannel < 1 || o.push(iSavedIdChannel);
            e.setLocal("freechvws", o.join(","), 2592e6, "/", !0, "None")
        },
        setFullCookie: function(t) {
            e.setLocal("freechvws", t, 2592e6, "/", !0, "None")
        }
    },
    new t
}),
define("skins/common/form/cross_site_login", ["config/main", "static/cookies", "skins/common/video/lastviews", "skins/common/profile/last_channels_visited"], function(e, t, i, n) {
    e.dyn.is_premium && !e.dyn.login_info.is_logged && $.ajax({
        type: "POST",
        url: e.domains.slave + "/cross_site_cookies",
        dataType: "json",
        data: {
            l: t.get(e.dyn.dev ? "session_token_dev" : "session_token")
        },
        xhrFields: {
            withCredentials: !0
        },
        success: function(e) {
            if (e.result) {
                "string" == typeof e.last_views && e.last_views.length > 0 && i.mergeVideoViews(e.last_views);
                var o = e.session_token || e.session_token_dev;
                "string" == typeof o && o.length > 10 && (t.setLocal(e.session_token ? "session_token" : "session_token_dev", o, 2592e6, "/", !0, "None"),
                $.post("/account/checklogin", function(e) {
                    if (e.result && e.is_logged) {
                        if ("straight" !== e.main_cat && "/" === window.location.pathname && (!window.location.search || -1 === window.location.search.indexOf("k=")))
                            return void (window.location.href = "/" + e.main_cat + window.location.search);
                        window.location.reload()
                    }
                }, "json")),
                "string" == typeof e.freechvws && e.freechvws.length > 0 && n.setFullCookie(e.freechvws)
            }
        }
    })
}),
define("skins/account/manage/login_create", ["config/main", "lib/tools"], function(e, t) {
    require(["skins/common/form/cross_site_login"]);
    var i = function() {
        require(["skins/" + e.sitename + "/form/login"], function(i) {
            if (!e.dyn.is_premium && "/remove-all-ads" !== window.location.pathname)
                return void i.setupStandAlone();
            if (e.dyn.is_premium && "/account/create/premium-iframe" === window.location.pathname)
                return i.setOpenCloseModes("signup", !1, !1),
                i.open(),
                void (i.on_success = function() {
                    window.location.href = "/account/premium/congrats?form=iframe"
                }
                );
            if ("/remove-all-ads" !== window.location.pathname) {
                var n = function() {
                    $container = i.getPopContainer(),
                    $container && $container.length && ("landing-signin" === i.form_opening_origin_mode ? $container.find(".form-field-signin-form_product").hide() : $container.find(".form-field-signin-form_product").show())
                };
                i.on_form_loaded = n,
                i.form_on_open = n,
                i.setupLinks($("#main-signup-btn, #main-signin-btn, .signup-open"))
            }
            "/account/" === window.location.pathname && (i.setOpenCloseModes("signin"),
            i.open()),
            "/account/create/" === window.location.pathname && (i.setOpenCloseModes("signup"),
            i.open());
            var o = function() {
                this.iWdwHeight = 999999,
                this.iWdwWidth = 999999,
                this.init_fit_slides(),
                this.init_scroll_to(),
                this.init_fade_in_up(),
                this.init_header_scroll(),
                this.scroll_by_ten();
                var e = this;
                $(window).on("scroll", function() {
                    e.scroll_by_ten()
                }),
                $(window).on("resize", function() {
                    e.resize()
                })
            };
            o.prototype = {
                init_fit_slides: function() {
                    this.update_fit_slides(!0);
                    var e = this;
                    setTimeout(function() {
                        e.update_fit_slides(!0)
                    }, 1e3),
                    this.resize_funcs.push(function() {
                        e.update_fit_slides()
                    })
                },
                fit_slide_height_marge: 10,
                update_fit_slides: function(e) {
                    var t = this
                      , i = $(window).height()
                      , n = $(window).width();
                    if (!e && this.iWdwWidth === n && i >= this.iWdwHeight)
                        return !0;
                    this.iWdwWidth = n,
                    this.iWdwHeight = i,
                    $("[data-fit-page]").each(function() {
                        var e = $(this).data("fit-page")
                          , i = $('[data-fit-page-content="' + e + '"]').outerHeight()
                          , n = $('[data-fit-page-top="' + e + '"]')
                          , o = $('[data-fit-page-bottom="' + e + '"]')
                          , s = t.fit_slide_height_marge
                          , a = t.fit_slide_height_marge;
                        n.length > 0 && (s += n.outerHeight()),
                        o.length > 0 && (a += o.outerHeight());
                        var r = t.iWdwHeight - i - s - a;
                        if (r > 0) {
                            var l = r / 2;
                            s += l,
                            a += l
                        }
                        var u = i + s + a
                          , f = {
                            "min-height": Math.ceil(u) + "px",
                            "padding-top": Math.ceil(s) + "px",
                            "padding-bottom": Math.ceil(a) + "px"
                        };
                        $(this).addClass("fit-to-page").css(f)
                    })
                },
                init_scroll_to: function() {
                    $("[data-scroll-to]").click(function(e) {
                        e.preventDefault(),
                        t.scrollTo($($(this).data("scroll-to")), -10)
                    })
                },
                init_fade_in_up: function() {
                    this.update_fade_in_up_pos();
                    var e = this;
                    this.resize_funcs.push(function() {
                        e.update_fade_in_up_pos()
                    }),
                    this.scroll_by_ten_funcs.push(function(t) {
                        e.fade_in_up_scroll(t)
                    })
                },
                update_fade_in_up_pos: function() {
                    for (var e in xv.premium.to_fade_in_up) {
                        var t = xv.premium.to_fade_in_up[e]
                          , i = $(t.elem);
                        t.limit_top = Math.floor(i.offset().top)
                    }
                    this.fade_in_up_scroll(Math.ceil($(window).scrollTop()))
                },
                fade_in_up_scroll_marge: $(window).height() < 400 || $(window).width() < 400 ? 5 : 20,
                fade_in_up_scroll: function(e) {
                    var t = Math.ceil(e + $(window).height())
                      , i = t - this.fade_in_up_scroll_marge;
                    for (var n in xv.premium.to_fade_in_up)
                        !function() {
                            var e = xv.premium.to_fade_in_up[n]
                              , t = $(e.elem);
                            if (!e.visible && i > e.limit_top) {
                                var o = t.attr("class").toString();
                                t.addClass("animated fadeInUp");
                                var s = 200;
                                (iDurPos = o.indexOf("fadeInUp-dur-")) > -1 ? s += 100 * parseInt(o.substr(iDurPos + 13, 1)) : s += 1e3,
                                (iDelayPos = o.indexOf("fadeInUp-delay-")) > -1 && (s += 100 * parseInt(o.substr(iDelayPos + 15, 1))),
                                setTimeout(function() {
                                    t.removeClass("animated")
                                }, s),
                                e.visible = !0
                            }
                        }()
                },
                init_header_scroll: function() {
                    var e = this;
                    this.scroll_by_ten_funcs.push(function(t) {
                        e.header_scroll(t)
                    })
                },
                header_scroll: function(e) {
                    var t = $("#header");
                    0 === e ? t.removeClass("pinned scrolled") : this.scroll_by_ten_last_pos < e ? t.addClass("scrolled").removeClass("pinned") : t.addClass("pinned").removeClass("scrolled")
                },
                scroll_by_ten_last_pos: 999999,
                scroll_by_ten_funcs: [],
                scroll_by_ten: function() {
                    var e = Math.ceil($(window).scrollTop());
                    if (!(0 !== e && e > this.scroll_by_ten_last_pos - 5 && e < this.scroll_by_ten_last_pos + 5)) {
                        for (var t in this.scroll_by_ten_funcs)
                            this.scroll_by_ten_funcs[t](e);
                        this.scroll_by_ten_last_pos = e
                    }
                },
                resize_timer: !1,
                resize_running: !1,
                resize_funcs: [],
                resize: function() {
                    var e = this;
                    if (this.resize_running)
                        return this.resize_timer && (clearTimeout(this.resize_timer),
                        this.resize_timer = !1),
                        this.resize_timer = setTimeout(function() {
                            e.resize()
                        }, 500),
                        !1;
                    this.resize_running = !0;
                    for (var t in this.resize_funcs)
                        this.resize_funcs[t]();
                    setTimeout(function() {
                        e.resize_running = !1
                    }, 500)
                }
            },
            new o
        })
    }
      , n = $("#verif-login-create-btn");
    0 === n.length ? i() : n.on("click", function() {
        n.prop("disabled", !0).addClass("disabled").off("click"),
        $("#signin-popup-form").show(),
        i()
    })
}),
define("skins/account/manage/lost_password", ["config/main", "skins/form/validator"], function(e, t) {
    "object" == typeof e.data.validation_rules && new t($("#" + e.data.form_id),e.data.validation_rules,{
        no_init_validate: !0
    })
}),
define("skins/account/manage/premium", ["config/main", "lib/helpers/overlay/contextual_popup", "lib/i18n!front", "skins/form/validator"], function(e, t, i, n) {
    var o = $("#btn-cancel-subscription");
    o.length > 0 && o.click(function() {
        var n = i.__(e.data.subscription_cancel_stop_date ? "premium.confirm_cancel_terminated_at_month_end" : "premium.confirm_cancel_immediately_terminated", e.data.subscription_cancel_stop_date ? {
            "%date%": e.data.subscription_cancel_stop_date,
            "%nb_days%": e.data.subscription_cancel_stop_days
        } : null) + "<br><br>" + i.__("premium.please_give_reason") + '<br><textarea type="text" id="cancel-reason" rows="7"></textarea>';
        t.confirm(n, function() {
            var n = t.loading(i.__("misc.cancel_in_progress"))
              , o = $("#cancel-reason").val()
              , s = {
                csrf: e.data.subscription_cancel_csrf
            };
            "string" == typeof o && o.length > 3 && (s.reason = o),
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "/account/premium/cancel-subscription",
                data: s,
                success: function(e) {
                    n.close(),
                    e.result ? (t.alert(e.message),
                    window.location.href = e.redirect) : t.alert(e.message ? e.message : i.__("misc.error_please_retry"), null, !0)
                },
                error: function() {
                    n.close(),
                    t.alert(i.__("misc.error_please_retry"), null, !0)
                }
            })
        }, null, !0, {
            text_ok: i.__("premium.cancel_subscription")
        })
    });
    var s = $("#btn-uncancel-subscription");
    s.length > 0 && s.click(function() {
        var n = i.__("premium.confirm_uncancel", {
            "%date%": e.data.subscription_uncancel_next_rebill
        });
        t.confirm(n, function() {
            var n = t.loading(i.__("misc.uncancel_in_progress"));
            $.ajax({
                type: "POST",
                dataType: "json",
                url: "/account/premium/uncancel-subscription",
                data: {
                    csrf: e.data.subscription_uncancel_csrf
                },
                success: function(e) {
                    n.close(),
                    e.result ? (t.alert(e.message),
                    window.location.href = e.redirect) : t.alert(e.message ? e.message : i.__("misc.error_please_retry"), null, !0)
                },
                error: function() {
                    n.close(),
                    t.alert(i.__("misc.error_please_retry"), null, !0)
                }
            })
        }, null, !0)
    });
    var a = $("#premium-form");
    if (a.length > 0) {
        var r = new n(a,e.data.card_change_validation_rules,{
            no_init_focus: !0
        });
        a.find(".form-field-premium-form_cc_ccv input").after('<div class="cc-icon"></div>'),
        $("#btn-card-change").on("click", function() {
            $("#card-change-form-block").removeClass("hidden"),
            $(this).remove(),
            r.refresh()
        })
    }
}),
define("skins/account/manage/premium_result", ["config/main", "lib/helpers/overlay/box", "./login_create"], function(e, t) {
    var i = !e.data.is_iframe_form
      , n = t.get("body", i);
    n.addClass("premium-popup-form"),
    n.setContent($("#premium-popup-form")),
    n.setEscapeClosable(i),
    n.setOverlayReposition("auto"),
    n.show(),
    n.addClass("opened"),
    $("#main-signup-btn, .signup-open").click(function(t) {
        t.preventDefault(),
        window.location.href = e.domains.premium + "/account/create/?pmsc=ad"
    }),
    $("#main-signin-btn").click(function(t) {
        t.preventDefault(),
        window.location.href = e.domains.premium + "/account/?pmsc=ad"
    });
    var o = 0
      , s = function() {
        $("#premium-pending-checking").show(),
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "/account/premium/subscription-check",
            data: {
                transaction_id: e.data.premium_trx_id_biller,
                success: e.data.premium_trx_success,
                extra: e.data.premium_trx_extra,
                biller: e.data.premium_trx_biller,
                user_id: e.data.premium_trx_user_id,
                offer_id: e.data.premium_trx_offer_id,
                reason: e.data.premium_trx_reason
            },
            success: function(t) {
                var i = "";
                if (e.data.is_iframe_form && (i = "?form=iframe"),
                t.logged)
                    if (t.is_premium)
                        window.location.href = e.domains.premium + "/account/premium/congrats" + i;
                    else if ("bad_user" === t.trx)
                        window.location.reload();
                    else if ("declined" === t.trx) {
                        var n = "declined";
                        e.data.is_iframe_form && (n += "-iframe"),
                        window.location.href = e.domains.premium + "/account/premium/" + n
                    } else
                        "error" === t.trx && (t.reason && (i += (0 === i.length ? "?" : "&") + "reason=" + t.reason),
                        window.location.href = e.domains.premium + "/account/premium/error" + i);
                else
                    window.location.href = e.domains.premium + "/account/?pmsc=ad"
            },
            error: function(t) {
                var i = "";
                e.data.is_iframe_form && (i = "?form=iframe"),
                window.location.href = e.domains.premium + "/account/premium/error" + i
            },
            complete: function() {
                $("#premium-pending-checking").hide(),
                o++,
                o < 50 ? setTimeout(s, 6e3) : ($("#premium-pending").hide(),
                $("#premium-pending-end").show())
            }
        })
    };
    $("#premium-pending").length > 0 && ($("#premium-pending-spinner").show(),
    s())
}),
define("text!skins/form/widget/tag_adder/tag.mustache", [], function() {
    return '<div class="tag" data-elem="tag" data-value="{{ value }}">\n\t<span class="del" data-role="remove">\n\t\t<span class="icon-f icf-close"></span>\n\t</span>\n\t<span class="txt">{{ displayed }}</span>\n</div>'
}),
define("skins/form/widget/tag_adder", ["mustache", "config/main", "static/utils", "lib/tools", "lib/helpers/popup", "lib/i18n!front", "text!./tag_adder/tag.mustache"], function(e, t, i, n, o, s, a) {
    var r = function(e) {
        if (this.container = $(e).first(),
        !(this.container.length < 1)) {
            this.input_txt = this.container.find("input[type='text']"),
            this.input_hdn = this.container.find("input[type='hidden']"),
            this.btn_add = this.container.find("button[data-role='add']"),
            this.legend = this.container.find(".tag-adder-legend");
            var t = this.input_hdn.data("options");
            this.options = "object" == typeof t && Object.keys(t).length > 0 ? t : {},
            this.suggests_origin = "",
            this.suggests_pop = !1,
            this.suggests_lines = [],
            this.suggests_cur_line = !1,
            this.suggests_max_qtt = 10,
            this.tags = [],
            this.focused_tag = !1,
            this.init_suggests_list();
            var i = this;
            this.input_txt.on("keyup", function(e) {
                i.input_text_manage(e)
            }),
            this.input_txt.on("keydown", function(e) {
                9 !== e.which && 13 !== e.which || e.preventDefault()
            }),
            this.input_txt.on("focus", function() {
                i.focus_input(!1),
                i.set_suggests_pop()
            }),
            this.input_txt.on("blur", function() {
                i.blured_input_txt()
            }),
            this.input_txt.prop("autocomplete", "off"),
            this.btn_add.on("click", function() {
                i.clicked_add_btn()
            }),
            this.import_from_hidden_inp(),
            this.container.addClass("init-ok"),
            r.addInstance(this)
        }
    };
    return r.prototype = {
        add_tag: function(t, i) {
            if (this.unset_input_text_error(),
            this.unset_legend_error(),
            (i = !!i) && !this.input_txt_focused)
                return !1;
            var n = t.split(",");
            if ("string" == typeof t && n.length > 1) {
                for (var o, s = []; n.length > 0; ) {
                    var r = n.shift();
                    o = this.add_tag(r),
                    o || s.push(r)
                }
                return i && s.length > 0 ? (this.input_txt.val(s.join(",")),
                this.set_input_text_error(),
                !1) : o
            }
            var l = this.has_tag(t);
            if (l)
                return this.focus_tag(t, !0),
                l;
            var u = this.format_displayed_tag_value(t);
            if (t = this.format_saved_tag_value(t, i),
            !u || !t)
                return i && this.set_input_text_error(),
                !1;
            var f = {
                value: t,
                displayed: u
            };
            if (this.options.choices_only) {
                var c = this.is_in_suggests_list(t);
                if (!c)
                    return i && (this.set_input_text_error(),
                    this.set_legend_error()),
                    !1;
                if (l = this.has_tag(c.value))
                    return this.focus_tag(t, !0),
                    l;
                f.value = c.value,
                f.displayed = c.disp
            }
            var d = $(e.render(a, f));
            d.insertBefore(this.input_txt),
            f.html = d,
            this.tags.push(f),
            this.unfocus_tag();
            var h = this;
            return d.click(function() {
                h.focus_tag(f.value)
            }),
            d.find('[data-role="remove"]').click(function() {
                h.del_tag(f.value)
            }),
            this.write_hidden_inp(),
            f
        },
        has_tag: function(e) {
            e = this.format_saved_tag_value(e);
            for (var t in this.tags)
                if (this.tags[t].value === e)
                    return this.tags[t];
            return !1
        },
        del_tag: function(e) {
            var t = this.has_tag(e);
            if (!t)
                return !1;
            t.html.fadeOut(function() {
                $(this).remove()
            }),
            this.tags.splice(this.tags.indexOf(t), 1),
            this.focus_input(),
            this.write_hidden_inp()
        },
        set_on_focus: function(e) {
            this.options.on_focus = "function" == typeof e && e
        },
        focus_tag: function(e, t) {
            var i = this.has_tag(e);
            if (!i)
                return !1;
            this.unfocus_tag(),
            i.html.addClass((t ? "partial-" : "") + "focused"),
            "function" == typeof this.options.on_focus && this.options.on_focus($(i.html).first()),
            this.focused_tag = i
        },
        unfocus_tag: function() {
            this.focused_tag && $(this.focused_tag.html).length > 0 && ($(this.focused_tag.html).removeClass("focused").removeClass("partial-focused"),
            this.focused_tag = !1)
        },
        set_input_text_error: function() {
            this.unset_input_text_error();
            var e = this;
            this.set_input_text_error_timer = setTimeout(function() {
                e.input_txt.addClass("inp-error"),
                e.set_input_text_error_timer = null
            }, 10)
        },
        unset_input_text_error: function() {
            this.set_input_text_error_timer && (clearTimeout(this.set_input_text_error_timer),
            this.set_input_text_error_timer = null),
            this.input_txt.removeClass("inp-error")
        },
        set_legend_error: function() {
            if (0 !== this.legend.length) {
                this.unset_legend_error();
                var e = this;
                this.set_legend_error_timer = setTimeout(function() {
                    e.legend.addClass("legend-error"),
                    e.set_legend_error_timer = null
                }, 10)
            }
        },
        unset_legend_error: function() {
            this.set_legend_error_timer && (clearTimeout(this.set_legend_error_timer),
            this.set_legend_error_timer = null),
            this.legend.removeClass("legend-error")
        },
        write_hidden_inp: function() {
            var e = [];
            for (var t in this.tags)
                e.push(this.tags[t].value);
            return e = JSON.stringify(e),
            this.input_hdn.val(e).change(),
            e
        },
        import_from_hidden_inp: function() {
            var e = this.input_hdn.val();
            if (e.length < 1)
                return !1;
            if ("object" != typeof (e = JSON.parse(e)) || e.length < 1)
                return !1;
            for (var t in e)
                if (this.options.choices_only) {
                    for (var i in this.options.choices)
                        if (this.options.choices[i].value === e[t]) {
                            this.add_tag(this.options.choices[i].value);
                            break
                        }
                } else
                    this.add_tag(e[t])
        },
        input_text_manage: function(e) {
            if (13 === e.which) {
                e.preventDefault();
                var t = "boolean" != typeof this.suggests_cur_line && $(this.suggests_lines[this.suggests_cur_line]).length > 0 ? this.add_tag($(this.suggests_lines[this.suggests_cur_line]).data("value")) : this.add_tag(this.input_txt.val(), !0);
                if ($(t).length > 0)
                    return this.close_suggests_pop(),
                    this.input_txt.val("").removeClass("not-empty-val"),
                    void this.focus_input()
            }
            if (this.suggests_lines.length > 0) {
                switch (e.which) {
                case 40:
                case 9:
                    if ("boolean" == typeof this.suggests_cur_line ? this.suggests_cur_line = 0 : ($(this.suggests_lines[this.suggests_cur_line]).removeClass("focused"),
                    ++this.suggests_cur_line > this.suggests_lines.length - 1 && (this.suggests_cur_line = !1)),
                    "boolean" != typeof this.suggests_cur_line) {
                        var i = this.format_displayed_tag_value(String($(this.suggests_lines[this.suggests_cur_line]).data("displayed")));
                        this.input_txt.val(i)
                    } else
                        this.input_txt.val(this.suggests_origin);
                    break;
                case 38:
                    if ("boolean" == typeof this.suggests_cur_line ? this.suggests_cur_line = this.suggests_lines.length - 1 : ($(this.suggests_lines[this.suggests_cur_line]).removeClass("focused"),
                    --this.suggests_cur_line < 0 && (this.suggests_cur_line = !1)),
                    "boolean" != typeof this.suggests_cur_line) {
                        var i = this.format_displayed_tag_value(String($(this.suggests_lines[this.suggests_cur_line]).data("displayed")));
                        this.input_txt.val(i)
                    } else
                        this.input_txt.val(this.suggests_origin);
                    break;
                case 27:
                    this.close_suggests_pop();
                    break;
                default:
                    this.suggests_cur_line = !1,
                    this.set_suggests_pop()
                }
                "boolean" != typeof this.suggests_cur_line && $(this.suggests_lines[this.suggests_cur_line]).addClass("focused")
            } else
                this.suggests_cur_line = !1,
                this.set_suggests_pop()
        },
        focus_input: function(e) {
            this.blured_last = !1,
            this.input_txt_focused = !0,
            this.input_txt.addClass("focus"),
            !1 !== e && this.input_txt.focus()
        },
        blured_input_txt: function() {
            this.blured_last = $.now();
            var e = this;
            this.blured_timer && (clearTimeout(this.blured_timer),
            this.blured_timer = !1),
            this.blured_timer = setTimeout(function() {
                e.close_if_blured_long_ago()
            }, 1e3),
            this.clean_tag_value(this.input_txt.val()).length > 0 ? this.input_txt.addClass("not-empty-val") : this.input_txt.removeClass("not-empty-val"),
            this.close_suggests_pop()
        },
        close_if_blured_long_ago: function() {
            if (this.blured_timer = !1,
            !1 === this.blured_last || this.blured_last < $.now() - 990)
                return !1;
            this.input_txt_focused = !1,
            this.input_txt.removeClass("focus")
        },
        clicked_add_btn: function() {
            if (this.add_tag(this.input_txt.val(), !0))
                return this.close_suggests_pop(),
                void this.input_txt.val("");
            this.focus_input()
        },
        get_suggests_pop: function() {
            return this.suggests_pop || (this.suggests_pop = new o(this.input_txt,!1,{
                relative_to: this.input_txt.parents("#page").length ? $("#page") : $("body"),
                position: {
                    v: "below",
                    h: "left"
                },
                popup_class: "tag-adder-pop",
                trigger: !1,
                autoclose: !0,
                closebtn: !1
            })),
            this.suggests_pop
        },
        set_suggests_pop: function() {
            var e = this.get_suggests_pop()
              , t = this.input_txt.val();
            if (!t)
                return this.close_suggests_pop(),
                !1;
            var i = this.get_suggests(t);
            if ($(i).length < 1)
                return this.close_suggests_pop(),
                !1;
            e.open(),
            e.setContent($(i))
        },
        init_suggests_list: function() {
            if (this.options.choices) {
                this.suggests_list = [];
                for (var e in this.options.choices)
                    this.suggests_list.push({
                        value: this.options.choices[e].value,
                        comp: this.format_comparing_value(this.options.choices[e].name),
                        disp: this.format_displayed_tag_value(this.options.choices[e].name)
                    })
            } else if (t.data && t.data.best_keywords && t.data.best_keywords.length > 0) {
                this.suggests_list = [];
                for (var e in t.data.best_keywords)
                    this.suggests_list.push({
                        value: t.data.best_keywords[e].NOM,
                        comp: this.format_comparing_value(t.data.best_keywords[e].NOM),
                        disp: this.format_displayed_tag_value(t.data.best_keywords[e].NOM)
                    })
            }
        },
        get_suggests: function(e) {
            if (!this.suggests_list)
                return !1;
            query_comp = this.format_comparing_value(e),
            this.suggests_origin = "";
            var t = []
              , i = []
              , n = [];
            for (r in this.suggests_list) {
                var o = this.suggests_list[r];
                0 === o.comp.indexOf(query_comp) ? t.push(this.format_suggest_display(o.value, o.disp, query_comp)) : -1 !== (o.comp + "-").indexOf("-" + query_comp + "-") ? i.push(this.format_suggest_display(o.value, o.disp, query_comp)) : -1 !== o.comp.indexOf(query_comp) && n.push(this.format_suggest_display(o.value, o.disp, query_comp))
            }
            if (t = t.concat(i.concat(n)),
            t.length < 1)
                return !1;
            t.length > this.suggests_max_qtt && (t = t.slice(0, this.suggests_max_qtt)),
            this.suggests_origin = e,
            this.suggests_lines = [],
            this.suggests_cur_line = !1;
            var s = $("<ul></ul>")
              , a = this;
            for (var r in t) {
                var l = $("<li>" + t[r].html + "</li>")
                  , u = t[r].value
                  , f = t[r].displayed;
                l.data("value", u).data("displayed", f).on("click", function() {
                    a.add_tag($(this).data("value")),
                    a.input_txt.val(""),
                    a.focus_input()
                }),
                this.suggests_lines.push(l),
                s.append(l)
            }
            return s
        },
        format_suggest_display: function(e, t, i) {
            var n = this.format_displayed_tag_value(t)
              , o = this.format_comparing_value(t)
              , s = i
              , a = o.indexOf(s);
            if (-1 === a)
                return !1;
            var r = a + s.length;
            return {
                value: e,
                displayed: n,
                html: n.substr(0, a) + "<strong>" + n.substr(a, s.length) + "</strong>" + n.substr(r)
            }
        },
        close_suggests_pop: function() {
            this.suggests_pop && (this.suggests_lines = [],
            this.suggests_cur_line = !1,
            this.suggests_pop.isOpened() && this.suggests_pop.close())
        },
        is_in_suggests_list: function(e, t) {
            if (!this.suggests_list)
                return !1;
            for (var i in this.suggests_list)
                if (t) {
                    if (this.suggests_list[i].comp === this.format_comparing_value(e))
                        return this.suggests_list[i]
                } else if (this.suggests_list[i].value === e)
                    return this.suggests_list[i];
            return !1
        },
        clean_tag_value: function(e) {
            var t = i.escape(i.unescape(e.toString()).replace(/\ +/g, " ").trim().toLowerCase(), !0);
            return !(t.length < 1) && t
        },
        format_displayed_tag_value: function(e) {
            if ("string" != typeof e)
                return !1;
            if ("string" != typeof (e = this.clean_tag_value(e)))
                return !1;
            if (str = e.replace(/-/g, " "),
            !str)
                return !1;
            str = str.split(" ");
            for (var t = 0; t < str.length; t++)
                str[t] = str[t].split(""),
                str[t].length > 0 && "string" == typeof str[t][0] ? (str[t][0] = str[t][0].toUpperCase(),
                str[t] = str[t].join("")) : str[t] = "";
            return str.join(" ").trim()
        },
        format_saved_tag_value: function(e, t) {
            if ("number" != typeof e && (e = e.toString()),
            "string" != typeof e)
                return !1;
            var i = this.is_in_suggests_list(e, t);
            return i ? i.value : (str = this.clean_tag_value(e),
            !!str && str.trim().replace(/\ /g, "-"))
        },
        format_comparing_value: function(e) {
            return e = this.format_saved_tag_value(e),
            "string" != typeof e ? "" : n.translit(e)
        }
    },
    r.S_DATA_INSTANCE = "tag-adder-instance",
    r.A_INSTANCE = [],
    r.getInstance = function(e) {
        e = $(e);
        var t;
        if (e.attr("data-" + r.S_DATA_INSTANCE) ? t = e : e.parents().each(function() {
            $(this).attr("data-" + r.S_DATA_INSTANCE) && (t = $(this))
        }),
        !t || !t.length)
            return !1;
        var i = parseInt(t.attr("data-" + r.S_DATA_INSTANCE));
        if (!i)
            return !1;
        for (var n in r.A_INSTANCE)
            if (r.A_INSTANCE[n].iInstance === i)
                return r.A_INSTANCE[n];
        return !1
    }
    ,
    r.addInstance = function(e) {
        e.iInstance = r.A_INSTANCE.length + 1,
        $(e.container).attr("data-" + r.S_DATA_INSTANCE, e.iInstance),
        e.container.addClass(r.S_DATA_INSTANCE + e.iInstance),
        r.A_INSTANCE.push(e)
    }
    ,
    r
}),
define("text!skins/form/widget/tag_adder/tag_adder_regions_switcher.mustache", [], function() {
    return '<div class="toggle-tag-adder">\n\t<span class="toggle__option toggle__option--default is-on">{{{ all }}}</span>\n\t<span class="checkbox toggle toggle--{{ country }} no-label">\n\t\t<input id="toggle--{{ country }}" type="checkbox">\n\t\t<label for="toggle--{{ country }}"></label>\n\t</span>\n\t<span class="toggle__option toggle__option--checked">{{{ regions }}}</span>\n</div>'
}),
define("skins/form/widget/tag_adder/tag_adder_regions_select", ["mustache", "static/utils", "lib/i18n!front", "skins/form/widget/tag_adder", "text!./tag_adder_regions_switcher.mustache"], function(e, t, i, n, o) {
    var s = function(e, t, i) {
        this.sSelectorCurrentCountry = i,
        this.oTagAdder = n.getInstance(e.find(t + " .tag-adder")),
        this.init()
    };
    return s.prototype = {
        init: function() {
            if (!this.oTagAdder || "object" != typeof this.oTagAdder)
                return !1;
            this.$InputHidden = this.oTagAdder.input_hdn,
            "" !== this.$InputHidden.val() && this.changeInputHidden();
            var e = this;
            this.$InputHidden.on("change", function() {
                e.changeInputHidden()
            })
        },
        changeInputHidden: function() {
            var t = new Array
              , n = this;
            $(JSON.parse(this.$InputHidden.val())).each(function(s, a) {
                t.push(a);
                var r = $(n.sSelectorCurrentCountry + a);
                r.hasClass("hidden") && (r.hide().removeClass("hidden").fadeIn(),
                0 === r.find(".toggle-tag-adder").length && r.find(".content").prepend($(e.render(o, {
                    all: i.__("misc.all"),
                    regions: i.__("choose_regions"),
                    country: a
                }))));
                var l = r.find(".tag-adder")
                  , u = r.find(".toggle-tag-adder")
                  , f = u.find('input[type="checkbox"]');
                "" === l.find('input[type="hidden"]').val() ? (l.addClass("hidden"),
                r.find(".help-block").addClass("hidden")) : n.setToggle(f, u, !0, !0),
                f.on("change", function() {
                    n.changeToggle($(this), r)
                })
            }),
            $(".blocked-region").each(function() {
                var e = $(this);
                if (!e.hasClass("hidden") && -1 === t.indexOf(e.data("country"))) {
                    e.fadeOut().addClass("hidden");
                    var i = e.find(".toggle-tag-adder")
                      , o = i.find('input[type="checkbox"]')
                      , s = e.find('input[type="hidden"]');
                    o.is(":checked") ? (n.setToggle(o, i, !1, !0),
                    s.val(s.data("value"))) : s.data("value", s.val()).val("")
                }
            })
        },
        setToggle: function(e, t, i, n) {
            t.find(".toggle__option--default").toggleClass("is-on", !i),
            t.find(".toggle__option--checked").toggleClass("is-on", i),
            n && e.prop("checked", i)
        },
        changeToggle: function(e, t) {
            var i = e.is(":checked");
            t.find(".tag-adder").toggleClass("hidden", !i),
            t.find(".help-block").toggleClass("hidden", !i);
            var n = t.find('input[type="hidden"]');
            this.setToggle(null, t, i, !1),
            i ? n.val(n.data("value")) : n.data("value", n.val()).val("")
        }
    },
    s
}),
define("skins/account/manage/profile_privacy_settings", ["config/main", "skins/form/validator", "skins/form/widget/tag_adder/tag_adder_regions_select"], function(e, t, i) {
    var n = $("#account-privacy-settings");
    n.length > 0 && new t(n,e.data.validation_rules,{
        fnIsInit: function() {
            new i(n,".blocked-countries",".form-field-account-privacy-settings_blocked_regions_")
        }
    })
}),
define("skins/account/manage/profile_edit", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#edit-profile");
    i.length > 0 && new t(i,e.data.validation_rules)
}),
define("skins/account/manage/send_documents", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#send-documents");
    if (i.length > 0) {
        new t(i,e.data.form_validation_rules);
        var n = $('#send-documents_attachments input[type="file"]');
        if (n.length > 1) {
            var o = 0;
            n.on("change", function() {
                n.index(this) >= o && (o++,
                n.eq(o).closest("fieldset").show())
            })
        }
    }
}),
define("skins/account/manage/unknown_browser", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#change-login-password-form");
    if ("object" == typeof e.data.validation_rules)
        var n = e.data.validation_rules
          , o = e.data.validation_rules.slice(1)
          , s = new t(i,o,{
            no_init_validate: !0
        });
    i.length > 0 && new t(i,e.data.validation_rules,{
        no_init_validate: !0
    }),
    "object" == typeof e.data.validation_rules && (i.find("input[type=radio]").change(function() {
        "0" === this.value ? ($("#change-login-password-form_login_fieldset").addClass("hidden"),
        s = new t(i,o,{
            no_init_validate: !0
        }),
        s.resetSubmit(),
        s.refresh()) : ($("#change-login-password-form_login_fieldset").removeClass("hidden"),
        s = new t(i,n,{
            no_init_validate: !0
        }),
        s.resetSubmit(),
        s.refresh())
    }),
    "1" === i.find("input[type=radio]:checked").val() && ($("#change-login-password-form_login_fieldset").removeClass("hidden"),
    s = undefined,
    s = new t(i,n,{
        no_init_validate: !0
    })))
}),
define("skins/account/manage/verify_profile", ["config/main", "lib/tools", "static/utils", "skins/form/validator"], function(e, t, i, n) {
    var o = $("#verify-profile");
    if (0 !== o.length) {
        var s = new n(o,e.data.form_validation_rules);
        window.vre = s;
        var a = $(".file-upload-inputs")
          , r = a.children("fieldset:not(.file-upload-submit)")
          , l = a.children(".file-upload-submit")
          , u = a.find(".file-upload-file input[type='file']")
          , f = a.find(".file-upload-text select")
          , c = a.find(".file-upload-text button")
          , d = a.find(".file-upload-recap")
          , h = ""
          , p = u.parent().prevAll(".error-block");
        p.length > 0 && p.parent().prev().children().first().after(p.css("fontWeight", "normal")),
        u.change(function() {
            if (f.val(""),
            h = u.val(),
            h.length < 1)
                return !1;
            d.html(i.escape(h)),
            r.fadeOut(function() {
                l.fadeIn()
            }),
            a.addClass("is_file")
        });
        var _ = function() {
            var e = f.prop("id")
              , t = !1;
            for (var i in s.validators)
                s.validators[i].id !== e || s.validators[i].has_error || (t = !0);
            return t
        };
        f.on("change blur focus input click mouseout mouseover", function(e) {
            c.prop("disabled", !_()),
            setTimeout(function() {
                c.prop("disabled", !_())
            }, 500)
        }),
        c.prop("disabled", !_()),
        c.click(function() {
            if (u.val(""),
            !_())
                return !1;
            h = f.find("option:selected").text(),
            d.html(i.escape(h)),
            r.fadeOut(function() {
                l.fadeIn()
            }),
            a.addClass("is_url")
        }),
        l.find(".return-file-select").click(function() {
            u.val("").trigger("change"),
            l.fadeOut(function() {
                a.removeClass("is_file is_url"),
                d.html(""),
                r.fadeIn(),
                s.refresh()
            })
        })
    }
}),
define("skins/account/photos/gallery/gallery_info", ["config/main", "lib/helpers/overlay/contextual_popup", "skins/form/validator", "lib/i18n!front"], function(e, t, i, n) {
    function o(e) {
        e.preventDefault(),
        e.data.submitForm()
    }
    function s(e) {
        e.preventDefault(),
        e.data.hideFormGalleryInfo()
    }
    var a = function(e) {
        this._init(e)
    };
    return a.prototype = {
        _init: function(e) {
            this.sFormType = e.type,
            this.$form = e.$elt,
            this.sPropAction = this.$form.prop("action"),
            this.oValidator = null,
            this.oFdata = null,
            this.fnCallback = e.callback,
            this.$form.on("submit", this, o)
        },
        setValidator: function() {
            this.oValidator = new i(this.$form,e.data.gallery_validation_rules)
        },
        submitForm: function() {
            if (!this.oValidator.isValid()) {
                this.oValidator.showErrorsShortcuts();
                var e = this.oValidator.getFirstError();
                return e && e.focus && e.focus(),
                !1
            }
            switch (this.oFdata = new FormData(this.$form[0]),
            this.sFormType) {
            case "new":
                this.getIdGallery();
                break;
            case "update":
                this.submitFormUpdate()
            }
        },
        getIdGallery: function() {
            var e = this;
            $.ajax({
                url: e.sPropAction,
                type: "POST",
                data: e.oFdata,
                contentType: !1,
                processData: !1,
                success: function(o) {
                    if (o.result) {
                        if ("undefined" == typeof o.new_gallery_id)
                            return !1;
                        e.fnCallback(o.new_gallery_id, o.result)
                    } else if (15 === o.code) {
                        e.$form.off("submit");
                        var s = $(o.form);
                        e.$form.replaceWith(s),
                        e.$form = s,
                        e.oValidator = new i(e.$form,o.upload_validation_rules)
                    } else
                        o.message ? t.alert(o.message) : t.alert(n.__("misc.error_please_retry"))
                }
            }).done(function() {
                e.oValidator.resetSubmit()
            }).fail(function(e, i, o) {
                o && t.alert(n.__("misc.error_please_retry"))
            })
        },
        submitFormUpdate: function() {
            var e = this;
            $.ajax({
                url: e.sPropAction,
                type: "POST",
                data: e.oFdata,
                contentType: !1,
                processData: !1,
                success: function(a) {
                    if (a.result) {
                        var r = $(".gallery-panel")
                          , l = r.find("h2 a")
                          , u = r.find(".gallery-cover .btn > span")
                          , f = r.find(".gallery-desc");
                        switch (a.gallery.title !== l.html() && l.html(a.gallery.title),
                        a.gallery.status) {
                        case "NOBODY":
                            u.attr({
                                "class": "icon-f icf-user-ban",
                                title: n.__("album.visibility.nobody")
                            });
                            break;
                        case "FRIEND":
                            u.attr({
                                "class": "icon-f icf-user",
                                title: n.__("album.visibility.friends")
                            });
                            break;
                        case "REGISTER":
                            u.attr({
                                "class": "icon-f icf-user-check",
                                title: n.__("album.visibility.registered")
                            });
                            break;
                        case "ANYONE":
                            u.attr({
                                "class": "icon-f icf-users",
                                title: n.__("album.visibility.everyone")
                            })
                        }
                        if (a.gallery.desc.length > 0) {
                            var c = a.gallery.desc.replace(/\r\n|\r|\n/g, "<br />");
                            f.find("p").html(c),
                            f.hasClass("hidden") && f.removeClass("hidden")
                        } else
                            f.addClass("hidden");
                        e.$form.find(".has-error").length && e.hideFormGalleryInfoError(e.$form),
                        e.hideFormGalleryInfo()
                    } else if (15 === a.code) {
                        e.$form.off("submit");
                        var d = $(a.form);
                        e.$form.replaceWith(d),
                        e.$form = d,
                        e.oValidator = new i(e.$form,a.js_validation_rules),
                        e.$form.find(".btn").addClass("init-ok"),
                        e.$form.on("submit", e, o),
                        e.$form.find(".btn-cancel").on("click", e, s)
                    } else
                        a.message ? t.alert(a.message) : t.alert(n.__("misc.error_please_retry"))
                }
            }).done(function() {
                e.oValidator.resetSubmit()
            }).fail(function(e, i, o) {
                o && t.alert(n.__("misc.error_please_retry"))
            })
        },
        hideFormGalleryInfoError: function(e) {
            e.find(".has-error").removeClass("has-error"),
            e.find(".help-block.error-block").remove()
        },
        hideFormGalleryInfo: function() {
            $(".gallery-panel").find(".col-infos, .col-pres").removeClass("hidden"),
            $("#edit-form").addClass("hidden")
        }
    },
    a
}),
define("skins/account/photos/gallery/file_upload", ["config/main", "lib/helpers/overlay/contextual_popup", "skins/form/validator", "lib/i18n!front"], function(e, t, i, n) {
    function o(e) {
        e.data.deleteImg(e)
    }
    function s(e) {
        e.data.changeInputFile(e)
    }
    function a(e) {
        e.data.submitFileUpload(null, !0)
    }
    function r(e) {
        e.data.createGallery()
    }
    var l = function(e) {
        this._init(e)
    };
    return l.prototype = {
        _init: function(e) {
            this.$body = $("body"),
            this.$uploadForm = $("#upload-form"),
            this.$ctnFormUpload = $(".create-form-uploads"),
            this.$inputFile = $('input[type="file"]'),
            this.$album = $("#album"),
            this.$paging = $(".pagination"),
            this.$progressDiv = $("#upload-form-progress"),
            this.$progressIframeUpload = $("#iframe-upload"),
            this.$BtnUpload = null,
            this.$BtnUploadBlock = null,
            this.aValidator = [],
            this.aFormDatas = [],
            this.aUploadsIds = [],
            this.bBrowserValid = !0,
            this.bCanUpload = !1,
            this.bPopupUploading = !1,
            this.oPopupUploading = null,
            this.iIdGallery = null,
            this.iIteratorUploadArrayGal = 0,
            this.iIteratorLoopCheck = 0,
            this.sFormType = e.type,
            this.sPropAction = null,
            this.sProgressUrl = null,
            this.cur_progress_stop = !1,
            this.cur_progress_timer = null,
            this.cur_progress_failed = 0,
            this.cur_progress_uploaded = 0,
            this.cur_progress_speeds = [],
            this.cur_progress_lasttime = 0,
            this.setPropInputFile(),
            this.setRequirements(),
            "function" != typeof FormData.prototype.forEach && this.setWarningMessage(),
            this.$inputFile.on("change", this, s),
            this.addUploadBtn()
        },
        isBrowserValid: function() {
            return this.bBrowserValid
        },
        setWarningMessage: function() {
            this.bBrowserValid = !1,
            this.$ctnFormUpload.removeClass("init-ok"),
            this.$inputFile.attr("disabled", "disabled");
            var e = $('<p class="alert-warning"><span class="icon-f icf-warning"></span> <span class="alert-warning-text"></span></p>');
            $("#create-form").length ? e.insertBefore("#create-form") : e.insertBefore(".gallery-panel"),
            e.find(".alert-warning-text").html(xv.i18n.__("warning.sending_picture_browser_outdated"))
        },
        setPropInputFile: function() {
            this.$inputFile.prop("multiple") || this.$inputFile.attr("multiple", "multiple")
        },
        setRequirements: function() {
            this.$ctnFormUpload.each(function() {
                var e = $(this)
                  , t = e.find(".upload-require");
                e.addClass("init-ok").find("form").each(function() {
                    var e = $(this);
                    e.attr("data-form", "picture").find("legend").remove(),
                    e.find(".form-control-static").prepend('<span class="icon-f icf-image"></span><span class="icon-f icf-plus-square"></span>').prepend(t)
                })
            })
        },
        changeInputFile: function(e) {
            var i = this
              , o = $(e.currentTarget)
              , a = o.parents("form")
              , r = !0
              , l = o.get(0).files
              , u = l.length
              , f = i.$ctnFormUpload.find("form").length + 1
              , c = i.$ctnFormUpload.find(".thumb-block").length
              , d = a.html()
              , h = null
              , p = null;
            if ("" !== o.val()) {
                for (var _ = 0; _ < u; _++) {
                    var g = l[_]
                      , m = c + _;
                    (g.type.match("image.*") || g.type.match("application.*zip.*")) && "" !== g.name ? i.addThumb(m, g) : (r = !1,
                    t.alert(n.__("form.image_bad_type")))
                }
                if (!r)
                    return !1;
                if (i.setValidator(a),
                i.$uploadForm.removeClass("hidden"),
                i.$body.addClass("is-uploading"),
                i.$album.addClass("hidden"),
                i.$paging.addClass("hidden"),
                i.$uploadForm.length) {
                    var b = i.$uploadForm.find("form");
                    $('<form id="picture-' + f + '"></form>').insertAfter(b),
                    $.each($('form[data-form="picture"]').prop("attributes"), function() {
                        if ("id" === this.name || "class" === this.name)
                            return !1;
                        $("#picture-" + f).attr(this.name, this.value).attr("class", a.attr("class"))
                    }),
                    $("#picture-" + f).html(d).find('input[type="file"]').on("change", i, s),
                    b.addClass("hidden")
                }
                new FormData(a[0]).forEach(function(e, t) {
                    if ("string" == typeof t && "string" == typeof e && /csrf_token/.test(t) && (h = t,
                    p = e),
                    "object" == typeof e && h && p) {
                        var n = new FormData
                          , o = i.getMD5();
                        n.append(h, p),
                        n.append("XV_UPLOAD_PROGRESS", o),
                        n.append(t, e, e.name),
                        i.aFormDatas.push(n),
                        i.aUploadsIds.push(o)
                    }
                }),
                i.enableUploadBtn()
            }
        },
        setValidator: function(t) {
            for (var n = new i(t,e.data.upload_validation_rules), o = !1, s = 0; s < this.aValidator.length; s++)
                this.aValidator[s] === n && (o = !0);
            if (o)
                return !1;
            this.aValidator.push(n)
        },
        getMD5: function() {
            for (var e = "", t = "abcdefABCDEF0123456789", i = 32; i > 0; i--)
                e += t[Math.floor(Math.random() * t.length)];
            return e
        },
        addThumb: function(e, t) {
            if ("number" != typeof e || !(e > 0))
                return !1;
            $('<div class="thumb-block block-' + e + ' img-block no-rotate"></div>').insertBefore(this.$BtnUploadBlock);
            var i = $(".thumb-block.block-" + e);
            i.append('<div class="thumb-inside"><div class="thumb embed-responsive embed-responsive-4by3"></div></div>');
            var s = i.find(".thumb");
            s.append('<div class="embed-responsive-item"><img class="image-preview" src="" /><span class="image-name"></span><span class="icon-f icf-spinner icf-anim-spin"></span></div>'),
            s.append('<div class="buttons"><button type="button" class="btn btn-lg btn-delete-img-form init-ok" title="' + n.__("misc.delete") + '"><span class="icon-f icf-trash"></span></button></div>'),
            s.find(".image-name").text(t.name);
            var a = new FileReader;
            a.onload = function(e) {
                i.find("img").prop("src", e.target.result).data("file", t)
            }
            ,
            a.readAsDataURL(t),
            i.find(".btn-delete-img-form").on("click", this, o)
        },
        deleteImg: function(e) {
            var t = this
              , i = $(e.currentTarget).closest(".img-block");
            if (i.find("img").length) {
                var n = i.index("#upload-form .create-form-uploads .img-block");
                n > -1 && (t.aFormDatas.splice(n, 1),
                t.aUploadsIds.splice(n, 1),
                0 === t.aFormDatas.length && t.disableUploadBtn(),
                i.fadeOut(400, function() {
                    $(this).remove(),
                    0 === t.aFormDatas.length && $("#page.action-gallery_edit").length && (t.$uploadForm.addClass("hidden"),
                    t.$body.removeClass("is-uploading"),
                    t.$album.removeClass("hidden"),
                    t.$paging.removeClass("hidden"))
                }))
            }
        },
        addUploadBtn: function() {
            var e = this.$uploadForm.find(this.$ctnFormUpload);
            switch (this.$BtnUploadBlock = $('<div class="thumb-block upload-block"><div class="thumb-inside"><div class="thumb embed-responsive embed-responsive-4by3"><button class="btn btn-upload btn-danger init-ok"><span class="icon-f icf-upload"></span> ' + n.__("upload.verb") + "</button></div></div></div>"),
            e.append(this.$BtnUploadBlock),
            this.$BtnUpload = this.$BtnUploadBlock.find(".btn-upload"),
            this.sFormType) {
            case "update":
                this.$BtnUpload.on("click", this, a);
                break;
            case "new":
                this.$BtnUpload.on("click", this, r)
            }
            this.disableUploadBtn()
        },
        enableUploadBtn: function() {
            this.bCanUpload = !0;
            var t = this;
            $("html, body").animate({
                scrollTop: Math.round(this.$BtnUpload.offset().top)
            }, 1e3, function() {
                e.dyn.is_mobile ? $("html, body").scrollTop(Math.round(t.$BtnUpload.offset().top - Math.round($("header .white-stripe").height() + $(".img-block").height() / 2))) : $("html, body").scrollTop(Math.round(t.$BtnUpload.offset().top))
            }),
            this.$BtnUpload.prop("disabled", !1).html('<span class="icon-f icf-upload"></span> ' + n.__("upload.verb"))
        },
        disableUploadBtn: function() {
            this.bCanUpload = !1,
            this.$BtnUpload.prop("disabled", !0).html('<span class="icon-f icf-upload"></span> ' + n.__("upload.one_photo_to_up"))
        },
        createGallery: function() {
            if (this.bCanUpload) {
                var e = $(".btn-create");
                e.length && e.trigger("click")
            }
        },
        submitFileUpload: function(e, t) {
            if (this.bCanUpload) {
                var i = this.$ctnFormUpload.find("form")
                  , n = i.attr("action");
                if (null !== e && "number" == typeof e && e > 0 && n.indexOf("gallery_id") && (this.iIdGallery = e,
                n = n.replace("{:gallery_id:}/upload", e + "/upload")),
                this.sPropAction = n,
                i.length > 0 && this.aFormDatas.length > 0) {
                    if ("new" === this.sFormType)
                        for (var o = 0; o < this.aValidator.length; o++)
                            if (!this.aValidator[o].isValid())
                                return !1;
                    t && this.ajaxPost()
                }
            }
        },
        ajaxPost: function() {
            null === this.oPopupUploading && (this.oPopupUploading = t.loading(n.__("album.uploading")));
            var e = this;
            0 === e.iIteratorUploadArrayGal && (e.$progressDiv.show(),
            e.$progressIframeUpload.show()),
            e.iIteratorUploadArrayGal > 0 && (e.cur_progress_stop = !1,
            e.cur_progress_timer = null,
            e.cur_progress_failed = 0,
            e.cur_progress_uploaded = 0,
            e.cur_progress_speeds = [],
            e.cur_progress_lasttime = 0,
            e.iIteratorLoopCheck = 0),
            e.sProgressUrl = "/account/uploads/progress/basic/" + e.aUploadsIds[e.iIteratorUploadArrayGal],
            e.setStatus(null, n.__("upload.starting"), !1),
            e.checkProgress(),
            $.ajax({
                url: e.sPropAction,
                type: "POST",
                data: e.aFormDatas[e.iIteratorUploadArrayGal],
                context: this,
                contentType: !1,
                processData: !1,
                success: function(i) {
                    i.result || (e.$progressDiv.hide(),
                    i.message ? t.alert(i.message) : t.alert(n.__("misc.error_please_retry")))
                }
            }).fail(function(e, i, o) {
                o && t.alert(n.__("misc.error_please_retry"))
            }).done(function() {
                e.iIteratorUploadArrayGal < e.aFormDatas.length - 1 ? (e.iIteratorUploadArrayGal++,
                e.ajaxPost()) : window.setTimeout(function() {
                    e.oPopupUploading = null,
                    e.iIdGallery ? window.location.href = "/account/galleries/" + e.iIdGallery + "/edit" : window.location.reload()
                }, 1e3)
            })
        },
        setStatus: function(e, t, i) {
            void 0 !== i && null !== i || (i = !1);
            var n = null === e ? 100 : Math.min(100, Math.max(0, e));
            $("#upload-status").html(t).toggleClass("text-success", null !== e && !i && n >= 100).toggleClass("text-danger", null !== e && i),
            $(".progress-bar").prop("aria-valuenow", n).css("width", (i ? 100 : Math.max(5, n)) + "%").html((null === e ? "?" : n.toFixed(1)) + " %").toggleClass("progress-bar-success", !i && null !== e && n >= 100).toggleClass("progress-bar-info", null === e || !i && n >= 60 && n < 100).toggleClass("progress-bar-warning", !i && n >= 30 && n < 60).toggleClass("progress-bar-danger", i || n < 30).toggleClass("progress-bar-striped active", null === e || !i && n < 100)
        },
        checkProgress: function() {
            var t = this;
            if (t.cur_progress_stop)
                return !1;
            var i;
            switch (t.iIteratorLoopCheck) {
            case 0:
                i = 100;
                break;
            case 1:
                i = 500;
                break;
            default:
                i = 1e3
            }
            $.ajax({
                url: t.sProgressUrl,
                type: "JSON",
                success: function(i) {
                    if (t.cur_progress_stop)
                        return !1;
                    if (!i.result)
                        return !(++t.cur_progress_failed > 7) && (7 === t.cur_progress_failed && (t.cur_progress_stop = !0,
                        window.clearTimeout(t.cur_progress_timer),
                        t.setStatus(0, n.__("upload.cant_start_check_file_size_and_internet_connection", {
                            "%max_size%": e.data.max_upload_size_disp
                        }), !0),
                        t.$progressIframeUpload.show().prop("src", "about:blank")),
                        t.setStatus(null, n.__("upload.starting"), !1),
                        !1);
                    if (i.unknown)
                        return t.setStatus(null, n.__("upload.unknown_status"), !1),
                        !1;
                    if (i.done)
                        return t.cur_progress_stop = !0,
                        window.clearTimeout(t.cur_progress_timer),
                        0 === i.error ? t.setStatus(100, n.__("upload.completed_successfully") + " " + n.__("upload.being_checked"), !1) : t.setStatus(0, i.error_msg + " (#" + i.error + ")", !0),
                        !1;
                    var o = parseInt(i.current)
                      , s = parseInt(i.total)
                      , a = 0;
                    s > 0 && o <= s && (a = Math.min(99.9, o / s * 100));
                    var r, l = (new Date).getTime() / 1e3, u = o - t.cur_progress_uploaded, f = l - t.cur_progress_lasttime, c = u / f, d = t.cur_progress_uploaded, h = t.cur_progress_lasttime, p = c;
                    if (!isNaN(c) || c < 1e-4) {
                        t.cur_progress_speeds.push(c),
                        t.cur_progress_speeds.length > 20 && t.cur_progress_speeds.shift();
                        for (var _ = 0, g = 0; g < t.cur_progress_speeds.length; g++)
                            _ += t.cur_progress_speeds[g];
                        c = _ / t.cur_progress_speeds.length,
                        r = Math.round((s - o) / c)
                    } else
                        c = 0,
                        r = -1;
                    if (t.cur_progress_lasttime = l,
                    t.cur_progress_uploaded = o,
                    a > 0) {
                        var m = i.current_disp + " / " + i.total_disp;
                        if (c >= 1048576 ? m += " / " + (c / 1048576).toFixed(1) + n.__("misc.mb_per_sec") : c > 0 && (m += " / " + (c / 1024).toFixed(c >= 1024 ? 1 : 3) + n.__("misc.kb_per_sec")),
                        r >= 0) {
                            var b = r
                              , v = Math.max(0, Math.floor(r / 3600));
                            r -= 3600 * v;
                            var D = Math.max(0, Math.floor(r / 60));
                            if (isNaN(D)) {
                                cur_progress_speeds
                            }
                            r -= 60 * D,
                            m += v > 0 ? " / " + n.__("misc.nb_hours_mins_remaining", {
                                "%nb_hours%": v.toString(),
                                "%nb_mins%": D.toString()
                            }) : D > 0 ? " / " + n.__("misc.nb_mins_secs_remaining", {
                                "%nb_mins%": D.toString(),
                                "%nb_secs%": r.toString()
                            }) : " / " + n.__("misc.nb_secs_remaining", {
                                "%nb_secs%": r.toString()
                            })
                        }
                        t.setStatus(a, m, !1)
                    } else
                        o > 0 ? t.setStatus(null, i.current_disp, !1) : t.setStatus(null, n.__("upload.starting"), !1)
                }
            }).fail(function() {
                if (++t.cur_progress_failed > 7)
                    return !1;
                7 === t.cur_progress_failed && (t.cur_progress_stop = !0,
                window.clearTimeout(t.cur_progress_timer),
                t.setStatus(0, n.__("upload.cant_start_check_file_size_and_internet_connection", {
                    "%max_size%": e.data.max_upload_size_disp
                }), !0),
                t.$progressIframeUpload.show().prop("src", "about:blank")),
                t.setStatus(null, n.__("upload.starting"), !1)
            }),
            t.iIteratorLoopCheck++,
            t.cur_progress_timer = window.setTimeout(function() {
                t.checkProgress()
            }, i)
        }
    },
    l
}),
define("skins/account/photos/galleries", ["config/main", "lib/helpers/overlay/contextual_popup", "lib/i18n!front", "./gallery/gallery_info", "./gallery/file_upload"], function(e, t, i, n, o) {
    var s = $("#create-form")
      , a = $(".btn-new-album")
      , r = new o({
        type: "new"
    })
      , l = new n({
        type: "new",
        $elt: $("#new_gallery"),
        callback: function(e, t) {
            r.submitFileUpload(e, t)
        }
    });
    $("#account-content-block").find(".btn").addClass("init-ok"),
    r.isBrowserValid() ? s.hasClass("hidden") ? a.addClass("init-ok") : l.setValidator() : a.removeClass("init-ok").attr("disabled", "disabled"),
    a.on("click", function() {
        $(this).addClass("hidden"),
        s.removeClass("hidden"),
        l.setValidator()
    }),
    s.find(".btn-create").on("click", function() {
        l.submitForm()
    }),
    $(".btn-delete-gallery").on("click", function() {
        var n = $(this);
        t.confirm(i.__("misc.are_you_sure"), function() {
            $(".btn-delete-gallery").removeClass("init-ok").attr("disabled", "disabled"),
            $("#delete-gallery-progress").show();
            var o = n.data("galid")
              , s = e.data.csrf.albums_delete[o]
              , a = setInterval(function() {
                $.ajax({
                    url: "/account/galleries/" + o + "/deleteprogress",
                    type: "GET",
                    success: function(e) {
                        if (e.result && "undefined" !== e.progress) {
                            100 === e.progress && clearInterval(a);
                            $("#delete-gallery-progress").children(".progress").children().prop("aria-valuenow", e.progress).css("width", Math.max(5, e.progress) + "%").html((null === e.progress ? "?" : e.progress.toFixed(1)) + " %").toggleClass("progress-bar-success", null !== e.progress && e.progress >= 100).toggleClass("progress-bar-striped active", e.progress < 100)
                        } else
                            t.alert(i.__("misc.error_please_retry")),
                            clearInterval(a)
                    }
                }).fail(function(e, n, o) {
                    o && (t.alert(i.__("misc.error_please_retry")),
                    clearInterval(a))
                }),
                n.parent(".thumb-block").addClass("is-removing")
            }, 200);
            $.ajax({
                url: "/account/galleries/" + o + "/delete",
                type: "POST",
                data: {
                    csrf: s
                },
                success: function(e) {
                    e.result ? window.location.reload() : !1 === e.result && t.alert(i.__("misc.error_please_retry"))
                }
            }).fail(function(e, n, o) {
                o && t.alert(i.__("misc.error_please_retry"))
            })
        })
    })
}),
define("skins/account/photos/gallery_edit", ["config/main", "lib/tools", "lib/i18n!front", "lib/helpers/overlay/contextual_popup", "lib/helpers/overlay/box", "lib/helpers/inline_loader", "lib/helpers/dragdrop_select_and_reorder", "./gallery/gallery_info", "./gallery/file_upload"], function(e, t, i, n, o, s, a, r, l) {
    var u = $(window)
      , f = $("#album")
      , c = $(".album-menu")
      , d = $(".gallery-panel")
      , h = $("#edit-form")
      , p = $(".create-form-uploads")
      , _ = $(".thumb-block.img-block")
      , g = $("#albumCover")
      , m = $(".pagination")
      , b = null
      , v = $('<div class="thumb-block is-loading"><div class="thumb-inside">' + s.getIcf() + "</div></div>")
      , D = e.dyn.is_mobile
      , y = !1
      , w = !1
      , C = !1
      , k = Math.round(c.offset().top)
      , x = e.data.current_page
      , F = e.data.id_gallery
      , E = null
      , T = g.prop("src");
    new l({
        type: "update"
    });
    new r({
        type: "update",
        $elt: $("#gallery")
    }).setValidator();
    var S = function(e) {
        $.ajax({
            url: "/account/galleries/" + F + "/page/" + e,
            type: "GET",
            success: function(e) {
                if (e.result) {
                    if (y) {
                        m.addClass("hidden"),
                        v.remove();
                        var i = O.getContainer()
                          , n = $(t.replaceThumbcast(e.pictures)).filter(".thumb-block");
                        n.find(".btn-cover-gallery, .btn-delete-img").remove(),
                        i.append(n),
                        O.updateElementList(),
                        w = !1,
                        C = !0
                    }
                    y = e.nb_more > 0
                }
            }
        })
    }
      , L = function() {
        c.addClass("is-close")
    }
      , P = function() {
        c.removeClass("is-close");
        var e = O.countSelectedElems();
        if (e > 0) {
            if (D) {
                c.find(".btn").removeClass("btn-lg");
                var t = c.find(".album-menu-title .icon-f");
                (t.hasClass("icf-image") || t.hasClass("icf-images")) && t.removeClass("icf-image icf-images"),
                t.addClass(1 === e ? "icf-image" : "icf-images")
            }
            $(".btn-move-first").removeClass("hidden"),
            $(".btn-massive-delete").removeClass("hidden")
        } else
            $(".btn-move-first").addClass("hidden"),
            $(".btn-massive-delete").addClass("hidden");
        D && c.addClass("is-pined").appendTo("#page")
    }
      , I = function() {
        p.addClass("init-ok").find('input[type="file"]').prop("disabled", !1)
    }
      , M = function() {
        p.removeClass("init-ok").find('input[type="file"]').prop("disabled", !0)
    }
      , A = function(e) {
        if (D || (e >= k ? (f.css("paddingTop", c.outerHeight()),
        c.addClass("is-pined").appendTo("#page")) : (c.insertBefore(f).removeClass("is-pined"),
        f.css("paddingTop", 0))),
        O.isReorderActivated()) {
            var t = O.getElems();
            !w && y && e + u.height() >= Math.round(t.last().offset().top) - 20 && (v.insertAfter(t.last()),
            w = !0,
            x++,
            S(x))
        }
    }
      , O = new a({
        element_list: _,
        functions: {
            get_elem_children: function(e) {
                return xv.bDebugDragDrop && console.log("%c get_elem_children", "color:#fcc02a;font-size:1.2em;font-style:italic;"),
                e.find(".embed-responsive-item")
            },
            on_reorder_mode_enabled: function() {
                xv.bDebugDragDrop && console.log("%c on_reorder_mode_enabled", "color:#fcc02a;font-size:1.2em;font-style:italic;"),
                M(),
                P(),
                $(".btn-reorder").addClass("hidden"),
                $(".btn-cancel-reorder").removeClass("hidden"),
                m.addClass("hidden")
            },
            on_reorder_mode_many: function() {
                xv.bDebugDragDrop && console.log("%c on_reorder_mode_many", "color:#fcc02a;font-size:1.2em;font-style:italic;"),
                f.addClass("is-selecting")
            },
            on_reorder_mode_one_no_select: function() {
                xv.bDebugDragDrop && console.log("%c on_reorder_mode_one_no_select", "color:#fcc02a;font-size:1.2em;font-style:italic;"),
                k = Math.round(c.offset().top),
                f.addClass("is-reordering");
                var e = O.countSelectedElems();
                f.toggleClass("solo", 0 === e),
                f.toggleClass("is-selecting", e > 1)
            },
            on_reorder_mode_disabled: function() {
                xv.bDebugDragDrop && console.log("%c on_reorder_mode_disabled", "color:#fcc02a;font-size:1.2em;font-style:italic;"),
                f.removeClass("is-selecting is-reordering solo").removeAttr("style"),
                $(".btn-cancel-reorder").addClass("hidden"),
                $(".btn-reorder").removeClass("hidden"),
                m.removeClass("hidden"),
                k = Math.round(c.offset().top),
                I(),
                L()
            },
            on_scroll: A,
            save_new_order: function(t, o, s) {
                xv.bDebugDragDrop && console.log("%c save_new_order", "color:#fcc02a;font-size:1.2em;font-style:italic;", "aSelectedElems", t, "iIdInsertAfter", o),
                $.ajax({
                    url: "/account/galleries/" + F + "/moveafter/" + o,
                    type: "POST",
                    data: {
                        ids: t,
                        csrf: e.data.csrf.reorder
                    },
                    success: function(e) {
                        xv.bDebugDragDrop && console.log("%c save_new_order --- success", "color:#fcc02a;font-style:italic;", e),
                        e.result && "function" == typeof s ? s() : n.alert(i.__("misc.error_please_retry"), function() {
                            window.location.reload()
                        })
                    }
                }).fail(function(e, t, o) {
                    xv.bDebugDragDrop && console.log("%c save_new_order --- fail", "color:#fcc02a;font-style:italic;"),
                    o && n.alert(i.__("misc.error_please_retry"), function() {
                        window.location.reload()
                    })
                })
            },
            get_new_order_first_position_id: function(i) {
                if (xv.bDebugDragDrop && console.log("%c get_new_order_first_position_id", "color:#fcc02a;font-size:1.2em;font-style:italic;"),
                0 !== e.data.current_page)
                    return $.ajax({
                        url: "/account/galleries/" + F + "/page/" + (e.data.current_page - 1),
                        type: "GET",
                        success: function(e) {
                            if (e.result) {
                                var n = $(t.replaceThumbcast(e.pictures)).filter(".thumb-block");
                                i(n.eq(n.length - 1).data("id"))
                            }
                        }
                    }),
                    !1;
                i(0)
            },
            update_selected_count: function(e) {
                e > 0 ? D ? c.find(".libelle").html(e.toString()) : c.find(".libelle").html(e > 1 ? i.__("album.nb_selected_pictures", {
                    "%nb%": e.toString()
                }) : i.__("album.one_selected_picture")) : c.find(".libelle").html(i.__("album.reorder"))
            }
        }
    });
    xv.dd = O;
    var B = function() {
        var e = $(".gallery-counter-pictures");
        e.text(e.text().replace(/\d{1,}/, _.length.toString()))
    }
      , j = function() {
        _ = $(".thumb-block.img-block"),
        O.updateElementList(),
        B()
    }
      , R = function() {
        var t = O.popLastSelectedElement()
          , o = e.data.csrf.deletepic[t];
        b = _.filter('[data-id="' + t + '"]'),
        null === E && (E = n.loading(i.__("misc.delete_in_progress"))),
        $.ajax({
            url: "/account/galleries/" + F + "/delete/" + t,
            type: "POST",
            data: {
                csrf: o
            },
            success: function(o) {
                o.result ? (b.fadeOut(500, function() {
                    $.when($(this).remove()).then(j())
                }),
                e.data.current_cover_id === t && (g.prop("src", T.replace(/pic_[0-9]+/gi, "pic_" + o.cover)),
                f.find(".thumb-block").removeClass("is-cover"),
                0 !== o.cover ? _.filter('[data-id="' + o.cover + '"]').addClass("is-cover") : g.parents(".col-pic").remove())) : !1 === o.result && n.alert(i.__("misc.error_please_retry"))
            }
        }).fail(function(e, t, o) {
            o && n.alert(i.__("misc.error_please_retry"))
        }).done(function() {
            O.countSelectedElems() ? R() : (O.setReorderMode(null),
            window.setTimeout(function() {
                E && E.isOpen() && (E.close(),
                E = null)
            }, 400))
        })
    }
      , N = function(t) {
        t.preventDefault();
        var i = $(".voters-list .voters").data("page");
        i++,
        $.ajax({
            url: "/account/galleries/" + e.data.id_gallery + "/voters/" + i,
            dataType: "json",
            success: function(e) {
                if (e.result) {
                    $(".voters-list .voters").data("page", e.page);
                    for (var t in e.voters)
                        $('<li><a href="/profiles/' + e.voters[t].name + '" title="' + e.voters[t].display + '"><figure><img src="' + e.voters[t].picture + '" alt="' + e.voters[t].display + '" /></figure><span>' + e.voters[t].display + "</span></a></li>").insertBefore(".x-content-btn");
                    !0 === e.lastpage && $("#seeMoreVoters").remove()
                }
            },
            error: function(e) {}
        })
    };
    u.on("resize", function() {
        k = Math.round(c.offset().top)
    }),
    $(".btn-gallery-edit").on("click", function() {
        d.find(".col-infos, .col-pres").addClass("hidden"),
        h.removeClass("hidden")
    }),
    $(".btn-cancel").on("click", function() {
        d.find(".col-infos, .col-pres").removeClass("hidden"),
        h.addClass("hidden")
    }),
    $(".btn-reorder").on("click", function() {
        O.setReorderMode("moveOneNoSelect")
    }),
    $(".btn-delete-gallery").on("click", function() {
        var t = $(this);
        n.confirm(i.__("misc.are_you_sure"), function() {
            t.removeClass("init-ok").prop("disabled", !0),
            $("#delete-gallery-progress").show();
            var o = e.data.csrf["delete"]
              , s = setInterval(function() {
                $.ajax({
                    url: "/account/galleries/" + F + "/deleteprogress",
                    type: "GET",
                    success: function(e) {
                        if (e.result && "undefined" !== e.progress) {
                            100 === e.progress && clearInterval(s);
                            $("#delete-gallery-progress").children(".progress").children().prop("aria-valuenow", e.progress).css("width", Math.max(5, e.progress) + "%").html((null === e.progress ? "?" : e.progress.toFixed(1)) + " %").toggleClass("progress-bar-success", null !== e.progress && e.progress >= 100).toggleClass("progress-bar-striped active", e.progress < 100)
                        } else
                            n.alert(i.__("misc.error_please_retry")),
                            clearInterval(s)
                    }
                }).fail(function(e, t, o) {
                    o && (n.alert(i.__("misc.error_please_retry")),
                    clearInterval(s))
                }),
                t.parent(".thumb-block").addClass("is-removing")
            }, 200);
            $.ajax({
                url: "/account/galleries/" + F + "/delete",
                type: "POST",
                data: {
                    csrf: o
                },
                success: function(e) {
                    e.result ? window.location.href = "/account/galleries/" : !1 === e.result && n.alert(i.__("misc.error_please_retry"))
                }
            }).fail(function(e, t, o) {
                o && n.alert(i.__("misc.error_please_retry"))
            })
        })
    }),
    $(".btn-move-first").on("click", function() {
        O.moveToFirstPos()
    }),
    $(".btn-massive-delete").on("click", function() {
        n.confirm(i.__("misc.are_you_sure"), function() {
            R()
        })
    }),
    $(".btn-massive-cancel, .btn-cancel-reorder").on("click", function() {
        if (C)
            return window.location.reload(),
            !1;
        O.setReorderMode(null)
    }),
    $(".btn-cover-gallery").on("click", function() {
        var t = $(this);
        n.confirm(i.__("misc.are_you_sure"), function() {
            var o = t.parents(".thumb-block")
              , s = o.data("id")
              , a = e.data.csrf.setcoverpic[s];
            f.find("button").prop("disabled", !0),
            $.ajax({
                url: "/account/galleries/" + F + "/setcover/" + s,
                type: "POST",
                data: {
                    csrf: a
                },
                success: function(t) {
                    t.result ? (e.data.current_cover_id = s,
                    g.prop("src", T.replace(/pic_[0-9]+/gi, "pic_" + s)),
                    f.find(".is-cover").removeClass("is-cover"),
                    o.addClass("is-cover"),
                    $('<span class="confirm"><span><span class="icon-f icf-check"></span> ' + i.__("misc.associated_successfully") + "</span></span>").appendTo(o.find(".thumb")),
                    setTimeout(function() {
                        o.find(".confirm").fadeOut(function() {
                            $(this).remove()
                        }),
                        f.find("button").prop("disabled", !1)
                    }, 1500)) : !1 === t.result && n.alert(i.__("misc.error_please_retry"))
                }
            }).fail(function(e, t, o) {
                o && n.alert(i.__("misc.error_please_retry"))
            })
        })
    }).addClass("init-ok"),
    $(".btn-delete-img").on("click", function() {
        var t = $(this);
        n.confirm(i.__("misc.are_you_sure"), function() {
            var o = t.parents(".thumb-block")
              , s = o.data("id")
              , a = e.data.csrf.deletepic[s];
            null === E && (E = n.loading(i.__("misc.delete_in_progress"))),
            $.ajax({
                url: "/account/galleries/" + F + "/delete/" + s,
                type: "POST",
                data: {
                    csrf: a
                },
                success: function(t) {
                    t.result ? (o.fadeOut(500, function() {
                        $.when($(this).remove()).then(j()),
                        E.close(),
                        E = null
                    }),
                    e.data.current_cover_id === s && (g.prop("src", T.replace(/pic_[0-9]+/gi, "pic_" + t.cover)),
                    f.find(".thumb-block").removeClass("is-cover"),
                    0 !== t.cover ? _.filter('[data-id="' + t.cover + '"]').addClass("is-cover") : g.parents(".col-pic").remove())) : !1 === t.result && n.alert(i.__("misc.error_please_retry"))
                }
            }).fail(function(e, t, o) {
                o && n.alert(i.__("misc.error_please_retry"))
            })
        })
    }).addClass("init-ok"),
    $("#votersListLink").on("click", function(t) {
        t.preventDefault(),
        $("body").addClass("no-scroll"),
        $.ajax({
            url: "/account/galleries/" + e.data.id_gallery + "/voters",
            dataType: "json",
            success: function(e) {
                if (!0 === e.result) {
                    var t = '<p class="voters-list-title">' + i.__("profile.gallery.people_who_voted") + '</p><ul class="voters" data-page="0">';
                    for (var s in e.voters)
                        t += '<li><a href="/profiles/' + e.voters[s].name + '" title="' + e.voters[s].display + '"><figure><img src="' + e.voters[s].picture + '" alt="' + e.voters[s].display + '" /></figure><span>' + e.voters[s].display + "</span></a></li>";
                    if (t += '<li class="action"><button type="button" id="seeMoreVoters" class="btn btn-default btn-danger init-ok"><span>' + i.__("profile.see_more_profiles") + "</span></button></li></ul>",
                    !a)
                        var a = new o($(".account-page"),!0,"hide");
                    a.setContent(t).show("auto"),
                    a.addClass("voters-list"),
                    a.hide = function() {
                        if (this.open)
                            return this.node.detach(),
                            this.open = !1,
                            this.onHide && this.onHide(),
                            $("body").removeClass("no-scroll"),
                            this
                    }
                    ,
                    $("#seeMoreVoters").on("click", N)
                } else
                    !1 === e.result && n.alert(i.__("misc.error_please_retry"))
            }
        }).fail(function(e, t, o) {
            o && n.alert(i.__("misc.error_please_retry"))
        })
    }),
    S(x),
    f.find('.thumb-block[data-id="' + e.data.current_cover_id + '"]').addClass("is-cover"),
    h.appendTo(".gallery-panel"),
    $("#account-content-block").find(".btn").addClass("init-ok")
}),
define("skins/account/photos/common_popup", ["config/main", "lib/i18n!front", "lib/helpers/overlay/contextual_popup"], function(e, t, i) {
    return function(e, n, o, s, a, r) {
        i.confirm(e, function() {
            var e = i.loading(t.__(n));
            $.ajax({
                type: "POST",
                dataType: "json",
                url: o,
                data: {
                    csrf: s
                },
                success: function(n) {
                    e.close(),
                    n.result ? i.alert(a, r) : i.alert(t.__("misc.error_please_retry"), null, !0)
                },
                error: function() {
                    e.close(),
                    i.alert(t.__("misc.error_please_retry"), null, !0)
                }
            })
        }, null, !0)
    }
}),
define("skins/account/photos/common_form", [], function() {
    return function(e) {
        var t = $("#" + e)
          , i = $("#main_profilpic, #main_profileban");
        if (t.length) {
            var n = t.find('input[type="file"]')
              , o = t.find("#" + e + "_image-actions")
              , s = $(".btn.btn-upload");
            t.find("label").addClass("btn btn-lg btn-danger"),
            s.addClass("is-init").on("click", function(e) {
                n.trigger(e)
            }),
            n.on("change", function() {
                t.hasClass("is-init") || (i.addClass("hidden"),
                t.addClass("is-init"),
                o.insertAfter(".cr-boundary"),
                s.parents(".thumb-block").length ? s.parents(".thumb-block").remove() : s.parents(".panel-upload").remove())
            })
        }
    }
}),
define("skins/account/photos/main_picture", ["config/main", "lib/i18n!front", "lib/helpers/overlay/contextual_popup", "skins/form/validator", "./common_popup", "./common_form"], function(e, t, i, n, o, s) {
    s("main-picture-upload"),
    new n($("#main-picture-upload"),e.data.validation_rules,{
        no_init_focus: !0,
        no_init_validate: !0,
        no_errors_shortcuts: !0
    }),
    $(".thumb-block.profilepic .delete").click(function() {
        var i = $(this).data("btn-val")
          , n = $("#profilepic_" + i);
        o(t.__("misc.confirm_delete_pic", null), t.__("misc.delete_in_progress", null), "/account/main-picture/" + i + "/delete", e.data.csrf["delete"][i], t.__("misc.image_deleted", null), function() {
            n.hasClass("is-main") && window.location.reload(),
            n.remove()
        })
    }).addClass("init-ok"),
    $(".thumb-block.profilepic .setasmain").click(function() {
        var i = $(this).data("btn-val")
          , n = "/account/main-picture/" + i + "/setasmain"
          , s = e.data.csrf.setasmain[i] !== undefined ? e.data.csrf.setasmain[i] : 0
          , a = !1;
        $(this).data("btn-uploaded") !== undefined && (n += "/uploaded",
        s = e.data.csrf.setasmainuploaded[i],
        a = !0),
        o(t.__("misc.confirm_setasmain_pic", null), t.__("misc.setasmain_in_progress", null), n, s, t.__("misc.main_image_changed", null), function() {
            var e = $("#account-content-block .panel-body").offset().top - 40;
            $(window).scrollTop() > e && $(window).scrollTop(e),
            a ? ($(".thumb-block.profilepic169.is-main").removeClass("is-main"),
            $("#reset-ps-prof-pic").removeClass("hidden")) : $(".thumb-block.profilepic.is-main").not(".profilepic169").removeClass("is-main");
            var t = $("#profilepic_" + i).addClass("is-main").find("img").first().prop("src");
            $("#main_profilpic").prop("src", t.replace("_small", "_big").replace("_medium", "_big"))
        })
    }).addClass("init-ok"),
    $(".reset-ps-prof-pic").click(function() {
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "/account/main-picture/reset",
            data: {
                csrf: e.data.csrf.reset
            },
            success: function() {
                location.reload()
            },
            error: function() {
                i.alert(t.__("misc.error_please_retry"), null, !0)
            }
        })
    }).addClass("init-ok")
}),
define("skins/account/photos/profile_banner", ["config/main", "lib/i18n!front", "lib/helpers/overlay/contextual_popup", "skins/form/validator", "./common_popup", "./common_form"], function(e, t, i, n, o, s) {
    s("main-banner-upload"),
    new n($("#main-banner-upload"),e.data.validation_rules,{
        no_init_focus: !0,
        no_init_validate: !0,
        no_errors_shortcuts: !0
    }),
    $(".thumb-block.profileban .delete").click(function() {
        var i = $(this).data("btn-val")
          , n = $("#profileban_" + i);
        o(t.__("misc.confirm_delete_banner", null), t.__("misc.delete_in_progress", null), "/account/profile-banner/" + i + "/delete", e.data.csrf["delete"][i], t.__("misc.banner_deleted", null), function() {
            n.hasClass("is-main") && window.location.reload(),
            n.remove()
        })
    }).addClass("init-ok"),
    $(".thumb-block.profileban .setasmain").click(function() {
        var i = $(this).data("btn-val");
        o(t.__("misc.confirm_setasmain_banner", null), t.__("misc.setasmain_in_progress", null), "/account/profile-banner/" + i + "/setasmain", e.data.csrf.setasmain[i], t.__("misc.banner_changed", null), function() {
            var e = $("#account-content-block .panel-body").offset().top - 40;
            $(window).scrollTop() > e && $(window).scrollTop(e),
            $(".thumb-block.profileban.is-main").removeClass("is-main");
            var t = $("#profileban_" + i).addClass("is-main").find("img").first().prop("src");
            $("#main_profileban").prop("src", t.replace("_small", "_big").replace("_medium", "_big"))
        })
    }).addClass("init-ok")
}),
define("skins/common/listing/loader/infinite", ["lib/tools", "lib/helpers/inline_loader"], function(e, t) {
    var i = $(document)
      , n = $(window)
      , o = function(e, t, i, o, s, a, r) {
        this.btn = e,
        this.btn_content = this.btn.html(),
        this.list = t,
        this.autoload = !!a,
        this.loading = !1,
        this.loading_msg = s,
        this.last_timestamp = o,
        this.url = i,
        this.postParams = "object" == typeof r ? r : {};
        var l = this
          , u = function() {
            l.loadNext()
        };
        this.last_child = t.children().last().prev(),
        this.autoload && (this.last_child_pos = this.last_child.offset().top,
        this.scroll_handler = n.on("scroll", u),
        this.resize_handler = n.on("resize", function() {
            l.last_child_pos = l.last_child.offset().top,
            u()
        })),
        this.btn.on("click", u)
    };
    return o.prototype = {
        onLoaded: function(t) {
            var i = t.indexOf("--\x3e");
            this.last_timestamp = parseInt(t.substring(5, i)),
            t = t.substr(i + 3),
            t = e.stripStartScript(t),
            this.list.append(e.replaceThumbcast(t.replace(/\\'/gi, "'"))),
            e.executePendingPrepare(this.list.find(".thumb-block")),
            this.last_child = this.list.children().last().prev(),
            this.autoload && (this.last_child_pos = this.last_child.offset().top),
            0 === this.last_timestamp && (this.btn.remove(),
            this.autoload && (n.off("scroll", this.scroll_handler),
            n.off("resize", this.resize_handler)))
        },
        loadNext: function() {
            if (!(this.loading || !this.last_timestamp || this.autoload && i.scrollTop() + 2 * n.height() < this.last_child_pos)) {
                this.btn.prop("disabled", !0).addClass("disabled").html(t.getSafe("after", this.loading_msg).getHtml()),
                this.loading = !0;
                var e = this;
                $.post(this.url + this.last_timestamp, this.postParams, function(t) {
                    e.onLoaded(t)
                }, "html").always(function() {
                    e.loading = !1,
                    e.btn.prop("disabled", !1).removeClass("disabled").html(e.btn_content)
                })
            }
        }
    },
    o
}),
define("skins/default/profile/images", [], function() {
    var e = $(".img-block .gif-tag")
      , t = function(e) {
        e.each(function() {
            var e = $(this)
              , t = e.prev()
              , i = t.position();
            e.css({
                left: i.left + 3,
                top: i.top + 3
            })
        })
    }
      , i = function(i) {
        if (i) {
            if (0 === i.length)
                return;
            return i.prev().one("load", function() {
                t($(this).next())
            }),
            t(i),
            void (e = e.add(i))
        }
        t(e)
    };
    return e.prev().one("load", function() {
        t($(this).next())
    }),
    i(),
    $(window).resize(function() {
        i()
    }),
    i
}),
define("skins/account/social/activities", ["config/main", "skins/common/listing/loader/infinite", "skins/default/profile/images", "lib/i18n!front", "lib/helpers/thumbs_rotator"], function(e, t, i, n) {
    var o = $("#load-more-activities");
    if (0 !== o.length) {
        new t(o,$("#profile-activities"),"/account/activities/" + e.data.events_type + "/",e.data.last_timestamp,n.__("profile.loading_more_activities"),!1).onLoaded = function(e) {
            var n = this.last_child;
            t.prototype.onLoaded.call(this, e),
            i(n.nextAll().find(".img-block .gif-tag"))
        }
    }
}),
define("skins/account/social/chat", [], function() {}),
define("skins/account/social/friends_list", ["config/main", "lib/helpers/overlay/box", "lib/i18n!front"], function(e, t, i) {
    var n = $("#friendsrequests-check-all")
      , o = $("#account-content-block .panel-body").first()
      , s = $("#friendsrequests-actions button[data-range]")
      , a = []
      , r = []
      , l = !1
      , u = 0
      , f = !1
      , c = !1
      , d = !1
      , h = !1
      , p = !1
      , _ = function() {
        if (!0 === h)
            return void (p && (clearTimeout(p),
            p = setTimeout(_, 200)));
        p && (clearTimeout(p),
        p = !1),
        r = [];
        for (var t in a)
            a[t].input.prop("checked") && e.data.profiles[a[t].input.val()] ? (r.push([a[t].input.val(), e.data.profiles[a[t].input.val()].csrf]),
            a[t].block.addClass("checked")) : a[t].block.removeClass("checked");
        var i = 0 !== r.length && (r.length === u ? "all" : "partial");
        return n.removeClass("all partial").addClass(i || ""),
        i
    }
      , g = function() {
        var e = _();
        h = !0;
        for (var t in a)
            a[t].input.prop("checked", !1 === e);
        h = !1,
        _()
    }
      , m = function(t, i, n) {
        if (!0 === f)
            return !1;
        f = !0,
        "checked" === i && _(),
        "all" === i ? $.post("/profiles/" + e.dyn.login_info.profile + "/friends/requests/list", function(e) {
            if (!e.result)
                return f = !1,
                !1;
            l = e.users,
            b(t, i)
        }, "JSON") : b(t, i, n)
    }
      , b = function(e, n, o) {
        if (!0 !== f || "all" === n && (!l || l.length < 1) || "all-page" === n && a.length < 1)
            return f = !1,
            !1;
        if ("checked" === n && r.length < 1)
            return alert($("<div></div>").html(i.__("profile.please_select_friend")).text()),
            f = !1,
            !1;
        var s = "object" == typeof o ? o.slice(0) : "all" === n ? l.slice(0) : "all-page" === n ? a.slice(0) : r.slice(0)
          , u = s.length
          , h = "one" === n ? i.__("profile.confirm_unfriend_" + n, {
            "%username%": s[0][2].toString()
        }, e + " %username%") : i.__("profile.confirm_unfriend_" + n, {
            "%nb%": u.toString()
        }, e + " %nb%");
        if (h = $("<div></div>").html(h).text(),
        ("one" === n && !0 !== d || "one" !== n) && !confirm(h))
            return f = !1,
            !1;
        "one" === n && (d = !0),
        c || (c = t.get($("body"), !1)),
        c.setContent('<div class="progress"><div class="progress-bar" role="progressbar" id="friends-requests-progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="' + u + '"></div></div>').show("auto"),
        v(e, n, s, u, $("#friends-requests-progress"))
    }
      , v = function(e, t, i, n, o) {
        var s = n - i.length
          , r = Math.round(s / n * 100) + "%";
        if (o.prop("aria-valuenow", s).css("width", r).html(r),
        i.length < 1)
            return setTimeout(function() {
                window.location.reload()
            }, 1e3),
            !1;
        var l = i.shift();
        "all-page" === t && (l = [l.name, l.csrf]),
        $.post("/profiles/" + l[0] + "/friends/remove", {
            csrf: l[1]
        }, function(s) {
            for (var r in a)
                a[r].name === l[0] && a[r].block.remove();
            v(e, t, i, n, o)
        }, "JSON").fail(function() {
            v(e, t, i, n, o)
        })
    };
    if (o.find(".profileslist .thumb-block .friend-request-actions input[name='profile-select']").each(function() {
        $(this).on("change", function() {
            p && (clearTimeout(p),
            p = !1),
            p = setTimeout(_, 200)
        });
        var t = {
            block: $(this).parents(".thumb-block"),
            input: $(this),
            name: $(this).val()
        };
        t.displayed_name = e.data.profiles[t.name].display,
        t.csrf = e.data.profiles[t.name].csrf,
        t.block.find(".friend-request-actions button[data-btn-action]").on("click", function() {
            m($(this).data("btn-action"), "one", [[t.name, t.csrf, t.displayed_name]])
        }),
        a.push(t)
    }),
    s.on("mouseover", function() {
        o.addClass($(this).parent().data("btn-action") + "-" + $(this).data("range"))
    }).on("mouseout", function() {
        o.removeClass($(this).parent().data("btn-action") + "-" + $(this).data("range"))
    }).on("click", function() {
        m($(this).parent().data("btn-action"), $(this).data("range"))
    }),
    n.on("click", g),
    "object" == typeof e.data.profiles)
        for (var D in e.data.profiles)
            e.data.profiles.hasOwnProperty(D) && u++;
    _()
}),
define("skins/account/social/friends_requests", ["config/main", "lib/helpers/overlay/box", "lib/i18n!front"], function(e, t, i) {
    var n = $("#friendsrequests-check-all")
      , o = $("#account-content-block .panel-body").first()
      , s = $("#friendsrequests-actions button[data-range]")
      , a = []
      , r = []
      , l = !1
      , u = 0
      , f = !1
      , c = !1
      , d = !1
      , h = !1
      , p = !1
      , _ = function() {
        if (!0 === h)
            return void (p && (clearTimeout(p),
            p = setTimeout(_, 200)));
        p && (clearTimeout(p),
        p = !1),
        r = [];
        for (var t in a)
            a[t].input.prop("checked") && e.data.profiles[a[t].input.val()] ? (r.push([a[t].input.val(), e.data.profiles[a[t].input.val()].csrf]),
            a[t].block.addClass("checked")) : a[t].block.removeClass("checked");
        var i = 0 !== r.length && (r.length === u ? "all" : "partial");
        return n.removeClass("all partial").addClass(i || ""),
        i
    }
      , g = function() {
        var e = _();
        h = !0;
        for (var t in a)
            a[t].input.prop("checked", !1 === e);
        h = !1,
        _()
    }
      , m = function(t, i, n) {
        if (!0 === f)
            return !1;
        f = !0,
        "checked" === i && _(),
        "all" === i ? $.post("/profiles/" + e.dyn.login_info.profile + "/friends/requests/list", function(e) {
            if (!e.result)
                return f = !1,
                !1;
            l = e.users,
            b(t, i)
        }, "JSON") : b(t, i, n)
    }
      , b = function(e, n, o) {
        if (!0 !== f || "all" === n && (!l || l.length < 1) || "all-page" === n && a.length < 1)
            return f = !1,
            !1;
        if ("checked" === n && r.length < 1)
            return alert($("<div></div>").html(i.__("profile.please_select_friend_request")).text()),
            f = !1,
            !1;
        var s = "object" == typeof o ? o.slice(0) : "all" === n ? l.slice(0) : "all-page" === n ? a.slice(0) : r.slice(0)
          , u = s.length
          , h = "one" === n ? i.__("profile.confirm_" + e + "_" + n, {
            "%username%": s[0][2].toString()
        }, e + " %username%") : i.__("profile.confirm_" + e + "_" + n, {
            "%nb%": u.toString()
        }, e + " %nb%");
        if (h = $("<div></div>").html(h).text(),
        ("one" === n && !0 !== d || "one" !== n) && !confirm(h))
            return f = !1,
            !1;
        "one" === n && (d = !0),
        c || (c = t.get($("body"), !1)),
        c.setContent('<div class="progress"><div class="progress-bar" role="progressbar" id="friends-requests-progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="' + u + '"></div></div>').show("auto"),
        v(e, n, s, u, $("#friends-requests-progress"))
    }
      , v = function(e, t, i, n, o) {
        var s = n - i.length
          , r = Math.round(s / n * 100) + "%";
        if (o.prop("aria-valuenow", s).css("width", r).html(r),
        i.length < 1)
            return setTimeout(function() {
                window.location.reload()
            }, 1e3),
            !1;
        var l = i.shift();
        "all-page" === t && (l = [l.name, l.csrf]),
        $.post("/profiles/" + l[0] + "/friends/requests/" + ("accept" === e ? "confirm" : "ignore"), {
            csrf: l[1]
        }, function(s) {
            for (var r in a)
                a[r].name === l[0] && a[r].block.remove();
            v(e, t, i, n, o)
        }, "JSON").fail(function() {
            v(e, t, i, n, o)
        })
    };
    if (o.find(".profileslist .thumb-block .friend-request-actions input[name='profile-select']").each(function() {
        $(this).on("change", function() {
            p && (clearTimeout(p),
            p = !1),
            p = setTimeout(_, 200)
        });
        var t = {
            block: $(this).parents(".thumb-block"),
            input: $(this),
            name: $(this).val()
        };
        t.displayed_name = e.data.profiles[t.name].display,
        t.csrf = e.data.profiles[t.name].csrf,
        t.block.find(".friend-request-actions button[data-btn-action]").on("click", function() {
            m($(this).data("btn-action"), "one", [[t.name, t.csrf, t.displayed_name]])
        }),
        a.push(t)
    }),
    s.on("mouseover", function() {
        o.addClass($(this).parent().data("btn-action") + "-" + $(this).data("range"))
    }).on("mouseout", function() {
        o.removeClass($(this).parent().data("btn-action") + "-" + $(this).data("range"))
    }).on("click", function() {
        m($(this).parent().data("btn-action"), $(this).data("range"))
    }),
    n.on("click", g),
    "object" == typeof e.data.profiles)
        for (var D in e.data.profiles)
            e.data.profiles.hasOwnProperty(D) && u++;
    _()
}),
define("skins/account/social/friends_requests_sent", ["config/main", "lib/helpers/overlay/box", "lib/i18n!front"], function(e, t, i) {
    var n = $("#friendsrequests-check-all")
      , o = $("#account-content-block .panel-body").first()
      , s = $("#friendsrequests-actions button[data-range]")
      , a = []
      , r = []
      , l = !1
      , u = 0
      , f = !1
      , c = !1
      , d = !1
      , h = !1
      , p = !1
      , _ = function() {
        if (!0 === h)
            return void (p && (clearTimeout(p),
            p = setTimeout(_, 200)));
        p && (clearTimeout(p),
        p = !1),
        r = [];
        for (var t in a)
            a[t].input.prop("checked") && e.data.profiles[a[t].input.val()] ? (r.push([a[t].input.val()]),
            a[t].block.addClass("checked")) : a[t].block.removeClass("checked");
        var i = 0 !== r.length && (r.length === u ? "all" : "partial");
        return n.removeClass("all partial").addClass(i || ""),
        i
    }
      , g = function() {
        var e = _();
        h = !0;
        for (var t in a)
            a[t].input.prop("checked", !1 === e);
        h = !1,
        _()
    }
      , m = function(t, i) {
        if (!0 === f)
            return !1;
        f = !0,
        "checked" === t && _(),
        "all" === t ? $.post("/profiles/" + e.dyn.login_info.profile + "/friends/requests/sent", function(e) {
            if (!e.result)
                return f = !1,
                !1;
            l = e.users,
            b(t)
        }, "JSON") : b(t, i)
    }
      , b = function(e, n) {
        if (!0 !== f || "all" === e && (!l || l.length < 1) || "all-page" === e && a.length < 1)
            return f = !1,
            !1;
        if ("checked" === e && r.length < 1)
            return alert($("<div></div>").html(i.__("profile.please_select_friend_request")).text()),
            f = !1,
            !1;
        var o = "object" == typeof n ? n.slice(0) : "all" === e ? l.slice(0) : "all-page" === e ? a.slice(0) : r.slice(0)
          , s = o.length
          , u = "one" === e ? i.__("profile.confirm_cancel_" + e, {
            "%username%": o[0][1].toString()
        }) : i.__("profile.confirm_cancel_" + e, {
            "%nb%": s.toString()
        });
        if (u = $("<div></div>").html(u).text(),
        ("one" === e && !0 !== d || "one" !== e) && !confirm(u))
            return f = !1,
            !1;
        "one" === e && (d = !0),
        c || (c = t.get($("body"), !1)),
        c.setContent('<div class="progress"><div class="progress-bar" role="progressbar" id="friends-requests-progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="' + s + '"></div></div>').show("auto"),
        v(e, o, s, $("#friends-requests-progress"))
    }
      , v = function(e, t, i, n) {
        var o = i - t.length
          , s = Math.round(o / i * 100) + "%";
        if (n.prop("aria-valuenow", o).css("width", s).html(s),
        t.length < 1)
            return setTimeout(function() {
                window.location.reload()
            }, 1e3),
            !1;
        var r = t.shift();
        "all-page" === e && (r = [r.name]),
        $.post("/profiles/" + r[0] + "/friends/requests/cancel", function() {
            for (var o in a)
                a[o].name === r[0] && a[o].block.remove();
            v(e, t, i, n)
        }, "JSON").fail(function() {
            v(e, t, i, n)
        })
    };
    if (o.find(".profileslist .thumb-block .friend-request-actions input[name='profile-select']").each(function() {
        $(this).on("change", function() {
            p && (clearTimeout(p),
            p = !1),
            p = setTimeout(_, 200)
        });
        var t = {
            block: $(this).parents(".thumb-block"),
            input: $(this),
            name: $(this).val()
        };
        t.displayed_name = e.data.profiles[t.name].display,
        t.block.find(".friend-request-actions button[data-btn-action]").on("click", function() {
            m("one", [[t.name, t.displayed_name]])
        }),
        a.push(t)
    }),
    s.on("mouseover", function() {
        o.addClass($(this).parent().data("btn-action") + "-" + $(this).data("range"))
    }).on("mouseout", function() {
        o.removeClass($(this).parent().data("btn-action") + "-" + $(this).data("range"))
    }).on("click", function() {
        m($(this).data("range"))
    }),
    n.on("click", g),
    "object" == typeof e.data.profiles)
        for (var D in e.data.profiles)
            e.data.profiles.hasOwnProperty(D) && u++;
    _()
}),
define("text!skins/account/social/friends_list/action_btn_desktop.mustache", [], function() {
    return '<button class="action-desktop-btn btn btn-default" title="{{{ title }}}">\n\t<span class="icon-f icf-user"></span>\n\t<span class="icon-f icf-{{ icf }} small-icf"></span>\n</button>\n'
}),
define("text!skins/account/social/friends_list/action_btn_mobile.mustache", [], function() {
    return '<button class="action-mobile-btn btn btn-default btn-xs" title="{{{ title }}}">\n\t<span class="icon-f icf-{{ icf }}"></span>\n\t<span class="text">{{{ title }}}</span>\n</button>\n'
}),
define("text!skins/account/social/friends_list/action_success.mustache", [], function() {
    return '<strong class="success-message text-success"><span class="icon-f icf-check"></span> {{{ message }}}</strong>'
}),
define("skins/account/social/friends_list_base", ["config/main", "mustache", "skins/default/profile/action/link", "lib/i18n!front", "text!./friends_list/action_btn_desktop.mustache", "text!./friends_list/action_btn_mobile.mustache", "text!./friends_list/action_success.mustache"], function(e, t, i, n, o, s, a) {
    return function(a, r, l, u, f, c, d) {
        if (d || e.data.profiles) {
            var h, p, _, g;
            d && void 0 !== d ? (h = d.oProfiles,
            g = d.iNbProfiles,
            p = d.sType,
            _ = $(".overlay-subs").find("h1")) : (h = e.data.profiles,
            g = e.data.nb_profiles,
            p = e.data.action,
            _ = $("#account-content-block").find("h1"));
            var m = g;
            for (var b in h) {
                var v = $("#profile_" + b);
                if (v.length < 1)
                    break;
                var D = $(t.render(e.dyn.is_desktop ? o : s, {
                    title: n.__(a),
                    icf: l
                }));
                v.append(D);
                var y = {};
                y[String(f)] = h[b].display;
                new i(D,"/profiles/" + b + r,!(!u || !f) && n.__(u, y),!1,h[b].csrf).onSuccess = function() {
                    var t = this.link.parent()
                      , i = t.attr("data-profile")
                      , o = "";
                    switch (e.dyn.is_desktop ? this.link.remove() : this.link.off("click").prop("disabled", !0),
                    delete h[i],
                    m--,
                    a) {
                    case "profile.unfriend":
                        o = m < 1 ? n.__("profile.friends.no_yet") : 1 === m ? n.__("profile.friends.my_friend") : n.__("profile.friends.my_nb", {
                            "%count%": m.toString()
                        });
                        break;
                    case "profile.unlike":
                        o = m < 1 ? n.__("profile.like.no_yet") : 1 === m ? n.__("profile.like.my_like") : n.__("profile.like.my_nb", {
                            "%count%": m.toString()
                        });
                        break;
                    case "subscriptions.unsubscribe":
                        if ("xnxx" === e.sitename) {
                            o = m < 1 ? n.__("profile.subscription.no_uploader_yet") : 1 === m ? n.__("profile.subscription.my_followed") : n.__("profile.subscription.my_uploaders_nb");
                            break
                        }
                        if ("social_subscriptions_channels" === p || "channels" === p) {
                            o = m < 1 ? n.__("profile.subscription.no_chan_yet") : 1 === m ? n.__("profile.subscription.my_chan_subscription") : n.__("profile.subscription.my_chan_nb", {
                                "%count%": m.toString()
                            });
                            break
                        }
                        o = m < 1 ? n.__("profile.subscription.no_yet") : 1 === m ? n.__("profile.subscription.my_subscription") : n.__("profile.subscription.my_nb", {
                            "%count%": m.toString()
                        });
                        break;
                    case "misc.cancel_not_interested":
                        o = m < 1 ? n.__("profile.subscription.no_chan_not_interesting") : 1 === m ? n.__("profile.subscription.one_chan_not_interesting") : n.__("profile.subscription.nb_chan_not_interesting", {
                            "%count%": m.toString()
                        });
                        break;
                    case "subscriptions.subscribe":
                        o = m < 1 ? n.__("xnxx" === e.sitename ? "profile.subscription.no_uploaders_not_interesting" : "profile.subscription.no_chan_not_interesting") : 1 === m ? n.__("xnxx" === e.sitename ? "profile.subscription.one_uploader_not_interesting" : "profile.subscription.one_chan_not_interesting") : n.__("xnxx" === e.sitename ? "profile.subscription.nb_uploaders_not_interesting" : "profile.subscription.nb_chan_not_interesting", {
                            "%count%": m.toString()
                        });
                        break;
                    case "profile.actions.block":
                        o = m < 1 ? n.__("profile.liked.no_yet") : 1 == m ? n.__("profile.liked.my_like") : n.__("profile.liked.my_nb", {
                            "%count%": m.toString()
                        });
                        break;
                    case "profile.actions.unblock":
                        o = m < 1 ? n.__("profile.blocked.no_yet") : 1 == m ? n.__("profile.blocked.one_account") : n.__("profile.blocked.nb_accounts", {
                            "%count%": m.toString()
                        })
                    }
                    t.fadeOut(),
                    _.html(o),
                    d && void 0 !== d && g !== m && d.fnCallbackOnchange({
                        iInitialNbItem: g,
                        iNewNbItem: m
                    })
                }
            }
            e.dyn.is_desktop && setTimeout(function() {
                $(".action-desktop-btn").addClass("read")
            }, 2e3)
        }
    }
}),
define("skins/account/social/people_likes", ["./friends_list_base"], function(e) {
    "wholikeme" == xv.conf.data.listing ? new e("profile.actions.block","/block/add","ban","profile.confirm_block","%user%","profile.blocked") : new e("profile.unlike","/vote/remove","thumb-down","profile.confirm_unlike","%nickname%","profile.like_removed")
}),
define("skins/common/thread/node", ["config/main", "static/console", "lib/helpers/overlay/contextual_popup", "lib/i18n!front"], function(e, t, i, n) {
    var o = function(e, t, i, n) {
        void 0 !== e && (this.thread = e,
        this.parent = t,
        this.id_post = i,
        this.level = -1,
        this.parent && (this.level = this.parent.level + 1),
        this.children = {},
        this.nb_children = 0,
        this.user_posts = {},
        this.id_post_end = 0,
        this.loading = !1,
        this.loaded = !1,
        this.children_loading = !1,
        this.children_loaded = !1,
        this.all_children_loaded = !1,
        this.nb_per_page = 10,
        this.deleted = !1,
        this["private"] = !1,
        this.editing = !1,
        this.can_edit = !1,
        this.edit_csrf = "",
        this.edit_text = null,
        this.edit_user = null,
        this.pending_delete = !1,
        this.can_delete = !1,
        this.delete_csrf = "",
        this.deleting = !1,
        this.can_undelete = !1,
        this.undelete_csrf = "",
        this.undeleting = !1,
        this.can_report = !1,
        this.report_csrf = "",
        this.report_form = null,
        this.current_vote = !1,
        this.vote_csrf = "",
        this.voting = !1,
        this.form = null,
        this.parent && (this.ui_node = this.parent.ui_node.createChild(i, this),
        this.setNbChildren(n)))
    };
    return o.prototype = {
        load: function(e) {
            return this.ui_node.hideError(),
            this.deleted = !1,
            this["private"] = !1,
            e.deleted ? (this.deleted = !0,
            void this.ui_node.hide()) : e["private"] ? (this["private"] = !0,
            void this.ui_node.hide()) : (this.pending_delete = !!e.pending_delete,
            this.ui_node.show(),
            this.ui_node.render(e),
            this.can_edit = e.edit,
            this.can_edit && (this.edit_csrf = e.edit_csrf,
            this.edit_text = e.edit_text,
            this.edit_user = e.edit_user),
            this.can_delete = e["delete"],
            this.can_delete && (this.delete_csrf = e.delete_csrf),
            this.can_undelete = e.undelete,
            this.can_undelete && (this.undelete_csrf = e.undelete_csrf),
            this.can_report = e.report,
            this.can_report && (this.report_csrf = e.report_csrf),
            this.current_vote = e.votes.user,
            this.vote_csrf = e.votes.csrf,
            this.loading = !1,
            this.loaded = !0,
            void ("object" == typeof e.replies && e.replies.ids.length > 0 && this.onLoaded({
                result: !0,
                posts: e.replies
            })))
        },
        getRoot: function() {
            return this.parent ? this.parent.getRoot() : this
        },
        canPost: function() {
            return this.thread.can_post && this.level < this.thread.max_level && !this.pending_delete
        },
        canLoadChildren: function() {
            return !this.children_loaded && !this.children_loading && this.nb_children > 0
        },
        isFormOpened: function() {
            return !!this.form && this.form.isFormOpened()
        },
        isEditing: function() {
            return this.editing
        },
        isDeleting: function() {
            return this.deleting
        },
        isUndeleting: function() {
            return this.undeleting
        },
        addUserPost: function(e) {
            var t = new o(this.thread,this,e.id,0);
            t.load(e),
            this.ui_node.appendChild(t.ui_node),
            this.user_posts[e.id] = t,
            this.setNbChildren(this.nb_children + 1),
            this.parent && this.getRoot().setNbChildren(this.getRoot().nb_children + 1),
            this.ui_node.toggleChildren(!0),
            this.children_loaded = !0
        },
        setNbChildren: function(e) {
            this.nb_children = e,
            this.ui_node.setNbChildren(e)
        },
        destroy: function() {
            this.destroyChildren(),
            this.ui_node.destroy()
        },
        destroyChild: function(e) {
            if ("object" == typeof this.children[e])
                this.children[e].destroy(),
                delete this.children[e];
            else {
                if ("object" != typeof this.user_posts[e])
                    return;
                this.user_posts[e].destroy(),
                delete this.user_posts[e]
            }
            this.setNbChildren(this.nb_children - 1),
            this.ui_node.toggleChildren(!this.parent || this.nb_children > 0)
        },
        destroyChildren: function() {
            for (var e in this.children)
                this.children.hasOwnProperty(e) && (this.children[e].destroy(),
                delete this.children[e]);
            for (var e in this.user_posts)
                this.user_posts.hasOwnProperty(e) && (this.user_posts[e].destroy(),
                delete this.user_posts[e]);
            this.nb_children = 0,
            this.children_loaded = !1,
            this.id_post_end = 0
        },
        loadChildren: function(e, i, n) {
            if (!this.all_children_loaded && !(this.children_loading || this.editing || this.deleting || this.undeleting)) {
                this.children_loading = !0,
                this.ui_node.hideChildrenError(),
                this.ui_node.showChildrenLoader();
                var o, s = this, a = [];
                for (o in this.children)
                    this.children.hasOwnProperty(o) && a.push(o);
                for (o in this.user_posts)
                    this.user_posts.hasOwnProperty(o) && a.push(o);
                window.setTimeout(function() {
                    var o = s.thread.getThreadUrl(s.parent ? s.id_post : "0", s.id_post_end)
                      , r = {
                        loaded_ids: a.join(","),
                        load_all: e ? 1 : 0
                    };
                    s.thread.shouldSendLoginCookie(o) && (r.session_token = s.thread.getLoginCookie()),
                    s.thread.is_admin && (r.is_admin = 1),
                    $.post(o, r, function(t) {
                        s.onLoaded(t, i, n || function() {
                            s.loadChildren(e)
                        }
                        )
                    }, "json").fail(function(i, o, a) {
                        t.log("Failed to load", "Thread " + s.thread.type, i),
                        s.ui_node.showChildrenError(null, n || function() {
                            s.loadChildren(e)
                        }
                        )
                    }).complete(function() {
                        s.children_loading = !1,
                        s.ui_node.hideChildrenLoader(),
                        window.setTimeout(function() {
                            window.xv !== undefined && window.xv.videopage !== undefined && "function" == typeof window.xv.videopage.displayRelatedVideos && window.xv.videopage.displayRelatedVideos()
                        }, 200)
                    })
                })
            }
        },
        loadChildrenIds: function(e, i, n) {
            if (!this.all_children_loaded && !(this.children_loading || this.editing || this.deleting || this.undeleting)) {
                this.children_loading = !0,
                this.ui_node.hideChildrenError(),
                this.ui_node.showChildrenLoader();
                var o = this;
                window.setTimeout(function() {
                    var s = o.thread.getPostsUrl()
                      , a = {
                        admin_posts: e
                    };
                    o.thread.shouldSendLoginCookie(s) && (a.session_token = o.thread.getLoginCookie()),
                    $.post(s, a, function(e) {
                        o.onLoaded(e, i, n || function() {
                            o.loadChildrenIds(id_posts)
                        }
                        )
                    }, "json").fail(function(e, i, s) {
                        t.log("Failed to load", "Thread " + o.thread.type, e),
                        o.ui_node.showChildrenError(null, n || function() {
                            o.loadChildrenIds(id_posts)
                        }
                        )
                    }).complete(function() {
                        o.children_loading = !1,
                        o.ui_node.hideChildrenLoader()
                    })
                })
            }
        },
        onLoaded: function(e, t, i) {
            if (!e.result)
                return void this.ui_node.showChildrenError(e.message, i);
            "function" == typeof t && t(e),
            this.ui_node.hideChildrenLoader(),
            e = e.posts;
            var n, s, a = {}, r = [];
            for (n in e.ids) {
                s = e.ids[n];
                var l;
                if ("object" == typeof this.children[s] ? (l = this.children[s],
                delete this.children[s]) : "object" == typeof this.user_posts[s] ? (l = this.user_posts[s],
                delete this.user_posts[s]) : l = new o(this.thread,this,s,e.children[s] || 0),
                "object" == typeof e.posts[s] && l.load(e.posts[s]),
                a[s] = l,
                l.loaded || r.push(s),
                s === e.id_post_end)
                    break
            }
            for (var u in this.children)
                this.children.hasOwnProperty(u) && this.children[u].destroy();
            this.children = a;
            for (n in e.ids)
                if (s = e.ids[n],
                this.ui_node.appendChild(this.children[s].ui_node),
                s === e.id_post_end)
                    break;
            if (this.parent)
                for (n in this.user_posts)
                    this.ui_node.appendChild(this.user_posts[n].ui_node);
            this.loadPosts(r),
            this.setNbChildren(this.parent ? e.ids.length : e.nb_posts_total),
            this.id_post_end = e.nb_after > 0 && e.id_post_end,
            this.children_loaded = !0,
            this.all_children_loaded = 0 === e.nb_after,
            this.ui_node.toggleChildren(e.ids.length > 0),
            this.ui_node.setNbNext(e.nb_after, e.nb_by_page),
            e.nb_by_page > 0 && (this.nb_per_page = e.nb_by_page)
        },
        loadPosts: function(e) {
            var i = []
              , n = [];
            for (var o in e) {
                var s = this.children[e[o]];
                "object" != typeof s || s.loading || (s.loading = !0,
                s.ui_node.hideError(),
                s.ui_node.showLoader(),
                i.push(e[o]),
                n.push(s))
            }
            if (0 === i.length)
                return !0;
            var a = this
              , r = []
              , l = this.thread.getPostsUrl()
              , u = {
                posts: i
            };
            this.thread.is_admin && (u.is_admin = 1),
            this.thread.shouldSendLoginCookie(l) && (u.session_token = this.thread.getLoginCookie()),
            $.post(l, u, function(e) {
                if (e.result)
                    for (var t in n) {
                        var o = n[t];
                        "object" == typeof e.posts[o.id_post] ? (o.load(e.posts[o.id_post]),
                        "number" == typeof e.posts[o.id_post].nb_children && o.setNbChildren(e.posts[o.id_post].nb_children)) : (r.push(o.id_post),
                        o.ui_node.showError(null, function() {
                            a.loadPosts(r)
                        }))
                    }
                else
                    for (var t in n)
                        n[t].ui_node.showError(e.messsage, function() {
                            a.loadPosts(i)
                        })
            }, "json").fail(function(e, o, s) {
                t.log("Failed to load", "Thread " + a.thread.type, e);
                for (var r in n)
                    n[r].ui_node.showError(null, function() {
                        a.loadPosts(i)
                    })
            }).complete(function() {
                for (var e in n)
                    n[e].loading = !1,
                    n[e].ui_node.hideLoader()
            })
        },
        onNewPost: function() {
            "function" == typeof this.thread.onNewPost && this.thread.onNewPost()
        },
        getForm: function() {
            if (this.pending_delete)
                return !1;
            if (!this.thread.allow_anonymous) {
                if (!e.dyn.login_info.is_logged)
                    return require([this.thread.login_form_mod], function(e) {
                        e.open()
                    }),
                    !1;
                if (!e.dyn.login_info.profile)
                    return i.alert(n.__("video.need_profile_to_comment", {
                        "%link_start%": '<a href="/account/create-profile">',
                        "%link_end%": "</a>"
                    }, "You must have a profile to comment on this video. You can create it %link_start%here%link_end%.")),
                    !1
            }
            return null === this.form && (this.form = this.thread.createForm(this)),
            this.form
        },
        "delete": function(e) {
            if (!(!this.can_delete || this.deleting || this.undeleting || this.children_loading || this.voting || this.editing)) {
                var t = this;
                if (!e) {
                    var o, s;
                    return this.nb_children > 0 ? (o = "misc.confirm_delete_message_replies",
                    s = "Are you sure you want to delete this message and its replies ?") : (o = "misc.confirm_delete_message",
                    s = "Are you sure you want to delete this message ?"),
                    void i.confirm(n.__(o, {}, s), function() {
                        t["delete"](!0)
                    })
                }
                this.deleting = !0,
                this.ui_node.toggleVotesDelete(!1),
                this.ui_node.toggleChildrenShowHide(!1),
                this.ui_node.renderPostBtn(),
                this.ui_node.renderEditBtn(),
                this.form && this.form.close();
                var a = this.thread.getDeleteUrl(this.id_post)
                  , r = {
                    csrf: this.delete_csrf
                };
                this.thread.shouldSendLoginCookie(a) && (r.session_token = this.thread.getLoginCookie()),
                this.thread.is_admin && (r.is_admin = 1),
                $.post(a, r, function(e) {
                    if (!e.result)
                        return void t.ui_node.setDeleteError(n.__("misc.error_please_retry", {}, "Error! Please retry..."));
                    e.post ? t.load(e.post) : t.parent.destroyChild(t.id_post),
                    t.getRoot().setNbChildren(e.nb_posts)
                }, "json").fail(function() {
                    t.ui_node.setDeleteError(n.__("misc.error_please_retry", {}, "Error! Please retry..."))
                }).complete(function() {
                    t.deleting = !1,
                    t.ui_node.toggleVotesDelete(!0),
                    t.ui_node.toggleChildrenShowHide(!0),
                    t.ui_node.renderPostBtn(),
                    t.ui_node.renderEditBtn()
                })
            }
        },
        undelete: function() {
            if (!(!this.can_undelete || this.deleting || this.undeleting || this.children_loading || this.voting || this.editing)) {
                var e = this;
                this.undeleting = !0,
                this.ui_node.toggleVotesDelete(!1),
                this.ui_node.toggleChildrenShowHide(!1),
                this.ui_node.renderPostBtn(),
                this.ui_node.renderEditBtn(),
                this.form && this.form.close();
                var t = this.thread.getUndeleteUrl(this.id_post)
                  , i = {
                    csrf: this.undelete_csrf
                };
                this.thread.shouldSendLoginCookie(t) && (i.session_token = this.thread.getLoginCookie()),
                this.thread.is_admin && (i.is_admin = 1),
                $.post(t, i, function(t) {
                    if (!t.result)
                        return void e.ui_node.setDeleteError(n.__("misc.error_please_retry", {}, "Error! Please retry..."));
                    e.load(t.post),
                    e.getRoot().setNbChildren(t.nb_posts)
                }, "json").fail(function() {
                    e.ui_node.setUndeleteError(n.__("misc.error_please_retry", {}, "Error! Please retry..."))
                }).complete(function() {
                    e.undeleting = !1,
                    e.ui_node.toggleVotesDelete(!0),
                    e.ui_node.toggleChildrenShowHide(!0),
                    e.ui_node.renderPostBtn(),
                    e.ui_node.renderEditBtn()
                })
            }
        },
        report: function() {
            !this.can_report || this.deleting || this.undeleting || this.editing || (this.report_form || (this.report_form = this.thread.createReportForm(this)),
            this.report_form.open())
        },
        disableReport: function() {
            this.can_report = !1,
            this.report_csrf = "",
            this.ui_node.disableReport()
        },
        vote: function(e) {
            if (!(this.voting || this.deleting || this.undeleting || this.pending_delete || this.editing)) {
                this.current_vote === e && (e = "CANCEL"),
                this.voting = !0,
                this.ui_node.toggleVotesDelete(!1);
                var t = this
                  , i = this.thread.getVoteUrl(this.id_post, e)
                  , n = {
                    csrf: this.vote_csrf
                };
                this.thread.shouldSendLoginCookie(i) && (n.session_token = this.thread.getLoginCookie()),
                $.post(i, n, function(e) {
                    if (e.result && (t.current_vote = e.votes.user,
                    t.ui_node.renderVotes(e.votes),
                    "object" == typeof e.ids)) {
                        for (var i = t.id_post, n = 0, o = e.ids.length - 1; o >= 0; o--) {
                            if ("undefined" != typeof t.parent.children[e.ids[o]]) {
                                i = e.ids[o];
                                break
                            }
                            n++
                        }
                        t.parent.onLoaded({
                            result: !0,
                            posts: {
                                ids: e.ids,
                                posts: {},
                                children: {},
                                nb_after: n,
                                id_post_end: i,
                                nb_posts_total: e.nb_posts_total,
                                nb_by_page: t.parent.nb_per_page
                            }
                        })
                    }
                }, "json").complete(function() {
                    t.voting = !1,
                    t.ui_node.toggleVotesDelete(!0)
                })
            }
        }
    },
    o
}),
define("text!skins/common/thread/ui/form.mustache", [], function() {
    return '<div class="thread-node thread-node-form hidden">\r\n\t{{^force_anonymous}}\r\n\t<div class="thread-node-picture">\r\n\t\t<img src="{{{ img }}}"{{#img_error}} onerror="this.src=\'{{{ img_error }}}\';this.onerror=null;"{{/img_error}} />\r\n\t\t{{#profile_name}}\r\n\t\t<div class="thread-node-poster">\r\n\t\t\t<span class="thread-node-poster-name">{{{ profile_name }}}</span>\r\n\t\t</div>\r\n\t\t{{/profile_name}}\r\n\t</div>\r\n\t{{/force_anonymous}}\r\n\t<div class="thread-node-loader hidden"></div>\r\n\t<div class="thread-node-error hidden"></div>\r\n\t<div class="thread-node-content">\r\n\t\t{{{ form }}}\r\n\t</div>\r\n</div>'
}),
define("text!skins/common/thread/ui/form_message.mustache", [], function() {
    return '<div class="alert alert-{{{ alert_type }}} form-error-list-contener">\r\n\t<ul class="form-error-list"><li>{{{ message }}}</li></ul>\r\n\t<span class="icon-f icf-{{{ icon }}}"></span>\r\n</div>'
}),
define("skins/common/thread/ui/form", ["config/main", "mustache", "static/utils", "lib/tools", "static/dom", "skins/form/validator", "text!./form.mustache", "text!./form_message.mustache"], function(e, t, i, n, o, s, a, r) {
    var l = function(e, t, i, n) {
        void 0 !== e && (this.logic_node = e,
        this.force_anonymous = i,
        this.default_form_html = this.updateFormHtml(t),
        this.validation_rules = this.updateValidationRules(n),
        this.node = null,
        this.createNode(),
        this.opened = !1,
        this.submitted = !1,
        this.message = null)
    };
    return l.prototype = {
        getTemplate: function() {
            return a
        },
        getTemplateVars: function() {
            var t = !this.force_anonymous && e.dyn.login_info.profile;
            return {
                form: this.default_form_html,
                force_anonymous: this.force_anonymous,
                img: t ? "/profiles-picture/" + e.dyn.login_info.profile : this.getDefaultPictureUrl(),
                img_error: !!t && this.getDefaultPictureUrl(),
                profile_name: !!t && n.ucwords(t.replace(/_/g, " "))
            }
        },
        getDefaultPictureUrl: function() {
            return window.location.protocol + "//static-hw.xvideos.com/img/profile_default_small.jpg"
        },
        createNode: function(e) {
            this.node || (this.node = $(t.render(this.getTemplate(), this.getTemplateVars(e))),
            this.getNodes())
        },
        getNodes: function() {
            this.form = this.node.find("form"),
            this.form_validator = new s(this.form,this.validation_rules,{
                no_errors_shortcuts: !0,
                no_init_focus: !0
            }),
            this.inputs = this.node.find('input[type="text"],textarea'),
            this.radios = this.node.find('input[type="checkbox"],input[type="radio"]'),
            this.captcha = this.form.find(".g-recaptcha"),
            this.is_invisible_captcha = this.captcha.is("button"),
            this.cancel_btn = this.form.find("a").on("click", function(e) {
                e.preventDefault(),
                t.logic_node.reset(),
                t.logic_node.close()
            });
            var t = this
              , i = function() {
                return t.submitted || t.captcha.on("click", i),
                t.logic_node.submit(),
                t.submitted = !0,
                !1
            };
            if (this.captcha.length > 0) {
                if (this.is_invisible_captcha)
                    return this.form.on("submit", function(e) {
                        t.submitted || e.preventDefault()
                    }),
                    void n.loadRecaptcha(function() {
                        grecaptcha.render(t.captcha.get(0), {
                            callback: i
                        }, !0)
                    }, e.dyn.locale);
                n.loadRecaptcha(function() {
                    grecaptcha.render(t.captcha.get(0), {}, !0)
                }, e.dyn.locale)
            }
            this.form.on("submit", function(e) {
                e.preventDefault(),
                e.stopPropagation(),
                i()
            }),
            this.inputs.filter("textarea").on("keyup", function() {
                t.message && (t.message.remove(),
                t.message = null),
                $(this).height(5).height($(this).prop("scrollHeight"))
            })
        },
        updateFormHtml: function(e) {
            var t = e.indexOf(' id="');
            if (-1 === t)
                return e;
            var i = e.substr(t + 5);
            return -1 === (t = i.indexOf('"')) ? e : (i = i.substr(0, t),
            e.replace(new RegExp('id="' + i,"g"), 'id="' + i + (this.logic_node.node.id_post.length > 0 ? "_" + this.logic_node.node.id_post : "")))
        },
        updateValidationRules: function(e) {
            if (0 === this.logic_node.node.id_post.length)
                return e;
            for (var t in e)
                e[t].elt_id = e[t].elt_id.replace(/post/g, "post_" + this.logic_node.node.id_post);
            return e
        },
        updateForm: function(e, t) {
            this.form.html(this.updateFormHtml(e)),
            this.validation_rules = this.updateValidationRules(t),
            this.getNodes()
        },
        open: function() {
            if (this.opened)
                return this.inputs.eq(0).focus(),
                this.logic_node.node.ui_node.renderPostBtn(),
                void this.logic_node.node.ui_node.renderEditBtn();
            this.node.removeClass("hidden"),
            this.opened = !0,
            this.logic_node.node.parent || o.isElementInView(this.form, !0) || n.scrollTo(this.form, 50),
            this.inputs.eq(0).focus(),
            this.logic_node.node.ui_node.renderPostBtn(),
            this.logic_node.node.ui_node.renderEditBtn()
        },
        close: function() {
            this.opened && (this.node.addClass("hidden"),
            this.opened = !1,
            this.logic_node.node.ui_node.renderPostBtn(),
            this.logic_node.node.ui_node.renderEditBtn(!0))
        },
        showMessage: function(e, i) {
            this.message && (this.message.remove(),
            this.message = null),
            this.message = $(t.render(r, {
                message: e,
                alert_type: i ? "danger" : "success",
                icon: i ? "warning" : "check-circle-thin"
            })).prependTo(this.form)
        },
        toggleSubmitting: function(e) {
            this.inputs.prop("disabled", e),
            this.radios.prop("disabled", e),
            this.cancel_btn.toggleClass("hidden", e),
            this.captcha.length > 0 && this.is_invisible_captcha && this.captcha.toggleClass("hidden", e)
        },
        reset: function(e) {
            this.submitted ? (this.submitted = !1,
            this.form.html(this.default_form_html),
            this.getNodes()) : (this.inputs.val(""),
            this.setText(""),
            this.radios.prop("checked", !1)),
            e && this.showMessage(e, !1)
        },
        setText: function(e) {
            var t = this.inputs.filter('[name="post[text]"]');
            return 0 !== t.length && (t[0].emojioneArea ? (t[0].emojioneArea.setText(e),
            !0) : (t.val(e),
            !0))
        },
        setDefault: function(e, t) {
            this.setText(e),
            this.inputs.filter('[name="post[user]"]').val(t)
        }
    },
    l
}),
define("skins/common/thread/form", ["./ui/form", "lib/i18n!front"], function(e, t) {
    var i = function(t, i, n, o) {
        this.node = t,
        this.ui_node = new e(this,i,n,o),
        this.posting = !1,
        this.mode = "create",
        this.edit_csrf = null
    };
    return i.prototype = {
        submit: function() {
            if (!this.posting) {
                this.posting = !0;
                var e, i = this, n = this.ui_node.form.serializeArray();
                "edit" === this.mode ? (e = this.node.thread.getEditUrl(this.node.id_post),
                n.push({
                    name: "csrf",
                    value: this.edit_csrf
                })) : e = this.node.thread.getPostUrl(this.node.parent ? this.node.id_post : "0"),
                this.node.thread.shouldSendLoginCookie(e) && n.push({
                    name: "session_token",
                    value: this.node.thread.getLoginCookie()
                }),
                this.node.thread.is_admin && (n.is_admin = 1),
                $.post(e, n, function(e) {
                    if (!e.result)
                        return 50 === e.code ? void i.ui_node.updateForm(e.form, e.validation_rules) : (i.ui_node.showMessage(e.message, !0),
                        void i.ui_node.form_validator.resetSubmit());
                    "edit" === i.mode ? i.node.load(e.post) : i.node.addUserPost(e.post),
                    i.node.onNewPost(),
                    i.reset(e.message),
                    i.close()
                }, "json").fail(function() {
                    i.ui_node.showMessage(t.__("loading.error"), !0),
                    i.ui_node.form_validator.resetSubmit()
                }).complete(function() {
                    i.posting = !1,
                    i.ui_node.toggleSubmitting(!1)
                }),
                this.ui_node.toggleSubmitting(!0)
            }
        },
        isFormOpened: function() {
            return this.ui_node.opened
        },
        open: function() {
            this.node.thread.closeOpenedForms(),
            this.node.thread.opened_form = this,
            this.ui_node.open()
        },
        close: function() {
            this.ui_node.close()
        },
        reset: function(e) {
            this.mode = "create",
            this.ui_node.reset(e)
        },
        setEditMode: function(e, t, i) {
            this.mode = "edit",
            this.edit_csrf = i,
            this.ui_node.setDefault(e, t)
        }
    },
    i
}),
define("text!skins/common/thread/ui/report_form.mustache", [], function() {
    return '<div>\n\t<h2 class="text-center">{{{ title }}}</h2>\n\t{{{ form }}}\n</div>'
}),
define("skins/common/thread/ui/report_form", ["lib/helpers/overlay/box", "./form", "text!./report_form.mustache", "lib/i18n!front"], function(e, t, i, n) {
    var o = function(e, i, n) {
        t.apply(this, [e, i, !1, n]),
        this.overlay = null
    };
    return o.prototype = new t,
    o.prototype.getTemplate = function() {
        return i
    }
    ,
    o.prototype.getTemplateVars = function() {
        return {
            title: n.__(this.logic_node.node.ui_node.getMessageKey("report_this_post"), {}, "Report this post"),
            form: this.default_form_html
        }
    }
    ,
    o.prototype.open = function() {
        if (this.opened)
            return void this.inputs.eq(0).focus();
        if (!this.overlay) {
            var t = this;
            this.overlay = e.get($("body"), !0, "hide").setContent(this.node).show("auto"),
            this.overlay.setOverlayClosable(!0),
            this.overlay.setEscapeClosable(!0),
            this.overlay.onHide = function() {
                t.opened = !1
            }
            ,
            this.overlay.node.addClass("thread-post-report-form-popup")
        }
        this.overlay.show(),
        this.opened = !0,
        this.inputs.eq(0).focus()
    }
    ,
    o.prototype.close = function() {
        this.opened = !1,
        this.overlay.hide()
    }
    ,
    o
}),
define("skins/common/thread/report_form", ["static/cookies", "./ui/report_form", "lib/i18n!front"], function(e, t, i) {
    var n = function(e, i, n) {
        this.node = e,
        this.ui_node = new t(this,i,n),
        this.reporting = !1
    };
    return n.prototype = {
        submit: function() {
            if (!this.reporting) {
                this.reporting = !0;
                var e = this
                  , t = this.node.thread.getReportUrl(this.node.id_post)
                  , n = this.ui_node.form.serializeArray();
                this.node.thread.shouldSendLoginCookie(t) && (n.session_token = this.node.thread.getLoginCookie()),
                n.push({
                    name: "csrf",
                    value: this.node.report_csrf
                }),
                $.post(t, n, function(t) {
                    if (!t.result)
                        return 50 === t.code ? void e.ui_node.updateForm(t.report_form, t.report_js_validation_rules) : (e.ui_node.showMessage(t.message, !0),
                        void e.ui_node.form_validator.resetSubmit());
                    e.ui_node.close(),
                    e.node.disableReport()
                }, "json").fail(function() {
                    e.ui_node.showMessage(i.__("loading.error"), !0),
                    e.ui_node.form_validator.resetSubmit()
                }).complete(function() {
                    e.reporting = !1,
                    e.ui_node.toggleSubmitting(!1)
                }),
                this.ui_node.toggleSubmitting(!0)
            }
        },
        isFormOpened: function() {
            return this.ui_node.opened
        },
        reset: function() {
            this.ui_node.reset()
        },
        open: function() {
            this.ui_node.open()
        },
        close: function() {
            this.ui_node.close()
        }
    },
    n
}),
define("skins/common/thread/root", ["config/main", "static/cookies", "./node", "./form", "./report_form"], function(e, t, i, n, o) {
    var s = function(e, t, n, o) {
        void 0 !== e && (this.thread = this,
        this.type = e,
        this.id_related = t,
        this.sort = s.SORT_TOP,
        this.is_admin = !1,
        this.max_level = 0,
        this.init = !1,
        this.node = new i(this,null,"",0),
        n.logic_node = this,
        this.node.ui_node = n,
        this.setSort(),
        this.allow_anonymous = !1,
        this.force_anonymous = !1,
        this.show_emojis = !1,
        this.login_form_mod = o,
        this.form_html = null,
        this.form_validation_rules = null,
        this.opened_form = !1,
        this.report_form_html = null,
        this.report_form_validation_rules = null,
        this.domain = null,
        this.cookie = null,
        this.onNewPost = null)
    };
    return s.SORT_NEW = "new",
    s.SORT_OLD = "old",
    s.SORT_TOP = "top",
    s.SORT_WORST = "worst",
    s.SORT_AUTHOR = "author",
    s.prototype = {
        SORT_NEW: "new",
        SORT_OLD: "old",
        SORT_TOP: "top",
        SORT_WORST: "worst",
        SORT_AUTHOR: "author",
        canPost: function() {
            return this.init && !this.is_admin && this.node.canPost()
        },
        canLoadChildren: function() {
            return this.node.canLoadChildren()
        },
        isFormOpened: function() {
            return this.node.isFormOpened()
        },
        isDeleting: function() {
            return !1
        },
        isUndeleting: function() {
            return !1
        },
        getNbChildren: function() {
            return this.node.nb_children
        },
        closeOpenedForms: function() {
            this.opened_form && (this.opened_form.close(),
            this.opened_form = null)
        },
        load: function(e, t, i) {
            if (!this.init) {
                this.domain = t || "",
                this.cookie = i || null,
                this.loading = !1,
                this.loaded = !0,
                this.node.ui_node.render(),
                this.node.all_children_loaded = !1;
                var n = this;
                void 0 === e ? this.node.loadChildren(!1, function(e) {
                    n.onFirstLoaded(e)
                }, function() {
                    n.init = !1,
                    n.load()
                }) : (this.is_admin = !0,
                this.setSort(s.SORT_NEW),
                this.node.loadChildrenIds(e, function(e) {
                    n.onFirstLoaded(e)
                }, function() {
                    n.init = !1,
                    n.load(e)
                }))
            }
        },
        loadChildren: function(e) {
            this.node.loadChildren(e)
        },
        onFirstLoaded: function(e) {
            this.init = !0,
            this.show_emojis = e.show_emojis,
            this.allow_anonymous = e.allow_anonymous,
            this.force_anonymous = e.force_anonymous,
            this.form_html = e.form,
            this.form_validation_rules = e.js_validation_rules,
            this.report_form_html = e.report_form,
            this.report_form_validation_rules = e.report_js_validation_rules,
            this.max_level = e.max_level,
            this.can_post = e.can_post
        },
        shouldSendLoginCookie: function(e) {
            if ("https://" === e.substr(0, 8))
                e = e.substr(8);
            else if ("http://" === e.substr(0, 7))
                e = e.substr(7);
            else if ("/" === e.substr(0, 1))
                return !1;
            var t = e.indexOf("/");
            return t > 0 && (e = e.substr(0, t)),
            e.toLowerCase() !== window.location.hostname.toLowerCase()
        },
        getLoginCookie: function() {
            return this.cookie ? this.cookie : t.get(e.dyn.dev ? "session_token_dev" : "session_token")
        },
        getThreadUrl: function(e, t) {
            return this.domain + "/threads/" + this.type + "/get-posts/" + this.sort + "/" + this.id_related + "/" + e + "/" + t
        },
        getPostsUrl: function() {
            return this.domain + "/threads/" + this.type + "/get-posts/" + this.id_related
        },
        getVoteUrl: function(e, t) {
            return this.domain + "/threads/" + this.type + "/vote/" + this.sort + "/" + this.id_related + "/" + e + "/" + t
        },
        getPostUrl: function(e) {
            return this.domain + "/threads/" + this.type + "/post/" + this.id_related + "/" + e
        },
        getEditUrl: function(e) {
            return this.domain + "/threads/" + this.type + "/edit/" + this.id_related + "/" + e
        },
        getDeleteUrl: function(e) {
            return this.domain + "/threads/" + this.type + "/delete/" + this.id_related + "/" + e
        },
        getUndeleteUrl: function(e) {
            return this.domain + "/threads/" + this.type + "/undelete/" + this.id_related + "/" + e
        },
        getReportUrl: function(e) {
            return this.domain + "/threads/" + this.type + "/report/" + this.id_related + "/" + e
        },
        setSort: function(e) {
            return "string" != typeof e || e !== s.SORT_NEW && e !== s.SORT_OLD && e !== s.SORT_TOP && e !== s.SORT_WORST && e !== s.SORT_AUTHOR ? (this.node.ui_node.setSort(this.sort),
            !1) : (this.sort = e,
            this.node.ui_node.setSort(this.sort),
            !0)
        },
        updateSort: function(e) {
            return "string" == typeof e && (e === s.SORT_NEW || e === s.SORT_OLD || e === s.SORT_TOP || e === s.SORT_WORST || e === s.SORT_AUTHOR) && (this.sort === e || (this.node.destroyChildren(),
            this.setSort(e),
            this.init = !1,
            void this.load()))
        },
        getForm: function() {
            return this.node.getForm()
        },
        createForm: function(e) {
            return new n(e,this.form_html,this.force_anonymous,JSON.parse(JSON.stringify(this.form_validation_rules)))
        },
        createReportForm: function(e) {
            return new o(e,this.report_form_html,JSON.parse(JSON.stringify(this.report_form_validation_rules)))
        }
    },
    s
}),
define("skins/default/profile/comments/ui_node", ["skins/common/thread/ui/node"], function(e) {
    var t = function(t, i) {
        void 0 !== t && e.apply(this, [t, i])
    };
    return t.prototype = new e,
    t.prototype.createChild = function(e, i) {
        return new t(e,i)
    }
    ,
    t.prototype.getMessageKey = function(t) {
        switch (t) {
        case "node_loading":
            return "video.loading_comment";
        case "children_loading":
            return "video.loading_replies";
        case "children_error":
            return "video.failed_loading_replies";
        case "children_error_retry":
            return "video.failed_loading_replies_retry"
        }
        return e.prototype.getMessageKey.apply(this, [t])
    }
    ,
    t
}),
define("skins/default/profile/comments/ui_root", ["config/main", "skins/common/thread/ui/root", "./ui_node", "lib/i18n!front"], function(e, t, i, n) {
    var o = function(e, i) {
        void 0 !== e && t.apply(this, ["profile-wall-posts", n.__("video.comments", {}, "Comments"), e, i])
    };
    return o.prototype = new t,
    o.prototype.createChild = function(e, t) {
        return new i(e,t)
    }
    ,
    o.prototype.getMessageKey = function(e) {
        switch (e) {
        case "sort_by":
            return "profile.comments.sort";
        case "children_loading":
            return "video.loading_comments";
        case "children_error":
            return "video.failed_loading_comments";
        case "children_error_retry":
            return "video.failed_loading_comments_retry";
        case "load_next_nb_replies":
            return "video.load_next_nb_comments";
        case "load_last_reply":
            return "video.load_last_comment";
        case "load_last_nb_replies":
            return "video.load_last_nb_comments";
        case "load_all_replies":
            return "misc.load_all_comments";
        case "reply":
        case "post_reply":
            return "video.post_a_comment";
        case "one_reply_before":
            return "misc.one_comment_before";
        case "nb_replies_before":
            return "misc.nb_comments_before";
        case "one_reply_between":
            return "misc.one_comment_between";
        case "nb_replies_between":
            return "misc.nb_comments_between";
        case "one_reply_after":
            return "misc.one_comment_after";
        case "nb_replies_after":
            return "misc.nb_comments_after"
        }
        return t.prototype.getMessageKey.apply(this, [e])
    }
    ,
    o.prototype.getTemplateVars = function() {
        var i = t.prototype.getTemplateVars.apply(this, []);
        return i.lbl_sort_by = i.lbl_sort_by.replace("%author%", "object" == typeof e.data.user && e.data.user.display ? e.data.user.display : n.__("misc.author", {}, "Author")),
        i
    }
    ,
    o.prototype.getNodes = function() {
        t.prototype.getNodes.apply(this);
        var e = this.node.find(".thread-header");
        this.bg_title = $('<h4 class="bg-title grey"></h4>').append(this.node.find(".thread-title")).prependTo(e)
    }
    ,
    o.prototype.getChildrenNodes = function() {
        t.prototype.getChildrenNodes.apply(this, []),
        this.bg_title.append(" (").append(this.children_count.removeClass("thread-node-children-count")).append(")")
    }
    ,
    o.prototype.createPopup = function() {
        t.prototype.createPopup.apply(this, []),
        this.sort_worst.remove(),
        this.sort_author.text(n.__("profile.comments.from_author", {
            "%author%": "object" == typeof e.data.user && e.data.user.display ? e.data.user.display : n.__("misc.author", {}, "Author")
        }, "From %author%"))
    }
    ,
    o
}),
define("skins/account/social/profile_walls", ["config/main"], function(e) {
    e.data && e.data.posts && e.data.posts.length > 0 && require(["skins/common/thread/root", "skins/default/profile/comments/ui_root"], function(t, i) {
        for (var n in e.data.posts)
            !function(n) {
                var o = $("#comments-list-wall-" + n.id).empty()
                  , s = new i(n.id,o);
                new t("profile-wall-posts",n.id,s,"skins/" + e.sitename + "/form/login").load(n.posts, e.data.posts_domain, e.data.posts_login)
            }(e.data.posts[n])
    })
}),
define("skins/account/social/subscribers", ["./friends_list_base"], function(e) {
    new e("profile.actions.block","/block/add","ban","profile.confirm_block","%user%","profile.blocked")
}),
define("skins/account/social/subscriptions", ["config/main", "./friends_list_base"], function(e, t) {
    var i = "subscriptions.unsubscribe"
      , n = "eye-blocked";
    "xnxx" === e.sitename && (i = "subscriptions.unfollow",
    n = "close-circle"),
    new t(i,"/followers/unsubscribe",n,"subscriptions.confirm_unsubscribe","%user%","subscriptions.unsubscribed")
}),
define("skins/account/social/subscriptions_channels", ["./friends_list_base"], function(e) {
    new e("subscriptions.unsubscribe","/followers/unsubscribe","close-circle","subscriptions.confirm_unsubscribe","%user%","subscriptions.unsubscribed")
}),
define("skins/account/social/subscriptions_rejected", ["./friends_list_base"], function(e) {
    new e("misc.cancel_not_interested","/followers/unsubscribe","plus-circle",!1,"%user%","subscriptions.unsubscribed")
}),
define("skins/account/social/users_blocked", ["./friends_list_base"], function(e) {
    new e("profile.actions.unblock","/block/remove","check-circle",!1,!1,"profile.unblocked")
}),
define("skins/account/support/faq_search", ["lib/helpers/overlay/contextual_popup", "lib/i18n!front"], function(e, t) {
    var i = {};
    return i.setup_search_field = function() {
        var e = $("#faq-search-term");
        if (0 !== e.length) {
            var t = $("#faq-search-form").on("submit", function(t) {
                t.preventDefault();
                var n = $.trim(e.val());
                return n.length < 3 ? (window.alert(xv.utils.unescape(xv.i18n.__("validation.input_too_short", {
                    "%value%": '"' + n + '"',
                    "%nb_chars%": "3"
                }))),
                !1) : (i.search(n),
                !1)
            });
            t[0].submit = function() {
                t.trigger("submit")
            }
        }
    }
    ,
    i.search = function(i, n) {
        var o = e.loading(t.__("support.searching_faq"));
        $.post("/account/support/search-faq", {
            search: i
        }, function(i) {
            if (!0 === i.result)
                return i.nb_results > 0 ? n ? void e.confirm("<h3>" + t.__("support.faq_results_found_review_them") + "</h3>" + i.results, n, null, !0, {
                    text_ok: t.__("support.create_conversation")
                }) : void e.alert("<h3>" + t.__("support.faq_results_found") + "</h3>" + i.results) : n ? void n() : void e.alert(t.__("support.faq_no_results"));
            e.alert(i.message || t.__("misc.error_please_retry", {}, "Error! Please retry..."))
        }, "json").fail(function() {
            e.alert(t.__("misc.error_please_retry", {}, "Error! Please retry..."))
        }).always(function() {
            o.close()
        })
    }
    ,
    i
}),
define("skins/account/support/conversation_common", ["lib/tools", "lib/helpers/overlay/contextual_popup", "skins/form/validator", "./faq_search", "lib/i18n!front"], function(e, t, i, n, o) {
    return function(s, a, r) {
        var l = new i(s,a);
        if (0 === r) {
            var u = !1;
            l.onSubmit = function() {
                return !!u || (n.search($("#conversation_message").text(), function() {
                    u = !0,
                    s.trigger("submit")
                }),
                !1)
            }
        }
        var f = $('#conversation_attachments input[type="file"]');
        if (f.length > 1) {
            var c = 0;
            f.on("change", function() {
                f.index(this) >= c && (c++,
                f.eq(c).closest("fieldset").show())
            })
        }
        var d = $("#ticket-reply-button");
        d.on("click", function() {
            d.parent().next().removeClass("hidden"),
            d.parent().remove(),
            l.refresh()
        }),
        "reply" === e.getUrlHash() && d.click(),
        $("#ticket-close-button,#ticket-close-button2").on("click", function(e) {
            e.preventDefault(),
            t.confirm(o.__("misc.are_you_sure"), function() {
                window.location.href = window.location.pathname + "/close"
            })
        });
        var h = function(t) {
            return t = t.replace(/_/g, " "),
            e.ucfirst(t)
        }
          , p = function(e, t) {
            if ("string" != typeof e)
                return e;
            if ("http://" !== e.substr(0, 7) && "https://" !== e.substr(0, 8))
                return e;
            var i = e.replace(/\/+$/, "");
            if (t) {
                var n = i.lastIndexOf("/");
                if (n < 9)
                    return e;
                i = h(i.substr(n + 1))
            }
            return '<a href="' + e + '" target="_blank">' + i + "</a>"
        }
          , _ = function(e, t, i) {
            if ("object" != typeof e)
                return p(e, t > 0);
            var n = "undefined" == typeof e[0];
            if (!n && "object" != typeof e[0])
                return e.join(", ");
            var o = []
              , s = t > 0 && !n;
            s && o.push("");
            for (var a in e)
                if (e.hasOwnProperty(a)) {
                    var r = e[a]
                      , l = "";
                    i && (l += "<small>"),
                    n ? l += "<strong>" + h(a) + ":</strong> " : s && (l += "<small><strong>" + (parseInt(a) + 1) + ". </strong></small>"),
                    l += _(r, t + 1, s),
                    i && (l += "</small>"),
                    o.push(l)
                }
            return o.join(n && t > 0 || !n && t > 2 ? ", " : "<br>")
        }
          , g = function(e, i, n) {
            var s = $("#" + e)
              , a = $("#" + i);
            if (0 !== s.length && 0 !== a.length) {
                var r = $('<span class="icon-f icf-info-circle"></span>').appendTo(s.parent()).on("click", function(e) {
                    e.preventDefault(),
                    e.stopPropagation();
                    var i = !1
                      , r = "<h4>" + s.parent().text() + ":</h4><br>";
                    if (n)
                        try {
                            i = JSON.parse(a.val())
                        } catch (f) {
                            console.error(f)
                        }
                    else
                        i = a.val();
                    if ("object" == typeof i) {
                        r += '<table class="table table-bordered table-condensed"><thead><tr><th>Name</th><th>Content</th></tr></thead><tbody>';
                        for (var l in i)
                            if (i.hasOwnProperty(l)) {
                                var u = i[l];
                                r += "<tr><td>" + h(l) + "</td><td>" + _(u, 0, !1) + "</td></tr>"
                            }
                        r += "</tbody></table>"
                    } else
                        "string" == typeof i && i.length > 0 ? r += "<p>" + i + "</p>" : r += "<p>" + o.__("misc.error_please_retry") + "</p>";
                    t.alert(r, null, !0, {
                        text_ok: o.__("misc.close")
                    }).node.addClass("support-debug-popup")
                });
                s.on("change", function() {
                    r.toggle(s.is(":checked"))
                })
            }
        };
        g("conversation_debug_send_debug", "conversation_js_debug", !0),
        g("conversation_debug_send_logs", "conversation_js_logs", !1)
    }
}),
define("skins/account/support/conversation", ["config/main", "./conversation_common", "./faq_search"], function(e, t, i) {
    var n = $("#conversation");
    n.length > 0 && t(n, e.data.form_validation_rules, e.data.id_ticket),
    i.setup_search_field(),
    window.setTimeout(function() {
        $(".expires-link").addClass("text-danger").html(i18n.__("misc.link_expired_reload_page"))
    }, 1e3 * e.dyn.link_expires_time)
}),
define("skins/account/support/conversations", ["config/main", "lib/helpers/overlay/contextual_popup", "./faq_search", "lib/i18n!front"], function(e, t, i, n) {
    var o = $("#support-open-ticket");
    e.data.has_parent ? o.click(function(e) {
        return e.preventDefault(),
        t.alert(n.__("support.open_ticket_in_parent_account", {}, "You can create a ticket only from the main account managing this one."), null, !0),
        !1
    }) : e.data.nb_open > 0 && o.click(function(e) {
        return e.preventDefault(),
        t.confirm(n.__("support.conversation_already_open_redirect", {}, "You already have a ticket open. If you click ok, you will be redirected to this one and you can add your questions there."), function() {
            window.location.href = o.attr("href")
        }, null, !0),
        !1
    }),
    i.setup_search_field()
}),
define("skins/account/support/country_testers", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#country-testers-identity");
    i.length > 0 && new t(i,e.data.form_rules);
    var n = $("#country-testers-mcq");
    n.length > 0 && new t(n,e.data.form_rules)
}),
define("skins/account/support/offline_ticket", ["config/main", "./conversation_common"], function(e, t) {
    var i = $("#conversation");
    i.length > 0 && t(i, e.data.form_validation_rules, null)
}),
define("skins/account/uploads/move_videos", ["skins/account/elements/table_manager"], function(e) {
    e.create()
}),
define("skins/account/uploads/move_videos_request", ["config/main", "skins/form/validator"], function(e, t) {
    var i = $("#move-video-validation,#move-video-request");
    i.length > 0 && new t(i,e.data.validation_rules)
}),
define("skins/account/uploads/privacy_settings", ["config/main", "skins/form/element_state", "lib/i18n!front"], function(e, t, i) {
    var n = new t($("#profile-vids-privacy-select"))
      , o = !1
      , s = new t($("#make-vid-vis-all"))
      , a = new t($("#make-vid-vis-me"))
      , r = {
        hide: !1,
        show: !1
    };
    n.elem.change(function(e) {
        e.preventDefault(),
        l()
    }),
    s.elem.click(function(e) {
        e.preventDefault(),
        u("visible")
    }),
    a.elem.click(function(e) {
        e.preventDefault(),
        u("hidden")
    });
    var l = function() {
        if (n.elem.length <= 0)
            return !1;
        n.set_wait(),
        o = !0,
        $.ajax({
            dataType: "json",
            url: "/account/uploads/set-access",
            data: {
                upload_access: n.elem.val(),
                csrf: e.data.csrf.update_access
            },
            type: "POST",
            success: function(e) {
                e.result ? n.set_success(i.__("form.modification_saved")) : n.set_error(e.message ? e.message : i.__("form.error_modification_not_saved")),
                o = !1
            },
            error: function() {
                n.set_error(i.__("form.error_modification_not_saved")),
                o = !1
            },
            complete: function() {
                o && n.reinit()
            }
        })
    }
      , u = function(t) {
        s.set_wait(),
        r.show = !0,
        a.set_wait(),
        r.hide = !0,
        $.ajax({
            dataType: "json",
            url: "/account/uploads/set-hide",
            data: {
                visibility: t,
                csrf: e.data.csrf.update_visibility
            },
            type: "POST",
            success: function(e) {
                var n = "visible" == t ? s : a
                  , o = "visible" == t ? "show" : "hide";
                e.result ? n.set_success(i.__("form.modification_saved")) : n.set_error(e.message ? e.message : i.__("form.error_modification_not_saved")),
                r[o] = !1
            },
            error: function() {
                var e = "visible" == t ? s : a
                  , n = "visible" == t ? "show" : "hide";
                e.set_error(i.__("form.error_modification_not_saved")),
                r[n] = !1
            },
            complete: function() {
                r.show && s.reinit(),
                r.hide && a.reinit()
            }
        })
    }
}),
define("skins/account/uploads/video_comments", ["config/main"], function(e) {
    e.data && e.data.posts && e.data.posts.length > 0 && require(["skins/common/thread/root", "skins/" + e.sitename + "/video/comments/ui_root"], function(t, i) {
        for (var n in e.data.posts)
            !function(n) {
                var o = $("#comments-list-video-" + n.id).empty()
                  , s = new i(n.id,o);
                new t("video-comments",n.id,s,"skins/" + e.sitename + "/form/login").load(n.posts, e.data.posts_domain, e.data.posts_login)
            }(e.data.posts[n])
    })
}),
define("skins/account/uploads/video_delete", ["config/main", "skins/account/elements/table_manager", "lib/i18n!front", "lib/helpers/overlay/contextual_popup", "lib/helpers/inline_loader", "skins/form/validator", "skins/form/element_state"], function(e, t, i, n, o, s, a) {
    t.create();
    var r = $("#video-delete");
    if (0 !== r.length) {
        var l = new s(r,e.data.validation_rules,{
            no_init_focus: !0,
            no_init_validate: !0
        })
          , u = "selected"
          , f = $("#video-delete_val-delete")
          , c = $("#tabs-video li").click(function() {
            var e = $(this)
              , t = $(this).prop("id");
            u = t.substr(4),
            f.val(u),
            c.children().removeClass("active"),
            e.children().addClass("active"),
            $(".is-" + ("tab-all" === t ? "selected" : "all")).hide(),
            $(".is-" + t.replace("tab-", "")).show().removeClass("hidden"),
            $("#container-list-videos").toggle("tab-all" !== t)
        })
          , d = !1
          , h = []
          , p = $("#video-delete_id-delete")
          , _ = $("#list-videos")
          , g = $("#tab-list tbody")
          , m = $("#tab-to-del tbody");
        if (e.data.is_pro) {
            d = !0;
            var b = e.data.nb_remaining
        }
        var v = $("#list-videos .overflowable-table-container");
        l.onSubmit = function() {
            return "selected" !== u || (0 !== h.length || (n.alert(i.__("misc.select_one_video_to_delete")),
            !1))
        }
        ;
        var D = function(e) {
            void 0 === e && (e = g),
            e.find(".del-video").click(function() {
                y($(this).parents("tr"))
            })
        }
          , y = function(e) {
            if (d && 0 === b)
                return n.alert(i.__("misc.cannot_delete_max")),
                !1;
            var o = e.attr("id");
            if (k(o))
                return !0;
            r.find(".form-error-list-contener").remove(),
            $("#list-video-del").removeClass("hidden");
            var s = e.clone().prop("id", o.replace("video-", "video-del-")).appendTo(m);
            return s.find(".actions").html('<span class="icon-f icf-close del-video"></span> <span class="del-video mobile-only-hide">' + i.__("misc.actions.remove") + "</span>").click(function() {
                e.removeClass("hide"),
                s.remove(),
                C(o)
            }),
            e.addClass("hide"),
            w(o),
            P() && I(),
            t.info_hover_reinit(s),
            t.update_all_tables_graphic(),
            !0
        }
          , w = function(e) {
            e = e.replace("video-", ""),
            -1 === h.indexOf(e) && (h.push(e),
            p.val(h.join(",")),
            d && b--)
        }
          , C = function(e) {
            e = e.replace("video-", "");
            var t = h.indexOf(e);
            -1 !== t && (h.splice(t, 1),
            p.val(h.join(",")),
            d && b++,
            0 === h.length && $("#list-video-del").addClass("hidden"))
        }
          , k = function(e) {
            return -1 !== h.indexOf(e.replace("video-", ""))
        }
          , x = $("#find-del-id")
          , F = new a(x)
          , E = $("#del-id")
          , T = function(e) {
            if ("keyup" !== e.type || 13 === e.which) {
                var t = $.trim(E.val());
                if (t.length <= 0)
                    return F.set_error(i.__("misc.missing_field")),
                    !1;
                if (!t.match(/^\d+$/)) {
                    var n = t.replace("https://", "").replace("http://", "").split("/");
                    if (t.indexOf("/edit") > 0)
                        t = n[3];
                    else {
                        if (!(t.indexOf("/video") > 0))
                            return F.set_error(i.__("misc.invalid_url_or_id")),
                            !1;
                        t = n[1].replace("video", "")
                    }
                }
                if ($("#video-del-" + t).length > 0)
                    return E.val(""),
                    void F.set_error(i.__("misc.already_add_delete"));
                var o = $("#video-" + t);
                if (1 === o.data("delete"))
                    return void F.set_error(i.__("misc.already_to_delete"));
                if (o.length > 0)
                    return y(o) && F.set_success(i.__("misc.video_add_delete")),
                    void E.val("");
                F.set_wait(),
                $.ajax({
                    type: "POST",
                    dataType: "json",
                    url: "/account/uploads/" + t + "/get-video",
                    success: function(e) {
                        if (!e.result)
                            return void F.set_error(i.__("misc.video_not_found"));
                        var n = e.videos[0];
                        if (n.to_delete)
                            return void F.set_error(i.__("misc.already_to_delete"));
                        if (n.verified || n.has_notice)
                            return void F.set_error(i.__("misc.video_not_found"));
                        var o = $("#video-" + t);
                        0 === o.length && (o = $(n.html).appendTo(g),
                        y(o)),
                        F.set_success(i.__("misc.video_add_delete")),
                        E.val("")
                    },
                    error: function() {
                        F.set_error(i.__("error.internal_err_please_reload"))
                    }
                })
            }
        };
        x.on("click", T),
        E.on("keyup", T);
        var S = 1
          , L = !1
          , P = function() {
            return v.scrollTop() + v.innerHeight() + 50 >= v[0].scrollHeight
        }
          , I = function() {
            if (!L) {
                if (P()) {
                    L = !0;
                    var e = o.getSafe("after", " " + i.__("loading.loading")).getNode().insertAfter(_);
                    $.ajax({
                        type: "POST",
                        dataType: "json",
                        url: "/account/uploads/" + S + "/get-videos",
                        success: function(e) {
                            if (0 === e.videos.length)
                                return void v.off("scroll", I);
                            S++;
                            for (var t in e.videos) {
                                var i = e.videos[t];
                                if (!($("#video-" + i.id).length > 0)) {
                                    var n = $(i.html).appendTo(g);
                                    D(n)
                                }
                            }
                            v.on("scroll", I)
                        },
                        error: function() {
                            n.alert(i.__("misc.error_please_retry"), null, !0)
                        }
                    }).then(function() {
                        e.remove(),
                        L = !1
                    })
                }
            }
        };
        $("#tab-list tbody tr").length < 10 ? I() : v.on("scroll", I),
        D();
        var M = window.location.hash;
        if (M !== undefined && -1 !== M.search("#video-")) {
            var A = M.replace("#video-", "");
            $.isNumeric(A) && ($("#del-id").val(A),
            $("#find-del-id").click())
        }
    }
}),
define("text!skins/form/widget/locale_selector/btn.mustache", [], function() {
    return '<span class="input-group-btn">\r\n\t<button class="btn btn-default" type="button">\r\n\t\t{{#has_autodetect}}<span class="flag-small flag-question flag-detected{{^is_unknown}} hidden{{/is_unknown}}"></span>{{/has_autodetect}}\r\n\t\t<span class="{{ flag_class }}"></span>\r\n\t</button>\r\n</span>'
}),
define("text!skins/form/widget/locale_selector/del_btn.mustache", [], function() {
    return '<span class="input-group-btn trash-btn">\r\n\t<button class="btn btn-default btn-group" type=\'button\'>\r\n\t\t<span class="icon-f icf-trash"></span>\r\n\t</button>\r\n\t{{#auto_translated}}\r\n\t<button class="btn btn-default btn-group" type=\'button\'>\r\n\t\t<span class="icon-f icf-language"></span>\r\n\t</button>\r\n\t{{/auto_translated}}\r\n</span>'
}),
define("text!skins/form/widget/locale_selector/auto_translated.mustache", [], function() {
    return '<span class="input-group-btn trash-btn">\n\t<button class="btn btn-default btn-group" type=\'button\'>\n\t\t<span class="icon-f icf-language"></span>\n\t</button>\n</span>'
}),
define("text!skins/form/widget/locale_selector/contener.mustache", [], function() {
    return '<div class="language-select input-group">\r\n\r\n</div>'
}),
define("text!skins/form/widget/locale_selector/lang_list.mustache", [], function() {
    return '<ul id="{{{ id }}}" class="row">\r\n{{#languages}}\r\n\t<li class="col {{#col_class}}{{{ col_class }}}{{/col_class}}{{^col_class}}col-xs-6 col-sm-4 col-lg-3 col-xl-2{{/col_class}} is-{{{ used_status }}}" data-order="{{{ order }}}" data-status="{{{ used_status }}}">\r\n\t\t<a data-locale="{{{ code }}}">\r\n\t\t\t<span class="{{{ flag_class }}}"></span> {{{ name }}}\r\n\t\t</a>\r\n\t</li>\r\n\t{{/languages}}\r\n</ul>'
}),
define("skins/form/widget/locale_selector", ["mustache", "lib/helpers/popup", "static/storage", "config/main", "static/utils", "text!./locale_selector/btn.mustache", "text!./locale_selector/del_btn.mustache", "text!./locale_selector/auto_translated.mustache", "text!./locale_selector/contener.mustache", "text!./locale_selector/lang_list.mustache", "lib/i18n!front"], function(e, t, i, n, o, s, a, r, l, u, f) {
    var c = null
      , d = function(e) {
        this.form = e,
        this.pop = null,
        this.pop_count_id = 0,
        this.init_error_count = 0,
        this.groups = {}
    };
    return d.prototype = {
        init_locales: function() {
            var e = this;
            return null !== c ? this.init_btn_switchers() : (st_get = i.get("locales", "VideoUpLocales"),
            !st_get || st_get.time < $.now() - 864e5 ? void $.ajax({
                dataType: "json",
                url: "/video-user-suggest/languages",
                success: function(t) {
                    return e.init_set_all_languages(t),
                    e.init_btn_switchers()
                },
                error: function() {
                    e.init_error_count < 3 && (e.init_error_count++,
                    setTimeout(function() {
                        e.init_locales()
                    }, 1e3))
                }
            }) : (c = st_get.languages,
            this.init_btn_switchers()))
        },
        init_set_all_languages: function(e) {
            c = e.languages,
            i.set("locales_", {
                languages: c,
                time: $.now()
            }, "VideoLocales")
        },
        init_btn_switchers: function() {
            var i = this;
            this.form.find('[data-role="language-selection"]').each(function() {
                var n = $(this)
                  , u = n.prop("id")
                  , c = n.data("extra-id")
                  , d = n.data("title")
                  , h = n.data("unknown")
                  , p = n.data("add-empty")
                  , _ = n.data("auto_translated");
                u = u.substr(0, u.indexOf(c));
                var g = $("#" + u);
                if (g.length < 1)
                    return !1;
                var m = n.data("group");
                m && "undefined" == typeof i.groups[m] && (i.groups[m] = {
                    fields: []
                });
                var b = i.get(n.val(), h);
                !b && h && (b = i.get("unk", h)),
                !b && p && (b = i.get("empty")),
                b || (b = i.get_unused(m));
                var v = $(e.render(s, {
                    flag_class: b.flag_class,
                    has_autodetect: "autodetect" === h,
                    is_unknown: "unk" === b.code
                }))
                  , D = $(l);
                if (D.insertBefore(g),
                D.append(g),
                v.insertBefore(g),
                n.val(b.code),
                m)
                    var y = D.parents("fieldset").first()
                      , w = {
                        lang: b.code,
                        hidden: n,
                        input: g,
                        empty_callback: !1,
                        container: y,
                        displayed: y.is(":visible"),
                        title: d,
                        unknown_mode: h
                    };
                if (v = v.children("button"),
                v.data("locale", b.code).data("flag-class", b.flag_class).data("group", m).prop("title", d + " : " + o.unescape(b.name)).click(function() {
                    var e = $(this);
                    i.set_pop_lang(e, h, function() {
                        var t = e.data("flag-class")
                          , s = i.get($(this).data("locale"), h);
                        m && ("empty" === w.lang && w.empty_callback && (g.off("keydown", w.empty_callback),
                        w.empty_callback = !1),
                        w.lang = s.code),
                        e.data("locale", s.code).data("flag-class", s.flag_class).prop("title", d + " : " + o.unescape(s.name)).children("." + t.replace(/ /g, ".")).removeClass(t).addClass(s.flag_class).prev().toggleClass("hidden", "unk" !== s.code),
                        n.val(s.code).trigger("change"),
                        g.focus(),
                        i.pop.close()
                    }, function() {
                        if (m) {
                            var e = i.get($(this).data("locale"), h);
                            for (var t in i.groups[m].fields)
                                if (i.groups[m].fields[t].displayed && i.groups[m].fields[t].lang === e.code) {
                                    i.groups[m].fields[t].input.focus();
                                    break
                                }
                        } else
                            g.focus();
                        i.pop.close()
                    })
                }),
                m) {
                    "empty" === b.code && (w.empty_callback = function(e) {
                        e.preventDefault(),
                        e.stopPropagation(),
                        g.val(""),
                        v.click()
                    }
                    ,
                    g.on("keydown", w.empty_callback)),
                    w.button = v,
                    i.groups[m].fields.push(w);
                    var C = !1
                      , k = null;
                    if (i.groups[m].fields.length > 2 ? C = function() {
                        var t = g.data("validator");
                        t.showIcon("", ""),
                        t.hideIcon(),
                        k = $(e.render(a, {
                            auto_translated: _
                        })).insertAfter(g).find("button").first().click(function() {
                            w.container.hide(),
                            w.displayed = !1,
                            w.input.val("").trigger("keyup"),
                            i.toggle_add_btn(m)
                        }).next()
                    }
                    : _ && (C = function() {
                        k = $(r).appendTo(D).find("button")
                    }
                    ),
                    C) {
                        var x = C;
                        C = function() {
                            x(),
                            _ && null !== k && k.length > 0 && new t(k,"<span>" + f.__("upload.translation_auto_added", {}, "This translation has been automatically added to your main title.") + "</span>",{
                                max_width: 240,
                                trigger: "click mouseenter",
                                closebtn: !0,
                                autoclose: 3e3
                            })
                        }
                        ,
                        g.data("validator") ? C() : g.on("validator-init", C)
                    }
                }
                if ("autodetect" === h) {
                    var F = function() {
                        var e = g.data("validator")
                          , t = !1
                          , s = !1;
                        e.addXhrSuccessCallback("check_alphabet", function(e, a) {
                            var r = a.lang || !1;
                            if (t !== r) {
                                t = r;
                                var l = i.get(v.data("locale"), h);
                                if ("unk" === l.code) {
                                    var u = i.get(r, h);
                                    v.prop("title", d + " : " + o.unescape(l.name) + (u && "unk" !== u.code ? " (" + u.name + ")" : "")),
                                    n.data("detected", u ? u.code : "unk").trigger("change")
                                }
                                var f = a.country || !1;
                                if (s !== f) {
                                    var c = s ? "flag-small flag-" + s.toLowerCase() : "flag-small flag-question"
                                      , p = f ? "flag-small flag-" + f.toLowerCase() : "flag-small flag-question";
                                    v.find(".flag-detected").removeClass(c).addClass(p),
                                    s = f
                                }
                            }
                        })
                    }
                      , E = g.data("validator");
                    E && E.hasXhr("check_alphabet") ? F() : g.on("alphabet-validator-init", F)
                }
            });
            for (var n in this.groups)
                this.groups[n].fields.length > 2 && this.setup_add_btn(n, this.groups[n].unknown_mode)
        },
        setup_add_btn: function(e, t) {
            var i = this
              , n = this.groups[e]
              , s = n.fields[n.fields.length - 1];
            n.add_btn = $('<button type="button" class="btn btn-default">' + f.__("upload.add_one_more") + "</button>").insertAfter(s.container).data("group", e).click(function() {
                var s = $(this);
                i.set_pop_lang(s, t, function() {
                    var a = null;
                    for (var r in n.fields)
                        if (!n.fields[r].displayed || "empty" === n.fields[r].lang) {
                            a = n.fields[r];
                            break
                        }
                    if (a) {
                        "empty" === a.lang && a.empty_callback && (a.input.off("keydown", a.empty_callback),
                        a.empty_callback = !1),
                        a.container.show(),
                        a.displayed = !0;
                        var l = a.button
                          , u = l.data("flag-class")
                          , f = i.get($(this).data("locale"), t);
                        a.lang = f.code,
                        s.data("locale", f.code),
                        l.data("locale", f.code).data("flag-class", f.flag_class).prop("title", a.title + " : " + o.unescape(f.name)).children("." + u.replace(/ /g, ".")).removeClass(u).addClass(f.flag_class),
                        a.hidden.val(f.code).trigger("change"),
                        a.input.focus(),
                        i.pop.close(),
                        i.toggle_add_btn(e)
                    }
                }, function() {
                    for (var e in n.fields)
                        n.fields[e].lang === $(this).data("locale") && n.fields[e].displayed && n.fields[e].input.focus();
                    i.pop.close()
                })
            })
        },
        get: function(e, t) {
            if ("unk" === e)
                return this.compile_elem(this.get_unknown(t));
            if ("empty" === e)
                return this.compile_elem(this.get_empty());
            for (var i in c)
                if (c[i].c === e)
                    return this.compile_elem(c[i]);
            return !1
        },
        get_all: function(e, t, i) {
            var n = []
              , o = 0;
            if (t) {
                var s = this.compile_elem(this.get_unknown(t), e, i);
                s.order = o,
                n.push(s),
                o++
            }
            for (var a in c) {
                var s = this.compile_elem(c[a], e, i);
                !1 !== s && (s.order = o,
                n.push(s),
                o++)
            }
            return n
        },
        get_unused: function(e) {
            if (!e)
                return this.get(n.dyn.locale);
            var t = [];
            for (var i in this.groups[e].fields)
                this.groups[e].fields[i].displayed && t.push(this.groups[e].fields[i].lang);
            if (-1 === $.inArray(n.dyn.locale, t))
                return this.get(n.dyn.locale);
            if ("en" !== n.dyn.locale && -1 === $.inArray("en", t))
                return this.get("en");
            for (var i in c)
                if (-1 === $.inArray(c[i].c, t))
                    return this.compile_elem(c[i]);
            return !1
        },
        toggle_add_btn: function(e) {
            var t = !1;
            for (var i in this.groups[e].fields)
                if (!this.groups[e].fields[i].displayed) {
                    t = !0;
                    break
                }
            this.groups[e].add_btn.toggle(t)
        },
        compile_elem: function(e, t, i) {
            if (e.c && e.t) {
                var n = {
                    code: e.c,
                    name: e.t,
                    word_count_mode: e.w ? e.w : "NORMAL"
                };
                if (t) {
                    var o = t.data("group");
                    if (o) {
                        n.used_status = "unused";
                        for (var s in this.groups[o].fields)
                            if (this.groups[o].fields[s].displayed && this.groups[o].fields[s].lang === e.c) {
                                n.used_status = "used";
                                break
                            }
                    } else
                        n.used_status = e.c === t.data("locale") ? "used" : "unused"
                }
                return e.f ? (n.country = e.f.toLowerCase(),
                "UNK" === e.f || "EMPTY" === e.f ? n.flag_class = "lang-selector-icon flag flag-question" : "AUTO" === e.f ? n.flag_class = "lang-selector-icon icon-f icf-bolt" : n.flag_class = (i ? "flag-small" : "lang-selector-icon flag") + " flag-" + n.country) : n.flag_class = "no-flag",
                e.r && (n.rtl = "rtl"),
                n
            }
            return !1
        },
        get_unknown: function(e) {
            return {
                c: "unk",
                n: "autodetect" === e ? "Auto detect language" : "Unknown",
                t: "autodetect" === e ? f.__("misc.auto_detect_lang") : f.__("misc.unknown"),
                f: "autodetect" === e ? "AUTO" : "UNK",
                w: "NORMAL",
                r: !1
            }
        },
        get_empty: function() {
            return {
                c: "empty",
                n: "Select a language",
                t: f.__("misc.select_language"),
                f: "EMPTY",
                w: "NORMAL",
                r: !1
            }
        },
        set_pop_lang: function(t, i, n, o) {
            var s = ++this.pop_count_id
              , a = this
              , r = this.get_popup($(t), $(e.render(u, this.get_tpl_lang_list_options(t, i, s))), function() {
                $("#locale-selector-" + s + ' [data-status="unused"] a').off("click").on("click", n),
                $("#locale-selector-" + s + ' [data-status="used"] a').off("click").on("click", o),
                a.organize_col(),
                $(window).resize(function() {
                    a.organize_col()
                })
            });
            return r.open(),
            this.organize_col(),
            r
        },
        get_popup: function(e, i, n) {
            if (this.pop)
                this.pop.setButton(e).setContent(i);
            else {
                var o = $("#page");
                this.pop = new t(e,i,{
                    offset: {
                        below: -5,
                        above: 0,
                        left: 0,
                        right: 0
                    },
                    position: {
                        v: "below",
                        h: "left"
                    },
                    trigger: !1,
                    popup_class: "locale-selector-popup",
                    relative_to: o.length > 0 ? o : $("body")
                })
            }
            return this.pop.onOpen = n,
            this.pop.isOpened() && n(),
            this.pop
        },
        get_tpl_lang_list_options: function(e, t, i) {
            return {
                id: "locale-selector-" + i,
                languages: this.get_all(e, t, !0)
            }
        },
        organize_col: function() {
            if (this.pop && this.pop.opened && $(this.pop.popup).length) {
                var e = $(this.pop.popup).find("ul")
                  , t = parseInt(e.width())
                  , i = e.children("li")
                  , n = parseInt(i.first().width())
                  , o = Math.round(t / n)
                  , s = Math.ceil(i.length / o);
                i.detach().sort(function(e, t) {
                    var i = parseInt($(e).data("order"))
                      , n = parseInt($(t).data("order"));
                    return i = i % s * 999 + i,
                    n = n % s * 999 + n,
                    i < n ? -1 : i > n ? 1 : 0
                }),
                e.append(i)
            }
        }
    },
    d
}),
function(e) {
    "function" == typeof define && define.amd ? define("jquery-scrollLock", ["jquery"], e) : e(jQuery)
}(function(e) {
    "use strict";
    var t, i = {
        space: 32,
        pageup: 33,
        pagedown: 34,
        end: 35,
        home: 36,
        up: 38,
        down: 40
    }, n = function(t, i) {
        var n, o, s, a = i.scrollTop(), r = i.prop("scrollHeight"), l = i.prop("clientHeight"), u = t.originalEvent.wheelDelta || -1 * t.originalEvent.detail || -1 * t.originalEvent.deltaY, f = 0;
        return "wheel" === t.type ? (n = i.height() / e(window).height(),
        f = t.originalEvent.deltaY * n) : this.options.touch && "touchmove" === t.type && (u = t.originalEvent.changedTouches[0].clientY - this.startClientY),
        s = (o = u > 0 && a + f <= 0) || u < 0 && a + f >= r - l,
        {
            prevent: s,
            top: o,
            scrollTop: a,
            deltaY: f
        }
    }, o = function(e, t) {
        var n, o, s = t.scrollTop(), a = {
            top: !1,
            bottom: !1
        };
        return a.top = 0 === s && (e.keyCode === i.pageup || e.keyCode === i.home || e.keyCode === i.up),
        a.top || (n = t.prop("scrollHeight"),
        o = t.prop("clientHeight"),
        a.bottom = n === s + o && (e.keyCode === i.space || e.keyCode === i.pagedown || e.keyCode === i.end || e.keyCode === i.down)),
        a
    }, s = function(t, i) {
        this.$element = t,
        this.options = e.extend({}, s.DEFAULTS, this.$element.data(), i),
        this.enabled = !0,
        this.startClientY = 0,
        this.options.unblock && this.$element.on(s.CORE.wheelEventName + s.NAMESPACE, this.options.unblock, e.proxy(s.CORE.unblockHandler, this)),
        this.$element.on(s.CORE.wheelEventName + s.NAMESPACE, this.options.selector, e.proxy(s.CORE.handler, this)),
        this.options.touch && (this.$element.on("touchstart" + s.NAMESPACE, this.options.selector, e.proxy(s.CORE.touchHandler, this)),
        this.$element.on("touchmove" + s.NAMESPACE, this.options.selector, e.proxy(s.CORE.handler, this)),
        this.options.unblock && this.$element.on("touchmove" + s.NAMESPACE, this.options.unblock, e.proxy(s.CORE.unblockHandler, this))),
        this.options.keyboard && (this.$element.attr("tabindex", this.options.keyboard.tabindex || 0),
        this.$element.on("keydown" + s.NAMESPACE, this.options.selector, e.proxy(s.CORE.keyboardHandler, this)),
        this.options.unblock && this.$element.on("keydown" + s.NAMESPACE, this.options.unblock, e.proxy(s.CORE.unblockHandler, this)))
    };
    s.NAME = "ScrollLock",
    s.VERSION = "3.1.2",
    s.NAMESPACE = ".scrollLock",
    s.ANIMATION_NAMESPACE = s.NAMESPACE + ".effect",
    s.DEFAULTS = {
        strict: !1,
        strictFn: function(e) {
            return e.prop("scrollHeight") > e.prop("clientHeight")
        },
        selector: !1,
        animation: !1,
        touch: "ontouchstart"in window,
        keyboard: !1,
        unblock: !1
    },
    s.CORE = {
        wheelEventName: "onwheel"in document.createElement("div") ? "wheel" : document.onmousewheel !== undefined ? "mousewheel" : "DOMMouseScroll",
        animationEventName: ["webkitAnimationEnd", "mozAnimationEnd", "MSAnimationEnd", "oanimationend", "animationend"].join(s.ANIMATION_NAMESPACE + " ") + s.ANIMATION_NAMESPACE,
        unblockHandler: function(e) {
            e.__currentTarget = e.currentTarget
        },
        handler: function(t) {
            var i, o, a;
            this.enabled && !t.ctrlKey && (i = e(t.currentTarget),
            (!0 !== this.options.strict || this.options.strictFn(i)) && (t.stopPropagation(),
            o = e.proxy(n, this)(t, i),
            t.__currentTarget && (o.prevent &= e.proxy(n, this)(t, e(t.__currentTarget)).prevent),
            o.prevent && (t.preventDefault(),
            o.deltaY && i.scrollTop(o.scrollTop + o.deltaY),
            a = o.top ? "top" : "bottom",
            this.options.animation && setTimeout(s.CORE.animationHandler.bind(this, i, a), 0),
            i.trigger(e.Event(a + s.NAMESPACE)))))
        },
        touchHandler: function(e) {
            this.startClientY = e.originalEvent.touches[0].clientY
        },
        animationHandler: function(e, t) {
            var i = this.options.animation[t]
              , n = this.options.animation.top + " " + this.options.animation.bottom;
            e.off(s.ANIMATION_NAMESPACE).removeClass(n).addClass(i).one(s.CORE.animationEventName, function() {
                e.removeClass(i)
            })
        },
        keyboardHandler: function(t) {
            var i, n = e(t.currentTarget), a = (n.scrollTop(),
            o(t, n));
            return t.__currentTarget && (i = o(t, e(t.__currentTarget)),
            a.top &= i.top,
            a.bottom &= i.bottom),
            a.top ? (n.trigger(e.Event("top" + s.NAMESPACE)),
            this.options.animation && setTimeout(s.CORE.animationHandler.bind(this, n, "top"), 0),
            !1) : a.bottom ? (n.trigger(e.Event("bottom" + s.NAMESPACE)),
            this.options.animation && setTimeout(s.CORE.animationHandler.bind(this, n, "bottom"), 0),
            !1) : void 0
        }
    },
    s.prototype.toggleStrict = function() {
        this.options.strict = !this.options.strict
    }
    ,
    s.prototype.enable = function() {
        this.enabled = !0
    }
    ,
    s.prototype.disable = function() {
        this.enabled = !1
    }
    ,
    s.prototype.destroy = function() {
        this.disable(),
        this.$element.off(s.NAMESPACE),
        this.$element = null,
        this.options = null
    }
    ,
    t = e.fn.scrollLock,
    e.fn.scrollLock = function(t) {
        return this.each(function() {
            var i = e(this)
              , n = "object" == typeof t && t
              , o = i.data(s.NAME);
            (o || "destroy" !== t) && (o || i.data(s.NAME, o = new s(i,n)),
            "string" == typeof t && o[t]())
        })
    }
    ,
    e.fn.scrollLock.defaults = s.DEFAULTS,
    e.fn.scrollLock.noConflict = function() {
        return e.fn.scrollLock = t,
        this
    }
}),
define("lib/helpers/overlay/fullscreen", ["lib/tools", "../overlay", "jquery-scrollLock"], function(e, t) {
    var i = function(e, i) {
        t.apply(this, [$("body"), e, i]),
        this.node.addClass("x-overlay-fullscreen"),
        this.adjusted_container = null;
        var n = this;
        $(window).on("resize", function() {
            n.onresize()
        })
    };
    return i.prototype = new t,
    i.get = function(e, t) {
        return new i(e,t)
    }
    ,
    i.prototype.show = function(e) {
        if (!this.open)
            return this.node.appendTo(this.parent),
            this.open = !0,
            this.adjusted_container && (this.adjusted_container.height("auto").scrollLock("disable"),
            this.adjusted_container = null),
            e ? this.adjusted_container = e.scrollLock() : this.container.scrollLock(),
            this.onresize(),
            this
    }
    ,
    i.prototype.onresize = function() {
        if (this.open) {
            if (!this.adjusted_container)
                return this.container.height(this.body.height() + "px"),
                this;
            this.adjusted_container.height("auto"),
            this.adjusted_container.height(this.body.height() - (this.container.height() - this.adjusted_container.height()))
        }
    }
    ,
    i
}),
define("text!skins/common/video/thumb_select.mustache", [], function() {
    return '<div id="thumbs-select-form">\n\t<p>{{{ lbl_header }}}</p>\n\t<form class="mozaique thumbs-5-cols">\n\t\t<input type="hidden" name="csrf" value="{{ csrf }}">\n\t\t{{#videos}}\n\t\t\t<div class="thumb-block{{#selected}}{{^casting_in_progress}} selected{{/casting_in_progress}}{{/selected}}{{#casting}} selected casting{{/casting}}{{#disabled}} disabled{{/disabled}}"><div class="thumb-inside"><div class="thumb"><a href="#"><img src="{{ url }}">{{#disabled}}<span class="rejected">{{{ lbl_rejected }}}</span>{{/disabled}}{{^disabled}}<span class="select-over">{{#casting}}{{{ lbl_casting }}}{{/casting}}{{^casting}}{{^casting_in_progress}}{{#selected}}{{{ lbl_selected }}}{{/selected}}{{/casting_in_progress}}{{/casting}}</span><span class="corner-select"></span><input type="checkbox" name="ids[]" value="{{ thumb }}"{{#casting}} checked="checked"{{/casting}}{{^casting_in_progress}}{{#selected}} checked="checked"{{/selected}}{{/casting_in_progress}}><span class="icon-f icf-check-square"></span>{{/disabled}}</a></div></div></div>\n\t\t{{/videos}}\n\t</form>\n\t<div class="thumb-select-actions">\n\t\t<button type="button" class="btn btn-default cancel">{{{ lbl_cancel }}}</button>\n\t\t{{#has_reset}}<button type="button" class="btn btn-default reset">{{{ lbl_reset }}}</button>{{/has_reset}}\n\t\t<button type="button" class="btn btn-default validate">{{{ lbl_submit }}}</button>\n\t</div>\n</div>'
}),
define("skins/common/video/thumb_select", ["config/main", "mustache", "static/dom", "lib/tools", "lib/helpers/overlay/fullscreen", "lib/helpers/inline_loader", "static/thumbs", "text!./thumb_select.mustache", "lib/i18n!front"], function(e, t, i, n, o, s, a, r, l) {
    var u = function(e, t, i, n, o) {
        this.id = e,
        this.base_url = t,
        this.id_cdn = i,
        this.premium = n,
        this.csrf = o,
        this.system = "NEW",
        this.box = null
    };
    return u.prototype = {
        onSubmitted: null,
        setThumbs: function(e, t, i) {
            this.system = "OLD",
            this.thumbs = e,
            this.selected = t,
            this.checked = null,
            this.videotitle = i
        },
        setCastingThumbs: function(e, t, i) {
            this.system = "NEW",
            this.casting = e,
            this.rejected = t,
            this.selected = i,
            this.checked = null
        },
        open: function() {
            if (!this.box) {
                this.box = o.get(!0, "hide"),
                this.box.setClosable(!0, !1);
                var e = {
                    csrf: this.csrf,
                    videos: [],
                    has_reset: "NEW" === this.system,
                    lbl_header: "NEW" === this.system ? l.__("video.thumbselect.header" + (this.premium ? "_red" : "")) : l.__("video.choose_thumbnail_for_video", {
                        "%title%": this.videotitle
                    }),
                    lbl_selected: l.__("misc.selected"),
                    lbl_casting: l.__("misc.casting"),
                    lbl_rejected: l.__("misc.not_selected"),
                    lbl_cancel: l.__("misc.cancel"),
                    lbl_reset: l.__("misc.reset_selection"),
                    lbl_submit: "NEW" === this.system ? l.__("misc.submit_selection") : l.__("video.change_thumbnail")
                };
                if ("OLD" === this.system)
                    for (var i in this.thumbs)
                        e.videos.push({
                            thumb: this.thumbs[i],
                            url: a.replaceThumbUrl(this.base_url + this.thumbs[i] + ".jpg", this.id_cdn),
                            selected: this.thumbs[i] === this.selected,
                            casting: !1,
                            disabled: !1
                        });
                else
                    for (var n = 1; n <= 30; n++)
                        e.videos.push({
                            thumb: n,
                            url: a.replaceThumbUrl(this.base_url + n + ".jpg", this.id_cdn),
                            selected: n === this.selected,
                            casting: -1 !== this.casting.indexOf(n),
                            disabled: -1 !== this.rejected.indexOf(n),
                            casting_in_progress: this.casting.length > 0
                        });
                this.box.setContent(t.render(r, e)),
                this.mozaique = this.box.body.find(".mozaique").css("overflow-y", "auto"),
                this.setupActions()
            }
            this.box.show(this.mozaique)
        },
        setupActions: function() {
            var e = this
              , t = this.box.node.find('input[type="checkbox"]')
              , i = this.box.node.find("button")
              , n = i.filter(".cancel")
              , o = i.filter(".reset")
              , a = i.filter(".validate")
              , r = this.box.node.find("#thumbs-select-form form")
              , u = !1
              , f = null
              , c = function() {
                var e = t.filter(":checked").length;
                o.add(a).prop("disabled", 0 === e).toggleClass("btn-disabled", 0 === e)
            };
            r.on("click", "a", function(t) {
                if (t.stopPropagation(),
                t.preventDefault(),
                !u) {
                    var i = $(this).children("input");
                    if (0 !== i.length) {
                        var n = i.is(":checked");
                        i.prop("checked", !n),
                        i.parents(".thumb-block").toggleClass("selected", !n),
                        "OLD" === e.system && (e.checked && e.checked.prop("checked", !1).parents(".thumb-block").removeClass("selected"),
                        e.checked = i),
                        c()
                    }
                }
            }),
            n.on("click", function() {
                e.box.hide()
            }),
            o.on("click", function() {
                e.checked = null,
                t.filter(":checked").prop("checked", !1).parents(".thumb-block").removeClass("selected"),
                c()
            });
            var d = function(e) {
                f = $('<div class="alert alert-danger">' + e + "</div>").prependTo(a.parent())
            };
            a.on("click", function() {
                if (!u) {
                    u = !0,
                    f && (f.remove(),
                    f = null),
                    i.prop("disabled", !0).addClass("btn-disabled"),
                    r.css("opacity", .25);
                    var t = a.html();
                    a.html(s.getSafe("after", l.__("misc.submitting", null, "Submitting...")).getHtml()),
                    $.ajax({
                        url: "NEW" === e.system ? "/thumb-select/" + e.id : "/account/uploads/" + e.id + "/change-thumb",
                        method: "POST",
                        data: r.serialize(),
                        dataType: "json",
                        success: function(t) {
                            if (t.result)
                                return "NEW" === e.system && "object" == typeof e.casting ? (e.casting = t.casting,
                                e.box.close(),
                                e.box = null) : e.box.hide(),
                                void (e.onSubmitted && e.onSubmitted(t));
                            t.message && d(t.message)
                        }
                    }).fail(function() {
                        d(l.__("misc.error_please_retry"))
                    }).complete(function() {
                        u = !1,
                        r.css("opacity", 1),
                        a.html(t),
                        n.prop("disabled", !1).removeClass("btn-disabled"),
                        c()
                    })
                }
            }),
            c(),
            "OLD" === e.system && (e.checked = t.filter(":checked"))
        }
    },
    u.setupButton = function(e, t, i, n, o, s) {
        var a;
        e.on("click", function(e) {
            e.preventDefault(),
            e.stopPropagation(),
            a || (a = new u(t,i.u,i.i,o,i.c),
            i.t ? a.setThumbs(i.t, i.s, n) : a.setCastingThumbs(i.g, i.r, i.s),
            s && (a.onSubmitted = s)),
            a.open()
        })
    }
    ,
    u
}),
define("skins/account/uploads/common/thumb_select", ["config/main", "skins/common/video/thumb_select", "lib/i18n!front"], function(e, t, i) {
    return function(n) {
        if (n.casting) {
            var o = $("#upload-select-thumb-" + n.id)
              , s = null;
            n.casting.t || "uploads_video_statistics" !== e.data.action && "uploads_video_preselect_thumbs" !== e.data.action || (s = function(e) {
                if (!e.editable)
                    return void o.remove();
                e.finished ? o.html(i.__("misc.change")) : e.nb_casting > 0 ? o.html(i.__("misc.nb_selected", {
                    "%nb%": e.nb_casting.toString()
                })) : o.html(i.__("misc.preselect"))
            }
            ),
            "uploads_video_list" !== e.data.action && "uploads_video_edit" !== e.data.action || (s = n.casting.t ? function(e) {
                this.selected = e.selected,
                o.parents(".video").find(".video-thumb img").prop("src", e.url)
            }
            : function(e) {
                if (!e.editable)
                    return void o.remove();
                e.finished ? o.html('<span class="icon-f icf-check-circle-o text-success"></span> ' + i.__("video.change_thumbnail")) : e.nb_casting > 0 ? o.html('<span class="icon-f icf-hour-glass"></span> ' + i.__("video.nb_thumbs_selected", {
                    "%nb%": e.nb_casting.toString()
                })) : o.html(i.__("video.preselect_thumbs"))
            }
            ),
            t.setupButton(o, n.id, n.casting, n.title, n.premium, s)
        }
    }
}),
function(e) {
    if ("object" == typeof exports)
        module.exports = e();
    else if ("function" == typeof define && define.amd)
        define("libs/spark-md5", e);
    else {
        var t;
        try {
            t = window
        } catch (i) {
            t = self
        }
        t.SparkMD5 = e()
    }
}(function(e) {
    "use strict";
    function t(e, t) {
        var i = e[0]
          , n = e[1]
          , o = e[2]
          , s = e[3];
        i += (n & o | ~n & s) + t[0] - 680876936 | 0,
        i = (i << 7 | i >>> 25) + n | 0,
        s += (i & n | ~i & o) + t[1] - 389564586 | 0,
        s = (s << 12 | s >>> 20) + i | 0,
        o += (s & i | ~s & n) + t[2] + 606105819 | 0,
        o = (o << 17 | o >>> 15) + s | 0,
        n += (o & s | ~o & i) + t[3] - 1044525330 | 0,
        n = (n << 22 | n >>> 10) + o | 0,
        i += (n & o | ~n & s) + t[4] - 176418897 | 0,
        i = (i << 7 | i >>> 25) + n | 0,
        s += (i & n | ~i & o) + t[5] + 1200080426 | 0,
        s = (s << 12 | s >>> 20) + i | 0,
        o += (s & i | ~s & n) + t[6] - 1473231341 | 0,
        o = (o << 17 | o >>> 15) + s | 0,
        n += (o & s | ~o & i) + t[7] - 45705983 | 0,
        n = (n << 22 | n >>> 10) + o | 0,
        i += (n & o | ~n & s) + t[8] + 1770035416 | 0,
        i = (i << 7 | i >>> 25) + n | 0,
        s += (i & n | ~i & o) + t[9] - 1958414417 | 0,
        s = (s << 12 | s >>> 20) + i | 0,
        o += (s & i | ~s & n) + t[10] - 42063 | 0,
        o = (o << 17 | o >>> 15) + s | 0,
        n += (o & s | ~o & i) + t[11] - 1990404162 | 0,
        n = (n << 22 | n >>> 10) + o | 0,
        i += (n & o | ~n & s) + t[12] + 1804603682 | 0,
        i = (i << 7 | i >>> 25) + n | 0,
        s += (i & n | ~i & o) + t[13] - 40341101 | 0,
        s = (s << 12 | s >>> 20) + i | 0,
        o += (s & i | ~s & n) + t[14] - 1502002290 | 0,
        o = (o << 17 | o >>> 15) + s | 0,
        n += (o & s | ~o & i) + t[15] + 1236535329 | 0,
        n = (n << 22 | n >>> 10) + o | 0,
        i += (n & s | o & ~s) + t[1] - 165796510 | 0,
        i = (i << 5 | i >>> 27) + n | 0,
        s += (i & o | n & ~o) + t[6] - 1069501632 | 0,
        s = (s << 9 | s >>> 23) + i | 0,
        o += (s & n | i & ~n) + t[11] + 643717713 | 0,
        o = (o << 14 | o >>> 18) + s | 0,
        n += (o & i | s & ~i) + t[0] - 373897302 | 0,
        n = (n << 20 | n >>> 12) + o | 0,
        i += (n & s | o & ~s) + t[5] - 701558691 | 0,
        i = (i << 5 | i >>> 27) + n | 0,
        s += (i & o | n & ~o) + t[10] + 38016083 | 0,
        s = (s << 9 | s >>> 23) + i | 0,
        o += (s & n | i & ~n) + t[15] - 660478335 | 0,
        o = (o << 14 | o >>> 18) + s | 0,
        n += (o & i | s & ~i) + t[4] - 405537848 | 0,
        n = (n << 20 | n >>> 12) + o | 0,
        i += (n & s | o & ~s) + t[9] + 568446438 | 0,
        i = (i << 5 | i >>> 27) + n | 0,
        s += (i & o | n & ~o) + t[14] - 1019803690 | 0,
        s = (s << 9 | s >>> 23) + i | 0,
        o += (s & n | i & ~n) + t[3] - 187363961 | 0,
        o = (o << 14 | o >>> 18) + s | 0,
        n += (o & i | s & ~i) + t[8] + 1163531501 | 0,
        n = (n << 20 | n >>> 12) + o | 0,
        i += (n & s | o & ~s) + t[13] - 1444681467 | 0,
        i = (i << 5 | i >>> 27) + n | 0,
        s += (i & o | n & ~o) + t[2] - 51403784 | 0,
        s = (s << 9 | s >>> 23) + i | 0,
        o += (s & n | i & ~n) + t[7] + 1735328473 | 0,
        o = (o << 14 | o >>> 18) + s | 0,
        n += (o & i | s & ~i) + t[12] - 1926607734 | 0,
        n = (n << 20 | n >>> 12) + o | 0,
        i += (n ^ o ^ s) + t[5] - 378558 | 0,
        i = (i << 4 | i >>> 28) + n | 0,
        s += (i ^ n ^ o) + t[8] - 2022574463 | 0,
        s = (s << 11 | s >>> 21) + i | 0,
        o += (s ^ i ^ n) + t[11] + 1839030562 | 0,
        o = (o << 16 | o >>> 16) + s | 0,
        n += (o ^ s ^ i) + t[14] - 35309556 | 0,
        n = (n << 23 | n >>> 9) + o | 0,
        i += (n ^ o ^ s) + t[1] - 1530992060 | 0,
        i = (i << 4 | i >>> 28) + n | 0,
        s += (i ^ n ^ o) + t[4] + 1272893353 | 0,
        s = (s << 11 | s >>> 21) + i | 0,
        o += (s ^ i ^ n) + t[7] - 155497632 | 0,
        o = (o << 16 | o >>> 16) + s | 0,
        n += (o ^ s ^ i) + t[10] - 1094730640 | 0,
        n = (n << 23 | n >>> 9) + o | 0,
        i += (n ^ o ^ s) + t[13] + 681279174 | 0,
        i = (i << 4 | i >>> 28) + n | 0,
        s += (i ^ n ^ o) + t[0] - 358537222 | 0,
        s = (s << 11 | s >>> 21) + i | 0,
        o += (s ^ i ^ n) + t[3] - 722521979 | 0,
        o = (o << 16 | o >>> 16) + s | 0,
        n += (o ^ s ^ i) + t[6] + 76029189 | 0,
        n = (n << 23 | n >>> 9) + o | 0,
        i += (n ^ o ^ s) + t[9] - 640364487 | 0,
        i = (i << 4 | i >>> 28) + n | 0,
        s += (i ^ n ^ o) + t[12] - 421815835 | 0,
        s = (s << 11 | s >>> 21) + i | 0,
        o += (s ^ i ^ n) + t[15] + 530742520 | 0,
        o = (o << 16 | o >>> 16) + s | 0,
        n += (o ^ s ^ i) + t[2] - 995338651 | 0,
        n = (n << 23 | n >>> 9) + o | 0,
        i += (o ^ (n | ~s)) + t[0] - 198630844 | 0,
        i = (i << 6 | i >>> 26) + n | 0,
        s += (n ^ (i | ~o)) + t[7] + 1126891415 | 0,
        s = (s << 10 | s >>> 22) + i | 0,
        o += (i ^ (s | ~n)) + t[14] - 1416354905 | 0,
        o = (o << 15 | o >>> 17) + s | 0,
        n += (s ^ (o | ~i)) + t[5] - 57434055 | 0,
        n = (n << 21 | n >>> 11) + o | 0,
        i += (o ^ (n | ~s)) + t[12] + 1700485571 | 0,
        i = (i << 6 | i >>> 26) + n | 0,
        s += (n ^ (i | ~o)) + t[3] - 1894986606 | 0,
        s = (s << 10 | s >>> 22) + i | 0,
        o += (i ^ (s | ~n)) + t[10] - 1051523 | 0,
        o = (o << 15 | o >>> 17) + s | 0,
        n += (s ^ (o | ~i)) + t[1] - 2054922799 | 0,
        n = (n << 21 | n >>> 11) + o | 0,
        i += (o ^ (n | ~s)) + t[8] + 1873313359 | 0,
        i = (i << 6 | i >>> 26) + n | 0,
        s += (n ^ (i | ~o)) + t[15] - 30611744 | 0,
        s = (s << 10 | s >>> 22) + i | 0,
        o += (i ^ (s | ~n)) + t[6] - 1560198380 | 0,
        o = (o << 15 | o >>> 17) + s | 0,
        n += (s ^ (o | ~i)) + t[13] + 1309151649 | 0,
        n = (n << 21 | n >>> 11) + o | 0,
        i += (o ^ (n | ~s)) + t[4] - 145523070 | 0,
        i = (i << 6 | i >>> 26) + n | 0,
        s += (n ^ (i | ~o)) + t[11] - 1120210379 | 0,
        s = (s << 10 | s >>> 22) + i | 0,
        o += (i ^ (s | ~n)) + t[2] + 718787259 | 0,
        o = (o << 15 | o >>> 17) + s | 0,
        n += (s ^ (o | ~i)) + t[9] - 343485551 | 0,
        n = (n << 21 | n >>> 11) + o | 0,
        e[0] = i + e[0] | 0,
        e[1] = n + e[1] | 0,
        e[2] = o + e[2] | 0,
        e[3] = s + e[3] | 0
    }
    function i(e) {
        var t, i = [];
        for (t = 0; t < 64; t += 4)
            i[t >> 2] = e.charCodeAt(t) + (e.charCodeAt(t + 1) << 8) + (e.charCodeAt(t + 2) << 16) + (e.charCodeAt(t + 3) << 24);
        return i
    }
    function n(e) {
        var t, i = [];
        for (t = 0; t < 64; t += 4)
            i[t >> 2] = e[t] + (e[t + 1] << 8) + (e[t + 2] << 16) + (e[t + 3] << 24);
        return i
    }
    function o(e) {
        var n, o, s, a, r, l, u = e.length, f = [1732584193, -271733879, -1732584194, 271733878];
        for (n = 64; n <= u; n += 64)
            t(f, i(e.substring(n - 64, n)));
        for (e = e.substring(n - 64),
        o = e.length,
        s = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        n = 0; n < o; n += 1)
            s[n >> 2] |= e.charCodeAt(n) << (n % 4 << 3);
        if (s[n >> 2] |= 128 << (n % 4 << 3),
        n > 55)
            for (t(f, s),
            n = 0; n < 16; n += 1)
                s[n] = 0;
        return a = 8 * u,
        a = a.toString(16).match(/(.*?)(.{0,8})$/),
        r = parseInt(a[2], 16),
        l = parseInt(a[1], 16) || 0,
        s[14] = r,
        s[15] = l,
        t(f, s),
        f
    }
    function s(e) {
        var i, o, s, a, r, l, u = e.length, f = [1732584193, -271733879, -1732584194, 271733878];
        for (i = 64; i <= u; i += 64)
            t(f, n(e.subarray(i - 64, i)));
        for (e = i - 64 < u ? e.subarray(i - 64) : new Uint8Array(0),
        o = e.length,
        s = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        i = 0; i < o; i += 1)
            s[i >> 2] |= e[i] << (i % 4 << 3);
        if (s[i >> 2] |= 128 << (i % 4 << 3),
        i > 55)
            for (t(f, s),
            i = 0; i < 16; i += 1)
                s[i] = 0;
        return a = 8 * u,
        a = a.toString(16).match(/(.*?)(.{0,8})$/),
        r = parseInt(a[2], 16),
        l = parseInt(a[1], 16) || 0,
        s[14] = r,
        s[15] = l,
        t(f, s),
        f
    }
    function a(e) {
        var t, i = "";
        for (t = 0; t < 4; t += 1)
            i += p[e >> 8 * t + 4 & 15] + p[e >> 8 * t & 15];
        return i
    }
    function r(e) {
        var t;
        for (t = 0; t < e.length; t += 1)
            e[t] = a(e[t]);
        return e.join("")
    }
    function l(e) {
        return /[\u0080-\uFFFF]/.test(e) && (e = unescape(encodeURIComponent(e))),
        e
    }
    function u(e, t) {
        var i, n = e.length, o = new ArrayBuffer(n), s = new Uint8Array(o);
        for (i = 0; i < n; i += 1)
            s[i] = e.charCodeAt(i);
        return t ? s : o
    }
    function f(e) {
        return String.fromCharCode.apply(null, new Uint8Array(e))
    }
    function c(e, t, i) {
        var n = new Uint8Array(e.byteLength + t.byteLength);
        return n.set(new Uint8Array(e)),
        n.set(new Uint8Array(t), e.byteLength),
        i ? n : n.buffer
    }
    function d(e) {
        var t, i = [], n = e.length;
        for (t = 0; t < n - 1; t += 2)
            i.push(parseInt(e.substr(t, 2), 16));
        return String.fromCharCode.apply(String, i)
    }
    function h() {
        this.reset()
    }
    var p = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f"];
    return "5d41402abc4b2a76b9719d911017c592" !== r(o("hello")) && function(e, t) {
        var i = (65535 & e) + (65535 & t);
        return (e >> 16) + (t >> 16) + (i >> 16) << 16 | 65535 & i
    }
    ,
    "undefined" == typeof ArrayBuffer || ArrayBuffer.prototype.slice || function() {
        function t(e, t) {
            return e = 0 | e || 0,
            e < 0 ? Math.max(e + t, 0) : Math.min(e, t)
        }
        ArrayBuffer.prototype.slice = function(i, n) {
            var o, s, a, r, l = this.byteLength, u = t(i, l), f = l;
            return n !== e && (f = t(n, l)),
            u > f ? new ArrayBuffer(0) : (o = f - u,
            s = new ArrayBuffer(o),
            a = new Uint8Array(s),
            r = new Uint8Array(this,u,o),
            a.set(r),
            s)
        }
    }(),
    h.prototype.append = function(e) {
        return this.appendBinary(l(e)),
        this
    }
    ,
    h.prototype.appendBinary = function(e) {
        this._buff += e,
        this._length += e.length;
        var n, o = this._buff.length;
        for (n = 64; n <= o; n += 64)
            t(this._hash, i(this._buff.substring(n - 64, n)));
        return this._buff = this._buff.substring(n - 64),
        this
    }
    ,
    h.prototype.end = function(e) {
        var t, i, n = this._buff, o = n.length, s = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        for (t = 0; t < o; t += 1)
            s[t >> 2] |= n.charCodeAt(t) << (t % 4 << 3);
        return this._finish(s, o),
        i = r(this._hash),
        e && (i = d(i)),
        this.reset(),
        i
    }
    ,
    h.prototype.reset = function() {
        return this._buff = "",
        this._length = 0,
        this._hash = [1732584193, -271733879, -1732584194, 271733878],
        this
    }
    ,
    h.prototype.getState = function() {
        return {
            buff: this._buff,
            length: this._length,
            hash: this._hash.slice()
        }
    }
    ,
    h.prototype.setState = function(e) {
        return this._buff = e.buff,
        this._length = e.length,
        this._hash = e.hash,
        this
    }
    ,
    h.prototype.destroy = function() {
        delete this._hash,
        delete this._buff,
        delete this._length
    }
    ,
    h.prototype._finish = function(e, i) {
        var n, o, s, a = i;
        if (e[a >> 2] |= 128 << (a % 4 << 3),
        a > 55)
            for (t(this._hash, e),
            a = 0; a < 16; a += 1)
                e[a] = 0;
        n = 8 * this._length,
        n = n.toString(16).match(/(.*?)(.{0,8})$/),
        o = parseInt(n[2], 16),
        s = parseInt(n[1], 16) || 0,
        e[14] = o,
        e[15] = s,
        t(this._hash, e)
    }
    ,
    h.hash = function(e, t) {
        return h.hashBinary(l(e), t)
    }
    ,
    h.hashBinary = function(e, t) {
        var i = o(e)
          , n = r(i);
        return t ? d(n) : n
    }
    ,
    h.ArrayBuffer = function() {
        this.reset()
    }
    ,
    h.ArrayBuffer.prototype.append = function(e) {
        var i, o = c(this._buff.buffer, e, !0), s = o.length;
        for (this._length += e.byteLength,
        i = 64; i <= s; i += 64)
            t(this._hash, n(o.subarray(i - 64, i)));
        return this._buff = i - 64 < s ? new Uint8Array(o.buffer.slice(i - 64)) : new Uint8Array(0),
        this
    }
    ,
    h.ArrayBuffer.prototype.end = function(e) {
        var t, i, n = this._buff, o = n.length, s = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        for (t = 0; t < o; t += 1)
            s[t >> 2] |= n[t] << (t % 4 << 3);
        return this._finish(s, o),
        i = r(this._hash),
        e && (i = d(i)),
        this.reset(),
        i
    }
    ,
    h.ArrayBuffer.prototype.reset = function() {
        return this._buff = new Uint8Array(0),
        this._length = 0,
        this._hash = [1732584193, -271733879, -1732584194, 271733878],
        this
    }
    ,
    h.ArrayBuffer.prototype.getState = function() {
        var e = h.prototype.getState.call(this);
        return e.buff = f(e.buff),
        e
    }
    ,
    h.ArrayBuffer.prototype.setState = function(e) {
        return e.buff = u(e.buff, !0),
        h.prototype.setState.call(this, e)
    }
    ,
    h.ArrayBuffer.prototype.destroy = h.prototype.destroy,
    h.ArrayBuffer.prototype._finish = h.prototype._finish,
    h.ArrayBuffer.hash = function(e, t) {
        var i = s(new Uint8Array(e))
          , n = r(i);
        return t ? d(n) : n
    }
    ,
    h
}),
define("lib/helpers/upload/upload_by_chunk", ["config/main", "libs/spark-md5", "lib/i18n!front"], function(e, t, i) {
    var n = function(e, i) {
        if ("undefined" == typeof e[0])
            return void console.error("No file selected");
        this.oFile = e[0],
        this.sUploadUid = i,
        this.oHashFileReader = new FileReader,
        this.oHashSparkMd5 = new t,
        this.bRunning = !1,
        this.bError = !1,
        this.iLastChunk = 0,
        this.aChunksPending = [],
        this.iChunksFinishedDuration = 0,
        this.sFinalMd5 = "",
        this.maxParallelChunk = 2,
        this.iChunkSize = 2097152,
        this.bIsReadyToFinalize = !1
    };
    return n.prototype = {
        fnOnError: null,
        fnOnProgress: null,
        fnOnPause: null,
        fnOnResume: null,
        fnOnFinalize: null,
        fnOnDone: null,
        fnCheckFile: function() {
            var e = this;
            return new Promise(function(t, i) {
                e.oFile || (e.fnOnError && e.fnOnError("No file selected"),
                i()),
                e.oFile.name || (e.fnOnError && e.fnOnError("No file name ?"),
                i()),
                t()
            }
            )
        },
        fnCheckStatus: function() {
            for (var e = this, t = 0; t < this.aChunksPending.length; t++)
                if (this.aChunksPending[t].done) {
                    this.aChunksPending.splice(t, 1);
                    break
                }
            if (this.bRunning) {
                if (1 === this.oHashFileReader.readyState)
                    return void setTimeout(function() {
                        e.fnCheckStatus()
                    }, 60);
                this.aChunksPending.forEach(function(e) {
                    e.bError && (e.bError = !1,
                    e.send())
                }),
                this.fnLoadNextChunk(),
                this.aChunksPending.length > 0 || this.iLastChunk * this.iChunkSize >= this.oFile.size && (this.bIsReadyToFinalize = !0)
            }
        },
        fnConfigureSparkMD5: function() {
            var e = this;
            return new Promise(function(t, i) {
                e.oHashFileReader.onload = function(t) {
                    var i = t.target.result;
                    e.oHashSparkMd5.appendBinary(i)
                }
                ,
                t()
            }
            )
        },
        fnDeclareUpload: function() {
            var t = this;
            return new Promise(function(n, o) {
                var s = {};
                s.file_name = t.oFile.name,
                s.file_size = t.oFile.size,
                s.nb_chunks = Math.floor((t.oFile.size - 1) / t.iChunkSize) + 1,
                $.ajax({
                    method: "POST",
                    url: "/account/uploads/chunk/init/" + t.sUploadUid,
                    data: s,
                    dataType: "json"
                }).done(function(s) {
                    if (!s.result)
                        return t.bError = !0,
                        t.fnGenerateError(i.__("upload.cant_start_check_file_size_and_internet_connection", {
                            "%max_size%": e.data.max_upload_size_disp
                        })),
                        void o();
                    n()
                }).error(function(n) {
                    t.bError = !0,
                    t.fnGenerateError(i.__("upload.cant_start_check_file_size_and_internet_connection", {
                        "%max_size%": e.data.max_upload_size_disp
                    })),
                    o()
                })
            }
            )
        },
        fnFinalizeUpload: function() {
            var e = this;
            return new Promise(function(t, n) {
                e.fnOnFinalize && e.fnOnFinalize(),
                "" == e.sFinalMd5 && (e.sFinalMd5 = e.oHashSparkMd5.end(!1));
                var o = new FormData;
                o.append("check_md5", e.sFinalMd5),
                $.ajax({
                    method: "POST",
                    processData: !1,
                    contentType: !1,
                    cache: !1,
                    url: "/account/uploads/chunk/finalize/" + e.sUploadUid,
                    data: o,
                    dataType: "json"
                }).done(function(n) {
                    if (!n.result)
                        return void e.fnGenerateError(i.__("upload.failed_finalize_upload"));
                    e.fnOnDone && e.fnOnDone(),
                    t()
                }).error(function(t) {
                    e.fnGenerateError(i.__("upload.failed_finalize_upload"))
                })
            }
            )
        },
        fnIsReadyToFinalize: function() {
            var e = this;
            return new Promise(function(t, i) {
                !function n() {
                    if (e.bIsReadyToFinalize)
                        return t();
                    setTimeout(n, 100)
                }()
            }
            )
        },
        fnGenerateError: function(e) {
            this.bError = !0,
            this.fnOnError && this.fnOnError(e),
            this.fnPause()
        },
        fnLoadNextChunk: function() {
            if (!(this.aChunksPending.length >= this.maxParallelChunk)) {
                var e = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;
                this.iLastChunk++;
                var t = (this.iLastChunk - 1) * this.iChunkSize;
                if (!(t > this.oFile.size)) {
                    var n = Math.min(t + this.iChunkSize, this.oFile.size)
                      , o = e.call(this.oFile, t, n);
                    if (o) {
                        this.oHashFileReader.readAsBinaryString(o);
                        var s = this
                          , a = {
                            id_chunk: s.iLastChunk,
                            chunk: o,
                            done: !1,
                            bError: !1,
                            iUploadLoaded: 0,
                            iUploadTotal: 0,
                            iUploadStarted: null,
                            send: function() {
                                var e = this
                                  , t = new FormData;
                                t.append("file", this.chunk),
                                t.append("chunk_id", this.id_chunk),
                                this.iUploadStarted = (new Date).getTime(),
                                $.ajax({
                                    method: "POST",
                                    processData: !1,
                                    contentType: !1,
                                    cache: !1,
                                    url: "/account/uploads/chunk/newchunk/" + s.sUploadUid,
                                    data: t,
                                    dataType: "json",
                                    xhr: function() {
                                        var t = new window.XMLHttpRequest;
                                        return t.upload.addEventListener("progress", function(t) {
                                            t.lengthComputable && (e.iUploadLoaded = t.loaded,
                                            e.iUploadTotal = t.total,
                                            s.fnUpdateProgress())
                                        }, !1),
                                        t
                                    }
                                }).done(function(t) {
                                    t.result ? (e.done = !0,
                                    s.iChunksFinishedDuration += (new Date).getTime() - e.iUploadStarted,
                                    s.fnCheckStatus(),
                                    s.fnUpdateProgress()) : (e.bError = !0,
                                    s.fnGenerateError(i.__("upload.chunk_failed_check_internet_resume_upload")))
                                }).error(function(t) {
                                    e.bError = !0,
                                    s.fnGenerateError(i.__("upload.chunk_failed_check_internet_resume_upload"))
                                })
                            }
                        };
                        a.send(),
                        this.aChunksPending.push(a),
                        s.fnCheckStatus()
                    }
                }
            }
        },
        fnPause: function() {
            if (!this.bRunning)
                return !1;
            this.bRunning = !1,
            this.fnOnPause && this.fnOnPause()
        },
        fnResume: function() {
            var e = this;
            return new Promise(function(t, i) {
                e.bRunning || (e.bRunning = !0,
                e.fnCheckStatus(),
                e.fnOnResume && e.fnOnResume(),
                t())
            }
            )
        },
        fnStartUpload: function() {
            var e = [];
            e.push(this.fnCheckFile),
            e.push(this.fnConfigureSparkMD5),
            e.push(this.fnDeclareUpload),
            e.push(this.fnResume),
            e.push(this.fnIsReadyToFinalize),
            e.push(this.fnFinalizeUpload);
            var t = this;
            return e.reduce(function(e, i) {
                return e.then(function() {
                    return t[i.name]()
                })["catch"](function() {
                    reject()
                })
            }, Promise.resolve())
        },
        fnUpdateProgress: function() {
            if (this.fnOnProgress) {
                var e = this.oFile.size
                  , t = this.iLastChunk * this.iChunkSize - this.aChunksPending.length * this.iChunkSize
                  , i = this.iChunksFinishedDuration;
                this.aChunksPending.forEach(function(e) {
                    e.iUploadTotal && (t += e.iUploadLoaded,
                    e.done || (i += (new Date).getTime() - e.iUploadStarted))
                }),
                this.fnOnProgress(t, e, Math.round(i / 1e3), this.bRunning ? "running" : 0 === this.aChunksPending.length ? "paused" : "pausing")
            }
        }
    },
    n
}),
define("text!skins/account/uploads/common/upload_by_chunk_progress.mustache", [], function() {
    return '<div id="chunk-progress-container">\n\t<button class="resume btn btn-default"><span class="icon-f icf-player-play-circle-o"></span> {{{ resume }}}</button>\n\t<button class="pause btn btn-default"><span class="icon-f icf-player-pause-circle-o"></span> {{{ pause }}}</button>\n\t<span class="status"></span>\n\t<div class="progress">\n\t\t<div class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">\n\t\t\t0 %\n\t\t</div>\n\t</div>\n</div>'
}),
define("skins/account/uploads/common/chunk_uploader", ["mustache", "lib/tools", "lib/helpers/upload/upload_by_chunk", "text!./upload_by_chunk_progress.mustache", "lib/i18n!front"], function(e, t, i, n, o) {
    var s = function(e, t, i, n) {
        this.oChunkUploader = !1,
        this.oFileInput = e,
        this.sUploadUid = t,
        this.bUseFixedPopup = i,
        this.oContainerError = n,
        this.oProgress = !1,
        this.oProgressBar = !1,
        this.oTextStatus = !1,
        this.oButtonResume = !1,
        this.oButtonPause = !1,
        this.iLastProgressUpdate = 0
    };
    return s.prototype = {
        fnInit: function() {
            var e = [];
            e.push(this.fnInitProgress),
            e.push(this.fnInitChunkUploader),
            e.push(this.fnInitFunctions),
            e.push(this.fnStartProgress);
            var t = this;
            return e.reduce(function(e, i) {
                return e.then(function() {
                    return t[i.name]()
                })["catch"](function() {
                    reject()
                })
            }, Promise.resolve())
        },
        fnInitChunkUploader: function() {
            var e = this;
            return new Promise(function(t, n) {
                var o = e.oFileInput.get(0);
                o || n();
                var s = o.files;
                s || n(),
                e.oChunkUploader = new i(s,e.sUploadUid),
                t()
            }
            )
        },
        fnInitFunctions: function() {
            var e = this;
            return new Promise(function(i, n) {
                e.oChunkUploader.fnOnError = function(t) {
                    e.oButtonResume.show(),
                    e.oButtonPause.hide(),
                    e.fnUpdateProgressBar(null, !1),
                    e.oTextStatus.html(o.__("misc.error") + ": " + t)
                }
                ,
                e.oChunkUploader.fnOnProgress = function(i, n, s, a) {
                    var r = Math.min(100, Math.max(0, Math.floor(i / n * 100)));
                    e.fnUpdateProgressBar(r);
                    var l = (new Date).getTime();
                    if (!(e.iLastProgressUpdate && l - e.iLastProgressUpdate < 1e3 && "paused" !== a))
                        if (e.iLastProgressUpdate = l,
                        r > 0) {
                            var u = "";
                            if ("pausing" === a ? u = o.__("misc.pausing") + " / " : "paused" === a && (u = o.__("misc.paused") + " / "),
                            u += t.formatFileSize(i, 1) + " / " + t.formatFileSize(n, 1),
                            s > 0 && i > 0) {
                                var f = i / s;
                                if (f >= 1048576 ? u += " / " + (f / 1048576).toFixed(1) + o.__("misc.mb_per_sec") : f > 0 && (u += " / " + (f / 1024).toFixed(f >= 1024 ? 1 : 3) + o.__("misc.kb_per_sec")),
                                !isNaN(f) || f < 1e-4) {
                                    var c = Math.round((n - i) / f)
                                      , d = Math.max(0, Math.floor(c / 3600));
                                    c -= 3600 * d;
                                    var h = Math.max(0, Math.floor(c / 60));
                                    c -= 60 * h,
                                    u += d > 0 ? " / " + o.__("misc.nb_hours_mins_remaining", {
                                        "%nb_hours%": d.toString(),
                                        "%nb_mins%": h.toString()
                                    }) : h > 0 ? " / " + o.__("misc.nb_mins_secs_remaining", {
                                        "%nb_mins%": h.toString(),
                                        "%nb_secs%": c.toString()
                                    }) : " / " + o.__("misc.nb_secs_remaining", {
                                        "%nb_secs%": c.toString()
                                    })
                                }
                            }
                            e.oTextStatus.html(u)
                        } else
                            e.oTextStatus.html(o.__("upload.starting"))
                }
                ,
                e.oChunkUploader.fnOnResume = function(t, i) {
                    e.oButtonResume.hide(),
                    e.oButtonPause.show(),
                    e.fnUpdateProgressBar(null, !0)
                }
                ,
                e.oChunkUploader.fnOnPause = function() {
                    e.oButtonResume.show(),
                    e.oButtonPause.hide(),
                    e.fnUpdateProgressBar(null, !1)
                }
                ,
                e.oChunkUploader.fnOnFinalize = function() {
                    e.fnUpdateProgressBar(null, !1),
                    e.oTextStatus.html(o.__("upload.completed_successfully") + " " + o.__("upload.being_checked"))
                }
                ,
                e.oChunkUploader.fnOnDone = function() {
                    e.oButtonResume.add(e.oButtonPause).off("click").slideUp("fast"),
                    e.fnUpdateProgressBar(100, !1),
                    e.oTextStatus.html(o.__("upload.completed_successfully"))
                }
                ,
                i()
            }
            )
        },
        fnInitProgress: function() {
            var t = this;
            return new Promise(function(i, s) {
                t.oProgress = $(e.render(n, {
                    pause: o.__("upload.pause", {
                        "%strong%": "<span>",
                        "%end_strong%": "</span>"
                    }),
                    resume: o.__("upload.resume", {
                        "%strong%": "<span>",
                        "%end_strong%": "</span>"
                    })
                })),
                t.oProgressBar = t.oProgress.find(".progress-bar"),
                t.oTextStatus = t.oProgress.find(".status"),
                t.oButtonResume = t.oProgress.find(".resume"),
                t.oButtonPause = t.oProgress.find(".pause"),
                t.oButtonResume.on("click", function(e) {
                    e.preventDefault(),
                    t.oChunkUploader.fnResume()
                }),
                t.oButtonPause.on("click", function(e) {
                    e.preventDefault(),
                    t.oChunkUploader.fnPause()
                }).hide(),
                t.oProgress.css({
                    opacity: "0",
                    bottom: "100px"
                }),
                i()
            }
            )
        },
        fnReset: function() {
            this.oProgress.hide(),
            this.oFileInput.closest("form").show(),
            this.fnUpdateProgressBar(null, !1)
        },
        fnStart: function() {
            var e = this;
            return new Promise(function(t, i) {
                e.fnInit().then(function() {
                    e.oChunkUploader.fnStartUpload().then(function() {
                        t()
                    })["catch"](function() {
                        i()
                    })
                })["catch"](function() {
                    i()
                })
            }
            )
        },
        fnStartProgress: function() {
            var e = this;
            return new Promise(function(t, i) {
                e.oProgress.show(),
                e.oFileInput.closest("form").after(e.oProgress).hide(),
                e.oTextStatus.html(o.__("upload.starting")),
                e.oProgress.animate({
                    opacity: "1",
                    bottom: "0"
                }, 500),
                t()
            }
            )
        },
        fnUpdateProgressBar: function(e, t) {
            "number" == typeof e ? this.oProgressBar.prop("aria-valuenow", e).css("width", Math.max(5, e) + "%").html(e.toFixed(1) + " %") : e = parseInt(this.oProgressBar.prop("aria-valuenow")) || 0,
            this.oProgressBar.toggleClass("progress-bar-success", e >= 100).toggleClass("progress-bar-info", e < 100),
            "boolean" == typeof t && (this.oProgressBar.toggleClass("progress-bar-striped active", t && e < 100),
            this.oProgressBar.toggleClass("progress-bar-danger", !t && e < 100))
        }
    },
    s
}),
define("skins/account/uploads/common/revshare_rejected", ["config/main", "lib/helpers/popup", "skins/form/element_state", "lib/i18n!front"], function(e, t, i, n) {
    return function(e, o, s, a) {
        var r = []
          , l = []
          , u = !1;
        o.each(function() {
            var f = $(this)
              , c = f.hasClass("adsrevshare-release-video")
              , d = new i(f)
              , h = null;
            r.push(d),
            f.click(function() {
                if (!u) {
                    if (!h) {
                        var i = $("<p>" + n.__("misc.are_you_sure") + '</p><p class="text-right"><button class="btn btn-sm btn-default">' + n.__("misc.yes") + '</button> <button class="btn btn-sm btn-default">' + n.__("misc.no") + "</button></p>");
                        h = new t(f,i,{
                            relative_to: f.parents("p"),
                            trigger: !1,
                            autoclose: !0,
                            closebtn: !0
                        }),
                        l.push(h),
                        i.find("button").first().on("click", function() {
                            u = !0;
                            for (var t in l)
                                l[t].close();
                            for (var i in r)
                                r[i].set_wait();
                            $.ajax({
                                type: "POST",
                                dataType: "json",
                                url: "/account/uploads/" + e + "/revshare-" + (c ? "release" : "delete"),
                                data: {
                                    csrf: c ? s : a
                                },
                                success: function(e) {
                                    if (e.result)
                                        f.prop("disabled", !0).addClass("disabled"),
                                        o.each(function() {
                                            $(this).is(f) || $(this).remove()
                                        }),
                                        d.set_success(e.message),
                                        e.redirect && (window.location.href = e.redirect);
                                    else {
                                        u = !1;
                                        for (var t in r)
                                            r[t] === d ? d.set_error(e.message || n.__("misc.error_please_retry")) : r[t].reinit()
                                    }
                                },
                                error: function() {
                                    u = !1;
                                    for (var e in r)
                                        r[e] === d ? d.set_error(n.__("misc.error_please_retry")) : r[e].reinit()
                                }
                            })
                        }).next().on("click", function() {
                            h.close()
                        })
                    }
                    h.open()
                }
            })
        })
    }
}),
define("skins/account/uploads/common/setup_feature", ["lib/helpers/overlay/contextual_popup", "lib/i18n!front"], function(e, t) {
    var i = function(i) {
        $.post(i, function() {
            e.alert(t.__("misc.your_modifications_saved"), function() {
                window.location.reload()
            }, !1)
        }, "json").fail(function() {
            e.alert(t.__("misc.error_please_retry"), null, !0)
        })
    };
    return {
        setupFeature: function(n, o) {
            n.on("click", function(n) {
                n.preventDefault(),
                e.confirm("<p>" + t.__("video.featured_video_info", {
                    "%italic%": "<em>",
                    "%end_italic%": "</em>"
                }) + "</p><p>" + t.__("misc.are_you_sure") + "</p>", function() {
                    i("/account/uploads/" + o + "/set-featured")
                })
            })
        },
        setupReset: function(n) {
            n.on("click", function(n) {
                n.preventDefault(),
                e.confirm(t.__("misc.are_you_sure"), function() {
                    i("/account/uploads/reset-featured")
                })
            })
        }
    }
}),
define("text!skins/account/uploads/ticket_red_inp_btn.mustache", [], function() {
    return '\n<span class="ticket-in">{{{val}}}</span>\n<span class="ticket-back">\n\t\t<span class="ticket-back-left">\n\t\t<span class="icon-f icf-ticket-wide"></span>\n\t</span>\n\t<span class="ticket-back-right">\n\t\t<span class="icon-f icf-ticket-wide"></span>\n\t</span>\n</span>'
}),
define("text!skins/account/uploads/common/voters.html", [], function() {
    return '\n{{#title}}<h2>{{{ title }}}</h2>{{/title}}\n<div class="voters-list">\n\t<div class="profiles">\n\t\t{{{ voters }}}\n\t</div>\n\t{{#show_more}}\n\t\t<p class="show-more">\n\t\t\t<a href="#" class="btn btn-default">{{{ show_more }}}</a>\n\t\t</p>\n\t{{/show_more}}\n</div>'
}),
define("text!skins/account/uploads/common/profile_thumb.html", [], function() {
    return '\n<div class="thumb-profile">\n\t<div class="thumb">\n\t\t<a href="{{{ url }}}" title="{{{ display }}}">\n\t\t\t<img src="{{{ picture }}}" width="60" height="60" onerror="this.src=\'{{{ onerror_img }}}\';" alt="{{{ display }}}"/>\n\t\t\t<span class="icon-f icf-thumb-up"></span>\n\t\t</a>\n\t</div>\n\t<p class="profile-name">\n\t\t<a href="{{{ url }}}" title="{{{ display }}}">{{{ display }}}</a>\n\t</p>\n</div>'
}),
define("skins/account/uploads/common/voters", ["mustache", "lib/i18n!front", "lib/helpers/overlay/box", "text!./voters.html", "text!./profile_thumb.html"], function(e, t, i, n, o) {
    $("[data-voters-list-link]").click(function(s) {
        s.preventDefault();
        var a, r = $(this), l = r.data("id"), u = "/account/uploads/" + l + "/voters", f = r.data("title"), c = !1;
        (a = function(s) {
            var r = u + (s ? "/" + s : "");
            $.ajax({
                url: r,
                dataType: "json",
                success: function(s) {
                    if (s.result) {
                        var r = window.location.protocol + "//static-hw.xvideos.com/img/profile_default_small.jpg"
                          , l = [];
                        for (var u in s.voters)
                            s.voters[u].url = s.slave_domain + "/profiles/" + s.voters[u].name,
                            s.voters[u].id = u,
                            s.voters[u].onerror_img = r,
                            l.push(e.render(o, s.voters[u]));
                        if (!1 === c) {
                            c = new i($("#page"),!0,"close");
                            var d = {
                                voters: l.join("")
                            };
                            f && (d.title = f),
                            s.lastpage || (d.show_more = t.__("misc.show_more")),
                            c.addClass("voters-list-pop"),
                            c.append($(e.render(n, d))),
                            c.show("auto"),
                            s.lastpage || $(c.container).find(".show-more").on("click", function(e) {
                                e.preventDefault(),
                                a(s.page + 1)
                            })
                        } else {
                            var h = $(c.container);
                            if (h.length > 0) {
                                h.find(".profiles").append($(l.join("")));
                                var p = h.find(".show-more");
                                p.off("click"),
                                s.lastpage ? p.remove() : p.on("click", function(e) {
                                    e.preventDefault(),
                                    a(s.page + 1)
                                })
                            }
                        }
                    }
                }
            })
        }
        )()
    })
}),
define("skins/account/uploads/uploader_stats/edit_chart_series", ["static/utils", "lib/i18n!front"], function(e, t) {
    return function(i) {
        var n = [];
        return n.push({
            field: "v",
            name: e.unescape(t.__("video.views")),
            color: "#de2600"
        }),
        n.push({
            field: "e",
            name: e.unescape(t.__("stats.earnings")),
            color: "#009000",
            axis: i
        }),
        n
    }
}),
define("skins/account/uploads/uploader_stats/countries_chart", ["config/main", "lib/i18n!front", "lib/helpers/amcharts/remove_credits"], function(e, t, i) {
    var n = function(e) {
        var t = e
          , i = 1 - t
          , n = [255, 0, 0]
          , o = [255, 255, 0];
        return {
            r: Math.round(n[0] * t + o[0] * i),
            g: Math.round(n[1] * t + o[1] * i),
            b: Math.round(n[2] * t + o[2] * i)
        }
    }
      , o = function(t, i) {
        var o = ["AQ", "GL"];
        for (var s in e.data.countries_by_zones) {
            var a = e.data.countries_by_zones[s]
              , r = t.series.push(new am4maps.MapPolygonSeries);
            r.name = a.name,
            r.useGeodata = !0;
            var l = [];
            for (var u in a.countries)
                "AQ" !== a.countries[u].code && "GL" !== a.countries[u].code && (l.push(a.countries[u].code),
                o.push(a.countries[u].code));
            r.include = l;
            var f = !1;
            for (var c in i)
                if (i[c].zone === a.code) {
                    f = am4core.color(n(i[c].value)),
                    r.fill = f;
                    break
                }
            f || (f = am4core.color(n(0)),
            r.fill = f),
            r.states.create("hover"),
            r.setStateOnChildren = !0,
            r.calculateVisualCenter = !0;
            var d = r.mapPolygons.template;
            d.fill = f,
            d.fillOpacity = 1,
            d.strokeWidth = 0,
            d.nonScalingStroke = !0,
            d.tooltipText = "{series.name}: [bold]{name}[/]";
            d.states.create("hover").properties.fill = am4core.color("#000000")
        }
        return o
    }
      , s = function(e) {
        this.id = e
    };
    return s.prototype = {
        onLoaded: null,
        create: function(s) {
            if (!this.chart_obj) {
                var a = this
                  , r = ["libs/amcharts4/core", "libs/amcharts4/maps", "libs/amcharts4_geodata/worldHigh"]
                  , l = "en";
                for (var u in e.amcharts_langs) {
                    var f = e.amcharts_langs[u]
                      , c = f.replace("_", "-");
                    if (c === e.dyn.locale) {
                        l = f;
                        break
                    }
                    if ((c = c.substr(0, 2)) === e.dyn.locale) {
                        l = f;
                        break
                    }
                }
                r.push("libs/amcharts4/lang/" + l),
                "dark" === e.dyn.theme && r.push("libs/amcharts4/themes/dark"),
                require(r, function(e, r, l, u, f) {
                    f && e.useTheme(f);
                    var c = e.create(a.id, r.MapChart);
                    c.language.locale = u,
                    c.geodata = l,
                    c.projection = new r.projections.Mercator,
                    c.homeZoomLevel = 1,
                    c.maxZoomLevel = 1,
                    c.seriesContainer.draggable = !1,
                    c.seriesContainer.resizable = !1,
                    c.seriesContainer.events.disableType("doublehit"),
                    c.chartContainer.background.events.disableType("doublehit"),
                    c.events.on("ready", function() {
                        i($("#" + a.id))
                    });
                    var d = o(c, s)
                      , h = c.series.push(new r.MapPolygonSeries);
                    h.name = t.__("misc.world"),
                    h.useGeodata = !0,
                    h.exclude = d,
                    h.fill = e.color("#222222"),
                    h.fillOpacity = 1,
                    h.hiddenInLegend = !0,
                    h.mapPolygons.template.nonScalingStroke = !0;
                    var p = c.createChild(r.HeatLegend);
                    p.align = "right",
                    p.width = e.percent(50),
                    p.minValue = 0,
                    p.maxValue = 1,
                    p.minColor = e.color(n(0)),
                    p.maxColor = e.color(n(1)),
                    p.fontSize = 11,
                    p.valign = "bottom";
                    var _ = p.valueAxis.axisRanges.create();
                    _.value = p.minValue,
                    _.label.align = "left",
                    _.label.text = t.__("stats.few_visitors", {}, "Few visitors");
                    var g = p.valueAxis.axisRanges.create();
                    g.value = p.maxValue,
                    g.label.text = t.__("stats.many_visitors", {}, "Many visitors"),
                    g.label.align = "right",
                    p.valueAxis.renderer.labels.template.adapter.add("text", function(e) {
                        return ""
                    })
                })
            }
        }
    },
    s
}),
define("skins/account/uploads/video_edit", ["config/main", "mustache", "lib/tools", "static/utils", "lib/helpers/popup", "lib/tab", "skins/form/validator", "skins/form/widget/locale_selector", "./common/thumb_select", "./common/chunk_uploader", "./common/revshare_rejected", "./common/setup_feature", "text!./ticket_red_inp_btn.mustache", "lib/i18n!front", "skins/form/widget/tag_adder/tag_adder_regions_select", "skins/account/uploads/common/voters"], function(e, t, i, n, o, s, a, r, l, u, f, c, d, h, p) {
    l(e.data.video);
    var _ = $(".video-thumb .btn.reset-feature");
    _.length > 0 && c.setupReset(_);
    var g = $(".video-thumb .btn.feature");
    g.length > 0 && c.setupFeature(g, e.data.video.id);
    var m = $("#edit_form");
    new r(m).init_locales();
    var b = new a(m,e.data.form_validation,{
        no_init_focus: !0,
        fnIsInit: function() {
            new p(m,".blocked-countries",".form-field-edit_form_blocked_countries_blocked_countries_centered_blocked_regions_")
        }
    });
    m.find(".info-tooltip").each(function() {
        var e = $(this);
        new o(e,"<strong>" + e.data("content") + "</strong>",{
            relative_to: e.closest("fieldset"),
            position: {
                v: "below",
                h: "left"
            },
            trigger: !1,
            trigger_open: "mouseenter click",
            autoclose: 5,
            max_width: 350
        })
    });
    var v, D = $("#video-file-replacement");
    if (D.length > 0) {
        var y = $(".file-upload-inputs")
          , w = y.children("fieldset:not(.file-upload-submit)")
          , C = y.children(".file-upload-submit")
          , k = y.find(".file-upload-file input[type='file']")
          , x = y.find(".file-upload-recap")
          , F = ""
          , E = !1
          , T = k.parent().prevAll(".error-block");
        T.length > 0 && T.parent().prev().children().first().after(T.css("fontWeight", "normal")),
        k.change(function() {
            if (E = !1,
            F = k.val(),
            F.length < 1)
                return !1;
            x.html(n.escape(F)),
            w.fadeOut(function() {
                C.fadeIn()
            }),
            y.addClass("is_file")
        }),
        C.find(".return-file-select").click(function() {
            E && window.location.reload(),
            k.val("").trigger("change"),
            C.fadeOut(function() {
                y.removeClass("is_file is_url"),
                x.html(""),
                w.fadeIn(),
                b.refresh()
            })
        }),
        v = new a(D,e.data.replacement_form_validation,{
            no_init_focus: !0
        });
        var S = null
          , L = function(e) {
            if (S || (S = $('<div class="alert alert-danger"></div>').insertBefore(D)),
            S.empty().show(),
            1 === e.length)
                S.html(e.pop());
            else {
                var t = $("<ul></ul>").appendTo(S);
                for (var i in e)
                    $("<li></li>").html(e[i]).appendTo(t)
            }
        }
          , P = null
          , I = null
          , M = function() {
            return new Promise(function(e, t) {
                S && S.hide(),
                I = $("#video-file-replacement_uid").val(),
                P = new u(k,I,!0,$("#video-file-replacement")),
                e(P.fnStart())
            }
            )
        }
          , A = function() {
            return new Promise(function(t, i) {
                $.post("/account/uploads/" + e.data.video.id + "/replace-file/" + I, D.serializeArray(), function(e) {
                    e.result && window.location.reload(),
                    L(e.errors || [e.message]),
                    P.fnReset(),
                    v.resetSubmit(),
                    v.refresh(),
                    t()
                }, "json").fail(function() {
                    L([h.__("misc.error_please_retry")]),
                    P.fnReset(),
                    v.resetSubmit(),
                    v.refresh(),
                    i()
                })
            }
            )
        };
        D.on("submit", function(e) {
            e.preventDefault(),
            M().then(function() {
                A()["catch"](function() {
                    L([h.__("error.internal_err_please_reload")])
                })
            })["catch"](function() {
                L([h.__("error.internal_err_please_reload")])
            })
        })
    }
    var O, B = $("#enable_revshare");
    B.length > 0 && (O = new a(B,e.data.revshare_form_validation,{
        no_init_focus: !0
    }));
    var j = $("#edit_form_video_premium");
    if (j.length > 0) {
        j.find(".btn-group").addClass("btn-disjoint"),
        j.find("input[value='premium']").parents(".radio.btn").addClass("ticket-red");
        var R = j.find("input[value='premium'] + strong");
        R.replaceWith($(t.render(d, {
            val: R.html()
        })))
    }
    var N = $("#edit_form_video_premium_options");
    if (N.length > 0) {
        if (j.length > 0) {
            var V = !0
              , U = j.find("input");
            "all_site" === U.filter(":checked").val() && (N.hide(),
            V = !1),
            U.on("change", function() {
                var e = "premium" === $(this).val() && $(this).prop("checked");
                e !== V && (V = e,
                V ? N.slideDown() : N.slideUp())
            });
            var q = function() {
                for (var e in b.validators) {
                    var t = b.validators[e];
                    if ("string" == typeof t.id && -1 !== t.id.indexOf("premium_options")) {
                        t.check_label_unique_legend = !1;
                        break
                    }
                }
            };
            b.is_initialized ? q() : b.onInit = q
        }
        var H = $("#edit_form_video_premium_options_video_premium_options_centered_ppv_price").closest(".form-group").hide().addClass("init-ok")
          , z = function(e, t) {
            $("#premium-instruction-block").toggleClass(e + "-checked", t),
            "ppv" === e && (N.toggleClass("ppv-checked", t),
            H.slideToggle(t))
        };
        N.find("input").change(function() {
            z($(this).val(), $(this).prop("checked"))
        }).each(function() {
            $(this).prop("checked") && z($(this).val(), !0)
        }).parents(".checkbox.btn").addClass("ticket-red").find("strong").each(function() {
            $(this).replaceWith($(t.render(d, {
                val: $(this).html()
            })))
        })
    }
    var W = $("#edit_form_networksites");
    W.length > 0 && W.find("input").change(function() {
        var e = $(this).val();
        "DEFAULT_ONLY" === e || "DEFAULT_ONLY_LOCKED" === e ? m.find(".for-network").hide().find("input").val("").keyup() : m.find(".for-network").show(),
        W.find('[data-role="network-sites-legend"]').each(function() {
            $(this).data("key") === e ? $(this).fadeIn() : $(this).hide()
        })
    }).each(function() {
        $(this).prop("checked") && ("DEFAULT_ONLY" === $(this).val() || "DEFAULT_ONLY_LOCKED" === $(this).val() ? m.find(".for-network").hide().find("input").val("").keyup() : m.find(".for-network").show(),
        W.find('[data-key="' + $(this).val() + '"]').fadeIn())
    });
    var X = $("#edit_form_privacy");
    X.length > 0 && X.find("input").change(function() {
        var e = $(this).val();
        X.find('[data-role="privacy-legend"]').each(function() {
            $(this).data("key") === e ? $(this).fadeIn() : $(this).hide()
        })
    }).each(function() {
        $(this).prop("checked") && X.find('[data-key="' + $(this).val() + '"]').fadeIn()
    });
    var G = $(".adsrevshare-release-video,.adsrevshare-delete-video");
    G.length > 0 && f(e.data.video.id, G, e.data.csrf.adsrevshare_release, e.data.csrf.adsrevshare_delete),
    "object" == typeof e.data.video.stats && e.data.video.stats.length > 0 && (require(["skins/account/uploads/uploader_stats/views_earnings_chart", "skins/account/uploads/uploader_stats/edit_chart_series"], function(t, i) {
        new t("video-stats","month",i).create(e.data.video.stats)
    }),
    "object" == typeof e.data.video.country_stats && e.data.video.country_stats.length > 0 && require(["skins/account/uploads/uploader_stats/countries_chart"], function(t) {
        new t("video-country-stats").create(e.data.video.country_stats)
    }),
    require(["skins/account/elements/table_manager"], function(e) {
        e.create()
    }));
    var Y = $("#video-edit-tabs");
    if (Y.length > 0) {
        var K, Z = {
            "video-edit-tabs-edit": function() {
                b.refresh()
            }
        }, J = $("#open-comments");
        if (J.length > 0) {
            var Q = !1;
            Z["video-edit-tabs-comments"] = function(t, i, n) {
                if (!Q) {
                    console.info(n),
                    Q = !0;
                    var o = $('<div id="comments-listing"></div>').appendTo(n);
                    require(["skins/common/thread/root", "skins/" + e.sitename + "/video/comments/ui_root"], function(t, i) {
                        var n = new i(e.data.video.id,o);
                        new t("video-comments",e.data.video.id,n,"skins/" + e.sitename + "/form/login").load()
                    })
                }
            }
            ,
            J.on("click", function() {
                K.open("video-edit-tabs-comments")
            })
        }
        "object" == typeof e.data.video.stats && e.data.video.stats.length > 0 && (Z["video-edit-tabs-stats"] = !0),
        D.length > 0 && (Z["video-edit-tabs-replace"] = !v || function() {
            v.refresh()
        }
        ),
        B.length > 0 && (Z["video-edit-tabs-revshare"] = function() {
            O.refresh()
        }
        ),
        K = new s(Y,Z,!1)
    }
}),
define("skins/common/video/download", ["lib/helpers/inline_loader", "lib/i18n!front"], function(e, t) {
    var i = function(e, t, i) {
        this.container = e,
        this.video_id = t,
        this.displayed = !1,
        this.key_hd_for_premium = i,
        this.node_type = "<p>"
    };
    return i.prototype = {
        check: function() {
            this.displayed || (this.displayed = !0,
            this.messages = t.__("video.download.*"),
            this.messages.uhd = "4K",
            this.check_download())
        },
        on_not_logged: function() {
            console.error("download.on_not_logged not implemented")
        },
        on_checked: function(e) {
            if (!e.LOGGED)
                return void this.on_not_logged();
            var t = $(this.node_type).addClass("text-center");
            if ("string" == typeof e.ERROR)
                t.addClass("text-danger").html(e.ERROR);
            else if ("string" != typeof e.URL) {
                var i = this;
                t.addClass("text-danger").html(this.messages.error_occured_retry.replace("%here%", '<a href="#"><strong>' + this.messages.here + "</strong></a>")).find("a").on("click", function(e) {
                    i.check_download(e)
                })
            } else {
                var n = [];
                e.MP4_4K_AVAILABLE && e.URL_MP4_4K && n.push('<a href="' + e.URL_MP4_4K + '" target="_blank"><strong class="label label-danger">' + this.messages.uhd + "</strong></a>"),
                e.MP4HD_AVAILABLE && !e.MP4HD_ERROR && e.URL_MP4HD && n.push('<a href="' + e.URL_MP4HD + '" target="_blank"><strong>' + this.messages.high_qual.replace("%mp4hd_res%", e.MP4HD_RESOLUTION || "720p") + "</strong></a>"),
                n.push('<a href="' + e.URL + '" target="_blank"><strong>' + this.messages.medium_qual + "</strong></a>"),
                e.URL_LOW && n.push('<a href="' + e.URL_LOW + '" target="_blank"><strong>' + this.messages.low_qual + "</strong></a>");
                var o = this.messages.dl_high_medium_low.replace("%high_medium_low%", n.join(" / "));
                e.MP4HD_AVAILABLE && (e.IS_PREMIUM ? !e.MP4HD_ERROR && e.URL_MP4HD || (o += "<br>" + this.messages.hd_available_soon.replace("%link_start%", '<a href="#" class="retry"><strong>').replace("%link_end%", "</strong></a>")) : o += "<br>" + this.messages[this.key_hd_for_premium]);
                var i = this;
                t.addClass("download-ready").html(o).find("a.retry").on("click", function(e) {
                    i.check_download(e)
                })
            }
            this.container.empty().append(t)
        },
        check_download: function(t) {
            void 0 !== t && t.preventDefault(),
            this.container.append($("<p>").addClass("text-danger text-center").append(e.getSafe("after", this.messages.checking).getNode()));
            var i = this;
            $.post("/video-download/" + this.video_id + "/", {}, function(e) {
                i.on_checked(e)
            }, "json").fail(function() {
                i.container.empty().append($("<p>").addClass("text-danger text-center").html(i.messages.error_occured_retry.replace("%here%", '<a href="#">' + i.messages.here + "</a>"))).find("a").on("click", function(e) {
                    i.check_download(e)
                })
            })
        }
    },
    i
}),
define("skins/account/uploads/listing", ["config/main", "./common/thumb_select", "skins/form/element_state", "lib/i18n!front", "lib/helpers/popup"], function(e, t, i, n, o) {
    var s = function(t, o) {
        var s = $("#" + t);
        if (0 !== s.length) {
            s = new i(s);
            var a = !1
              , r = function() {
                if (s.elem.length <= 0)
                    return !1;
                s.set_wait(),
                a = !0,
                $.ajax({
                    dataType: "json",
                    url: "/account/uploads/" + o,
                    data: {
                        rate: s.elem.val(),
                        csrf: e.data.csrf.update_release_rate
                    },
                    type: "POST",
                    success: function(e) {
                        e.result ? s.set_success(n.__("form.modification_saved")) : s.set_error(e.message ? e.message : n.__("form.error_modification_not_saved")),
                        a = !1
                    },
                    error: function() {
                        s.set_error(n.__("form.error_modification_not_saved")),
                        a = !1
                    },
                    complete: function() {
                        a && s.reinit()
                    }
                })
            };
            s.elem.change(function(e) {
                e.preventDefault(),
                r()
            })
        }
    };
    s("profile-vids-release-rates-select", "set-release-rate"),
    s("profile-vids-premium-release-rates-select", "set-premium-release-rate");
    var a = $("#profile-vids-release-rates-infos");
    if (a.length > 0 && new o(a,a.children(".note"),{
        trigger: "click",
        position: {
            v: "below",
            h: xv.dom.getViewportWidth() > 767 ? "left" : "right"
        }
    }),
    "object" == typeof e.data.videos)
        for (var r in e.data.videos)
            t(e.data.videos[r]);
    var l = $("#video-list-more-infos")
      , u = l.hasClass("opened")
      , f = $("#video-list-show-more")
      , c = f.find(".badge")
      , d = function(t) {
        u = "boolean" == typeof t ? t : !u;
        var i = !1
          , n = function() {
            i || (i = !0,
            l.removeClass("unread").find(".unread,.read").removeClass("unread").addClass("read").show())
        };
        u ? (f.addClass("opened"),
        l.hasClass("unread") ? (l.find(".read").slideDown(500),
        setTimeout(function() {
            l.addClass("opened"),
            n()
        }, 700)) : l.addClass("opened").hide().slideDown(500)) : (f.removeClass("opened"),
        l.slideUp(500),
        setTimeout(n, 700)),
        e.data.nb_unread_info > 0 && $.ajax({
            dataType: "json",
            url: "/account/uploads/set-info-read",
            success: function(t) {
                t.result && (c.fadeOut(500, function() {
                    c.remove(),
                    c = !1
                }),
                e.data.nb_unread_info = 0)
            }
        })
    };
    f.click(function(e) {
        e.preventDefault(),
        d()
    }),
    $("#hide-unread-infos").click(function(e) {
        e.preventDefault(),
        d(!1)
    })
}),
define("skins/account/uploads/title_filter", ["lib/i18n!front", "lib/helpers/overlay/contextual_popup"], function(e, t) {
    var i = function() {
        var e = "/account/uploads";
        -1 !== window.location.pathname.indexOf("statistics") && (e += "/statistics");
        var t = window.location.pathname.indexOf("/s:");
        if (-1 !== t) {
            var i = window.location.pathname.substr(t + 1);
            t = i.indexOf("/"),
            -1 !== t && (i = i.substr(0, t)),
            e += "/" + i
        }
        var n = window.location.pathname.indexOf("/f:");
        if (-1 === n)
            return e;
        var o = window.location.pathname.substr(n + 1);
        if (n = o.indexOf("/"),
        -1 !== n && (o = o.substr(0, n)),
        o = o.split(":"),
        o.length < 3 || "f" !== o[0] || (o.length - 1) % 2 != 0)
            return e;
        for (var s = !1, a = 1; a < o.length; a += 2)
            "t" !== o[a] && (s || (e += "/f",
            s = !0),
            e += ":" + o[a] + ":" + o[a + 1]);
        return e
    }
      , n = $("#title-filter")
      , o = function() {
        var e = encodeURI($.trim(n.val()));
        if (0 === e.length)
            return void (window.location.href = i());
        var t = i();
        -1 === t.indexOf("/f:") && (t += "/f"),
        window.location.href = t + ":t:" + e
    };
    n.on("keyup", function(e) {
        13 === e.which && o()
    }),
    $("#title-filter-btn").click(o),
    $("#title-filter-reset-btn").click(function() {
        window.location.href = i()
    })
}),
define("skins/account/uploads/video_list", ["config/main", "lib/helpers/popup", "lib/i18n!front", "skins/account/uploads/common/revshare_rejected", "skins/account/uploads/common/setup_feature", "skins/common/video/download", "skins/account/uploads/listing", "skins/account/uploads/common/voters", "skins/account/uploads/title_filter"], function(e, t, i, n, o, s) {
    if ("object" == typeof e.data.videos) {
        for (var a in e.data.videos) {
            var r = e.data.videos[a]
              , l = $("#listing-video-" + r.id)
              , u = l.find(".adsrevshare-release-video,.adsrevshare-delete-video");
            if (u.length > 0 && n(r.id, u, r.csrf_adsrevshare_release, r.csrf_adsrevshare_delete),
            r.verified) {
                var f = l.find(".video-actions .btn.del");
                f.length > 0 && new t(f,"<div>" + i.__("video.profile_verif_video_cannot_delete", {
                    "%support_link%": '<a href="/account/support">',
                    "%link_end%": "</a>"
                }) + "</div>")
            }
            var c = l.find(".video-actions .btn.reset-feature");
            c.length > 0 && o.setupReset(c);
            var d = l.find(".video-actions .btn.download");
            d.length > 0 && function(e, n) {
                var o;
                e.on("click", function(a) {
                    if (a.preventDefault(),
                    !o) {
                        var r = $("<div></div>");
                        o = new t(e,r);
                        var l = new s(r,n,"hd_for_red");
                        l.check(),
                        l.node_type = "<div>",
                        l.messages.dl_high_medium_low = '<h4 class="clear-infobar"><span class="icon-f icf-download"></span> ' + i.__("misc.download") + "</h4> <p>%high_medium_low%</p>",
                        l.messages.uhd = '<span class="video-hd-mark">4K</span>',
                        l.messages.high_qual = '<span class="video-hd-mark">%mp4hd_res%</span>',
                        l.messages.medium_qual = '<span class="video-sd-mark">360p</span>',
                        l.messages.low_qual = '<span class="video-sd-mark">240p</span>',
                        o.open()
                    }
                })
            }(d, r.id)
        }
    }
}),
define("skins/account/uploads/video_notice", ["config/main", "skins/account/elements/table_manager", "skins/form/validator"], function(e, t, i) {
    t.create();
    var n = $("#counter-notice");
    if (n.length > 0) {
        new i(n,e.data.form_validation_rules);
        var o = $('#counter-notice_attachments input[type="file"]');
        if (o.length > 1) {
            var s = 0;
            o.on("change", function() {
                o.index(this) >= s && (s++,
                o.eq(s).closest("fieldset").show())
            })
        }
    }
}),
define("skins/account/uploads/video_notice_discussion", ["config/main", "skins/account/elements/table_manager", "skins/form/validator", "lib/i18n!front"], function(e, t, i, n) {
    window.setTimeout(function() {
        $(".expires-link").addClass("text-danger").html(n.__("misc.link_expired_reload_page"))
    }, 1e3 * e.data.link_expires_time);
    var o = $("#notice-discussion");
    if (o.length > 0) {
        new i(o,e.data.form_validation_rules);
        var s = $('#notice-discussion_attachments input[type="file"]');
        if (s.length > 1) {
            var a = 0;
            s.on("change", function() {
                s.index(this) >= a && (a++,
                s.eq(a).closest("fieldset").show())
            })
        }
    }
}),
define("skins/account/uploads/video_notices", [], function() {}),
define("skins/account/uploads/video_premium_blocked", [], function() {}),
define("skins/account/uploads/video_statistics", ["config/main", "static/storage", "skins/account/elements/table_manager", "lib/helpers/inline_loader", "lib/helpers/overlay/contextual_popup", "lib/i18n!front", "skins/account/uploads/listing", "skins/account/uploads/uploader_stats/manager", "skins/account/uploads/title_filter"], function(e, t, i, n, o, s) {
    i.create();
    var a = $(".video-list-group-check");
    if (0 !== a.length) {
        var r = $("#video-tab-list .video-select-box");
        a.on("change", function() {
            var e = $(this).is(":checked");
            a.not(this).prop("checked", e),
            r.prop("checked", e)
        }),
        r.on("change", function() {
            var e = !0;
            r.each(function() {
                if (!$(this).is(":checked"))
                    return e = !1,
                    !1
            }),
            a.prop("checked", e)
        });
        var l = $("#video-list-bulk-actions");
        if (0 !== l.length) {
            var u = {
                ADD_PROMO_LINK: "add-promo-link",
                REM_PROMO_LINK: "remove-promo-link",
                ENABLE_PREMIUM_SUB: "premium-sub-enable",
                DISABLE_PREMIUM_SUB: "premium-sub-disable",
                ENABLE_PREMIUM_MEMBERHSIP: "premium-membership-enable",
                DISABLE_PREMIUM_MEMBERSHIP: "premium-membership-disable",
                ENABLE_PREMIUM_PPV: "premium-ppv-enable",
                DISABLE_PREMIUM_PPV: "premium-ppv-disable"
            }
              , f = l.find("select.action")
              , c = l.find("select.promo-link")
              , d = l.find("select.ppv-price")
              , h = l.find("button").not(":disabled")
              , p = h.filter(".btn-checked-videos")
              , _ = h.filter(".btn-page-videos")
              , g = h.filter(".btn-all-videos")
              , m = function() {
                return c.children('option[value="' + c.val() + '"]').text()
            };
            f.on("change", function() {
                var e = $(this).val();
                c.toggleClass("hidden", e !== u.ADD_PROMO_LINK && e !== u.REM_PROMO_LINK),
                d.toggleClass("hidden", e !== u.ENABLE_PREMIUM_PPV)
            }).trigger("change"),
            p[0].getVideoIds = function() {
                var e = r.filter(":checked").map(function() {
                    return $(this).val()
                }).toArray();
                return 0 === e.length ? (o.alert(s.__("video.select_at_least_one")),
                !1) : e
            }
            ,
            p[0].getConfirmationMessage = function(e) {
                switch (e) {
                case u.ADD_PROMO_LINK:
                    return s.__("account.promo_link.sure_add_checked", {
                        "%link_name%": m()
                    });
                case u.REM_PROMO_LINK:
                    return s.__("account.promo_link.sure_remove_checked", {
                        "%link_name%": m()
                    });
                case u.ENABLE_PREMIUM_SUB:
                    return "<p>" + s.__("videos.confirm_action_checked") + '</p><p class="text-center"><strong>' + s.__("video.enable_access_premium_subs") + "</strong></p>";
                case u.DISABLE_PREMIUM_SUB:
                    return "<p>" + s.__("videos.confirm_action_checked") + '</p><p class="text-center"><strong>' + s.__("video.disable_access_premium_subs") + "</strong></p>";
                case u.ENABLE_PREMIUM_MEMBERHSIP:
                    return "<p>" + s.__("videos.confirm_action_checked") + '</p><p class="text-center"><strong>' + s.__("video.enable_access_channel_members") + "</strong></p>";
                case u.DISABLE_PREMIUM_MEMBERSHIP:
                    return "<p>" + s.__("videos.confirm_action_checked") + '</p><p class="text-center"><strong>' + s.__("video.disable_access_channel_members") + "</strong></p>";
                case u.ENABLE_PREMIUM_PPV:
                    return "<p>" + s.__("videos.confirm_action_checked") + '</p><p class="text-center"><strong>' + s.__("video.enable_direct_purchase") + "</strong></p>";
                case u.DISABLE_PREMIUM_PPV:
                    return "<p>" + s.__("videos.confirm_action_checked") + '</p><p class="text-center"><strong>' + s.__("video.disable_direct_purchase") + "</strong></p>"
                }
            }
            ,
            _[0].getVideoIds = function() {
                var e = r.map(function() {
                    return $(this).val()
                }).toArray();
                return 0 === e.length ? (o.alert(s.__("video.select_at_least_one")),
                !1) : e
            }
            ,
            _[0].getConfirmationMessage = function(e) {
                switch (e) {
                case u.ADD_PROMO_LINK:
                    return s.__("account.promo_link.sure_add_page", {
                        "%link_name%": m()
                    });
                case u.REM_PROMO_LINK:
                    return s.__("account.promo_link.sure_remove_page", {
                        "%link_name%": m()
                    });
                case u.ENABLE_PREMIUM_SUB:
                    return "<p>" + s.__("videos.confirm_action_page") + '</p><p class="text-center"><strong>' + s.__("video.enable_access_premium_subs") + "</strong></p>";
                case u.DISABLE_PREMIUM_SUB:
                    return "<p>" + s.__("videos.confirm_action_page") + '</p><p class="text-center"><strong>' + s.__("video.disable_access_premium_subs") + "</strong></p>";
                case u.ENABLE_PREMIUM_MEMBERHSIP:
                    return "<p>" + s.__("videos.confirm_action_page") + '</p><p class="text-center"><strong>' + s.__("video.enable_access_channel_members") + "</strong></p>";
                case u.DISABLE_PREMIUM_MEMBERSHIP:
                    return "<p>" + s.__("videos.confirm_action_page") + '</p><p class="text-center"><strong>' + s.__("video.disable_access_channel_members") + "</strong></p>";
                case u.ENABLE_PREMIUM_PPV:
                    return "<p>" + s.__("videos.confirm_action_page") + '</p><p class="text-center"><strong>' + s.__("video.enable_direct_purchase") + "</strong></p>";
                case u.DISABLE_PREMIUM_PPV:
                    return "<p>" + s.__("videos.confirm_action_page") + '</p><p class="text-center"><strong>' + s.__("video.disable_direct_purchase") + "</strong></p>"
                }
            }
            ,
            g[0].getVideoIds = function(e) {
                return ["all"]
            }
            ,
            g[0].getConfirmationMessage = function(e) {
                switch (e) {
                case u.ADD_PROMO_LINK:
                    return s.__("account.promo_link.sure_add_all", {
                        "%link_name%": m()
                    });
                case u.REM_PROMO_LINK:
                    return s.__("account.promo_link.sure_remove_all", {
                        "%link_name%": m()
                    });
                case u.ENABLE_PREMIUM_SUB:
                    return "<p>" + s.__("videos.confirm_action_all") + '</p><p class="text-center"><strong>' + s.__("video.enable_access_premium_subs") + "</strong></p>";
                case u.DISABLE_PREMIUM_SUB:
                    return "<p>" + s.__("videos.confirm_action_all") + '</p><p class="text-center"><strong>' + s.__("video.disable_access_premium_subs") + "</strong></p>";
                case u.ENABLE_PREMIUM_MEMBERHSIP:
                    return "<p>" + s.__("videos.confirm_action_all") + '</p><p class="text-center"><strong>' + s.__("video.enable_access_channel_members") + "</strong></p>";
                case u.DISABLE_PREMIUM_MEMBERSHIP:
                    return "<p>" + s.__("videos.confirm_action_all") + '</p><p class="text-center"><strong>' + s.__("video.disable_access_channel_members") + "</strong></p>";
                case u.ENABLE_PREMIUM_PPV:
                    return "<p>" + s.__("videos.confirm_action_all") + '</p><p class="text-center"><strong>' + s.__("video.enable_direct_purchase") + "</strong></p>";
                case u.DISABLE_PREMIUM_PPV:
                    return "<p>" + s.__("videos.confirm_action_all") + '</p><p class="text-center"><strong>' + s.__("video.disable_direct_purchase") + "</strong></p>"
                }
            }
            ;
            var b = !1;
            h.on("click", function() {
                if (!b) {
                    var e = $(this)
                      , t = e[0].getVideoIds();
                    if (!1 !== t) {
                        var i, n = f.val(), a = !1, r = {
                            ids: t
                        };
                        switch (n) {
                        case u.ADD_PROMO_LINK:
                        case u.REM_PROMO_LINK:
                            var l = parseInt(c.val());
                            if (isNaN(l) || "number" != typeof l || l <= 0)
                                return void o.alert(s.__("account.promo_link.please_select_one"));
                            i = "/account/promotional-links/" + n.substr(0, n.indexOf("-")) + "/" + l.toString();
                            break;
                        case u.ENABLE_PREMIUM_SUB:
                        case u.DISABLE_PREMIUM_SUB:
                        case u.ENABLE_PREMIUM_MEMBERHSIP:
                        case u.DISABLE_PREMIUM_MEMBERSHIP:
                        case u.ENABLE_PREMIUM_PPV:
                        case u.DISABLE_PREMIUM_PPV:
                            if (a = !0,
                            n === u.ENABLE_PREMIUM_PPV) {
                                var h = d.val();
                                if ("string" != typeof h || 0 === h.length)
                                    return void o.alert(s.__("video.please_provide_ppv_price"));
                                r.ppv_price = h
                            }
                            i = "/account/uploads/" + n.substr(0, n.lastIndexOf("-")) + "/" + n.substr(n.lastIndexOf("-") + 1);
                            break;
                        default:
                            return void o.alert(s.__("misc.select_action_first"))
                        }
                        var _ = e[0].getConfirmationMessage(n);
                        if (!_)
                            return void D(i, a, r, n, e.is(p));
                        o.confirm(_, function() {
                            D(i, a, r, n, e.is(p))
                        })
                    }
                }
            });
            var v = function(e) {
                a.prop("disabled", e),
                r.prop("disabled", e),
                f.prop("disabled", e),
                c.prop("disabled", e),
                d.prop("disabled", e),
                h.prop("disabled", e)
            }
              , D = function(i, a, l, f, h) {
                b = !0,
                v(!0);
                var p, _, g, D, y, w, C = r;
                if (h && (C = C.filter(":checked")),
                C = C.closest("tr"),
                f !== u.ADD_PROMO_LINK && f !== u.REM_PROMO_LINK || (p = parseInt(c.val()),
                C.children("td.promo-links")),
                f === u.ADD_PROMO_LINK ? _ = m() : f === u.REM_PROMO_LINK && (D = C.find(".video-promo-link-" + p)),
                f === u.ENABLE_PREMIUM_PPV && (g = d.children('option[value="' + d.val() + '"]').text()),
                a) {
                    l.status_key = e.data.action_pgs_key,
                    y = o.loading();
                    var k = function() {
                        $.ajax({
                            type: "POST",
                            dataType: "json",
                            url: "/account/check-status",
                            data: {
                                key: e.data.action_pgs_key,
                                csrf: e.data.action_pgs_csrf
                            },
                            success: function(e) {
                                e.result && e.started && y.node.find(".contextual-popup-message").html(n.getSafe("after", e.status + " [" + e.progress_pc + "]").getHtml())
                            }
                        })
                    };
                    w = window.setInterval(k, 2e3),
                    k()
                }
                $.ajax({
                    type: "POST",
                    dataType: "json",
                    url: i,
                    data: l,
                    success: function(e) {
                        if ("object" == typeof e.errors && e.errors.length > 0) {
                            for (var i = "<p><strong>" + s.__("misc.following_errors_occured") + "</strong></p><ul>", n = 0; n < e.errors.length; n++)
                                i += "<li>" + e.errors[n] + "</li>";
                            i += "</ul>",
                            e.nb_success > 0 && (i += "<p><strong>" + s.__("video.nb_successfully_updated", {
                                "%nb%": e.nb_success.toFixed(0)
                            }) + "</strong></p>"),
                            o.alert(i)
                        }
                        if (e.result)
                            switch (f !== u.ADD_PROMO_LINK && f !== u.REM_PROMO_LINK || t.get("promo_link_cache_alert", "account") || (t.set("promo_link_cache_alert", "1", "account"),
                            o.alert(s.__("video.cache_system_update_takes_time"))),
                            f) {
                            case u.ADD_PROMO_LINK:
                                C.each(function() {
                                    var e = $(this);
                                    if (0 === e.find(".video-promo-link-" + p).length) {
                                        $.trim(e.text()).length > 0 && e.append('<span class="comma">, </span>'),
                                        e.append($('<span class="video-promo-link-' + p + '"></span>').text(_))
                                    }
                                });
                                break;
                            case u.REM_PROMO_LINK:
                                D.each(function() {
                                    var e = $(this)
                                      , t = e.next(".comma");
                                    t.length > 0 ? t.remove() : e.prev(".comma").remove(),
                                    e.remove()
                                });
                                break;
                            case u.ENABLE_PREMIUM_SUB:
                            case u.DISABLE_PREMIUM_SUB:
                            case u.ENABLE_PREMIUM_MEMBERHSIP:
                            case u.DISABLE_PREMIUM_MEMBERSHIP:
                            case u.ENABLE_PREMIUM_PPV:
                            case u.DISABLE_PREMIUM_PPV:
                                var a = C.children("td.premium-status").find("." + f.substr(0, f.lastIndexOf("-"))).toggleClass("hidden", "-disable" === f.substr(f.lastIndexOf("-")));
                                f === u.ENABLE_PREMIUM_PPV && a.text(g)
                            }
                        else
                            o.alert(s.__("misc.error_please_retry") + (e.message ? " : " + e.message : ""))
                    },
                    error: function() {
                        o.alert(s.__("misc.error_please_retry"))
                    },
                    complete: function() {
                        b = !1,
                        v(!1),
                        a && (window.clearInterval(w),
                        y.close())
                    }
                })
            }
        }
    }
}),
define("skins/account/uploads/video_preselect_thumbs", ["./video_statistics"], function() {}),
define("skins/account/uploads/video_upload", ["config/main", "mustache", "lib/tools", "static/utils", "lib/helpers/popup", "skins/form/validator", "skins/form/widget/locale_selector", "lib/helpers/upload/upload_by_chunk", "text!./ticket_red_inp_btn.mustache", "text!./common/upload_by_chunk_progress.mustache", "lib/i18n!front", "skins/form/widget/tag_adder/tag_adder_regions_select", "skins/account/uploads/listing"], function(e, t, i, n, o, s, a, r, l, u, f, c) {
    var d = $("#upload_form")
      , h = $("#iframe-upload")
      , p = $("#upload-form-progress")
      , _ = p.children(".status")
      , g = p.children(".progress")
      , m = g.children()
      , b = null
      , v = null
      , D = !1
      , y = null
      , w = 0
      , C = 0
      , k = 0
      , x = [];
    $(window).on("upload-completed", function(e, t) {
        if (D = !0,
        t.result)
            return void F(100, f.__("upload.completed_successfully"));
        p.addClass("hidden");
        var i = $(h.contents().find("#upload-form-contener").html());
        d.replaceWith(i),
        d = i,
        M(),
        h.prop("src", "about:blank")
    }),
    $(window).on("upload-succeeded", function() {
        $("#profile-vids-release-rates-container").removeClass("hidden")
    });
    var F = function(e, t, i) {
        void 0 !== i && null !== i || (i = !1);
        var n = null === e ? 100 : Math.min(100, Math.max(0, e));
        _.html(t).toggleClass("text-success", null !== e && !i && n >= 100).toggleClass("text-danger", null !== e && i),
        m.prop("aria-valuenow", n).css("width", (i ? 100 : Math.max(5, n)) + "%").html((null === e ? "?" : n.toFixed(1)) + " %").toggleClass("progress-bar-success", !i && null !== e && n >= 100).toggleClass("progress-bar-info", null === e || !i && n >= 60 && n < 100).toggleClass("progress-bar-warning", !i && n >= 30 && n < 60).toggleClass("progress-bar-danger", i || n < 30).toggleClass("progress-bar-striped active", null === e || !i && n < 100)
    }
      , E = function() {
        v = $("#upload_form_uid").val(),
        b = $("#upload_form_file_file_options_file_1_file").val().length > 0 ? "basic" : "remote",
        d.addClass("hidden"),
        h.removeClass("hidden"),
        p.removeClass("hidden"),
        F(null, f.__("upload.starting")),
        D = !1,
        C = 0,
        k = 0,
        x = [],
        T()
    }
      , T = function() {
        D || ($.post("/account/uploads/progress/" + b + "/" + v, L, "json").fail(S),
        y = window.setTimeout(T, 1e3))
    }
      , S = function() {
        if (!(++w > 7))
            return 7 === w ? (D = !0,
            window.clearTimeout(y),
            F(0, f.__("upload.cant_start_check_file_size_and_internet_connection", {
                "%max_size%": e.data.max_upload_size_disp
            }), !0),
            h.addClass("hidden").prop("src", "about:blank"),
            d.removeClass("hidden"),
            void window.vre.resetSubmit()) : void F(null, f.__("upload.starting"))
    }
      , L = function(e) {
        if (!e.result)
            return void S();
        if (e.unknown)
            return void F(null, f.__("upload.unknown_status"));
        if (e.done)
            return D = !0,
            window.clearTimeout(y),
            void (0 === e.error ? F(100, f.__("upload.completed_successfully") + " " + f.__("upload.being_checked")) : F(0, e.error_msg + " (#" + e.error + ")", !0));
        var t = parseInt(e.current)
          , i = parseInt(e.total)
          , n = 0;
        i > 0 && t <= i && (n = Math.min(99.9, t / i * 100));
        var o, s = (new Date).getTime() / 1e3, a = t - C, r = s - k, l = a / r, u = C, c = k, d = l;
        if (!isNaN(l) || l < 1e-4) {
            x.push(l),
            x.length > 20 && x.shift();
            for (var h = 0, p = 0; p < x.length; p++)
                h += x[p];
            l = h / x.length,
            o = Math.round((i - t) / l)
        } else
            l = 0,
            o = -1;
        if (k = s,
        C = t,
        n > 0) {
            var _ = e.current_disp + " / " + e.total_disp;
            if (l >= 1048576 ? _ += " / " + (l / 1048576).toFixed(1) + f.__("misc.mb_per_sec") : l > 0 && (_ += " / " + (l / 1024).toFixed(l >= 1024 ? 1 : 3) + f.__("misc.kb_per_sec")),
            o >= 0) {
                var g = o
                  , m = Math.max(0, Math.floor(o / 3600));
                o -= 3600 * m;
                var b = Math.max(0, Math.floor(o / 60));
                if (isNaN(b)) {
                    var v = {
                        data: e,
                        uploaded: t,
                        total: i,
                        percent: n,
                        current_ts: s,
                        cur_progress_lasttime: u,
                        cur_progress_uploaded: c,
                        last_uploaded: a,
                        last_duration: r,
                        ori_speed: d,
                        speed: l,
                        ori_time_left: g,
                        cur_progress_speeds: x,
                        speedadd: h,
                        status: _,
                        time_left: o,
                        nb_hours: m,
                        nb_mins: b
                    };
                    require(["static/console"], function(e) {
                        e.log(JSON.stringify(v), "Upload progress debug")
                    })
                }
                o -= 60 * b,
                _ += m > 0 ? " / " + f.__("misc.nb_hours_mins_remaining", {
                    "%nb_hours%": m.toString(),
                    "%nb_mins%": b.toString()
                }) : b > 0 ? " / " + f.__("misc.nb_mins_secs_remaining", {
                    "%nb_mins%": b.toString(),
                    "%nb_secs%": o.toString()
                }) : " / " + f.__("misc.nb_secs_remaining", {
                    "%nb_secs%": o.toString()
                })
            }
            F(n, _)
        } else
            t > 0 ? F(null, e.current_disp) : F(null, f.__("upload.starting"))
    }
      , P = function(e) {
        "DEFAULT_ONLY" === e ? d.find(".for-network").hide().find("input").val("").keyup() : d.find(".for-network").show(),
        $('#upload_form_networksites [data-role="network-sites-legend"]').each(function() {
            $(this).data("key") === e ? $(this).fadeIn() : $(this).hide()
        })
    }
      , I = function(e) {
        "premium" === e ? ($("#upload_form_video_premium_options").slideDown(),
        $("#upload_form_networksites").addClass("and-network-only").find("input").prop("disabled", !0).closest("[value=NO_RESTRICTION]").prop("checked", !0),
        P("NO_RESTRICTION"),
        $("#upload_form_thumb_preview").removeClass("and-preview-only").find("input").prop("disabled", !1),
        $("#upload_form_file .instructions").addClass("with-premium-infos")) : ($("#upload_form_video_premium_options").slideUp(),
        $("#upload_form_networksites").removeClass("and-network-only").find("input").prop("disabled", !1),
        $("#upload_form_thumb_preview").addClass("and-preview-only").find("input").prop("disabled", !0).closest("[value=NORMAL]").prop("checked", !0),
        $("#upload_form_file .instructions").removeClass("with-premium-infos"))
    }
      , M = function() {
        var r = new s(d,e.data.form_validation_rule,{
            no_init_focus: !0,
            no_init_validate: !0,
            append_errors_shortcuts_to: $("#upload_form .file-upload-submit"),
            fnIsInit: function() {
                new c(d,".blocked-countries",".form-field-upload_form_blocked_countries_blocked_countries_centered_blocked_regions_")
            }
        });
        d.on("submit", function() {
            r.is_valid && E()
        }),
        window.vre = r,
        new a(d).init_locales();
        var u, f = $("#upload_form_video_premium");
        if (f.length > 0) {
            var h = f.find("input").change(function() {
                I($(this).val())
            }).each(function() {
                "premium" === $(this).val() && $(this).prop("checked") && I("premium")
            });
            f.find(".btn-group").addClass("btn-disjoint"),
            f.find("input[value='premium']").parents(".radio.btn").addClass("ticket-red"),
            u = f.find("input[value='premium'] + strong"),
            u.replaceWith($(t.render(l, {
                val: u.html()
            })));
            var p = $("#upload_form_video_premium_options");
            if (p.length > 0) {
                var _ = !0;
                0 !== h.filter(":checked").length && "all_site" !== h.filter(":checked").val() || (p.hide(),
                _ = !1),
                p.addClass("init-ok");
                var g = $("#upload_form_video_premium_options_video_premium_options_centered_ppv_price").closest(".form-group").hide().addClass("init-ok")
                  , m = function() {
                    for (var e in r.validators) {
                        var t = r.validators[e];
                        if ("string" == typeof t.id && -1 !== t.id.indexOf("premium_options")) {
                            t.check_label_unique_legend = !1,
                            t.options.required = _,
                            t.validate();
                            var i = d.find(".counter .count")
                              , n = function() {
                                i.each(function(e) {
                                    $(this).text((e <= 1 || _ ? e + 1 : e).toFixed(0) + "/" + (_ ? i.length : i.length - 1).toFixed(0))
                                })
                            };
                            n(),
                            h.on("change", function() {
                                _ = "premium" === $(this).val() && $(this).prop("checked"),
                                t.options.required = _,
                                t.validate(),
                                n()
                            });
                            break
                        }
                    }
                };
                r.is_initialized ? m() : r.onInit = m;
                var b = function(e, t) {
                    $("#premium-instruction-block").toggleClass(e + "-checked", t),
                    "ppv" === e && (p.toggleClass("ppv-checked", t),
                    g.slideToggle(t))
                };
                p.find("input").change(function() {
                    b($(this).val(), $(this).prop("checked"))
                }).each(function() {
                    $(this).prop("checked") && b($(this).val(), !0)
                }).parents(".checkbox.btn").addClass("ticket-red").find("strong").each(function() {
                    $(this).replaceWith($(t.render(l, {
                        val: $(this).html()
                    })))
                })
            }
        }
        var v = $("#upload_form_networksites");
        v.length > 0 && v.find("input").change(function() {
            P($(this).val())
        }).each(function() {
            $(this).parents(".btn-default").addClass($(this).val().toLowerCase()),
            $(this).prop("checked") && P($(this).val())
        });
        var D = $("#upload_form_thumb_preview");
        D.length > 0 && D.find("input").each(function() {
            $(this).parents(".btn-default").addClass("preview_" + $(this).val().toLowerCase())
        });
        var y = $("#upload_form_privacy");
        y.length > 0 && y.find("input").change(function() {
            var e = $(this).val();
            y.find('[data-role="privacy-legend"]').each(function() {
                $(this).data("key") === e ? $(this).fadeIn() : $(this).hide()
            })
        }).each(function() {
            $(this).prop("checked") && y.find('[data-key="' + $(this).val() + '"]').fadeIn()
        }),
        d.find(".info-tooltip").each(function() {
            var e = $(this);
            new o(e,"<strong>" + e.data("content") + "</strong>",{
                relative_to: e.closest("fieldset"),
                position: {
                    v: "below",
                    h: "left"
                },
                trigger: !1,
                trigger_open: "mouseenter click",
                autoclose: 5,
                max_width: 350
            })
        });
        var w = $("#circle-info-hd");
        w.length > 0 && (w.click(function() {
            $("#circle-info-hd-more").slideDown()
        }),
        $("#circle-info-hd-more").click(function() {
            $(this).slideUp()
        }));
        var C = $(".file-upload-inputs")
          , k = C.children("fieldset:not(.file-upload-submit)")
          , x = C.children(".file-upload-submit")
          , F = C.find(".file-upload-file input[type='file']")
          , T = C.find(".file-upload-text input[type='text']")
          , S = C.find(".file-upload-text button")
          , L = C.find(".file-upload-recap")
          , M = ""
          , A = F.parent().prevAll(".error-block");
        A.length > 0 && A.parent().prev().children().first().after(A.css("fontWeight", "normal")),
        F.change(function() {
            if (T.val(""),
            M = F.val(),
            M.length < 1)
                return !1;
            L.html(n.escape(M)),
            k.fadeOut(function() {
                x.fadeIn()
            }),
            C.addClass("is_file")
        });
        var O = function() {
            var e = T.prop("id")
              , t = !1;
            for (var i in r.validators)
                r.validators[i].id !== e || r.validators[i].has_error || (t = !0);
            return t
        };
        T.on("change blur focus keyup keydown paste input", function(e) {
            S.prop("disabled", !O()),
            setTimeout(function() {
                S.prop("disabled", !O())
            }, 500)
        }),
        S.prop("disabled", !O()),
        S.click(function() {
            if (F.val(""),
            M = T.val().trim(),
            !O())
                return !1;
            var e = i.parseUrl(M);
            return !(!e.body || e.body.length < 1) && (e = e.body.split("/"),
            !(e.length < 1) && (L.html(n.escape(M)),
            k.fadeOut(function() {
                x.fadeIn()
            }),
            void C.addClass("is_url")))
        }),
        x.find(".return-file-select").click(function() {
            F.val("").trigger("change"),
            x.fadeOut(function() {
                C.removeClass("is_file is_url"),
                L.html(""),
                k.fadeIn(),
                r.refresh()
            })
        })
    };
    M()
}),
define("skins/account/uploads/video_upload_publish", [], function() {}),
define("text!skins/form/show_pass/input_contener.mustache", [], function() {
    return '<div class="form-control visible-password">\n\t<button class="btn btn-clear" type="button">\n\t\t<span class="icon-f icf-eye" title="{{see_password}}"></span>\n\t\t<span class="icon-f icf-eye-blocked" title="{{hide_password}}"></span>\n\t</button>\n</div>'
}),
define("skins/form/show_pass", ["mustache", "lib/i18n!front", "text!skins/form/show_pass/input_contener.mustache"], function(e, t, i) {
    var n = function(n) {
        this.inp = $(n),
        this.cont = $(e.render(i, {
            see_password: t.__("form.see_password"),
            hide_password: t.__("form.hide_password")
        })),
        this.cont.insertAfter(this.inp),
        this.cont.append(this.inp);
        var o = this;
        this.toggle_btn = this.cont.children("button"),
        this.toggle_btn.on("click", function(e) {
            e.preventDefault(),
            o.toggle_visible()
        })
    };
    n.prototype = {
        inp: !1,
        cont: !1,
        visible: !1,
        toggle_btn: !1,
        is_visible: function() {
            return "password" !== this.inp.prop("type")
        },
        update_visible: function() {
            this.inp.prop("type", this.visible ? "text" : "password"),
            this.cont.toggleClass("visible", this.visible)
        },
        toggle_visible: function(e) {
            this.visible = "boolean" == typeof e ? e : !this.is_visible(),
            this.update_visible();
            var t = this.inp.val();
            this.inp.focus().val("").val(t)
        }
    };
    var o = function() {};
    return o.prototype = {
        passwords: [],
        "new": function(e) {
            this.is_initiated(e) || "password" !== $(e).prop("type") || this.passwords.push(new n(e))
        },
        is_initiated: function(e) {
            for (var t in this.passwords)
                if (this.passwords[t].inp[0] == $(e)[0])
                    return !0;
            return !1
        }
    },
    new o
}),
define("lib/converter", [], function() {
    var e = {}
      , t = {
        in2cm: 2.54,
        lbs2kg: .45359237
    }
      , i = {
        "in": "cm",
        cm: "in",
        lbs: "kg",
        kg: "lbs"
    };
    return e.map = function(e) {
        return i[e]
    }
    ,
    e.convert = function(e, n, o, s) {
        void 0 !== o && o || (o = i[n]);
        var a, r = n + "2" + o;
        if ("undefined" == typeof t[r]) {
            if (r = o + "2" + n,
            "undefined" == typeof t[r])
                return !1;
            a = 1 / t[r]
        } else
            a = t[r];
        var l = e * a;
        if (void 0 !== s) {
            if (0 === s)
                return Math.round(l);
            var u = Math.pow(10, s);
            l = Math.round(l * u) / u
        }
        return l
    }
    ,
    e.trimPx = function(e) {
        return Math.round(parseFloat(e.replace(/[^\d\.-]/g, "")))
    }
    ,
    e
}),
define("skins/form/validator/base", ["static/utils"], function(e) {
    var t = {}
      , i = function(e, t) {
        "object" == typeof t && (this.parent = e,
        this.options = t.options,
        this.messages = t.messages,
        this.messages_vars = t.messages_vars || {})
    };
    return i.prototype = {
        errorChanged: null,
        refresh: null,
        isValid: null,
        focus: null,
        getRegexp: function(e) {
            if (t[e])
                return t[e];
            if ("/" !== e.substr(0, 1))
                return t[e] = new RegExp(e,"g"),
                t[e];
            var i = e.lastIndexOf("/");
            if (i <= 0)
                return t[e] = new RegExp(e,"g"),
                t[e];
            var n = e.substr(i + 1).toLowerCase().replace(/[^gimuy]/g, "");
            return 0 === n.length && (n = "g"),
            t[e] = new RegExp(e.substring(1, i),n),
            t[e]
        },
        getMessage: function(t, i, n) {
            var o = i;
            if (this.messages[t] && (o = e.unescape(this.messages[t])),
            "object" == typeof this.messages_vars[t]) {
                n || (n = {});
                for (var s in this.messages_vars[t])
                    this.messages_vars[t].hasOwnProperty(s) && (n[s] = this.messages_vars[t][s])
            }
            if (n)
                for (var a in n)
                    n.hasOwnProperty(a) && (o = o.replace(a, n[a]));
            return o
        },
        strimwidth: function(t, i) {
            return "string" != typeof t && (t = t.toString()),
            t.length + 3 > i ? e.escape(t.substr(0, i - 3)) + "..." : e.escape(t)
        }
    },
    i
}),
define("skins/form/validator/focus", ["lib/tools", "static/dom"], function(e, t) {
    return validator_focus = function() {
        this.list = {}
    }
    ,
    validator_focus.prototype = {
        focus: function(i, n) {
            if (i = t.element(i)) {
                void 0 === n && (n = this.getId(i)),
                this.list[n] || (this.list[n] = {
                    timeout: !1,
                    elem: i
                });
                var o = this.list[n];
                t.isElementInView(o.elem, !0) || e.scrollTo(o.elem, 100, 0),
                o.elem.focus && o.elem.focus(),
                o.timeout && clearTimeout(o.timeout),
                $(o.elem).removeClass("hl-focus"),
                setTimeout(function() {
                    $(o.elem).addClass("hl-focus")
                }, 10),
                o.timeout = setTimeout(function() {
                    $(o.elem).removeClass("hl-focus")
                }, 2e3)
            }
        },
        getId: function(e) {
            if (e.id)
                return e.id;
            var t = e.tagName.toLowerCase();
            return e.getAttribute("name") && (t += e.getAttribute("name")),
            t
        }
    },
    new validator_focus
}),
define("skins/form/validator/agreement", ["lib/tools", "static/dom", "lib/converter", "./base", "./focus", "lib/helpers/popup"], function(e, t, i, n, o, s) {
    var a = []
      , r = "rtl" === $("html").prop("dir")
      , l = function(e, t) {
        n.apply(this, [e, t]),
        this.id = t.elt_id,
        this.checkbox = $("#" + this.id),
        this.checkbox_err,
        this.popup,
        this.popup_timer;
        var i = this;
        this.checkbox.on("change click", function() {
            i.validate()
        }),
        this.validate()
    };
    l.prototype = new n,
    l.prototype.refresh = function() {
        this.positionError()
    }
    ,
    l.prototype.focus = function() {
        o.focus(this.checkbox),
        this.showError()
    }
    ,
    l.prototype.isValid = function() {
        return this.checkbox.is(":checked")
    }
    ,
    l.prototype.validate = function() {
        if (!this.isValid())
            return this.showError(),
            void (this.errorChanged && this.errorChanged(!0, this));
        this.hideTooltip(),
        this.errorChanged && this.errorChanged(!1, this)
    }
    ,
    l.prototype.getError = function() {
        return this.error_txt = !this.isValid() && this.getMessage("invalid", "Required"),
        this.error_txt
    }
    ,
    l.prototype.showTooltip = function(e) {
        this.popup ? e && this.popup.setContent(e) : this.popup = new s(this.checkbox_err,e,{
            relative_to: this.checkbox.parent(),
            trigger: !1,
            autoclose: !1,
            popup_class: "form-popup-error",
            position: {
                v: "below",
                h: r ? "right" : "left"
            },
            offset: {
                below: 0,
                above: 0,
                left: r ? 0 : -3,
                right: r ? -3 : 0
            },
            max_width: 500
        }),
        this.popup.open(),
        this.startTimer(!0)
    }
    ,
    l.prototype.showError = function() {
        this.checkbox_err ? this.checkbox_err.show() : (this.checkbox.parent().css("position", "relative"),
        this.checkbox_err = $('<div class="checkbox-error-box"></div>').insertAfter(this.checkbox),
        a.push(this)),
        this.checkbox.addClass("validator-error"),
        this.positionError(),
        this.error_txt = this.getMessage("invalid", "Required"),
        this.showTooltip("<span>" + this.error_txt + "</span>")
    }
    ,
    l.prototype.hideTooltip = function() {
        this.checkbox.removeClass("validator-error"),
        this.checkbox_err && this.checkbox_err.hide(),
        this.popup && this.popup.close()
    }
    ,
    l.prototype.positionError = function() {
        if (this.checkbox_err) {
            var e = this.checkbox.position();
            this.checkbox_err.css({
                width: this.checkbox.outerWidth(),
                height: this.checkbox.outerHeight(),
                top: e.top + i.trimPx(this.checkbox.css("marginTop")) + "px",
                left: e.left + i.trimPx(this.checkbox.css("marginLeft")) + "px"
            })
        }
    }
    ,
    l.prototype.startTimer = function(e) {
        if (this.popup_timer) {
            if (!e)
                return;
            window.clearTimeout(this.popup_timer)
        }
        var t = this;
        this.popup_timer = window.setTimeout(function() {
            t.popup.close()
        }, 3e3)
    }
    ,
    l.prototype.stopTimer = function() {
        this.popup_timer && (window.clearTimeout(this.popup_timer),
        this.popup_timer = null)
    }
    ;
    var u, f = function() {
        u && (u = null);
        for (var e in a)
            a[e].positionError()
    };
    return $(window).on("resize", function() {
        u || (u = window.setTimeout(f, 250))
    }),
    l
}),
define("skins/form/validator/body_measurement", ["lib/tools", "static/dom", "lib/converter", "./base"], function(e, t, i, n) {
    var o = function(e, t) {
        n.apply(this, [e, t]);
        var o = e.getRoot()
          , s = $("#" + o.form.prop("id") + "_" + t.options.body_unit_field.replace(/\|/g, "_"))
          , a = null
          , r = null
          , l = null
          , u = null;
        if (0 !== s.length) {
            t.options.weight_field && (a = $("#" + o.form.prop("id") + "_" + t.options.weight_field.replace(/\|/g, "_")),
            0 === a.length ? a = null : (r = a.prev(".input-group-addon"),
            0 === r.length && (r = null))),
            t.options.height_field && (l = $("#" + o.form.prop("id") + "_" + t.options.height_field.replace(/\|/g, "_")),
            0 === l.length ? l = null : (u = l.prev(".input-group-addon"),
            0 === u.length && (u = null)));
            var f = s.val()
              , c = function() {
                var e = s.val();
                if (l) {
                    var t = "US" === e ? "cm" : "in"
                      , n = "US" === e ? "in" : "cm";
                    if (u && u.text(n),
                    f !== e) {
                        var o = parseFloat(l.val());
                        !isNaN(o) && o > 0 && l.val(i.convert(o, t, n, "US" === e ? 1 : 0))
                    }
                }
                if (a) {
                    var c = "US" === e ? "kg" : "lbs"
                      , d = "US" === e ? "lbs" : "kg";
                    if (r && r.text(d),
                    f !== e) {
                        var h = parseFloat(a.val());
                        !isNaN(h) && h > 0 && a.val(i.convert(h, c, d, 0))
                    }
                }
                f = e
            };
            c(),
            s.on("change", c)
        }
    };
    return o.prototype = new n,
    o.prototype.isValid = function() {
        return !0
    }
    ,
    o
}),
define("skins/form/validator/choice", ["lib/tools", "static/utils", "static/dom", "lib/converter", "./base", "./focus", "lib/helpers/popup"], function(e, t, i, n, o, s, a) {
    var r = "rtl" === $("html").prop("dir")
      , l = function(e, t) {
        if (void 0 !== e) {
            o.apply(this, [e, t]),
            this.id = t.elt_id,
            this.is_select = !1;
            var i = $("select#" + t.elt_id)
              , n = this;
            if (i.length > 0)
                this.is_select = !0,
                this.select = i,
                this.focus_elt = i,
                this.select.on("change", function() {
                    n.validate()
                }),
                this.select.data("validator", this);
            else {
                var s = [];
                for (var a in t.options.choices)
                    s.push("#" + t.elt_id + "_" + t.options.choices[a]);
                this.choices = $(s.join(",")),
                this.focus_elt = this.choices.last(),
                this.choices.on("change click", function() {
                    n.validate()
                }),
                this.choices.data("validator", this)
            }
            this.input_agent = this.getInputAgent(),
            this.popup = null,
            this.has_error = !1,
            this.error_txt = !1,
            this.check_label_unique_legend = !0,
            this.options.no_init_validate || this.validate()
        }
    };
    return l.prototype = new o,
    l.prototype.focus = function() {
        s.focus(this.input_agent, this.id),
        this.showError()
    }
    ,
    l.prototype.getValue = function() {
        return this.is_select ? this.select.val() : this.options.is_multiple ? this.choices.filter(":checked").map(function() {
            return $(this).val()
        }).toArray() : this.choices.filter(":checked").val()
    }
    ,
    l.prototype.isValid = function() {
        return !(this.has_error || this.options.required && e.isEmpty(this.getValue()))
    }
    ,
    l.prototype.doValidate = function() {
        if (this.options.required && e.isEmpty(this.getValue()))
            return this.setError(this.getMessage("required", "Required")),
            !1;
        if (null !== this.options.disabled_values && "object" == typeof this.options.disabled_values && this.options.disabled_values.length > 0) {
            var i = this.getValue();
            this.options.is_multiple || (i = [i]);
            for (var n in i)
                if (-1 !== $.inArray(i[n], this.options.disabled_values))
                    return this.setError(this.getMessage("disabled_value", "Invalid value: '%value%'", {
                        "%value%": t.escape(i[n])
                    })),
                    !1
        }
        return !0
    }
    ,
    l.prototype.validate = function() {
        return !!this.doValidate(this.getValue()) && (this.setSuccess(),
        !0)
    }
    ,
    l.prototype.showTooltip = function(e) {
        if (this.popup)
            e && this.popup.setContent(e);
        else {
            var t = this.focus_elt
              , i = this.focus_elt.parents(".btn-group,.checkbox-list")
              , o = {
                below: 0,
                above: 0,
                left: 0,
                right: 0
            };
            if (i.length > 0) {
                t = i;
                var s = this.focus_elt.parents(".btn");
                s.length > 0 && (o.below = -1 * n.trimPx(s.css("marginBottom")),
                r ? o.right = n.trimPx(s.css("marginRight")) + n.trimPx(i.css("paddingRight")) + n.trimPx(i.css("marginRight")) : o.left = n.trimPx(s.css("marginLeft")) + n.trimPx(i.css("paddingLeft")) + n.trimPx(i.css("marginLeft")))
            }
            var l = t.parent().css("position", "relative");
            this.popup = new a(t,e,{
                relative_to: l,
                trigger: !1,
                autoclose: !1,
                popup_class: "form-popup-error",
                position: {
                    v: "below",
                    h: r ? "right" : "left"
                },
                offset: o,
                max_width: 500
            })
        }
        this.popup.open()
    }
    ,
    l.prototype.setSuccess = function() {
        this.has_error = !1,
        this.error_txt = !1,
        this.input_agent.removeClass("validator-error"),
        this.errorChanged && this.errorChanged(!1, this),
        this.popup && this.popup.close()
    }
    ,
    l.prototype.setError = function(e) {
        this.has_error = !0,
        this.error_txt = e,
        this.input_agent.addClass("validator-error"),
        this.errorChanged && this.errorChanged(!0, this),
        this.showTooltip($("<span>" + e + "</span>"))
    }
    ,
    l.prototype.getInputAgent = function() {
        return this.focus_elt.parents(".form-group")
    }
    ,
    l.prototype.showError = function() {
        if (!this.has_error)
            return !1;
        this.showTooltip()
    }
    ,
    l.prototype.hideTooltip = function() {
        this.popup && this.popup.close()
    }
    ,
    l.prototype.getError = function() {
        return this.error_txt
    }
    ,
    l.prototype.getLabel = function() {
        if (!this.focus_elt)
            return !1;
        if (this.is_select) {
            var e = !1;
            if (this.select.find("option").each(function() {
                if (!$(this).val() && $(this).text().trim().length > 0)
                    return e = $(this).text().trim(),
                    !1
            }),
            e)
                return e
        }
        var t = this.focus_elt
          , i = $()
          , n = 0;
        do {
            n++,
            t = t.parents("fieldset"),
            i = t.find("legend").first()
        } while (t.length > 0 && 0 === i.length);
        if (i.length > 0 && i.text()) {
            var o = !1
              , s = !0;
            if (this.check_label_unique_legend && t.find("input, textarea, select").each(function() {
                o ? o !== $(this).prop("name") && (s = !1) : o = $(this).prop("name")
            }),
            s && (e = function(e) {
                return e = e.trim(),
                e.lastIndexOf(":") + 1 === e.length && (e = e.substr(0, e.length - 1)),
                e
            }(i.text()),
            e.length > 0))
                return e
        }
        return !1
    }
    ,
    l
}),
define("skins/form/validator/choice_schema", ["static/utils", "./base"], function(e, t) {
    var i = function(i, n) {
        t.apply(this, [i, n]);
        var o = i.getRoot();
        if (this.constrained = $("#" + o.form.prop("id") + "_" + n.options.constrained_field.replace(/\|/g, "_")),
        this.validator = this.constrained.data("validator"),
        this.validator) {
            this.checked = $("#" + o.form.prop("id") + "_" + n.options.checked_field.replace(/\|/g, "_"));
            var s = this
              , a = this.validator.doValidate;
            this.validator.doValidate = function(t) {
                if (!a.apply(this, [t]))
                    return !1;
                var i = $.trim(s.checked.val());
                if (0 === i.length)
                    return !0;
                if (s.options.constrains.hasOwnProperty(i) && "object" == typeof s.options.constrains[i]) {
                    var n = s.options.constrains[i];
                    for (var o in n)
                        if (n.hasOwnProperty(o) && n[o] === t)
                            return !0
                } else if (s.options.allow_by_default)
                    return !0;
                return this.setError(s.getMessage("invalid", 'Invalid with this value of "%checked_label%"', {
                    "%checked%": '"' + e.escape(i) + '"',
                    "%checked_label%": s.options.checked_field_label,
                    "%constrained%": '"' + e.escape(t) + '"'
                })),
                !1
            }
            ,
            this.checked.on("change", function() {
                s.validator.validate()
            }),
            this.validator.validate()
        }
    };
    return i.prototype = new t,
    i.prototype.isValid = function() {
        return !0
    }
    ,
    i.prototype.focus = function() {
        this.validator.focus && this.validator.focus()
    }
    ,
    i
}),
define("skins/form/validator/compare", ["static/utils", "./base"], function(e, t) {
    var i = function(i, n) {
        t.apply(this, [i, n]);
        var o = i.getRoot();
        if (this.linput = $("#" + o.form.prop("id") + "_" + n.options.left_field.replace(/\|/g, "_")),
        this.validator = this.linput.data("validator"),
        this.validator) {
            this.rinput = $("#" + o.form.prop("id") + "_" + n.options.right_field.replace(/\|/g, "_")),
            this.validation_timer = null,
            "%!=" === n.options.operator && (this.validator.setupXhr("compare_pc_diff", "/account/checkdiff", ["val1", "val2"], 2),
            this.validator.setXhrOtherParam("compare_pc_diff", "pc_min_diff", n.options.pc_min_diff),
            this.validator.setXhrOtherParam("compare_pc_diff", "message", n.messages.pc_diff));
            var s = this
              , a = this.validator.doValidate;
            this.validator.doValidate = function(t) {
                var i = null;
                return "%!=" === s.options.operator && (i = $.trim(s.rinput.val()),
                s.validator.setXhrOtherValues("compare_pc_diff", [i])),
                !!a.apply(this, [t]) && (null === i && (i = $.trim(s.rinput.val())),
                i.length < 2 || ("==" === s.options.operator && t !== i ? (this.setError(s.getMessage("equal", "%left_field% and %right_field% must match", {
                    "%left_field%": '"' + e.escape(n.options.left_field.replace(/\|/g, " ")) + '"',
                    "%right_field%": '"' + e.escape(n.options.right_field.replace(/\|/g, " ")) + '"'
                })),
                !1) : !("!=" === s.options.operator || "~!=" === s.options.operator && t) || t !== i || (this.setError(s.getMessage("not_equal", "%left_field% and %right_field% be different", {
                    "%left_field%": '"' + e.escape(n.options.left_field.replace(/\|/g, " ")) + '"',
                    "%right_field%": '"' + e.escape(n.options.right_field.replace(/\|/g, " ")) + '"'
                })),
                !1)))
            }
            ,
            this.rinput.on("focus", function() {
                s.validator.focused = !0,
                s.validator.showError()
            }),
            this.rinput.on("blur", function() {
                s.validation_timer && (window.clearTimeout(s.validation_timer),
                s.validation_timer = null),
                s.validator.validate(),
                s.validator.focused = !1,
                s.validator.startTimer(!0)
            }),
            this.rinput.on("keyup", function() {
                s.validator.hideTooltip(!0),
                s.validation_timer && window.clearTimeout(s.validation_timer),
                s.validation_timer = window.setTimeout(function() {
                    s.validator.validate()
                }, 1e3)
            }),
            this.validator.validate()
        }
    };
    return i.prototype = new t,
    i.prototype.isValid = function() {
        return !0
    }
    ,
    i.prototype.focus = function() {
        this.validator.focus && this.validator.focus()
    }
    ,
    i
}),
define("skins/form/validator/conditional_require", ["lib/tools", "./base"], function(e, t) {
    var i = function(e, t, i) {
        var n = "#" + e.form.prop("id") + "_" + i.replace(/\|/g, "_")
          , o = $(n);
        if (0 === o.length && ("left=" === t.options.operator || "left!=" === t.options.operator))
            if ("object" == typeof t.options.left_field_val) {
                for (var s in t.options.left_field_val)
                    if (o = $(n + "_" + t.options.left_field_val[s]),
                    0 === o.length)
                        return o
            } else if (o = $(n + "_" + t.options.left_field_val),
            0 === o.length)
                return o;
        return o
    }
      , n = function(e, t) {
        return "object" == typeof t ? -1 !== t.indexOf(e) : e === t
    }
      , o = function(t, i, o) {
        var s = t.doValidate;
        t.doValidate = function(t) {
            if (!(i.stop_validation_loop > 0 && 0 === --i.stop_validation_loop)) {
                if (!s.apply(this, [t]))
                    return !1;
                switch (0 === i.stop_validation_loop && (i.stop_validation_loop = 2),
                o ? (i.last_lval = t,
                i.rvalidator.validate()) : (i.last_rval = t,
                i.lvalidator.validate()),
                i.options.operator) {
                case "left!=0":
                    if (!o && !e.isEmpty(i.last_lval) && e.isEmpty(i.last_rval))
                        return this.setError(i.getMessage("left_not_empty", "%right_field% is required when %left_field% is provided.", {
                            "%left_field%": i.options.left_field_label,
                            "%right_field%": i.options.right_field_label
                        })),
                        !1;
                    break;
                case "left=":
                    if (!o && n(i.last_lval, i.options.left_field_val) && e.isEmpty(i.last_rval))
                        return this.setError(i.getMessage("left_is", "%right_field% is required when %left_field% has this value.", {
                            "%left_field%": i.options.left_field_label,
                            "%right_field%": i.options.right_field_label
                        })),
                        !1;
                    break;
                case "left!=":
                    if (!o && !n(i.last_lval, i.options.left_field_val) && e.isEmpty(i.last_rval))
                        return this.setError(i.getMessage("left_is_not", "%right_field% is required when %left_field% has this value.", {
                            "%left_field%": i.options.left_field_label,
                            "%right_field%": i.options.right_field_label
                        })),
                        !1;
                    break;
                case "=1":
                    if ((e.isEmpty(i.last_lval) ? 0 : 1) + (e.isEmpty(i.last_rval) ? 0 : 1) != 1)
                        return this.setError(i.getMessage("one_of_them", "One (and only one) of %left_field% or %right_field% must be provided.", {
                            "%left_field%": i.options.left_field_label,
                            "%right_field%": i.options.right_field_label
                        })),
                        !1;
                    break;
                case ">=0":
                    if ((e.isEmpty(i.last_lval) ? 0 : 1) + (e.isEmpty(i.last_rval) ? 0 : 1) == 0)
                        return this.setError(i.getMessage("at_least_one", "At least one of the fields %left_field% or %right_field% must be provided.", {
                            "%left_field%": i.options.left_field_label,
                            "%right_field%": i.options.right_field_label
                        })),
                        !1;
                    break;
                case "<=1":
                    if ((e.isEmpty(i.last_lval) ? 0 : 1) + (e.isEmpty(i.last_rval) ? 0 : 1) == 2)
                        return this.setError(i.getMessage("at_most_one", "At most one of the fields %left_field% or %right_field% must be provided.", {
                            "%left_field%": i.options.left_field_label,
                            "%right_field%": i.options.right_field_label
                        })),
                        !1
                }
                return !0
            }
        }
    }
      , s = function(e, n) {
        t.apply(this, [e, n]);
        var s = e.getRoot();
        if (this.linput = i(s, n, n.options.left_field),
        0 === this.linput.length)
            return void console.error("conditional_require validator is not able to locate left field");
        if (this.lvalidator = this.linput.data("validator"),
        !this.lvalidator)
            return void console.error("Using conditional_require validator currently requires that the left field has a validator");
        if ("function" != typeof this.lvalidator.doValidate)
            return void console.error("Using conditional_require validator currently requires that the left field validator to have a doValidate");
        var a = "#" + s.form.prop("id") + "_" + n.options.right_field.replace(/\|/g, "_");
        return null !== n.options.right_field_values && "object" == typeof n.options.right_field_values && (a += "_" + n.options.right_field_values[0]),
        this.rinput = $(a),
        0 === this.rinput.length ? void console.error("conditional_require validator is not able to locate right field") : (this.rvalidator = this.rinput.data("validator"),
        this.rvalidator ? "function" != typeof this.rvalidator.doValidate ? void console.error("Using conditional_require validator currently requires that the left field validator to have a doValidate") : (this.stop_validation_loop = 0,
        this.last_lval = null,
        this.last_rval = null,
        o(this.lvalidator, this, !0),
        o(this.rvalidator, this, !1),
        void this.lvalidator.validate()) : void console.error("Using conditional_require validator currently requires that the right field has a validator"))
    };
    return s.prototype = new t,
    s.prototype.isValid = function() {
        return !0
    }
    ,
    s.prototype.focus = function() {}
    ,
    s
}),
function(e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define("skins/min/default.creditcards.bwfy", [], e) : ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).creditcards = e()
}(function() {
    return function e(t, i, n) {
        function o(a, r) {
            if (!i[a]) {
                if (!t[a]) {
                    var l = "function" == typeof require && require;
                    if (!r && l)
                        return l(a, !0);
                    if (s)
                        return s(a, !0);
                    throw (l = new Error("Cannot find module '" + a + "'")).code = "MODULE_NOT_FOUND",
                    l
                }
                l = i[a] = {
                    exports: {}
                },
                t[a][0].call(l.exports, function(e) {
                    return o(t[a][1][e] || e)
                }, l, l.exports, e, t, i, n)
            }
            return i[a].exports
        }
        for (var s = "function" == typeof require && require, a = 0; a < n.length; a++)
            o(n[a]);
        return o
    }({
        1: [function(e, t, i) {
            "use strict";
            t.exports = function(e, t, i) {
                if ("function" == typeof Array.prototype.find)
                    return e.find(t, i);
                i = i || this;
                var n, o = e.length;
                if ("function" != typeof t)
                    throw new TypeError(t + " is not a function");
                for (n = 0; n < o; n++)
                    if (t.call(i, e[n], n, e))
                        return e[n]
            }
        }
        , {}],
        2: [function(e, t, i) {
            "use strict";
            t.exports = e("./types")
        }
        , {
            "./types": 10
        }],
        3: [function(e, t, i) {
            "use strict";
            function n(e) {
                if (!(this instanceof n))
                    return new n(e);
                o(this, e)
            }
            var o = e("xtend/mutable");
            (t.exports = n).prototype.digits = 16,
            n.prototype.cvcLength = 3,
            n.prototype.luhn = !0,
            n.prototype.groupPattern = /(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?/,
            n.prototype.group = function(e) {
                return (e.match(this.groupPattern) || []).slice(1).filter(Boolean)
            }
            ,
            n.prototype.test = function(e, t) {
                return this[t ? "eagerPattern" : "pattern"].test(e)
            }
        }
        , {
            "xtend/mutable": 29
        }],
        4: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "American Express",
                digits: 15,
                pattern: /^3[47]\d{13}$/,
                eagerPattern: /^3[47]/,
                groupPattern: /(\d{1,4})(\d{1,6})?(\d{1,5})?/,
                cvcLength: 4
            })
        }
        , {
            "../type": 3
        }],
        5: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "Dankort",
                pattern: /^5019\d{12}$/,
                eagerPattern: /^5019/
            })
        }
        , {
            "../type": 3
        }],
        6: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "Diners Club",
                digits: 14,
                pattern: /^3(0[0-5]|[68]\d)\d{11}$/,
                eagerPattern: /^3(0|[68])/,
                groupPattern: /(\d{1,4})?(\d{1,6})?(\d{1,4})?/
            })
        }
        , {
            "../type": 3
        }],
        7: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "Discover",
                pattern: /^6(011(0[0-9]|[2-4]\d|74|7[7-9]|8[6-9]|9[0-9])|4[4-9]\d{3}|5\d{4})\d{10}$/,
                eagerPattern: /^6(011(0[0-9]|[2-4]|74|7[7-9]|8[6-9]|9[0-9])|4[4-9]|5)/
            })
        }
        , {
            "../type": 3
        }],
        8: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "Elo",
                pattern: /^(4[035]|5[0]|6[235])(6[7263]|9[90]|1[2416]|7[736]|8[9]|0[04579]|5[0])([0-9])([0-9])\d{10}$/,
                eagerPattern: /^(4[035]|5[0]|6[235])(6[7263]|9[90]|1[2416]|7[736]|8[9]|0[04579]|5[0])([0-9])([0-9])/,
                groupPattern: /(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/
            })
        }
        , {
            "../type": 3
        }],
        9: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "Forbrugsforeningen",
                pattern: /^600722\d{10}$/,
                eagerPattern: /^600/
            })
        }
        , {
            "../type": 3
        }],
        10: [function(e, t, i) {
            "use strict";
            t.exports = [e("./visa"), e("./maestro"), e("./forbrugsforeningen"), e("./dankort"), e("./mastercard"), e("./american-express"), e("./diners-club"), e("./discover"), e("./jcb"), e("./unionpay"), e("./troy"), e("./elo"), e("./uatp")]
        }
        , {
            "./american-express": 4,
            "./dankort": 5,
            "./diners-club": 6,
            "./discover": 7,
            "./elo": 8,
            "./forbrugsforeningen": 9,
            "./jcb": 11,
            "./maestro": 12,
            "./mastercard": 13,
            "./troy": 14,
            "./uatp": 15,
            "./unionpay": 16,
            "./visa": 17
        }],
        11: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "JCB",
                pattern: /^35\d{14}$/,
                eagerPattern: /^35/
            })
        }
        , {
            "../type": 3
        }],
        12: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "Maestro",
                digits: [12, 19],
                pattern: /^(?:5[06789]\d\d|(?!6011[0234])(?!60117[4789])(?!60118[6789])(?!60119)(?!64[456789])(?!65)6\d{3})\d{8,15}$/,
                eagerPattern: /^(5(018|0[23]|[68])|6[37]|60111|60115|60117([56]|7[56])|60118[0-5]|64[0-3]|66)/,
                groupPattern: /(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/
            })
        }
        , {
            "../type": 3
        }],
        13: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "Mastercard",
                pattern: /^(5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)\d{12}$/,
                eagerPattern: /^(2[3-7]|22[2-9]|5[1-5])/
            })
        }
        , {
            "../type": 3
        }],
        14: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "Troy",
                pattern: /^9792\d{12}$/,
                eagerPattern: /^9792/
            })
        }
        , {
            "../type": 3
        }],
        15: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "UATP",
                digits: 15,
                pattern: /^1\d{14}$/,
                eagerPattern: /^1/,
                groupPattern: /(\d{1,4})(\d{1,5})?(\d{1,6})?/
            })
        }
        , {
            "../type": 3
        }],
        16: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "UnionPay",
                pattern: /^62[0-5]\d{13,16}$/,
                eagerPattern: /^62/,
                groupPattern: /(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/,
                luhn: !1
            })
        }
        , {
            "../type": 3
        }],
        17: [function(e, t, i) {
            "use strict";
            e = e("../type"),
            t.exports = e({
                name: "Visa",
                digits: [13, 19],
                pattern: /^4\d{12}(\d{3}|\d{6})?$/,
                eagerPattern: /^4/,
                groupPattern: /(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/
            })
        }
        , {
            "../type": 3
        }],
        18: [function(e, t, i) {
            "use strict";
            var n = e("fast-luhn")
              , o = e("./types");
            t.exports = function(e) {
                function t(e, t) {
                    return i.find(function(i) {
                        return i.test(e, t)
                    })
                }
                var i = o(e);
                return {
                    types: e,
                    parse: function(e) {
                        return "string" != typeof e ? "" : e.replace(/[^\d]/g, "")
                    },
                    format: function(e, i) {
                        var n = t(e, !0);
                        return n ? n.group(e).join(i || " ") : e
                    },
                    type: function(e, i) {
                        return i = t(e, i),
                        i ? i.name : undefined
                    },
                    luhn: n,
                    isValid: function(e, o) {
                        return !!(o = o ? i.get(o) : t(e)) && (!o.luhn || n(e)) && o.test(e)
                    }
                }
            }
        }
        , {
            "./types": 21,
            "fast-luhn": 23
        }],
        19: [function(e, t, i) {
            "use strict";
            var n = e("./types")
              , o = /^\d{3,4}$/;
            t.exports = function(e) {
                var t = n(e);
                return {
                    isValid: function(e, i) {
                        return "string" == typeof e && !!o.test(e) && (i ? t.get(i).cvcLength === e.length : t.some(function(t) {
                            return t.cvcLength === e.length
                        }))
                    }
                }
            }
        }
        , {
            "./types": 21
        }],
        20: [function(e, t, i) {
            "use strict";
            var n = e("is-valid-month")
              , o = e("parse-int")
              , e = e("parse-year");
            t.exports = {
                isPast: function(e, t) {
                    return Date.now() >= new Date(t,e)
                },
                month: {
                    parse: function(e) {
                        return o(e)
                    },
                    isValid: n
                },
                year: {
                    parse: e,
                    format: function(e, t) {
                        return e = e.toString(),
                        t ? e.substr(2, 4) : e
                    },
                    isValid: function(e) {
                        return "number" == typeof e && 0 < (e = o(e))
                    },
                    isPast: function(e) {
                        return (new Date).getFullYear() > e
                    }
                }
            }
        }
        , {
            "is-valid-month": 26,
            "parse-int": 27,
            "parse-year": 28
        }],
        21: [function(e, t, i) {
            "use strict";
            var n = e("array-find")
              , e = e("creditcards-types");
            t.exports = function(e) {
                var t = e.reduce(function(e, t) {
                    return e[t.name] = t,
                    e
                }, {});
                return {
                    find: n.bind(null, e),
                    some: e.some.bind(e),
                    get: function(e) {
                        var i = t[e];
                        if (i)
                            return i;
                        throw new Error("No type found for name: " + e)
                    }
                }
            }
            ,
            t.exports.defaults = e
        }
        , {
            "array-find": 1,
            "creditcards-types": 2
        }],
        22: [function(e, t, i) {
            "use strict";
            var n = e("zero-fill")
              , o = e("parse-int")
              , s = n(2);
            t.exports = function(e, t) {
                return t = (t = t || new Date).getFullYear().toString().substr(0, 2),
                e = o(e),
                o(t + s(e))
            }
        }
        , {
            "parse-int": 27,
            "zero-fill": 30
        }],
        23: [function(e, t, i) {
            "use strict";
            var n;
            t.exports = (n = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9],
            function(e) {
                if ("string" != typeof e)
                    throw new TypeError("Expected string input");
                if (!e)
                    return !1;
                for (var t, i = e.length, o = 1, s = 0; i; )
                    t = parseInt(e.charAt(--i), 10),
                    s += (o ^= 1) ? n[t] : t;
                return s % 10 == 0
            }
            )
        }
        , {}],
        24: [function(e, t, i) {
            "use strict";
            t.exports = Number.isFinite || function(e) {
                return !("number" != typeof e || e != e || e === Infinity || e === -Infinity)
            }
        }
        , {}],
        25: [function(e, t, i) {
            var n = e("is-finite");
            t.exports = Number.isInteger || function(e) {
                return "number" == typeof e && n(e) && Math.floor(e) === e
            }
        }
        , {
            "is-finite": 24
        }],
        26: [function(e, t, i) {
            "use strict";
            var n = e("is-integer");
            t.exports = function(e) {
                return !("number" != typeof e || !n(e)) && 1 <= e && e <= 12
            }
        }
        , {
            "is-integer": 25
        }],
        27: [function(e, t, i) {
            "use strict";
            var n = e("is-integer")
              , o = /^-?\d+$/;
            t.exports = function(e) {
                return "number" == typeof e ? n(e) ? e : undefined : "string" == typeof e ? o.test(e) ? parseInt(e, 10) : undefined : void 0
            }
        }
        , {
            "is-integer": 25
        }],
        28: [function(e, t, i) {
            "use strict";
            var n = e("parse-int")
              , o = e("expand-year");
            t.exports = function(e, t, i) {
                if (null != (e = n(e)))
                    return t ? o(e, i) : e
            }
        }
        , {
            "expand-year": 22,
            "parse-int": 27
        }],
        29: [function(e, t, i) {
            t.exports = function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var i, o = arguments[t];
                    for (i in o)
                        n.call(o, i) && (e[i] = o[i])
                }
                return e
            }
            ;
            var n = Object.prototype.hasOwnProperty
        }
        , {}],
        30: [function(e, t, i) {
            t.exports = function n(e, t, i) {
                return t === undefined ? function(t, i) {
                    return n(e, t, i)
                }
                : (i === undefined && (i = "0"),
                0 < (e -= t.toString().length) ? new Array(e + (/\./.test(t) ? 2 : 1)).join(i) + t : t + "")
            }
        }
        , {}],
        31: [function(e, t, i) {
            t.exports = {
                Card: e("creditcards/card"),
                Cvc: e("creditcards/cvc"),
                CcTypes: e("creditcards-types"),
                Expiration: e("creditcards/expiration")
            }
        }
        , {
            "creditcards-types": 2,
            "creditcards/card": 18,
            "creditcards/cvc": 19,
            "creditcards/expiration": 20
        }]
    }, {}, [31])(31)
}),
define("skins/form/validator/credit_card", ["static/utils", "./base", "./focus", "skins/min/default.creditcards.bwfy"], function(e, t, i, n) {
    var o = function(e, i) {
        t.apply(this, [e, i]);
        var o = this
          , s = e.getRoot()
          , a = $("#" + s.form.prop("id") + "_" + i.options.number_field.replace(/\|/g, "_"));
        if (this.cc_num_error = !1,
        this.cc_num_validator = a.data("validator"),
        !this.cc_num_validator)
            return void console.error("No validator for CC number field");
        this.cc_num_label = a.prop("placeholder");
        var r = $("#" + s.form.prop("id") + "_" + i.options.month_field.replace(/\|/g, "_"));
        if (this.cc_month_error = !1,
        this.cc_month_validator = r.data("validator"),
        this.cc_month_label = "",
        !this.cc_month_validator)
            return void console.error("No validator for CC month field");
        r.find("option").each(function() {
            if (!$(this).val() && $(this).text().trim().length > 0)
                return o.cc_month_label = $(this).text().trim(),
                !1
        });
        var l = $("#" + s.form.prop("id") + "_" + i.options.year_field.replace(/\|/g, "_"));
        if (0 === l.length)
            return void console.error("No input for CC year field");
        l.find("option").each(function() {
            if (!$(this).val() && $(this).text().trim().length > 0)
                return o.cc_month_label += " " + $(this).text().trim(),
                !1
        });
        var u = $("#" + s.form.prop("id") + "_" + i.options.cvv_field.replace(/\|/g, "_"));
        if (this.cc_cvv_error = !1,
        this.cc_cvv_validator = u.data("validator"),
        !this.cc_cvv_validator)
            return void console.error("No validator for CVV field");
        this.cc_cvv_label = u.prop("placeholder");
        var f = $('<div class="cc-icon"></div>').insertAfter(a)
          , c = n.Card(n.CcTypes)
          , d = n.Cvc(n.CcTypes)
          , h = !1
          , p = l.val();
        l.on("change", function() {
            p = l.val(),
            o.cc_month_validator.validate()
        });
        var _ = this.cc_num_validator.doValidate;
        this.cc_num_validator.doValidate = function(e) {
            if (o.cc_num_error = !0,
            !_.apply(this, [e]))
                return !1;
            var t = c.parse(e);
            h = c.type(t, !0),
            o.cc_cvv_validator.validate();
            var i = h ? h.toLowerCase().replace(" ", "-") : "";
            return f.removeClass().addClass("cc-icon " + i),
            this.input.val(c.format(t)),
            c.isValid(t) ? (o.cc_num_error = !1,
            !0) : (this.setError(o.getMessage("invalid_number")),
            !1)
        }
        ;
        var g = this.cc_month_validator.doValidate;
        this.cc_month_validator.doValidate = function(e) {
            if (o.cc_month_error = !0,
            !g.apply(this, [e]))
                return !1;
            var t = n.Expiration.month.parse(e)
              , i = n.Expiration.month.parse(p);
            return n.Expiration.month.isValid(t) && n.Expiration.year.isValid(i) ? n.Expiration.isPast(t, i) ? (this.setError(o.getMessage("invalid_date")),
            !1) : (o.cc_month_error = !1,
            !0) : (this.setError(o.getMessage("invalid_date")),
            !1)
        }
        ;
        var m = this.cc_cvv_validator.doValidate;
        this.cc_cvv_validator.doValidate = function(e) {
            return o.cc_cvv_error = !0,
            !!m.apply(this, [e]) && (d.isValid(e, h) ? (o.cc_cvv_error = !1,
            !0) : (this.setError(o.getMessage("invalid_cvv")),
            !1))
        }
        ,
        this.cc_num_validator.validate()
    };
    return o.prototype = new t,
    o.prototype.isValid = function() {
        return !this.cc_num_error && !this.cc_month_error && !this.cc_cvv_error
    }
    ,
    o.prototype.focus = function() {
        i.focus(this.getInputError())
    }
    ,
    o.prototype.getLabel = function() {
        return input_err = this.getInputError(),
        input_err === this.cc_num_validator ? this.cc_num_label : input_err === this.cc_month_validator ? this.cc_month_label : input_err === this.cc_cvv_validator && this.cc_cvv_label
    }
    ,
    o.prototype.getInputError = function() {
        return this.cc_num_error ? this.cc_num_validator : this.cc_month_error ? this.cc_month_validator : this.cc_cvv_error ? this.cc_cvv_validator : this.cc_num_validator
    }
    ,
    o
}),
define("skins/form/validator/xhr", [], function() {
    var e = function(e, t, i, n) {
        this.cache = {},
        this.result_cache = {},
        this.url = e,
        this.params = "object" == typeof t ? t : [t],
        this.other_params = {},
        this.min_chars = i || 3,
        this.intervall = n || 1e3,
        this.last_check = 0,
        this.last_checked = null,
        this.pending_check = null,
        this.timer = null,
        this.xhr = null
    };
    return e.prototype = {
        checkStart: null,
        checkEnd: null,
        checkError: null,
        setOtherParam: function(e, t) {
            this.other_params[e] = t
        },
        check: function() {
            var t = arguments;
            if (t.length !== this.params.length)
                return console.error("validator/xhr.check: You passed " + t.length + " arguments when " + this.params.length + " are required", t, t.length, this.params, this.params.length),
                void this.checkEnd(!0, {});
            for (var i in t)
                if (t[i].length < this.min_chars)
                    return void this.checkEnd(!0, {});
            var n = "";
            for (var i in t)
                n += "+" + t[i];
            for (var o in this.other_params)
                n += "+" + o + "+" + this.other_params[o];
            if ("undefined" != typeof this.cache[n])
                return void this.checkEnd(this.cache[n], this.result_cache[n]);
            if (this.last_checked !== n) {
                this.checkStart(),
                this.pending_check = t;
                var s = (new Date).getTime()
                  , a = this;
                if (s - this.last_check <= this.intervall) {
                    if (this.timer)
                        return;
                    return void (this.timer = window.setTimeout(function() {
                        a.timer = null,
                        e.prototype.check.apply(a, a.pending_check)
                    }, this.intervall - (s - this.last_check)))
                }
                this.last_checked = n,
                this.last_check = s,
                this.xhr && this.xhr.abort();
                var r = {};
                for (var o in this.params)
                    r[this.params[o]] = t[o];
                for (var o in this.other_params)
                    r[o] = this.other_params[o];
                this.xhr = $.getJSON(this.url, r, function(e) {
                    a.result_cache[n] = e,
                    e.result ? a.cache[n] = !0 : a.cache[n] = e.message,
                    a.checkEnd(a.cache[n], e)
                }).fail(function() {
                    a.checkError()
                })
            }
        }
    },
    e
}),
define("skins/form/validator/input_base", ["lib/tools", "static/dom", "static/utils", "lib/converter", "lib/helpers/popup", "./base", "./focus", "./xhr"], function(e, t, i, n, o, s, a, r) {
    var l = []
      , u = "rtl" === $("html").prop("dir")
      , f = function(e, t) {
        if ("object" == typeof t) {
            s.apply(this, [e, t]),
            this.id = t.elt_id,
            this.input = this.getInput(),
            this.input_agent = this.getInputAgent(),
            this.type = t.elt_type,
            this.input_type = t.input_type,
            this.focused = this.input.is(":focus"),
            this.has_error = !1,
            this.error_txt = !1,
            this.warning = !1,
            this.icon = null,
            this.popup = null,
            this.popup_timer = null;
            var i = this;
            this.input.on("focus", function() {
                i.focused = !0,
                i.showError(),
                i.showWarning()
            }),
            this.input.on("blur", function() {
                i.focused = !1,
                i.startTimer(!0)
            }),
            this.input.data("validator", this),
            this.input.trigger("validator-init")
        }
    };
    f.prototype = new s,
    f.prototype.doValidate = null,
    f.prototype.validate = function() {
        return !(this.doValidate && !this.doValidate(this.getValue())) && this.validateXhr()
    }
    ,
    f.prototype.refresh = function() {
        this.positionIcon()
    }
    ,
    f.prototype.getInputAgent = function() {
        return this.input
    }
    ,
    f.prototype.focus = function() {
        a.focus(this.input_agent),
        this.showError(),
        this.showWarning()
    }
    ,
    f.prototype.isValid = function() {
        return !(this.has_error || this.options.required && this.isEmpty())
    }
    ,
    f.prototype.getInput = function() {
        return $("#" + this.id)
    }
    ,
    f.prototype.getValue = function() {
        return $.trim(this.input.val())
    }
    ,
    f.prototype.isEmpty = function() {
        return 0 === this.getValue().length
    }
    ,
    f.prototype.showIcon = function(e, t) {
        if (this.icon)
            this.icon.removeClass().show();
        else {
            this.icon = $("<i></i>").css("position", "absolute").css("z-index", "100");
            var i = this.input.parent().css("position", "relative");
            i.hasClass("input-group") ? this.icon.appendTo(i) : this.icon.insertAfter(this.input),
            l.push(this)
        }
        this.icon.addClass("icon-f icf-" + e + " text-" + t),
        this.positionIcon();
        var n = this;
        this.icon.on("mouseover", function() {
            n.showError(),
            n.showWarning()
        })
    }
    ,
    f.prototype.hideIcon = function(e, t) {
        this.icon && this.icon.hide()
    }
    ,
    f.prototype.positionIcon = function() {
        if (this.icon) {
            var e = this.getIconPositionReference()
              , t = e.position();
            this.icon.css({
                top: this.options.tooltip_position_top ? Math.round(t.top + n.trimPx(e.css("borderTopWidth")) + 2) + "px" : Math.round(t.top + e.outerHeight() - this.icon.outerHeight() - 2) + "px",
                left: u ? Math.round(t.left + n.trimPx(e.css("borderLeftWidth")) + 2) + "px" : Math.round(t.left + e.innerWidth() - this.icon.outerWidth() - 2 - n.trimPx(e.css("borderLeftWidth"))) + "px"
            })
        }
    }
    ,
    f.prototype.getIconPositionReference = function() {
        return this.input
    }
    ,
    f.prototype.showTooltip = function(e) {
        this.popup ? (this.popup.open(),
        e && this.popup.setContent(e)) : (this.popup = new o(this.icon,e,{
            relative_to: this.getTooltipParent(),
            trigger: !1,
            autoclose: !1,
            position: {
                v: this.options.tooltip_position_top ? "above" : "below",
                h: u ? "left" : "right"
            },
            popup_class: "form-popup-error",
            offset: {
                below: 0,
                above: 0,
                left: u ? -4 : 0,
                right: u ? 0 : -4
            },
            max_width: 500
        }),
        this.input.is(":focus") && this.popup.open()),
        this.startTimer(!0)
    }
    ,
    f.prototype.getTooltipParent = function() {
        return this.input.parent()
    }
    ,
    f.prototype.setLoading = function() {
        this.unsetError(),
        this.errorChanged && this.errorChanged(!1, this),
        this.showIcon("spinner icf-anim-pulse", "primary")
    }
    ,
    f.prototype.setSuccess = function() {
        this.unsetError(),
        this.errorChanged && this.errorChanged(!1, this),
        this.warning ? this.showWarning() : (this.hideIcon(),
        this.popup && this.popup.close())
    }
    ,
    f.prototype.setWarning = function(e) {
        this.warning = e,
        this.has_error || this.showWarning()
    }
    ,
    f.prototype.showWarning = function() {
        if (this.has_error || !this.warning)
            return !1;
        this.showIcon("warning", "warning"),
        this.showTooltip("<span>" + this.warning + "</span>")
    }
    ,
    f.prototype.clearWarning = function() {
        this.warning = !1,
        this.hideTooltip()
    }
    ,
    f.prototype.getLabel = function() {
        var e = function(e) {
            return e = e.trim(),
            e.lastIndexOf(":") + 1 === e.length && (e = e.substr(0, e.length - 1)),
            e
        };
        if (this.input) {
            if (this.input.prop("id")) {
                var t = $("label[for=" + this.input.prop("id") + "]");
                if (t.length > 0 && t.text() && (t = e(t.text()),
                t.length > 0))
                    return t
            }
            if (this.input.prop("placeholder") && (t = e(this.input.prop("placeholder")),
            t.length > 0))
                return t;
            var i = this.input
              , n = $();
            do {
                i = i.parents("fieldset"),
                n = i.find("legend").first()
            } while (i.length > 0 && 0 === n.length);
            if (n.length > 0 && n.text()) {
                var o = !1
                  , s = !0;
                if (i.find("input, textarea, select").each(function() {
                    o ? o !== $(this).prop("name") && (s = !1) : o = $(this).prop("name")
                }),
                s && (t = e(n.text()),
                t.length > 0))
                    return t
            }
        }
        return !1
    }
    ,
    f.prototype.getError = function() {
        return this.error_txt
    }
    ,
    f.prototype.unsetError = function() {
        this.has_error = !1,
        this.error_txt = !1,
        this.input_agent.removeClass("validator-error")
    }
    ,
    f.prototype.setError = function(e, t) {
        this.has_error = !0,
        this.error_txt = e,
        this.errorChanged && this.errorChanged(!0, this),
        this.showIcon("close", "danger"),
        this.input_agent.addClass("validator-error"),
        e = $("<span>" + e + "</span>"),
        "function" == typeof t && e.addClass("click-func").on("mousedown", t),
        this.showTooltip(e)
    }
    ,
    f.prototype.showError = function() {
        if (!this.has_error)
            return !1;
        this.showTooltip()
    }
    ,
    f.prototype.hideTooltip = function(e) {
        if (!e && (!this.has_error && !this.warning || this.focused))
            return !1;
        this.popup && this.popup.close()
    }
    ,
    f.prototype.startTimer = function(e) {
        if (this.popup_timer) {
            if (!e)
                return;
            window.clearTimeout(this.popup_timer)
        }
        var t = this;
        this.popup_timer = window.setTimeout(function() {
            t.hideTooltip()
        }, 3e3)
    }
    ,
    f.prototype.stopTimer = function() {
        this.popup_timer && (window.clearTimeout(this.popup_timer),
        this.popup_timer = null)
    }
    ,
    f.prototype.hasXhr = function(e) {
        return !!this.vxhr && "object" == typeof this.vxhr[e]
    }
    ,
    f.prototype.setupXhr = function(e, t, i, n, o) {
        if (this.vxhr || (this.vxhr = {},
        this.vxhr_other_values = {},
        this.vxhr_callbacks = {},
        this.nb_xhr = 0),
        "undefined" == typeof this.vxhr[e]) {
            var s = this;
            this.vxhr[e] = new r(t,i,n,o),
            this.vxhr[e].checkStart = function() {
                s.setLoading()
            }
            ,
            this.vxhr[e].checkError = function() {
                s.vxhr_nbchecked++;
                for (var t in s.vxhr_callbacks[e].error)
                    s.vxhr_callbacks[e].error[t]();
                s.checkXhrs()
            }
            ,
            this.vxhr[e].checkEnd = function(t, i) {
                !0 !== t && s.vxhr_errors.push(t);
                for (var n in s.vxhr_callbacks[e].success)
                    s.vxhr_callbacks[e].success[n](t, i);
                s.vxhr_nbchecked++,
                s.checkXhrs()
            }
            ,
            this.nb_xhr++,
            this.vxhr_other_values[e] = [],
            this.vxhr_callbacks[e] = {
                success: [],
                error: []
            }
        }
    }
    ,
    f.prototype.setXhrOtherParam = function(e, t, i) {
        this.vxhr[e].setOtherParam(t, i)
    }
    ,
    f.prototype.setXhrOtherValues = function(e, t) {
        this.vxhr_other_values[e] = t
    }
    ,
    f.prototype.addXhrSuccessCallback = function(e, t) {
        this.vxhr_callbacks[e].success.push(t)
    }
    ,
    f.prototype.addXhrErrorCallback = function(e, t) {
        this.vxhr_callbacks[e].error.push(t)
    }
    ,
    f.prototype.validateXhr = function() {
        if (!this.vxhr)
            return this.setSuccess(),
            !0;
        this.vxhr_errors = [],
        this.vxhr_nbchecked = 0;
        var e = this.getValue();
        for (var t in this.vxhr)
            this.vxhr.hasOwnProperty(t) && r.prototype.check.apply(this.vxhr[t], [e].concat(this.vxhr_other_values[t]));
        return !1
    }
    ,
    f.prototype.checkXhrs = function() {
        if (this.nb_xhr === this.vxhr_nbchecked)
            return 0 === this.vxhr_errors.length ? void this.setSuccess() : void this.setError(this.vxhr_errors.join("<br>"))
    }
    ;
    var c, d = function() {
        c && (c = null);
        for (var e in l)
            l[e].positionIcon()
    };
    return $(window).on("resize", function() {
        c || (c = window.setTimeout(d, 250))
    }),
    f
}),
function(e, t) {
    "function" == typeof define && define.amd ? define("libs/croppie", t) : "object" == typeof exports && "string" != typeof exports.nodeName ? module.exports = t() : e.Croppie = t()
}("undefined" != typeof self ? self : this, function() {
    function e(e) {
        if (e in G)
            return e;
        for (var t = e[0].toUpperCase() + e.slice(1), i = X.length; i--; )
            if ((e = X[i] + t)in G)
                return e
    }
    function t(e, t) {
        var i = Y.indexOf(e) > -1 ? Y : K
          , n = i.indexOf(e)
          , o = t / 90 % i.length;
        return i[(i.length + n + o % i.length) % i.length]
    }
    function i(e, t) {
        e = e || {};
        for (var n in t)
            t[n] && t[n].constructor && t[n].constructor === Object ? (e[n] = e[n] || {},
            i(e[n], t[n])) : e[n] = t[n];
        return e
    }
    function n(e) {
        return i({}, e)
    }
    function o(e) {
        if ("createEvent"in document) {
            var t = document.createEvent("HTMLEvents");
            t.initEvent("change", !1, !0),
            e.dispatchEvent(t)
        } else
            e.fireEvent("onchange")
    }
    function s(e, t, i) {
        if ("string" == typeof t) {
            var n = t;
            t = {},
            t[n] = i
        }
        for (var o in t)
            e.style[o] = t[o]
    }
    function a(e, t) {
        e.classList ? e.classList.add(t) : e.className += " " + t
    }
    function r(e, t) {
        e.classList ? e.classList.remove(t) : e.className = e.className.replace(t, "")
    }
    function l(e, t) {
        for (var i in t)
            e.setAttribute(i, t[i])
    }
    function u(e) {
        return parseInt(e, 10)
    }
    function f(e, t) {
        if (!e)
            throw "Source image missing";
        var i = new Image;
        return i.style.opacity = "0",
        new Promise(function(n, o) {
            function s() {
                i.style.opacity = "1",
                setTimeout(function() {
                    n(i)
                }, 1)
            }
            i.removeAttribute("crossOrigin"),
            e.match(/^https?:\/\/|^\/\//) && i.setAttribute("crossOrigin", "anonymous"),
            i.onload = function() {
                t ? EXIF.getData(i, function() {
                    s()
                }) : s()
            }
            ,
            i.onerror = function(e) {
                i.style.opacity = 1,
                setTimeout(function() {
                    o(e)
                }, 1)
            }
            ,
            i.src = e
        }
        )
    }
    function c(e, t) {
        var i = e.naturalWidth
          , n = e.naturalHeight
          , o = t || d(e);
        if (o && o >= 5) {
            var s = i;
            i = n,
            n = s
        }
        return {
            width: i,
            height: n
        }
    }
    function d(e) {
        return e.exifdata && e.exifdata.Orientation ? u(e.exifdata.Orientation) : 1
    }
    function h(e, t, i) {
        var n = t.width
          , o = t.height
          , s = e.getContext("2d");
        switch (e.width = t.width,
        e.height = t.height,
        s.save(),
        i) {
        case 2:
            s.translate(n, 0),
            s.scale(-1, 1);
            break;
        case 3:
            s.translate(n, o),
            s.rotate(180 * Math.PI / 180);
            break;
        case 4:
            s.translate(0, o),
            s.scale(1, -1);
            break;
        case 5:
            e.width = o,
            e.height = n,
            s.rotate(90 * Math.PI / 180),
            s.scale(1, -1);
            break;
        case 6:
            e.width = o,
            e.height = n,
            s.rotate(90 * Math.PI / 180),
            s.translate(0, -o);
            break;
        case 7:
            e.width = o,
            e.height = n,
            s.rotate(-90 * Math.PI / 180),
            s.translate(-n, o),
            s.scale(1, -1);
            break;
        case 8:
            e.width = o,
            e.height = n,
            s.translate(0, n),
            s.rotate(-90 * Math.PI / 180)
        }
        s.drawImage(t, 0, 0, n, o),
        s.restore()
    }
    function p() {
        var e, t, i, n, o, r, u = this, f = u.options.viewport.type ? "cr-vp-" + u.options.viewport.type : null;
        u.options.useCanvas = u.options.enableOrientation || _.call(u),
        u.data = {},
        u.elements = {},
        e = u.elements.boundary = document.createElement("div"),
        i = u.elements.viewport = document.createElement("div"),
        t = u.elements.img = document.createElement("img"),
        n = u.elements.overlay = document.createElement("div"),
        u.options.useCanvas ? (u.elements.canvas = document.createElement("canvas"),
        u.elements.preview = u.elements.canvas) : u.elements.preview = t,
        a(e, "cr-boundary"),
        e.setAttribute("aria-dropeffect", "none"),
        o = u.options.boundary.width,
        r = u.options.boundary.height,
        s(e, {
            width: o + (isNaN(o) ? "" : "px"),
            height: r + (isNaN(r) ? "" : "px")
        }),
        a(i, "cr-viewport"),
        f && a(i, f),
        s(i, {
            width: u.options.viewport.width + "px",
            height: u.options.viewport.height + "px"
        }),
        i.setAttribute("tabindex", 0),
        a(u.elements.preview, "cr-image"),
        l(u.elements.preview, {
            alt: "preview",
            "aria-grabbed": "false"
        }),
        a(n, "cr-overlay"),
        u.element.appendChild(e),
        e.appendChild(u.elements.preview),
        e.appendChild(i),
        e.appendChild(n),
        a(u.element, "croppie-container"),
        u.options.customClass && a(u.element, u.options.customClass),
        w.call(this),
        u.options.enableZoom && b.call(u),
        u.options.enableResize && g.call(u)
    }
    function _() {
        return this.options.enableExif && window.EXIF
    }
    function g() {
        function e(e) {
            if ((e.button === undefined || 0 === e.button) && (e.preventDefault(),
            !p)) {
                var s = d.elements.overlay.getBoundingClientRect();
                if (p = !0,
                o = e.pageX,
                r = e.pageY,
                n = -1 !== e.currentTarget.className.indexOf("vertical") ? "v" : "h",
                l = s.width,
                u = s.height,
                e.touches) {
                    var a = e.touches[0];
                    o = a.pageX,
                    r = a.pageY
                }
                window.addEventListener("mousemove", t),
                window.addEventListener("touchmove", t),
                window.addEventListener("mouseup", i),
                window.addEventListener("touchend", i),
                document.body.style[W] = "none"
            }
        }
        function t(e) {
            var t = e.pageX
              , i = e.pageY;
            if (e.preventDefault(),
            e.touches) {
                var a = e.touches[0];
                t = a.pageX,
                i = a.pageY
            }
            var f = t - o
              , c = i - r
              , p = d.options.viewport.height + c
              , g = d.options.viewport.width + f;
            "v" === n && p >= _ && p <= u ? (s(h, {
                height: p + "px"
            }),
            d.options.boundary.height += c,
            s(d.elements.boundary, {
                height: d.options.boundary.height + "px"
            }),
            d.options.viewport.height += c,
            s(d.elements.viewport, {
                height: d.options.viewport.height + "px"
            })) : "h" === n && g >= _ && g <= l && (s(h, {
                width: g + "px"
            }),
            d.options.boundary.width += f,
            s(d.elements.boundary, {
                width: d.options.boundary.width + "px"
            }),
            d.options.viewport.width += f,
            s(d.elements.viewport, {
                width: d.options.viewport.width + "px"
            })),
            C.call(d),
            E.call(d),
            y.call(d),
            k.call(d),
            r = i,
            o = t
        }
        function i() {
            p = !1,
            window.removeEventListener("mousemove", t),
            window.removeEventListener("touchmove", t),
            window.removeEventListener("mouseup", i),
            window.removeEventListener("touchend", i),
            document.body.style[W] = ""
        }
        var n, o, r, l, u, f, c, d = this, h = document.createElement("div"), p = !1, _ = 50;
        a(h, "cr-resizer"),
        s(h, {
            width: this.options.viewport.width + "px",
            height: this.options.viewport.height + "px"
        }),
        this.options.resizeControls.height && (f = document.createElement("div"),
        a(f, "cr-resizer-vertical"),
        h.appendChild(f)),
        this.options.resizeControls.width && (c = document.createElement("div"),
        a(c, "cr-resizer-horisontal"),
        h.appendChild(c)),
        f && (f.addEventListener("mousedown", e),
        f.addEventListener("touchstart", e)),
        c && (c.addEventListener("mousedown", e),
        c.addEventListener("touchstart", e)),
        this.elements.boundary.appendChild(h)
    }
    function m(e) {
        if (this.options.enableZoom) {
            var t = this.elements.zoomer
              , i = B(e, 4);
            t.value = Math.max(parseFloat(t.min), Math.min(parseFloat(t.max), i)).toString()
        }
    }
    function b() {
        function e() {
            v.call(i, {
                value: parseFloat(o.value),
                origin: new Q(i.elements.preview),
                viewportRect: i.elements.viewport.getBoundingClientRect(),
                transform: J.parse(i.elements.preview)
            })
        }
        function t(t) {
            var n, o;
            if ("ctrl" === i.options.mouseWheelZoom && !0 !== t.ctrlKey)
                return 0;
            n = t.wheelDelta ? t.wheelDelta / 1200 : t.deltaY ? t.deltaY / 1060 : t.detail ? t.detail / -60 : 0,
            o = i._currentZoom + n * i._currentZoom,
            t.preventDefault(),
            m.call(i, o),
            e.call(i)
        }
        var i = this
          , n = i.elements.zoomerWrap = document.createElement("div")
          , o = i.elements.zoomer = document.createElement("input");
        a(n, "cr-slider-wrap"),
        a(o, "cr-slider"),
        o.type = "range",
        o.step = "0.0001",
        o.value = "1",
        o.style.display = i.options.showZoomer ? "" : "none",
        o.setAttribute("aria-label", "zoom"),
        i.element.appendChild(n),
        n.appendChild(o),
        i._currentZoom = 1,
        i.elements.zoomer.addEventListener("input", e),
        i.elements.zoomer.addEventListener("change", e),
        i.options.mouseWheelZoom && (i.elements.boundary.addEventListener("mousewheel", t),
        i.elements.boundary.addEventListener("DOMMouseScroll", t))
    }
    function v(e) {
        function t() {
            var e = {};
            e[z] = n.toString(),
            e[H] = a.toString(),
            s(i.elements.preview, e)
        }
        var i = this
          , n = e ? e.transform : J.parse(i.elements.preview)
          , o = e ? e.viewportRect : i.elements.viewport.getBoundingClientRect()
          , a = e ? e.origin : new Q(i.elements.preview);
        if (i._currentZoom = e ? e.value : i._currentZoom,
        n.scale = i._currentZoom,
        i.elements.zoomer.setAttribute("aria-valuenow", i._currentZoom),
        t(),
        i.options.enforceBoundary) {
            var r = D.call(i, o)
              , l = r.translate
              , u = r.origin;
            n.x >= l.maxX && (a.x = u.minX,
            n.x = l.maxX),
            n.x <= l.minX && (a.x = u.maxX,
            n.x = l.minX),
            n.y >= l.maxY && (a.y = u.minY,
            n.y = l.maxY),
            n.y <= l.minY && (a.y = u.maxY,
            n.y = l.minY)
        }
        t(),
        ee.call(i),
        k.call(i)
    }
    function D(e) {
        var t = this
          , i = t._currentZoom
          , n = e.width
          , o = e.height
          , s = t.elements.boundary.clientWidth / 2
          , a = t.elements.boundary.clientHeight / 2
          , r = t.elements.preview.getBoundingClientRect()
          , l = r.width
          , u = r.height
          , f = n / 2
          , c = o / 2
          , d = -1 * (f / i - s)
          , h = d - (l * (1 / i) - n * (1 / i))
          , p = -1 * (c / i - a)
          , _ = p - (u * (1 / i) - o * (1 / i))
          , g = 1 / i * f
          , m = l * (1 / i) - g
          , b = 1 / i * c;
        return {
            translate: {
                maxX: d,
                minX: h,
                maxY: p,
                minY: _
            },
            origin: {
                maxX: m,
                minX: g,
                maxY: u * (1 / i) - b,
                minY: b
            }
        }
    }
    function y(e) {
        var t = this
          , i = t._currentZoom
          , n = t.elements.preview.getBoundingClientRect()
          , o = t.elements.viewport.getBoundingClientRect()
          , a = J.parse(t.elements.preview.style[z])
          , r = new Q(t.elements.preview)
          , l = o.top - n.top + o.height / 2
          , u = o.left - n.left + o.width / 2
          , f = {}
          , c = {};
        if (e) {
            var d = r.x
              , h = r.y
              , p = a.x
              , _ = a.y;
            f.y = d,
            f.x = h,
            a.y = p,
            a.x = _
        } else
            f.y = l / i,
            f.x = u / i,
            c.y = (f.y - r.y) * (1 - i),
            c.x = (f.x - r.x) * (1 - i),
            a.x -= c.x,
            a.y -= c.y;
        var g = {};
        g[H] = f.x + "px " + f.y + "px",
        g[z] = a.toString(),
        s(t.elements.preview, g)
    }
    function w() {
        function e(e, t) {
            var i = p.elements.preview.getBoundingClientRect()
              , n = h.y + t
              , o = h.x + e;
            p.options.enforceBoundary ? (d.top > i.top + t && d.bottom < i.bottom + t && (h.y = n),
            d.left > i.left + e && d.right < i.right + e && (h.x = o)) : (h.y = n,
            h.x = o)
        }
        function t(e) {
            p.elements.preview.setAttribute("aria-grabbed", e),
            p.elements.boundary.setAttribute("aria-dropeffect", e ? "move" : "none")
        }
        function i(e) {
            var t = 37
              , i = 38
              , o = 39
              , s = 40;
            if (!e.shiftKey || e.keyCode !== i && e.keyCode !== s) {
                if (p.options.enableKeyMovement && e.keyCode >= 37 && e.keyCode <= 40) {
                    e.preventDefault();
                    var a = function(e) {
                        switch (e) {
                        case t:
                            return [1, 0];
                        case i:
                            return [0, 1];
                        case o:
                            return [-1, 0];
                        case s:
                            return [0, -1]
                        }
                    }(e.keyCode);
                    h = J.parse(p.elements.preview),
                    document.body.style[W] = "none",
                    d = p.elements.viewport.getBoundingClientRect(),
                    n(a)
                }
            } else {
                var r;
                r = e.keyCode === i ? parseFloat(p.elements.zoomer.value) + parseFloat(p.elements.zoomer.step) : parseFloat(p.elements.zoomer.value) - parseFloat(p.elements.zoomer.step),
                p.setZoom(r)
            }
        }
        function n(t) {
            var i = t[0]
              , n = t[1]
              , o = {};
            e(i, n),
            o[z] = h.toString(),
            s(p.elements.preview, o),
            C.call(p),
            document.body.style[W] = "",
            y.call(p),
            k.call(p),
            c = 0
        }
        function a(e) {
            if ((e.button === undefined || 0 === e.button) && (e.preventDefault(),
            !_)) {
                if (_ = !0,
                u = e.pageX,
                f = e.pageY,
                e.touches) {
                    var i = e.touches[0];
                    u = i.pageX,
                    f = i.pageY
                }
                t(_),
                h = J.parse(p.elements.preview),
                window.addEventListener("mousemove", r),
                window.addEventListener("touchmove", r),
                window.addEventListener("mouseup", l),
                window.addEventListener("touchend", l),
                document.body.style[W] = "none",
                d = p.elements.viewport.getBoundingClientRect()
            }
        }
        function r(t) {
            t.preventDefault();
            var i = t.pageX
              , n = t.pageY;
            if (t.touches) {
                var a = t.touches[0];
                i = a.pageX,
                n = a.pageY
            }
            var r = i - u
              , l = n - f
              , d = {};
            if ("touchmove" === t.type && t.touches.length > 1) {
                var _ = t.touches[0]
                  , g = t.touches[1]
                  , b = Math.sqrt((_.pageX - g.pageX) * (_.pageX - g.pageX) + (_.pageY - g.pageY) * (_.pageY - g.pageY));
                c || (c = b / p._currentZoom);
                var v = b / c;
                return m.call(p, v),
                void o(p.elements.zoomer)
            }
            e(r, l),
            d[z] = h.toString(),
            s(p.elements.preview, d),
            C.call(p),
            f = n,
            u = i
        }
        function l() {
            _ = !1,
            t(_),
            window.removeEventListener("mousemove", r),
            window.removeEventListener("touchmove", r),
            window.removeEventListener("mouseup", l),
            window.removeEventListener("touchend", l),
            document.body.style[W] = "",
            y.call(p),
            k.call(p),
            c = 0
        }
        var u, f, c, d, h, p = this, _ = !1;
        p.elements.overlay.addEventListener("mousedown", a),
        p.elements.viewport.addEventListener("keydown", i),
        p.elements.overlay.addEventListener("touchstart", a)
    }
    function C() {
        if (this.elements) {
            var e = this
              , t = e.elements.boundary.getBoundingClientRect()
              , i = e.elements.preview.getBoundingClientRect();
            s(e.elements.overlay, {
                width: i.width + "px",
                height: i.height + "px",
                top: i.top - t.top + "px",
                left: i.left - t.left + "px"
            })
        }
    }
    function k() {
        var e = this
          , t = e.get();
        if (x.call(e))
            if (e.options.update.call(e, t),
            e.$ && "undefined" == typeof Prototype)
                e.$(e.element).trigger("update.croppie", t);
            else {
                var i;
                window.CustomEvent ? i = new CustomEvent("update",{
                    detail: t
                }) : (i = document.createEvent("CustomEvent"),
                i.initCustomEvent("update", !0, !0, t)),
                e.element.dispatchEvent(i)
            }
    }
    function x() {
        return this.elements.preview.offsetHeight > 0 && this.elements.preview.offsetWidth > 0
    }
    function F() {
        var e, t = this, i = {}, n = t.elements.preview, o = new J(0,0,1), a = new Q;
        x.call(t) && !t.data.bound && (t.data.bound = !0,
        i[z] = o.toString(),
        i[H] = a.toString(),
        i.opacity = 1,
        s(n, i),
        e = t.elements.preview.getBoundingClientRect(),
        t._originalImageWidth = e.width,
        t._originalImageHeight = e.height,
        t.data.orientation = _.call(t) ? d(t.elements.img) : t.data.orientation,
        t.options.enableZoom ? E.call(t, !0) : t._currentZoom = 1,
        o.scale = t._currentZoom,
        i[z] = o.toString(),
        s(n, i),
        t.data.points.length ? $.call(t, t.data.points) : T.call(t),
        y.call(t),
        C.call(t))
    }
    function E(e) {
        var t, i, n, s, a = this, r = Math.max(a.options.minZoom, 0) || 0, l = a.options.maxZoom || 1.5, u = a.elements.zoomer, f = parseFloat(u.value), d = a.elements.boundary.getBoundingClientRect(), h = c(a.elements.img, a.data.orientation), p = a.elements.viewport.getBoundingClientRect();
        a.options.enforceBoundary && (n = p.width / h.width,
        s = p.height / h.height,
        r = Math.max(n, s)),
        r >= l && (l = r + 1),
        u.min = B(r, 4),
        u.max = B(l, 4),
        !e && (f < u.min || f > u.max) ? m.call(a, f < u.min ? u.min : u.max) : e && (i = Math.max(d.width / h.width, d.height / h.height),
        t = null !== a.data.boundZoom ? a.data.boundZoom : i,
        m.call(a, t)),
        o(u)
    }
    function $(e) {
        if (4 !== e.length)
            throw "Croppie - Invalid number of points supplied: " + e;
        var t = this
          , i = e[2] - e[0]
          , n = t.elements.viewport.getBoundingClientRect()
          , o = t.elements.boundary.getBoundingClientRect()
          , a = {
            left: n.left - o.left,
            top: n.top - o.top
        }
          , r = n.width / i
          , l = e[1]
          , u = e[0]
          , f = -1 * e[1] + a.top
          , c = -1 * e[0] + a.left
          , d = {};
        d[H] = u + "px " + l + "px",
        d[z] = new J(c,f,r).toString(),
        s(t.elements.preview, d),
        m.call(t, r),
        t._currentZoom = r
    }
    function T() {
        var e = this
          , t = e.elements.preview.getBoundingClientRect()
          , i = e.elements.viewport.getBoundingClientRect()
          , n = e.elements.boundary.getBoundingClientRect()
          , o = i.left - n.left
          , a = i.top - n.top
          , r = o - (t.width - i.width) / 2
          , l = a - (t.height - i.height) / 2
          , u = new J(r,l,e._currentZoom);
        s(e.elements.preview, z, u.toString())
    }
    function S(e) {
        var t = this
          , i = t.elements.canvas
          , n = t.elements.img;
        i.getContext("2d").clearRect(0, 0, i.width, i.height),
        i.width = n.width,
        i.height = n.height,
        h(i, n, t.options.enableOrientation && e || d(n))
    }
    function L(e) {
        var t = this
          , i = e.points
          , n = u(i[0])
          , o = u(i[1])
          , s = u(i[2])
          , a = u(i[3])
          , r = s - n
          , l = a - o
          , f = e.circle
          , c = document.createElement("canvas")
          , d = c.getContext("2d")
          , h = e.outputWidth || r
          , p = e.outputHeight || l;
        c.width = h,
        c.height = p,
        e.backgroundColor && (d.fillStyle = e.backgroundColor,
        d.fillRect(0, 0, h, p));
        var _ = n
          , g = o
          , m = r
          , b = l
          , v = 0
          , D = 0
          , y = h
          , w = p;
        return n < 0 && (_ = 0,
        v = Math.abs(n) / r * h),
        m + _ > t._originalImageWidth && (m = t._originalImageWidth - _,
        y = m / r * h),
        o < 0 && (g = 0,
        D = Math.abs(o) / l * p),
        b + g > t._originalImageHeight && (b = t._originalImageHeight - g,
        w = b / l * p),
        d.drawImage(this.elements.preview, _, g, m, b, v, D, y, w),
        f && (d.fillStyle = "#fff",
        d.globalCompositeOperation = "destination-in",
        d.beginPath(),
        d.arc(c.width / 2, c.height / 2, c.width / 2, 0, 2 * Math.PI, !0),
        d.closePath(),
        d.fill()),
        c
    }
    function P(e) {
        var t = e.points
          , i = document.createElement("div")
          , n = document.createElement("img")
          , o = t[2] - t[0]
          , r = t[3] - t[1];
        return a(i, "croppie-result"),
        i.appendChild(n),
        s(n, {
            left: -1 * t[0] + "px",
            top: -1 * t[1] + "px"
        }),
        n.src = e.url,
        s(i, {
            width: o + "px",
            height: r + "px"
        }),
        i
    }
    function I(e) {
        return L.call(this, e).toDataURL(e.format, e.quality)
    }
    function M(e) {
        var t = this;
        return new Promise(function(i) {
            L.call(t, e).toBlob(function(e) {
                i(e)
            }, e.format, e.quality)
        }
        )
    }
    function A(e) {
        this.elements.img.parentNode && (Array.prototype.forEach.call(this.elements.img.classList, function(t) {
            e.classList.add(t)
        }),
        this.elements.img.parentNode.replaceChild(e, this.elements.img),
        this.elements.preview = e),
        this.elements.img = e
    }
    function O(e, t) {
        var i, n = this, o = [], s = null, a = _.call(n);
        if ("string" == typeof e)
            i = e,
            e = {};
        else if (Array.isArray(e))
            o = e.slice();
        else {
            if (void 0 === e && n.data.url)
                return F.call(n),
                k.call(n),
                null;
            i = e.url,
            o = e.points || [],
            s = "undefined" == typeof e.zoom ? null : e.zoom
        }
        return n.data.bound = !1,
        n.data.url = i || n.data.url,
        n.data.boundZoom = s,
        f(i, a).then(function(i) {
            if (A.call(n, i),
            o.length)
                n.options.relative && (o = [o[0] * i.naturalWidth / 100, o[1] * i.naturalHeight / 100, o[2] * i.naturalWidth / 100, o[3] * i.naturalHeight / 100]);
            else {
                var s, a, r = c(i), l = n.elements.viewport.getBoundingClientRect(), u = l.width / l.height, f = r.width / r.height;
                f > u ? (a = r.height,
                s = a * u) : (s = r.width,
                a = r.height / u);
                var d = (r.width - s) / 2
                  , h = (r.height - a) / 2
                  , p = d + s
                  , _ = h + a;
                n.data.points = [d, h, p, _]
            }
            n.data.orientation = e.orientation || 1,
            n.data.points = o.map(function(e) {
                return parseFloat(e)
            }),
            n.options.useCanvas && S.call(n, n.data.orientation),
            F.call(n),
            k.call(n),
            t && t()
        })
    }
    function B(e, t) {
        return parseFloat(e).toFixed(t || 0)
    }
    function j() {
        var e = this
          , t = e.elements.preview.getBoundingClientRect()
          , i = e.elements.viewport.getBoundingClientRect()
          , n = i.left - t.left
          , o = i.top - t.top
          , s = (i.width - e.elements.viewport.offsetWidth) / 2
          , a = (i.height - e.elements.viewport.offsetHeight) / 2
          , r = n + e.elements.viewport.offsetWidth + s
          , l = o + e.elements.viewport.offsetHeight + a
          , u = e._currentZoom;
        (u === Infinity || isNaN(u)) && (u = 1);
        var f = e.options.enforceBoundary ? 0 : Number.NEGATIVE_INFINITY;
        return n = Math.max(f, n / u),
        o = Math.max(f, o / u),
        r = Math.max(f, r / u),
        l = Math.max(f, l / u),
        {
            points: [B(n), B(o), B(r), B(l)],
            zoom: u,
            orientation: e.data.orientation
        }
    }
    function R(e) {
        var t = this
          , o = j.call(t)
          , s = i(n(te), n(e))
          , a = "string" == typeof e ? e : s.type || "base64"
          , r = s.size || "viewport"
          , l = s.format
          , u = s.quality
          , f = s.backgroundColor
          , c = "boolean" == typeof s.circle ? s.circle : "circle" === t.options.viewport.type
          , d = t.elements.viewport.getBoundingClientRect()
          , h = d.width / d.height;
        return "viewport" === r ? (o.outputWidth = d.width,
        o.outputHeight = d.height) : "object" == typeof r && (r.width && r.height ? (o.outputWidth = r.width,
        o.outputHeight = r.height) : r.width ? (o.outputWidth = r.width,
        o.outputHeight = r.width / h) : r.height && (o.outputWidth = r.height * h,
        o.outputHeight = r.height)),
        ie.indexOf(l) > -1 && (o.format = "image/" + l,
        o.quality = u),
        o.circle = c,
        o.url = t.data.url,
        o.backgroundColor = f,
        new Promise(function(e) {
            switch (a.toLowerCase()) {
            case "rawcanvas":
                e(L.call(t, o));
                break;
            case "canvas":
            case "base64":
                e(I.call(t, o));
                break;
            case "blob":
                M.call(t, o).then(e);
                break;
            default:
                e(P.call(t, o))
            }
        }
        )
    }
    function N() {
        F.call(this)
    }
    function V(e) {
        if (!this.options.useCanvas || !this.options.enableOrientation)
            throw "Croppie: Cannot rotate without enableOrientation && EXIF.js included";
        var i = this
          , n = i.elements.canvas;
        if (i.data.orientation = t(i.data.orientation, e),
        h(n, i.elements.img, i.data.orientation),
        y.call(i, !0),
        E.call(i),
        Math.abs(e) / 90 % 2 == 1) {
            var o = i._originalImageHeight
              , s = i._originalImageWidth;
            i._originalImageWidth = o,
            i._originalImageHeight = s
        }
    }
    function U() {
        var e = this;
        e.element.removeChild(e.elements.boundary),
        r(e.element, "croppie-container"),
        e.options.enableZoom && e.element.removeChild(e.elements.zoomerWrap),
        delete e.elements
    }
    function q(e, t) {
        if (e.className.indexOf("croppie-container") > -1)
            throw new Error("Croppie: Can't initialize croppie more than once");
        if (this.element = e,
        this.options = i(n(q.defaults), t),
        "img" === this.element.tagName.toLowerCase()) {
            var o = this.element;
            a(o, "cr-original-image"),
            l(o, {
                "aria-hidden": "true",
                alt: ""
            });
            var s = document.createElement("div");
            this.element.parentNode.appendChild(s),
            s.appendChild(o),
            this.element = s,
            this.options.url = this.options.url || o.src
        }
        if (p.call(this),
        this.options.url) {
            var r = {
                url: this.options.url,
                points: this.options.points
            };
            delete this.options.url,
            delete this.options.points,
            O.call(this, r)
        }
    }
    "function" != typeof Promise && function(e) {
        function t(e, t) {
            return function() {
                e.apply(t, arguments)
            }
        }
        function i(e) {
            if ("object" != typeof this)
                throw new TypeError("Promises must be constructed via new");
            if ("function" != typeof e)
                throw new TypeError("not a function");
            this._state = null,
            this._value = null,
            this._deferreds = [],
            l(e, t(o, this), t(s, this))
        }
        function n(e) {
            var t = this;
            return null === this._state ? void this._deferreds.push(e) : void f(function() {
                var i = t._state ? e.onFulfilled : e.onRejected;
                if (null === i)
                    return void (t._state ? e.resolve : e.reject)(t._value);
                var n;
                try {
                    n = i(t._value)
                } catch (o) {
                    return void e.reject(o)
                }
                e.resolve(n)
            })
        }
        function o(e) {
            try {
                if (e === this)
                    throw new TypeError("A promise cannot be resolved with itself.");
                if (e && ("object" == typeof e || "function" == typeof e)) {
                    var i = e.then;
                    if ("function" == typeof i)
                        return void l(t(i, e), t(o, this), t(s, this))
                }
                this._state = !0,
                this._value = e,
                a.call(this)
            } catch (n) {
                s.call(this, n)
            }
        }
        function s(e) {
            this._state = !1,
            this._value = e,
            a.call(this)
        }
        function a() {
            for (var e = 0, t = this._deferreds.length; t > e; e++)
                n.call(this, this._deferreds[e]);
            this._deferreds = null
        }
        function r(e, t, i, n) {
            this.onFulfilled = "function" == typeof e ? e : null,
            this.onRejected = "function" == typeof t ? t : null,
            this.resolve = i,
            this.reject = n
        }
        function l(e, t, i) {
            var n = !1;
            try {
                e(function(e) {
                    n || (n = !0,
                    t(e))
                }, function(e) {
                    n || (n = !0,
                    i(e))
                })
            } catch (o) {
                if (n)
                    return;
                n = !0,
                i(o)
            }
        }
        var u = setTimeout
          , f = "function" == typeof setImmediate && setImmediate || function(e) {
            u(e, 1)
        }
          , c = Array.isArray || function(e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        }
        ;
        i.prototype["catch"] = function(e) {
            return this.then(null, e)
        }
        ,
        i.prototype.then = function(e, t) {
            var o = this;
            return new i(function(i, s) {
                n.call(o, new r(e,t,i,s))
            }
            )
        }
        ,
        i.all = function() {
            var e = Array.prototype.slice.call(1 === arguments.length && c(arguments[0]) ? arguments[0] : arguments);
            return new i(function(t, i) {
                function n(s, a) {
                    try {
                        if (a && ("object" == typeof a || "function" == typeof a)) {
                            var r = a.then;
                            if ("function" == typeof r)
                                return void r.call(a, function(e) {
                                    n(s, e)
                                }, i)
                        }
                        e[s] = a,
                        0 == --o && t(e)
                    } catch (l) {
                        i(l)
                    }
                }
                if (0 === e.length)
                    return t([]);
                for (var o = e.length, s = 0; s < e.length; s++)
                    n(s, e[s])
            }
            )
        }
        ,
        i.resolve = function(e) {
            return e && "object" == typeof e && e.constructor === i ? e : new i(function(t) {
                t(e)
            }
            )
        }
        ,
        i.reject = function(e) {
            return new i(function(t, i) {
                i(e)
            }
            )
        }
        ,
        i.race = function(e) {
            return new i(function(t, i) {
                for (var n = 0, o = e.length; o > n; n++)
                    e[n].then(t, i)
            }
            )
        }
        ,
        i._setImmediateFn = function(e) {
            f = e
        }
        ,
        "undefined" != typeof module && module.exports ? module.exports = i : e.Promise || (e.Promise = i)
    }(this),
    "undefined" != typeof window && "function" != typeof window.CustomEvent && function() {
        function e(e, t) {
            t = t || {
                bubbles: !1,
                cancelable: !1,
                detail: undefined
            };
            var i = document.createEvent("CustomEvent");
            return i.initCustomEvent(e, t.bubbles, t.cancelable, t.detail),
            i
        }
        e.prototype = window.Event.prototype,
        window.CustomEvent = e
    }(),
    "undefined" == typeof HTMLCanvasElement || HTMLCanvasElement.prototype.toBlob || Object.defineProperty(HTMLCanvasElement.prototype, "toBlob", {
        value: function(e, t, i) {
            for (var n = atob(this.toDataURL(t, i).split(",")[1]), o = n.length, s = new Uint8Array(o), a = 0; a < o; a++)
                s[a] = n.charCodeAt(a);
            e(new Blob([s],{
                type: t || "image/png"
            }))
        }
    });
    var H, z, W, X = ["Webkit", "Moz", "ms"], G = "undefined" != typeof document ? document.createElement("div").style : {}, Y = [1, 8, 3, 6], K = [2, 7, 4, 5];
    z = e("transform"),
    H = e("transformOrigin"),
    W = e("userSelect");
    var Z = {
        translate3d: {
            suffix: ", 0px"
        },
        translate: {
            suffix: ""
        }
    }
      , J = function(e, t, i) {
        this.x = parseFloat(e),
        this.y = parseFloat(t),
        this.scale = parseFloat(i)
    };
    J.parse = function(e) {
        return e.style ? J.parse(e.style[z]) : e.indexOf("matrix") > -1 || e.indexOf("none") > -1 ? J.fromMatrix(e) : J.fromString(e)
    }
    ,
    J.fromMatrix = function(e) {
        var t = e.substring(7).split(",");
        return t.length && "none" !== e || (t = [1, 0, 0, 1, 0, 0]),
        new J(u(t[4]),u(t[5]),parseFloat(t[0]))
    }
    ,
    J.fromString = function(e) {
        var t = e.split(") ")
          , i = t[0].substring(q.globals.translate.length + 1).split(",")
          , n = t.length > 1 ? t[1].substring(6) : 1
          , o = i.length > 1 ? i[0] : 0
          , s = i.length > 1 ? i[1] : 0;
        return new J(o,s,n)
    }
    ,
    J.prototype.toString = function() {
        var e = Z[q.globals.translate].suffix || "";
        return q.globals.translate + "(" + this.x + "px, " + this.y + "px" + e + ") scale(" + this.scale + ")"
    }
    ;
    var Q = function(e) {
        if (!e || !e.style[H])
            return this.x = 0,
            void (this.y = 0);
        var t = e.style[H].split(" ");
        this.x = parseFloat(t[0]),
        this.y = parseFloat(t[1])
    };
    Q.prototype.toString = function() {
        return this.x + "px " + this.y + "px"
    }
    ;
    var ee = function(e, t, i) {
        var n;
        return function() {
            var o = this
              , s = arguments
              , a = function() {
                n = null,
                i || e.apply(o, s)
            }
              , r = i && !n;
            clearTimeout(n),
            n = setTimeout(a, t),
            r && e.apply(o, s)
        }
    }(C, 500)
      , te = {
        type: "canvas",
        format: "png",
        quality: 1
    }
      , ie = ["jpeg", "webp", "png"];
    if ("undefined" != typeof window && window.jQuery) {
        var ne = window.jQuery;
        ne.fn.croppie = function(e) {
            if ("string" == typeof e) {
                var t = Array.prototype.slice.call(arguments, 1)
                  , i = ne(this).data("croppie");
                return "get" === e ? i.get() : "result" === e ? i.result.apply(i, t) : "bind" === e ? i.bind.apply(i, t) : this.each(function() {
                    var i = ne(this).data("croppie");
                    if (i) {
                        var n = i[e];
                        if (!ne.isFunction(n))
                            throw "Croppie " + e + " method not found";
                        n.apply(i, t),
                        "destroy" === e && ne(this).removeData("croppie")
                    }
                })
            }
            return this.each(function() {
                var t = new q(this,e);
                t.$ = ne,
                ne(this).data("croppie", t)
            })
        }
    }
    return q.defaults = {
        viewport: {
            width: 100,
            height: 100,
            type: "square"
        },
        boundary: {},
        orientationControls: {
            enabled: !0,
            leftClass: "",
            rightClass: ""
        },
        resizeControls: {
            width: !0,
            height: !0
        },
        customClass: "",
        showZoomer: !0,
        enableZoom: !0,
        enableResize: !1,
        mouseWheelZoom: !0,
        enableExif: !1,
        enforceBoundary: !0,
        enableOrientation: !1,
        enableKeyMovement: !0,
        update: function() {}
    },
    q.globals = {
        translate: "translate3d"
    },
    i(q.prototype, {
        bind: function(e, t) {
            return O.call(this, e, t)
        },
        get: function() {
            var e = j.call(this)
              , t = e.points;
            return this.options.relative && (t[0] /= this.elements.img.naturalWidth / 100,
            t[1] /= this.elements.img.naturalHeight / 100,
            t[2] /= this.elements.img.naturalWidth / 100,
            t[3] /= this.elements.img.naturalHeight / 100),
            e
        },
        result: function(e) {
            return R.call(this, e)
        },
        refresh: function() {
            return N.call(this)
        },
        setZoom: function(e) {
            m.call(this, e),
            o(this.elements.zoomer)
        },
        rotate: function(e) {
            V.call(this, e)
        },
        destroy: function() {
            return U.call(this)
        }
    }),
    q
}),
function() {
    function e(e) {
        return !!e.exifdata
    }
    function t(e, t) {
        t = t || e.match(/^data\:([^\;]+)\;base64,/im)[1] || "",
        e = e.replace(/^data\:([^\;]+)\;base64,/gim, "");
        for (var i = atob(e), n = i.length, o = new ArrayBuffer(n), s = new Uint8Array(o), a = 0; a < n; a++)
            s[a] = i.charCodeAt(a);
        return o
    }
    function i(e, t) {
        var i = new XMLHttpRequest;
        i.open("GET", e, !0),
        i.responseType = "blob",
        i.onload = function(e) {
            200 != this.status && 0 !== this.status || t(this.response)
        }
        ,
        i.send()
    }
    function o(e, n) {
        function o(t) {
            var i = s(t);
            e.exifdata = i || {};
            var o = a(t);
            if (e.iptcdata = o || {},
            v.isXmpEnabled) {
                var r = p(t);
                e.xmpdata = r || {}
            }
            n && n.call(e)
        }
        if (e.src)
            if (/^data\:/i.test(e.src)) {
                var r = t(e.src);
                o(r)
            } else if (/^blob\:/i.test(e.src)) {
                var l = new FileReader;
                l.onload = function(e) {
                    o(e.target.result)
                }
                ,
                i(e.src, function(e) {
                    l.readAsArrayBuffer(e)
                })
            } else {
                var u = new XMLHttpRequest;
                u.onload = function() {
                    if (200 != this.status && 0 !== this.status)
                        throw "Could not load image";
                    o(u.response),
                    u = null
                }
                ,
                u.open("GET", e.src, !0),
                u.responseType = "arraybuffer",
                u.send(null)
            }
        else if (self.FileReader && (e instanceof self.Blob || e instanceof self.File)) {
            var l = new FileReader;
            l.onload = function(e) {
                m && console.log("Got file of length " + e.target.result.byteLength),
                o(e.target.result)
            }
            ,
            l.readAsArrayBuffer(e)
        }
    }
    function s(e) {
        var t = new DataView(e);
        if (m && console.log("Got file of length " + e.byteLength),
        255 != t.getUint8(0) || 216 != t.getUint8(1))
            return m && console.log("Not a valid JPEG"),
            !1;
        for (var i, n = 2, o = e.byteLength; n < o; ) {
            if (255 != t.getUint8(n))
                return m && console.log("Not a valid marker at offset " + n + ", found: " + t.getUint8(n)),
                !1;
            if (i = t.getUint8(n + 1),
            m && console.log(i),
            225 == i)
                return m && console.log("Found 0xFFE1 marker"),
                h(t, n + 4, t.getUint16(n + 2));
            n += 2 + t.getUint16(n + 2)
        }
    }
    function a(e) {
        var t = new DataView(e);
        if (m && console.log("Got file of length " + e.byteLength),
        255 != t.getUint8(0) || 216 != t.getUint8(1))
            return m && console.log("Not a valid JPEG"),
            !1;
        for (var i = 2, n = e.byteLength; i < n; ) {
            if (function(e, t) {
                return 56 === e.getUint8(t) && 66 === e.getUint8(t + 1) && 73 === e.getUint8(t + 2) && 77 === e.getUint8(t + 3) && 4 === e.getUint8(t + 4) && 4 === e.getUint8(t + 5)
            }(t, i)) {
                var o = t.getUint8(i + 7);
                o % 2 != 0 && (o += 1),
                0 === o && (o = 4);
                return r(e, i + 8 + o, t.getUint16(i + 6 + o))
            }
            i++
        }
    }
    function r(e, t, i) {
        for (var n, o, s, a, r = new DataView(e), l = {}, u = t; u < t + i; )
            28 === r.getUint8(u) && 2 === r.getUint8(u + 1) && (a = r.getUint8(u + 2))in x && (s = r.getInt16(u + 3),
            s + 5,
            o = x[a],
            n = d(r, u + 5, s),
            l.hasOwnProperty(o) ? l[o]instanceof Array ? l[o].push(n) : l[o] = [l[o], n] : l[o] = n),
            u++;
        return l
    }
    function l(e, t, i, n, o) {
        var s, a, r, l = e.getUint16(i, !o), f = {};
        for (r = 0; r < l; r++)
            s = i + 12 * r + 2,
            a = n[e.getUint16(s, !o)],
            !a && m && console.log("Unknown tag: " + e.getUint16(s, !o)),
            f[a] = u(e, s, t, i, o);
        return f
    }
    function u(e, t, i, n, o) {
        var s, a, r, l, u, f, c = e.getUint16(t + 2, !o), h = e.getUint32(t + 4, !o), p = e.getUint32(t + 8, !o) + i;
        switch (c) {
        case 1:
        case 7:
            if (1 == h)
                return e.getUint8(t + 8, !o);
            for (s = h > 4 ? p : t + 8,
            a = [],
            l = 0; l < h; l++)
                a[l] = e.getUint8(s + l);
            return a;
        case 2:
            return s = h > 4 ? p : t + 8,
            d(e, s, h - 1);
        case 3:
            if (1 == h)
                return e.getUint16(t + 8, !o);
            for (s = h > 2 ? p : t + 8,
            a = [],
            l = 0; l < h; l++)
                a[l] = e.getUint16(s + 2 * l, !o);
            return a;
        case 4:
            if (1 == h)
                return e.getUint32(t + 8, !o);
            for (a = [],
            l = 0; l < h; l++)
                a[l] = e.getUint32(p + 4 * l, !o);
            return a;
        case 5:
            if (1 == h)
                return u = e.getUint32(p, !o),
                f = e.getUint32(p + 4, !o),
                r = new Number(u / f),
                r.numerator = u,
                r.denominator = f,
                r;
            for (a = [],
            l = 0; l < h; l++)
                u = e.getUint32(p + 8 * l, !o),
                f = e.getUint32(p + 4 + 8 * l, !o),
                a[l] = new Number(u / f),
                a[l].numerator = u,
                a[l].denominator = f;
            return a;
        case 9:
            if (1 == h)
                return e.getInt32(t + 8, !o);
            for (a = [],
            l = 0; l < h; l++)
                a[l] = e.getInt32(p + 4 * l, !o);
            return a;
        case 10:
            if (1 == h)
                return e.getInt32(p, !o) / e.getInt32(p + 4, !o);
            for (a = [],
            l = 0; l < h; l++)
                a[l] = e.getInt32(p + 8 * l, !o) / e.getInt32(p + 4 + 8 * l, !o);
            return a
        }
    }
    function f(e, t, i) {
        var n = e.getUint16(t, !i);
        return e.getUint32(t + 2 + 12 * n, !i)
    }
    function c(e, t, i, n) {
        var o = f(e, t + i, n);
        if (!o)
            return {};
        if (o > e.byteLength)
            return {};
        var s = l(e, t, t + o, C, n);
        if (s.Compression)
            switch (s.Compression) {
            case 6:
                if (s.JpegIFOffset && s.JpegIFByteCount) {
                    var a = t + s.JpegIFOffset
                      , r = s.JpegIFByteCount;
                    s.blob = new Blob([new Uint8Array(e.buffer,a,r)],{
                        type: "image/jpeg"
                    })
                }
                break;
            case 1:
                console.log("Thumbnail image format is TIFF, which is not implemented.");
                break;
            default:
                console.log("Unknown thumbnail image format '%s'", s.Compression)
            }
        else
            2 == s.PhotometricInterpretation && console.log("Thumbnail image format is RGB, which is not implemented.");
        return s
    }
    function d(e, t, i) {
        var o = "";
        for (n = t; n < t + i; n++)
            o += String.fromCharCode(e.getUint8(n));
        return o
    }
    function h(e, t) {
        if ("Exif" != d(e, t, 4))
            return m && console.log("Not valid EXIF data! " + d(e, t, 4)),
            !1;
        var i, n, o, s, a, r = t + 6;
        if (18761 == e.getUint16(r))
            i = !1;
        else {
            if (19789 != e.getUint16(r))
                return m && console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),
                !1;
            i = !0
        }
        if (42 != e.getUint16(r + 2, !i))
            return m && console.log("Not valid TIFF data! (no 0x002A)"),
            !1;
        var u = e.getUint32(r + 4, !i);
        if (u < 8)
            return m && console.log("Not valid TIFF data! (First offset less than 8)", e.getUint32(r + 4, !i)),
            !1;
        if (n = l(e, r, r + u, y, i),
        n.ExifIFDPointer) {
            s = l(e, r, r + n.ExifIFDPointer, D, i);
            for (o in s) {
                switch (o) {
                case "LightSource":
                case "Flash":
                case "MeteringMode":
                case "ExposureProgram":
                case "SensingMethod":
                case "SceneCaptureType":
                case "SceneType":
                case "CustomRendered":
                case "WhiteBalance":
                case "GainControl":
                case "Contrast":
                case "Saturation":
                case "Sharpness":
                case "SubjectDistanceRange":
                case "FileSource":
                    s[o] = k[o][s[o]];
                    break;
                case "ExifVersion":
                case "FlashpixVersion":
                    s[o] = String.fromCharCode(s[o][0], s[o][1], s[o][2], s[o][3]);
                    break;
                case "ComponentsConfiguration":
                    s[o] = k.Components[s[o][0]] + k.Components[s[o][1]] + k.Components[s[o][2]] + k.Components[s[o][3]]
                }
                n[o] = s[o]
            }
        }
        if (n.GPSInfoIFDPointer) {
            a = l(e, r, r + n.GPSInfoIFDPointer, w, i);
            for (o in a) {
                switch (o) {
                case "GPSVersionID":
                    a[o] = a[o][0] + "." + a[o][1] + "." + a[o][2] + "." + a[o][3]
                }
                n[o] = a[o]
            }
        }
        return n.thumbnail = c(e, r, u, i),
        n
    }
    function p(e) {
        if ("DOMParser"in self) {
            var t = new DataView(e);
            if (m && console.log("Got file of length " + e.byteLength),
            255 != t.getUint8(0) || 216 != t.getUint8(1))
                return m && console.log("Not a valid JPEG"),
                !1;
            for (var i = 2, n = e.byteLength, o = new DOMParser; i < n - 4; ) {
                if ("http" == d(t, i, 4)) {
                    var s = i - 1
                      , a = t.getUint16(i - 2) - 1
                      , r = d(t, s, a)
                      , l = r.indexOf("xmpmeta>") + 8;
                    r = r.substring(r.indexOf("<x:xmpmeta"), l);
                    var u = r.indexOf("x:xmpmeta") + 10;
                    r = r.slice(0, u) + 'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" ' + r.slice(u);
                    return g(o.parseFromString(r, "text/xml"))
                }
                i++
            }
        }
    }
    function _(e) {
        var t = {};
        if (1 == e.nodeType) {
            if (e.attributes.length > 0) {
                t["@attributes"] = {};
                for (var i = 0; i < e.attributes.length; i++) {
                    var n = e.attributes.item(i);
                    t["@attributes"][n.nodeName] = n.nodeValue
                }
            }
        } else if (3 == e.nodeType)
            return e.nodeValue;
        if (e.hasChildNodes())
            for (var o = 0; o < e.childNodes.length; o++) {
                var s = e.childNodes.item(o)
                  , a = s.nodeName;
                if (null == t[a])
                    t[a] = _(s);
                else {
                    if (null == t[a].push) {
                        var r = t[a];
                        t[a] = [],
                        t[a].push(r)
                    }
                    t[a].push(_(s))
                }
            }
        return t
    }
    function g(e) {
        try {
            var t = {};
            if (e.children.length > 0)
                for (var i = 0; i < e.children.length; i++) {
                    var n = e.children.item(i)
                      , o = n.attributes;
                    for (var s in o) {
                        var a = o[s]
                          , r = a.nodeName
                          , l = a.nodeValue;
                        r !== undefined && (t[r] = l)
                    }
                    var u = n.nodeName;
                    if ("undefined" == typeof t[u])
                        t[u] = _(n);
                    else {
                        if ("undefined" == typeof t[u].push) {
                            var f = t[u];
                            t[u] = [],
                            t[u].push(f)
                        }
                        t[u].push(_(n))
                    }
                }
            else
                t = e.textContent;
            return t
        } catch (c) {
            console.log(c.message)
        }
    }
    var m = !1
      , b = this
      , v = function(e) {
        return e instanceof v ? e : this instanceof v ? void (this.EXIFwrapped = e) : new v(e)
    };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = v),
    exports.EXIF = v) : b.EXIF = v;
    var D = v.Tags = {
        36864: "ExifVersion",
        40960: "FlashpixVersion",
        40961: "ColorSpace",
        40962: "PixelXDimension",
        40963: "PixelYDimension",
        37121: "ComponentsConfiguration",
        37122: "CompressedBitsPerPixel",
        37500: "MakerNote",
        37510: "UserComment",
        40964: "RelatedSoundFile",
        36867: "DateTimeOriginal",
        36868: "DateTimeDigitized",
        37520: "SubsecTime",
        37521: "SubsecTimeOriginal",
        37522: "SubsecTimeDigitized",
        33434: "ExposureTime",
        33437: "FNumber",
        34850: "ExposureProgram",
        34852: "SpectralSensitivity",
        34855: "ISOSpeedRatings",
        34856: "OECF",
        37377: "ShutterSpeedValue",
        37378: "ApertureValue",
        37379: "BrightnessValue",
        37380: "ExposureBias",
        37381: "MaxApertureValue",
        37382: "SubjectDistance",
        37383: "MeteringMode",
        37384: "LightSource",
        37385: "Flash",
        37396: "SubjectArea",
        37386: "FocalLength",
        41483: "FlashEnergy",
        41484: "SpatialFrequencyResponse",
        41486: "FocalPlaneXResolution",
        41487: "FocalPlaneYResolution",
        41488: "FocalPlaneResolutionUnit",
        41492: "SubjectLocation",
        41493: "ExposureIndex",
        41495: "SensingMethod",
        41728: "FileSource",
        41729: "SceneType",
        41730: "CFAPattern",
        41985: "CustomRendered",
        41986: "ExposureMode",
        41987: "WhiteBalance",
        41988: "DigitalZoomRation",
        41989: "FocalLengthIn35mmFilm",
        41990: "SceneCaptureType",
        41991: "GainControl",
        41992: "Contrast",
        41993: "Saturation",
        41994: "Sharpness",
        41995: "DeviceSettingDescription",
        41996: "SubjectDistanceRange",
        40965: "InteroperabilityIFDPointer",
        42016: "ImageUniqueID"
    }
      , y = v.TiffTags = {
        256: "ImageWidth",
        257: "ImageHeight",
        34665: "ExifIFDPointer",
        34853: "GPSInfoIFDPointer",
        40965: "InteroperabilityIFDPointer",
        258: "BitsPerSample",
        259: "Compression",
        262: "PhotometricInterpretation",
        274: "Orientation",
        277: "SamplesPerPixel",
        284: "PlanarConfiguration",
        530: "YCbCrSubSampling",
        531: "YCbCrPositioning",
        282: "XResolution",
        283: "YResolution",
        296: "ResolutionUnit",
        273: "StripOffsets",
        278: "RowsPerStrip",
        279: "StripByteCounts",
        513: "JPEGInterchangeFormat",
        514: "JPEGInterchangeFormatLength",
        301: "TransferFunction",
        318: "WhitePoint",
        319: "PrimaryChromaticities",
        529: "YCbCrCoefficients",
        532: "ReferenceBlackWhite",
        306: "DateTime",
        270: "ImageDescription",
        271: "Make",
        272: "Model",
        305: "Software",
        315: "Artist",
        33432: "Copyright"
    }
      , w = v.GPSTags = {
        0: "GPSVersionID",
        1: "GPSLatitudeRef",
        2: "GPSLatitude",
        3: "GPSLongitudeRef",
        4: "GPSLongitude",
        5: "GPSAltitudeRef",
        6: "GPSAltitude",
        7: "GPSTimeStamp",
        8: "GPSSatellites",
        9: "GPSStatus",
        10: "GPSMeasureMode",
        11: "GPSDOP",
        12: "GPSSpeedRef",
        13: "GPSSpeed",
        14: "GPSTrackRef",
        15: "GPSTrack",
        16: "GPSImgDirectionRef",
        17: "GPSImgDirection",
        18: "GPSMapDatum",
        19: "GPSDestLatitudeRef",
        20: "GPSDestLatitude",
        21: "GPSDestLongitudeRef",
        22: "GPSDestLongitude",
        23: "GPSDestBearingRef",
        24: "GPSDestBearing",
        25: "GPSDestDistanceRef",
        26: "GPSDestDistance",
        27: "GPSProcessingMethod",
        28: "GPSAreaInformation",
        29: "GPSDateStamp",
        30: "GPSDifferential"
    }
      , C = v.IFD1Tags = {
        256: "ImageWidth",
        257: "ImageHeight",
        258: "BitsPerSample",
        259: "Compression",
        262: "PhotometricInterpretation",
        273: "StripOffsets",
        274: "Orientation",
        277: "SamplesPerPixel",
        278: "RowsPerStrip",
        279: "StripByteCounts",
        282: "XResolution",
        283: "YResolution",
        284: "PlanarConfiguration",
        296: "ResolutionUnit",
        513: "JpegIFOffset",
        514: "JpegIFByteCount",
        529: "YCbCrCoefficients",
        530: "YCbCrSubSampling",
        531: "YCbCrPositioning",
        532: "ReferenceBlackWhite"
    }
      , k = v.StringValues = {
        ExposureProgram: {
            0: "Not defined",
            1: "Manual",
            2: "Normal program",
            3: "Aperture priority",
            4: "Shutter priority",
            5: "Creative program",
            6: "Action program",
            7: "Portrait mode",
            8: "Landscape mode"
        },
        MeteringMode: {
            0: "Unknown",
            1: "Average",
            2: "CenterWeightedAverage",
            3: "Spot",
            4: "MultiSpot",
            5: "Pattern",
            6: "Partial",
            255: "Other"
        },
        LightSource: {
            0: "Unknown",
            1: "Daylight",
            2: "Fluorescent",
            3: "Tungsten (incandescent light)",
            4: "Flash",
            9: "Fine weather",
            10: "Cloudy weather",
            11: "Shade",
            12: "Daylight fluorescent (D 5700 - 7100K)",
            13: "Day white fluorescent (N 4600 - 5400K)",
            14: "Cool white fluorescent (W 3900 - 4500K)",
            15: "White fluorescent (WW 3200 - 3700K)",
            17: "Standard light A",
            18: "Standard light B",
            19: "Standard light C",
            20: "D55",
            21: "D65",
            22: "D75",
            23: "D50",
            24: "ISO studio tungsten",
            255: "Other"
        },
        Flash: {
            0: "Flash did not fire",
            1: "Flash fired",
            5: "Strobe return light not detected",
            7: "Strobe return light detected",
            9: "Flash fired, compulsory flash mode",
            13: "Flash fired, compulsory flash mode, return light not detected",
            15: "Flash fired, compulsory flash mode, return light detected",
            16: "Flash did not fire, compulsory flash mode",
            24: "Flash did not fire, auto mode",
            25: "Flash fired, auto mode",
            29: "Flash fired, auto mode, return light not detected",
            31: "Flash fired, auto mode, return light detected",
            32: "No flash function",
            65: "Flash fired, red-eye reduction mode",
            69: "Flash fired, red-eye reduction mode, return light not detected",
            71: "Flash fired, red-eye reduction mode, return light detected",
            73: "Flash fired, compulsory flash mode, red-eye reduction mode",
            77: "Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",
            79: "Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",
            89: "Flash fired, auto mode, red-eye reduction mode",
            93: "Flash fired, auto mode, return light not detected, red-eye reduction mode",
            95: "Flash fired, auto mode, return light detected, red-eye reduction mode"
        },
        SensingMethod: {
            1: "Not defined",
            2: "One-chip color area sensor",
            3: "Two-chip color area sensor",
            4: "Three-chip color area sensor",
            5: "Color sequential area sensor",
            7: "Trilinear sensor",
            8: "Color sequential linear sensor"
        },
        SceneCaptureType: {
            0: "Standard",
            1: "Landscape",
            2: "Portrait",
            3: "Night scene"
        },
        SceneType: {
            1: "Directly photographed"
        },
        CustomRendered: {
            0: "Normal process",
            1: "Custom process"
        },
        WhiteBalance: {
            0: "Auto white balance",
            1: "Manual white balance"
        },
        GainControl: {
            0: "None",
            1: "Low gain up",
            2: "High gain up",
            3: "Low gain down",
            4: "High gain down"
        },
        Contrast: {
            0: "Normal",
            1: "Soft",
            2: "Hard"
        },
        Saturation: {
            0: "Normal",
            1: "Low saturation",
            2: "High saturation"
        },
        Sharpness: {
            0: "Normal",
            1: "Soft",
            2: "Hard"
        },
        SubjectDistanceRange: {
            0: "Unknown",
            1: "Macro",
            2: "Close view",
            3: "Distant view"
        },
        FileSource: {
            3: "DSC"
        },
        Components: {
            0: "",
            1: "Y",
            2: "Cb",
            3: "Cr",
            4: "R",
            5: "G",
            6: "B"
        }
    }
      , x = {
        120: "caption",
        110: "credit",
        25: "keywords",
        55: "dateCreated",
        80: "byline",
        85: "bylineTitle",
        122: "captionWriter",
        105: "headline",
        116: "copyright",
        15: "category"
    };
    v.enableXmp = function() {
        v.isXmpEnabled = !0
    }
    ,
    v.disableXmp = function() {
        v.isXmpEnabled = !1
    }
    ,
    v.getData = function(t, i) {
        return !((self.Image && t instanceof self.Image || self.HTMLImageElement && t instanceof self.HTMLImageElement) && !t.complete) && (e(t) ? i && i.call(t) : o(t, i),
        !0)
    }
    ,
    v.getTag = function(t, i) {
        if (e(t))
            return t.exifdata[i]
    }
    ,
    v.getIptcTag = function(t, i) {
        if (e(t))
            return t.iptcdata[i]
    }
    ,
    v.getAllTags = function(t) {
        if (!e(t))
            return {};
        var i, n = t.exifdata, o = {};
        for (i in n)
            n.hasOwnProperty(i) && (o[i] = n[i]);
        return o
    }
    ,
    v.getAllIptcTags = function(t) {
        if (!e(t))
            return {};
        var i, n = t.iptcdata, o = {};
        for (i in n)
            n.hasOwnProperty(i) && (o[i] = n[i]);
        return o
    }
    ,
    v.pretty = function(t) {
        if (!e(t))
            return "";
        var i, n = t.exifdata, o = "";
        for (i in n)
            n.hasOwnProperty(i) && ("object" == typeof n[i] ? n[i]instanceof Number ? o += i + " : " + n[i] + " [" + n[i].numerator + "/" + n[i].denominator + "]\r\n" : o += i + " : [" + n[i].length + " values]\r\n" : o += i + " : " + n[i] + "\r\n");
        return o
    }
    ,
    v.readFromBinaryFile = function(e) {
        return s(e)
    }
    ,
    "function" == typeof define && define.amd && define("exif-js", [], function() {
        return v
    })
}
.call(this),
define("libs/exif", function() {}),
define("skins/form/validator/crop_image", ["static/utils", "./input_base", "lib/helpers/overlay/contextual_popup", "lib/i18n!front", "libs/croppie", "jquery-scrollLock", "libs/exif"], function(e, t, i, n) {
    var o = function(e, i) {
        "object" == typeof i && (t.apply(this, [e, i]),
        this._init())
    };
    return o.prototype = new t,
    o.prototype._init = function() {
        var e = this;
        if (this.label = $("#" + this.id + "-label"),
        0 === this.label.length)
            return void console.error("Unable to find the label");
        if (this.displayError = $("#" + this.id + "-display-error"),
        0 === this.displayError.length)
            return void console.error("Unable to find display error crop validator");
        if (this.displayCrop = $("#" + this.id + "-display"),
        0 === this.displayCrop.length)
            return void console.error("Unable to find display crop validator");
        if (this.sourceCrop = $("#" + this.id + "-source"),
        0 === this.sourceCrop.length)
            return void console.error("Unable to find source crop validator");
        if (this.actionsCrop = $("#" + this.id + "-actions"),
        0 === this.sourceCrop.length)
            return void console.error("Unable to find actions crop validator");
        this.input_agent = this.getInputAgent(),
        this.adBlockEnabled = !1;
        var t = document.createElement("div");
        t.innerHTML = "&nbsp;",
        t.className = "adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",
        document.body.appendChild(t),
        window.setTimeout(function() {
            0 === t.offsetHeight && (e.adBlockEnabled = !0,
            $("#message_adblock").removeClass("hidden")),
            t.remove()
        }, 100),
        this.is_ios = /iPod/.test(navigator.userAgent) && !window.MSStream,
        this.uploadCrop = !1,
        this.lastParentWidth = 0,
        this.lastCropWidth = 0,
        this.width = this.options.width,
        this.height = this.options.height,
        this.fit_container = this.options.fit_container,
        this.imageUploaded = !1,
        this.resizeTimer = !1,
        this.crop_to_window_size(),
        this.sourceCrop.on("change", function() {
            e.hide_crop(),
            e.imageUploaded = !1,
            e.validate()
        }).prop("disabled", !1),
        $("." + this.id + "-rotate").on("click", function() {
            return e.rotate_image(this.dataset.action),
            !1
        }),
        $(window).on("resize", function() {
            e.on_resize()
        }),
        this.options.no_init_validate || this.validate()
    }
    ,
    o.prototype.showIcon = function(e, t) {
        this.icon ? this.icon.removeClass() : this.icon = this.displayError.find(".icon-error-content"),
        this.displayError.removeClass("hidden"),
        this.icon.addClass("icon-f icf-" + e + " text-" + t);
        var i = this;
        i.showError(),
        i.showWarning(),
        this.icon.on("mouseover", function() {
            i.showError(),
            i.showWarning()
        })
    }
    ,
    o.prototype.hideIcon = function() {
        this.icon && this.displayError.addClass("hidden")
    }
    ,
    o.prototype.getInputAgent = function() {
        return this.label
    }
    ,
    o.prototype.doValidate = function() {
        if (this.is_ios)
            return i.alert(n.__("misc.device_not_compatible"), null, !0),
            !1;
        if (this.adBlockEnabled)
            return i.alert(n.__("misc.please_disabled_adblock"), null, !0),
            !1;
        if (0 === this.sourceCrop[0].files.length)
            return !this.options.required || (this.setError(this.getMessage("required", "Required")),
            !1);
        var t = this.sourceCrop[0].files[0].name;
        if (!t)
            return !this.options.required || (this.setError(this.getMessage("required", "Required")),
            !1);
        if ("object" == typeof this.options.extensions && this.options.extensions.length > 0) {
            var o = ""
              , s = t.lastIndexOf(".");
            if (-1 === s)
                return this.setError(this.getMessage("extensions", "Invalid extension (%extension%).", {
                    "%extension%": e.escape(o)
                })),
                !1;
            if (o = t.substr(s + 1).toLowerCase(),
            !/^[a-z0-1]{2,20}$/.test(o))
                return this.setError(this.getMessage("extensions", "Invalid extension (%extension%).", {
                    "%extension%": e.escape(o)
                })),
                !1;
            var a = !1;
            for (var r in this.options.extensions)
                if (this.options.extensions.hasOwnProperty(r) && this.options.extensions[r].toLowerCase() === o) {
                    a = !0;
                    break
                }
            if (!a)
                return this.setError(this.getMessage("extensions", "Invalid extension (%extension%).", {
                    "%extension%": e.escape(o)
                })),
                !1
        }
        return !!this.imageUploaded || (this.read_file(),
        this.getOrientation(),
        !1)
    }
    ,
    o.prototype.getOrientation = function(e) {
        var t = this
          , i = {
            1: 0,
            6: 90,
            3: 180,
            8: -90,
            2: 0,
            5: 90,
            4: 180,
            7: -90
        };
        (new FileReader).onload = function(e) {
            var n = new DataView(e.target.result);
            if (65496 != n.getUint16(0, !1))
                return !1;
            for (var o = n.byteLength, s = 2; s < o; ) {
                if (n.getUint16(s + 2, !1) <= 8)
                    return callback(-1);
                var a = n.getUint16(s, !1);
                if (s += 2,
                65505 == a) {
                    if (1165519206 != n.getUint32(s += 2, !1))
                        return !1;
                    var r = 18761 == n.getUint16(s += 6, !1);
                    s += n.getUint32(s + 4, r);
                    var l = n.getUint16(s, r);
                    s += 2;
                    for (var u, f = 0; f < l; f++)
                        if (274 == n.getUint16(s + 12 * f, r)) {
                            u = n.getUint16(s + 12 * f + 8, r);
                            break
                        }
                    u && (t.rotate_image(i[u]),
                    [2, 5, 4, 7].indexOf(u) && t.flip_image("NORMAL"))
                } else {
                    if (65280 != (65280 & a))
                        break;
                    s += n.getUint16(s, !1)
                }
            }
            return !1
        }
    }
    ,
    o.prototype.read_file = function() {
        var e = this
          , t = new FileReader;
        t.onload = function(i) {
            var n = new Image;
            n.onload = function() {
                e.imageUploaded = i.target.result,
                e.update_crop_image(),
                e.validate()
            }
            ,
            n.src = t.result
        }
        ,
        t.readAsDataURL(this.sourceCrop[0].files[0])
    }
    ,
    o.prototype.show_crop = function() {
        this.displayCrop.removeClass("hidden"),
        this.actionsCrop.removeClass("hidden")
    }
    ,
    o.prototype.hide_crop = function() {
        this.displayCrop.addClass("hidden"),
        this.actionsCrop.addClass("hidden")
    }
    ,
    o.prototype.crop_to_window_size = function() {
        var e, t, i = this, n = i.sourceCrop.parents("form").innerWidth();
        if (i.lastParentWidth === n)
            return !1;
        if (i.lastParentWidth = n,
        e = i.width,
        t = i.height,
        (i.fit_container || n < 300) && (e = n,
        t = 100 * i.height / (100 * i.width / n)),
        i.lastCropWidth === e)
            return !1;
        try {
            i.hide_crop(),
            i.displayCrop.croppie("destroy"),
            i.uploadCrop = i.displayCrop.croppie({
                viewport: {
                    width: e,
                    height: t,
                    type: "square"
                },
                enableExif: !0,
                enableOrientation: !0,
                boundary: {
                    width: e,
                    height: t
                },
                update: function() {
                    i.set_crop_value()
                }
            }),
            i.lastCropWidth = e
        } catch (o) {
            return console.info(o),
            !1
        }
        return i.displayCrop.children(".cr-boundary .cr-overlay").scrollLock(),
        !0
    }
    ,
    o.prototype.update_crop_image = function() {
        var e = this;
        this.show_crop(),
        this.displayCrop.css({
            visibility: "hidden !important"
        }),
        this.uploadCrop.croppie("bind", {
            url: this.imageUploaded
        }).then(function() {
            e.uploadCrop.croppie("setZoom", 0),
            e.displayCrop.css({
                visibility: "visible"
            }),
            e.set_crop_value()
        })
    }
    ,
    o.prototype.on_resize = function() {
        var e = this;
        this.resizeTimer && clearTimeout(this.resizeTimer),
        this.resizeTimer = setTimeout(function() {
            e.crop_to_window_size() && e.imageUploaded && e.update_crop_image()
        }, 10)
    }
    ,
    o.prototype.set_crop_value = function() {
        var e = this;
        this.uploadCrop.croppie("result", {
            type: "canvas",
            size: "original"
        }).then(function(t) {
            e.input.val(t),
            e.validate()
        })
    }
    ,
    o.prototype.getIconPositionReference = function() {
        return this.sourceCrop
    }
    ,
    o.prototype.rotate_image = function(e) {
        this.uploadCrop.croppie("rotate", parseInt(e))
    }
    ,
    o.prototype.flip_image = function(e) {
        var t = this;
        t.uploadCrop.croppie("bind", {
            url: t.imageUploaded,
            orientation: e
        })
    }
    ,
    o
}),
define("skins/form/validator/date", ["config/main", "static/utils", "lib/tools", "./input_base", "lib/i18n!front"], function(e, t, i, n, o) {
    var s = function(s, a) {
        if ("object" == typeof a) {
            n.apply(this, [s, a]),
            this.hidden_input = this.input.parent().next();
            var r = this
              , l = function() {
                require(["libs/datetimepicker"], function() {
                    var n = o.__("widget.datepicker.*");
                    for (var s in n)
                        if (n.hasOwnProperty(s)) {
                            var l = s.split("_");
                            if (l.length <= 1)
                                n[s] = t.unescape(n[s]);
                            else {
                                for (var u = 1; u < l.length; u++)
                                    l[u] = i.ucfirst(l[u]);
                                l = l.join(""),
                                n[l] = t.unescape(n[s]),
                                delete n[s]
                            }
                        }
                    var f = {
                        locale: e.dyn.locale,
                        icons: {
                            time: "glyphicon icon-f icf-clock",
                            date: "glyphicon icon-f icf-calendar",
                            up: "glyphicon icon-f icf-angle-up",
                            down: "glyphicon icon-f icf-angle-down",
                            previous: "glyphicon icon-f icf-chevron-left",
                            next: "glyphicon icon-f icf-chevron-right",
                            today: "glyphicon icon-f icf-arrows",
                            clear: "glyphicon icon-f icf-trash",
                            close: "glyphicon icon-f icf-close"
                        },
                        tooltips: n,
                        allowInputToggle: !0,
                        useCurrent: !1
                    };
                    a.options.with_time ? f.format = "LLL" : f.format = "LL",
                    a.options.min_date && (f.minDate = a.options.min_date),
                    a.options.max_date && (f.maxDate = a.options.max_date);
                    var c = r.input.val()
                      , d = r.input.parent().datetimepicker(f).on("dp.change", function(e) {
                        var t = "YYYY-MM-DD";
                        a.options.with_time && (t += " HH:mm:ss"),
                        r.hidden_input.val(e.date ? e.date.clone().locale("en").format(t) : "")
                    });
                    if ("string" == typeof c && c.length > 0) {
                        var h = 0
                          , p = 0
                          , _ = 0
                          , g = 0
                          , m = 0
                          , b = 0
                          , v = c.split(/[ :-]+/);
                        v.length >= 3 && (h = parseInt(v[0]),
                        p = parseInt(v[1]) - 1,
                        _ = parseInt(v[2]),
                        v.length >= 6 && (g = parseInt(v[3]),
                        m = parseInt(v[4]),
                        b = parseInt(v[5]))),
                        c = new Date(h,p,_,g,m,b),
                        isNaN(c.getTime()) || d.data("DateTimePicker").date(c)
                    }
                    r.input.on("blur keyup", function() {
                        r.validate()
                    }),
                    r.getValue().length > 0 && r.validate()
                })
            };
            if ("en" !== e.dyn.locale) {
                var u = e.dyn.locale;
                "zh" === u && (u = "zh-cn"),
                require(["moment", "moment/locale/" + u], function(e) {
                    e.locale(u),
                    l()
                })
            } else
                l()
        }
    };
    return s.prototype = new n,
    s.prototype.getInput = function() {
        return $("#" + this.id)
    }
    ,
    s.prototype.doValidate = function(e) {
        return !this.options.required || 0 !== e.length || (this.setError(this.getMessage("required", "Required")),
        !1)
    }
    ,
    s
}),
window = "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {},
document = window.document || {},
function(e, t) {
    "function" == typeof require && "object" == typeof exports && "object" == typeof module ? e(require("jquery")) : "function" == typeof define && define.amd ? define("libs/emojionearea.min", ["jquery"], e) : e(t.jQuery)
}(function(e) {
    "use strict";
    function t(e) {
        P ? e() : I.push(e)
    }
    function i(t, i, n) {
        var o = !0
          , s = 1;
        if (i) {
            i = i.toLowerCase();
            do {
                var a = 1 == s ? "@" + i : i;
                S[t.id][a] && S[t.id][a].length && e.each(S[t.id][a], function(e, i) {
                    return o = !1 !== i.apply(t, n || [])
                })
            } while (o && s--)
        }
        return o
    }
    function n(t, i, n, o) {
        o = o || function(t, i) {
            return e(i.currentTarget)
        }
        ,
        e.each(n, function(s, a) {
            s = e.isArray(n) ? a : s,
            (L[t.id][a] || (L[t.id][a] = [])).push([i, s, o])
        })
    }
    function o(e, t, i) {
        var n, o = P.imageType;
        n = "svg" == o ? P.imagePathSVG : P.imagePathPNG;
        var s = "";
        i && (s = i.substr(1, i.length - 2).replace(/_/g, " ").replace(/\w\S*/g, function(e) {
            return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase()
        }));
        var a = "";
        return t.uc_base && B > 4 ? (a = t.uc_base,
        t = t.uc_output.toUpperCase()) : a = t,
        e.replace("{name}", i || "").replace("{friendlyName}", s).replace("{img}", n + (2 > B ? a.toUpperCase() : a) + "." + o).replace("{uni}", t).replace("{alt}", P.convert(t))
    }
    function s(e, t, i) {
        return e.replace(/:?\+?[\w_\-]+:?/g, function(e) {
            e = ":" + e.replace(/:$/, "").replace(/^:/, "") + ":";
            var n = P.emojioneList[e];
            return n ? B > 4 ? o(t, n, e) : (B > 3 && (n = n.unicode),
            o(t, n[n.length - 1], e)) : i ? "" : e
        })
    }
    function a(e) {
        var t, i;
        if (window.getSelection) {
            if (t = window.getSelection(),
            t.getRangeAt && t.rangeCount) {
                i = t.getRangeAt(0),
                i.deleteContents();
                var n = document.createElement("div");
                n.innerHTML = e;
                for (var o, s, a = document.createDocumentFragment(); o = n.firstChild; )
                    s = a.appendChild(o);
                i.insertNode(a),
                s && (i = i.cloneRange(),
                i.setStartAfter(s),
                i.collapse(!0),
                t.removeAllRanges(),
                t.addRange(i))
            }
        } else
            document.selection && "Control" != document.selection.type && document.selection.createRange().pasteHTML(e)
    }
    function r() {
        return window.emojioneVersion || "3.1.2"
    }
    function l(e) {
        return "object" == typeof e
    }
    function u(e) {
        var t;
        return e.cacheBustParam ? (t = e.cacheBustParam,
        l(e.jsEscapeMap) ? "?v=1.2.4" === t ? "2.0.0" : "?v=2.0.1" === t ? "2.1.0" : "?v=2.1.1" === t ? "2.1.1" : "?v=2.1.2" === t ? "2.1.2" : "?v=2.1.3" === t ? "2.1.3" : "?v=2.1.4" === t ? "2.1.4" : "2.2.7" : "1.5.2") : e.emojiVersion
    }
    function f(e) {
        switch (e) {
        case "1.5.2":
            return 0;
        case "2.0.0":
            return 1;
        case "2.1.0":
        case "2.1.1":
            return 2;
        case "2.1.2":
            return 3;
        case "2.1.3":
        case "2.1.4":
        case "2.2.7":
            return 4;
        case "3.0.1":
        case "3.0.2":
        case "3.0.3":
        case "3.0":
            return 5;
        case "3.1.0":
        case "3.1.1":
        case "3.1.2":
        case "3.1":
        default:
            return 6
        }
    }
    function c() {
        if (e.fn.emojioneArea && e.fn.emojioneArea.defaults)
            return e.fn.emojioneArea.defaults;
        var t = {
            attributes: {
                dir: "ltr",
                spellcheck: !1,
                autocomplete: "off",
                autocorrect: "off",
                autocapitalize: "off"
            },
            search: !0,
            placeholder: null,
            emojiPlaceholder: ":smiley:",
            searchPlaceholder: "SEARCH",
            container: null,
            hideSource: !0,
            shortnames: !0,
            sprite: !0,
            pickerPosition: "top",
            filtersPosition: "top",
            searchPosition: "top",
            hidePickerOnBlur: !0,
            buttonTitle: "Use the TAB key to insert emoji faster",
            tones: !0,
            tonesStyle: "bullet",
            inline: null,
            saveEmojisAs: "unicode",
            shortcuts: !0,
            autocomplete: !0,
            autocompleteTones: !1,
            standalone: !1,
            useInternalCDN: !0,
            imageType: "png",
            recentEmojis: !0,
            textcomplete: {
                maxCount: 15,
                placement: null
            }
        }
          , i = f(P ? u(P) : r());
        return t.filters = i > 4 ? {
            tones: {
                title: "Diversity",
                emoji: "open_hands raised_hands clap pray thumbsup thumbsdown punch fist left_facing_fist right_facing_fist fingers_crossed v metal ok_hand point_left point_right point_up_2 point_down point_up raised_hand raised_back_of_hand hand_splayed vulcan wave call_me muscle middle_finger writing_hand selfie nail_care ear nose baby boy girl man woman blond-haired_woman blond_haired_person blond-haired_man older_man older_woman man_with_chinese_cap woman_wearing_turban person_wearing_turban man_wearing_turban woman_police_officer police_officer man_police_officer woman_construction_worker construction_worker man_construction_worker woman_guard guard man_guard woman_detective detective man_detective woman_health_worker man_health_worker woman_farmer man_farmer woman_cook man_cook woman_student man_student woman_singer man_singer woman_teacher man_teacher woman_factory_worker man_factory_worker woman_technologist man_technologist woman_office_worker man_office_worker woman_mechanic man_mechanic woman_scientist man_scientist woman_artist man_artist woman_firefighter man_firefighter woman_pilot man_pilot woman_astronaut man_astronaut woman_judge man_judge mrs_claus santa princess prince bride_with_veil man_in_tuxedo angel pregnant_woman woman_bowing person_bowing man_bowing person_tipping_hand man_tipping_hand woman_tipping_hand person_gesturing_no man_gesturing_no woman_gesturing_no person_gesturing_ok man_gesturing_ok woman_gesturing_ok person_raising_hand man_raising_hand woman_raising_hand woman_facepalming man_facepalming person_facepalming woman_shrugging man_shrugging person_shrugging person_pouting man_pouting woman_pouting person_frowning man_frowning woman_frowning person_getting_haircut man_getting_haircut woman_getting_haircut person_getting_massage man_getting_face_massage woman_getting_face_massage levitate dancer man_dancing woman_walking person_walking man_walking woman_running person_running man_running adult child older_adult bearded_person woman_with_headscarf mage fairy vampire merperson elf love_you_gesture palms_up_together woman_mage man_mage woman_fairy man_fairy woman_vampire man_vampire mermaid merman woman_elf man_elf snowboarder woman_lifting_weights person_lifting_weights man_lifting_weights woman_cartwheeling man_cartwheeling person_doing_cartwheel woman_bouncing_ball person_bouncing_ball man_bouncing_ball woman_playing_handball man_playing_handball person_playing_handball woman_golfing person_golfing man_golfing woman_surfing person_surfing man_surfing woman_swimming person_swimming man_swimming woman_playing_water_polo man_playing_water_polo person_playing_water_polo woman_rowing_boat person_rowing_boat man_rowing_boat horse_racing woman_biking person_biking man_biking woman_mountain_biking person_mountain_biking man_mountain_biking woman_juggling man_juggling person_juggling breast_feeding person_in_steamy_room person_climbing person_in_lotus_position woman_in_steamy_room man_in_steamy_room woman_climbing man_climbing woman_in_lotus_position man_in_lotus_position bath sleeping_accommodation"
            },
            recent: {
                icon: "clock3",
                title: "Recent",
                emoji: ""
            },
            smileys_people: {
                icon: "yum",
                title: "Smileys & People",
                emoji: "grinning smiley smile grin laughing sweat_smile joy rofl relaxed blush innocent slight_smile upside_down wink relieved heart_eyes kissing_heart kissing kissing_smiling_eyes kissing_closed_eyes yum stuck_out_tongue_winking_eye stuck_out_tongue_closed_eyes stuck_out_tongue money_mouth hugging nerd sunglasses clown cowboy smirk unamused disappointed pensive worried confused slight_frown frowning2 persevere confounded tired_face weary triumph angry rage no_mouth neutral_face expressionless hushed frowning anguished open_mouth astonished dizzy_face flushed scream fearful cold_sweat cry disappointed_relieved drooling_face sob sweat sleepy sleeping rolling_eyes thinking lying_face grimacing zipper_mouth nauseated_face sneezing_face mask thermometer_face head_bandage smiling_imp imp japanese_ogre japanese_goblin poop ghost skull skull_crossbones alien space_invader robot jack_o_lantern smiley_cat smile_cat joy_cat heart_eyes_cat smirk_cat kissing_cat scream_cat crying_cat_face pouting_cat open_hands raised_hands clap pray handshake thumbsup thumbsdown punch fist left_facing_fist right_facing_fist fingers_crossed v metal ok_hand point_left point_right point_up_2 point_down point_up raised_hand raised_back_of_hand hand_splayed vulcan wave call_me muscle middle_finger writing_hand selfie nail_care ring lipstick kiss lips tongue ear nose footprints eye eyes speaking_head bust_in_silhouette busts_in_silhouette baby boy girl man woman blond-haired_woman blond_haired_person older_man older_woman man_with_chinese_cap woman_wearing_turban person_wearing_turban woman_police_officer police_officer woman_construction_worker construction_worker woman_guard guard woman_detective detective woman_health_worker man_health_worker woman_farmer man_farmer woman_cook man_cook woman_student man_student woman_singer man_singer woman_teacher man_teacher woman_factory_worker man_factory_worker woman_technologist man_technologist woman_office_worker man_office_worker woman_mechanic man_mechanic woman_scientist man_scientist woman_artist man_artist woman_firefighter man_firefighter woman_pilot man_pilot woman_astronaut man_astronaut woman_judge man_judge mrs_claus santa princess prince bride_with_veil man_in_tuxedo angel pregnant_woman woman_bowing person_bowing person_tipping_hand man_tipping_hand person_gesturing_no man_gesturing_no person_gesturing_ok man_gesturing_ok person_raising_hand man_raising_hand woman_facepalming man_facepalming woman_shrugging man_shrugging person_pouting man_pouting person_frowning man_frowning person_getting_haircut man_getting_haircut person_getting_massage man_getting_face_massage levitate dancer man_dancing people_with_bunny_ears_partying men_with_bunny_ears_partying woman_walking person_walking woman_running person_running couple two_women_holding_hands two_men_holding_hands couple_with_heart couple_ww couple_mm couplekiss kiss_ww kiss_mm family family_mwg family_mwgb family_mwbb family_mwgg family_wwb family_wwg family_wwgb family_wwbb family_wwgg family_mmb family_mmg family_mmgb family_mmbb family_mmgg family_woman_boy family_woman_girl family_woman_girl_boy family_woman_boy_boy family_woman_girl_girl family_man_boy family_man_girl family_man_girl_boy family_man_boy_boy family_man_girl_girl womans_clothes shirt jeans necktie dress bikini kimono high_heel sandal boot mans_shoe athletic_shoe womans_hat tophat mortar_board crown helmet_with_cross school_satchel pouch purse handbag briefcase eyeglasses dark_sunglasses closed_umbrella umbrella2 face_with_raised_eyebrow star_struck crazy_face shushing_face face_with_symbols_over_mouth face_with_hand_over_mouth face_vomiting exploding_head face_with_monocle adult child older_adult bearded_person woman_with_headscarf brain billed_cap scarf gloves coat socks love_you_gesture palms_up_together woman_mage man_mage woman_fairy man_fairy woman_vampire man_vampire mermaid merman woman_elf man_elf woman_genie man_genie woman_zombie man_zombie"
            },
            animals_nature: {
                icon: "hamster",
                title: "Animals & Nature",
                emoji: "dog cat mouse hamster rabbit fox bear panda_face koala tiger lion_face cow pig pig_nose frog monkey_face see_no_evil hear_no_evil speak_no_evil monkey chicken penguin bird baby_chick hatching_chick hatched_chick duck eagle owl bat wolf boar horse unicorn bee bug butterfly snail shell beetle ant spider spider_web turtle snake lizard scorpion crab squid octopus shrimp tropical_fish fish blowfish dolphin shark whale whale2 crocodile leopard tiger2 water_buffalo ox cow2 deer dromedary_camel camel elephant rhino gorilla racehorse pig2 goat ram sheep dog2 poodle cat2 rooster turkey dove rabbit2 mouse2 rat chipmunk feet dragon dragon_face cactus christmas_tree evergreen_tree deciduous_tree palm_tree seedling herb shamrock four_leaf_clover bamboo tanabata_tree leaves fallen_leaf maple_leaf mushroom ear_of_rice bouquet tulip rose wilted_rose sunflower blossom cherry_blossom hibiscus earth_americas earth_africa earth_asia full_moon waning_gibbous_moon last_quarter_moon waning_crescent_moon new_moon waxing_crescent_moon first_quarter_moon waxing_gibbous_moon new_moon_with_face full_moon_with_face sun_with_face first_quarter_moon_with_face last_quarter_moon_with_face crescent_moon dizzy star star2 sparkles zap fire boom comet sunny white_sun_small_cloud partly_sunny white_sun_cloud white_sun_rain_cloud rainbow cloud cloud_rain thunder_cloud_rain cloud_lightning cloud_snow snowman2 snowman snowflake wind_blowing_face dash cloud_tornado fog ocean droplet sweat_drops umbrella giraffe zebra hedgehog sauropod t_rex cricket"
            },
            food_drink: {
                icon: "pizza",
                title: "Food & Drink",
                emoji: "green_apple apple pear tangerine lemon banana watermelon grapes strawberry melon cherries peach pineapple kiwi avocado tomato eggplant cucumber carrot corn hot_pepper potato sweet_potato chestnut peanuts honey_pot croissant bread french_bread cheese egg cooking bacon pancakes fried_shrimp poultry_leg meat_on_bone pizza hotdog hamburger fries stuffed_flatbread taco burrito salad shallow_pan_of_food spaghetti ramen stew fish_cake sushi bento curry rice_ball rice rice_cracker oden dango shaved_ice ice_cream icecream cake birthday custard lollipop candy chocolate_bar popcorn doughnut cookie milk baby_bottle coffee tea sake beer beers champagne_glass wine_glass tumbler_glass cocktail tropical_drink champagne spoon fork_and_knife fork_knife_plate dumpling fortune_cookie takeout_box chopsticks bowl_with_spoon cup_with_straw coconut broccoli pie pretzel cut_of_meat sandwich canned_food"
            },
            activity: {
                icon: "basketball",
                title: "Activity",
                emoji: "soccer basketball football baseball tennis volleyball rugby_football 8ball ping_pong badminton goal hockey field_hockey cricket_game golf bow_and_arrow fishing_pole_and_fish boxing_glove martial_arts_uniform ice_skate ski skier snowboarder woman_lifting_weights person_lifting_weights person_fencing women_wrestling men_wrestling woman_cartwheeling man_cartwheeling woman_bouncing_ball person_bouncing_ball woman_playing_handball man_playing_handball woman_golfing person_golfing woman_surfing person_surfing woman_swimming person_swimming woman_playing_water_polo man_playing_water_polo woman_rowing_boat person_rowing_boat horse_racing woman_biking person_biking woman_mountain_biking person_mountain_biking running_shirt_with_sash medal military_medal first_place second_place third_place trophy rosette reminder_ribbon ticket tickets circus_tent woman_juggling man_juggling performing_arts art clapper microphone headphones musical_score musical_keyboard drum saxophone trumpet guitar violin game_die dart bowling video_game slot_machine sled breast_feeding curling_stone woman_in_steamy_room man_in_steamy_room woman_climbing man_climbing woman_in_lotus_position man_in_lotus_position"
            },
            travel_places: {
                icon: "rocket",
                title: "Travel & Places",
                emoji: "red_car taxi blue_car bus trolleybus race_car police_car ambulance fire_engine minibus truck articulated_lorry tractor scooter bike motor_scooter motorcycle rotating_light oncoming_police_car oncoming_bus oncoming_automobile oncoming_taxi aerial_tramway mountain_cableway suspension_railway railway_car train mountain_railway monorail bullettrain_side bullettrain_front light_rail steam_locomotive train2 metro tram station helicopter airplane_small airplane airplane_departure airplane_arriving rocket satellite_orbital seat canoe sailboat motorboat speedboat cruise_ship ferry ship anchor construction fuelpump busstop vertical_traffic_light traffic_light map moyai statue_of_liberty fountain tokyo_tower european_castle japanese_castle stadium ferris_wheel roller_coaster carousel_horse beach_umbrella beach island mountain mountain_snow mount_fuji volcano desert camping tent railway_track motorway construction_site factory house house_with_garden homes house_abandoned office department_store post_office european_post_office hospital bank hotel convenience_store school love_hotel wedding classical_building church mosque synagogue kaaba shinto_shrine japan rice_scene park sunrise sunrise_over_mountains stars sparkler fireworks city_sunset city_dusk cityscape night_with_stars milky_way bridge_at_night foggy flying_saucer"
            },
            objects: {
                icon: "bulb",
                title: "Objects",
                emoji: "watch iphone calling computer keyboard desktop printer mouse_three_button trackball joystick compression minidisc floppy_disk cd dvd vhs camera camera_with_flash video_camera movie_camera projector film_frames telephone_receiver telephone pager fax tv radio microphone2 level_slider control_knobs stopwatch timer alarm_clock clock hourglass hourglass_flowing_sand satellite battery electric_plug bulb flashlight candle wastebasket oil money_with_wings dollar yen euro pound moneybag credit_card gem scales wrench hammer hammer_pick tools pick nut_and_bolt gear chains gun bomb knife dagger crossed_swords shield smoking coffin urn amphora crystal_ball prayer_beads barber alembic telescope microscope hole pill syringe thermometer toilet potable_water shower bathtub bath bellhop key key2 door couch bed sleeping_accommodation frame_photo shopping_bags shopping_cart gift balloon flags ribbon confetti_ball tada dolls izakaya_lantern wind_chime envelope envelope_with_arrow incoming_envelope e-mail love_letter inbox_tray outbox_tray package label mailbox_closed mailbox mailbox_with_mail mailbox_with_no_mail postbox postal_horn scroll page_with_curl page_facing_up bookmark_tabs bar_chart chart_with_upwards_trend chart_with_downwards_trend notepad_spiral calendar_spiral calendar date card_index card_box ballot_box file_cabinet clipboard file_folder open_file_folder dividers newspaper2 newspaper notebook notebook_with_decorative_cover ledger closed_book green_book blue_book orange_book books book bookmark link paperclip paperclips triangular_ruler straight_ruler pushpin round_pushpin scissors pen_ballpoint pen_fountain black_nib paintbrush crayon pencil pencil2 mag mag_right lock_with_ink_pen closed_lock_with_key lock unlock orange_heart"
            },
            symbols: {
                icon: "heartpulse",
                title: "Symbols",
                emoji: "heart yellow_heart green_heart blue_heart purple_heart black_heart broken_heart heart_exclamation two_hearts revolving_hearts heartbeat heartpulse sparkling_heart cupid gift_heart heart_decoration peace cross star_and_crescent om_symbol wheel_of_dharma star_of_david six_pointed_star menorah yin_yang orthodox_cross place_of_worship ophiuchus aries taurus gemini cancer leo virgo libra scorpius sagittarius capricorn aquarius pisces id atom accept radioactive biohazard mobile_phone_off vibration_mode u6709 u7121 u7533 u55b6 u6708 eight_pointed_black_star vs white_flower ideograph_advantage secret congratulations u5408 u6e80 u5272 u7981 a b ab cl o2 sos x o octagonal_sign no_entry name_badge no_entry_sign 100 anger hotsprings no_pedestrians do_not_litter no_bicycles non-potable_water underage no_mobile_phones no_smoking exclamation grey_exclamation question grey_question bangbang interrobang low_brightness high_brightness part_alternation_mark warning children_crossing trident fleur-de-lis beginner recycle white_check_mark u6307 chart sparkle eight_spoked_asterisk negative_squared_cross_mark globe_with_meridians diamond_shape_with_a_dot_inside m cyclone zzz atm wc wheelchair parking u7a7a sa passport_control customs baggage_claim left_luggage mens womens baby_symbol restroom put_litter_in_its_place cinema signal_strength koko symbols information_source abc abcd capital_abcd ng ok up cool new free zero one two three four five six seven eight nine keycap_ten 1234 hash asterisk arrow_forward pause_button play_pause stop_button record_button eject track_next track_previous fast_forward rewind arrow_double_up arrow_double_down arrow_backward arrow_up_small arrow_down_small arrow_right arrow_left arrow_up arrow_down arrow_upper_right arrow_lower_right arrow_lower_left arrow_upper_left arrow_up_down left_right_arrow arrow_right_hook leftwards_arrow_with_hook arrow_heading_up arrow_heading_down twisted_rightwards_arrows repeat repeat_one arrows_counterclockwise arrows_clockwise musical_note notes heavy_plus_sign heavy_minus_sign heavy_division_sign heavy_multiplication_x heavy_dollar_sign currency_exchange tm copyright registered wavy_dash curly_loop loop end back on top soon heavy_check_mark ballot_box_with_check radio_button white_circle black_circle red_circle blue_circle small_red_triangle small_red_triangle_down small_orange_diamond small_blue_diamond large_orange_diamond large_blue_diamond white_square_button black_square_button black_small_square white_small_square black_medium_small_square white_medium_small_square black_medium_square white_medium_square black_large_square white_large_square speaker mute sound loud_sound bell no_bell mega loudspeaker speech_left eye_in_speech_bubble speech_balloon thought_balloon anger_right spades clubs hearts diamonds black_joker flower_playing_cards mahjong clock1 clock2 clock3 clock4 clock5 clock6 clock7 clock8 clock9 clock10 clock11 clock12 clock130 clock230 clock330 clock430 clock530 clock630 clock730 clock830 clock930 clock1030 clock1130 clock1230"
            },
            flags: {
                icon: "flag_gb",
                title: "Flags",
                emoji: "flag_white flag_black checkered_flag triangular_flag_on_post rainbow_flag flag_af flag_ax flag_al flag_dz flag_as flag_ad flag_ao flag_ai flag_aq flag_ag flag_ar flag_am flag_aw flag_au flag_at flag_az flag_bs flag_bh flag_bd flag_bb flag_by flag_be flag_bz flag_bj flag_bm flag_bt flag_bo flag_ba flag_bw flag_br flag_io flag_vg flag_bn flag_bg flag_bf flag_bi flag_kh flag_cm flag_ca flag_ic flag_cv flag_bq flag_ky flag_cf flag_td flag_cl flag_cn flag_cx flag_cc flag_co flag_km flag_cg flag_cd flag_ck flag_cr flag_ci flag_hr flag_cu flag_cw flag_cy flag_cz flag_dk flag_dj flag_dm flag_do flag_ec flag_eg flag_sv flag_gq flag_er flag_ee flag_et flag_eu flag_fk flag_fo flag_fj flag_fi flag_fr flag_gf flag_pf flag_tf flag_ga flag_gm flag_ge flag_de flag_gh flag_gi flag_gr flag_gl flag_gd flag_gp flag_gu flag_gt flag_gg flag_gn flag_gw flag_gy flag_ht flag_hn flag_hk flag_hu flag_is flag_in flag_id flag_ir flag_iq flag_ie flag_im flag_il flag_it flag_jm flag_jp crossed_flags flag_je flag_jo flag_kz flag_ke flag_ki flag_xk flag_kw flag_kg flag_la flag_lv flag_lb flag_ls flag_lr flag_ly flag_li flag_lt flag_lu flag_mo flag_mk flag_mg flag_mw flag_my flag_mv flag_ml flag_mt flag_mh flag_mq flag_mr flag_mu flag_yt flag_mx flag_fm flag_md flag_mc flag_mn flag_me flag_ms flag_ma flag_mz flag_mm flag_na flag_nr flag_np flag_nl flag_nc flag_nz flag_ni flag_ne flag_ng flag_nu flag_nf flag_kp flag_mp flag_no flag_om flag_pk flag_pw flag_ps flag_pa flag_pg flag_py flag_pe flag_ph flag_pn flag_pl flag_pt flag_pr flag_qa flag_re flag_ro flag_ru flag_rw flag_ws flag_sm flag_st flag_sa flag_sn flag_rs flag_sc flag_sl flag_sg flag_sx flag_sk flag_si flag_gs flag_sb flag_so flag_za flag_kr flag_ss flag_es flag_lk flag_bl flag_sh flag_kn flag_lc flag_pm flag_vc flag_sd flag_sr flag_sz flag_se flag_ch flag_sy flag_tw flag_tj flag_tz flag_th flag_tl flag_tg flag_tk flag_to flag_tt flag_tn flag_tr flag_tm flag_tc flag_tv flag_vi flag_ug flag_ua flag_ae flag_gb flag_us flag_uy flag_uz flag_vu flag_va flag_ve flag_vn flag_wf flag_eh flag_ye flag_zm flag_zw flag_ac flag_ta flag_bv flag_hm flag_sj flag_um flag_ea flag_cp flag_dg flag_mf united_nations england scotland wales"
            }
        } : {
            tones: {
                title: "Diversity",
                emoji: "santa runner surfer swimmer lifter ear nose point_up_2 point_down point_left point_right punch wave ok_hand thumbsup thumbsdown clap open_hands boy girl man woman cop bride_with_veil person_with_blond_hair man_with_gua_pi_mao man_with_turban older_man grandma baby construction_worker princess angel information_desk_person guardsman dancer nail_care massage haircut muscle spy hand_splayed middle_finger vulcan no_good ok_woman bow raising_hand raised_hands person_frowning person_with_pouting_face pray rowboat bicyclist mountain_bicyclist walking bath metal point_up basketball_player fist raised_hand v writing_hand"
            },
            recent: {
                icon: "clock3",
                title: "Recent",
                emoji: ""
            },
            smileys_people: {
                icon: "yum",
                title: "Smileys & People",
                emoji: "grinning grimacing grin joy smiley smile sweat_smile laughing innocent wink blush slight_smile upside_down relaxed yum relieved heart_eyes kissing_heart kissing kissing_smiling_eyes kissing_closed_eyes stuck_out_tongue_winking_eye stuck_out_tongue_closed_eyes stuck_out_tongue money_mouth nerd sunglasses hugging smirk no_mouth neutral_face expressionless unamused rolling_eyes thinking flushed disappointed worried angry rage pensive confused slight_frown frowning2 persevere confounded tired_face weary triumph open_mouth scream fearful cold_sweat hushed frowning anguished cry disappointed_relieved sleepy sweat sob dizzy_face astonished zipper_mouth mask thermometer_face head_bandage sleeping zzz poop smiling_imp imp japanese_ogre japanese_goblin skull ghost alien robot smiley_cat smile_cat joy_cat heart_eyes_cat smirk_cat kissing_cat scream_cat crying_cat_face pouting_cat raised_hands clap wave thumbsup thumbsdown punch fist v ok_hand raised_hand open_hands muscle pray point_up point_up_2 point_down point_left point_right middle_finger hand_splayed metal vulcan writing_hand nail_care lips tongue ear nose eye eyes bust_in_silhouette busts_in_silhouette speaking_head baby boy girl man woman person_with_blond_hair older_man older_woman man_with_gua_pi_mao man_with_turban cop construction_worker guardsman spy santa angel princess bride_with_veil walking runner dancer dancers couple two_men_holding_hands two_women_holding_hands bow information_desk_person no_good ok_woman raising_hand person_with_pouting_face person_frowning haircut massage couple_with_heart couple_ww couple_mm couplekiss kiss_ww kiss_mm family family_mwg family_mwgb family_mwbb family_mwgg family_wwb family_wwg family_wwgb family_wwbb family_wwgg family_mmb family_mmg family_mmgb family_mmbb family_mmgg womans_clothes shirt jeans necktie dress bikini kimono lipstick kiss footprints high_heel sandal boot mans_shoe athletic_shoe womans_hat tophat helmet_with_cross mortar_board crown school_satchel pouch purse handbag briefcase eyeglasses dark_sunglasses ring closed_umbrella"
            },
            animals_nature: {
                icon: "hamster",
                title: "Animals & Nature",
                emoji: "dog cat mouse hamster rabbit bear panda_face koala tiger lion_face cow pig pig_nose frog octopus monkey_face see_no_evil hear_no_evil speak_no_evil monkey chicken penguin bird baby_chick hatching_chick hatched_chick wolf boar horse unicorn bee bug snail beetle ant spider scorpion crab snake turtle tropical_fish fish blowfish dolphin whale whale2 crocodile leopard tiger2 water_buffalo ox cow2 dromedary_camel camel elephant goat ram sheep racehorse pig2 rat mouse2 rooster turkey dove dog2 poodle cat2 rabbit2 chipmunk feet dragon dragon_face cactus christmas_tree evergreen_tree deciduous_tree palm_tree seedling herb shamrock four_leaf_clover bamboo tanabata_tree leaves fallen_leaf maple_leaf ear_of_rice hibiscus sunflower rose tulip blossom cherry_blossom bouquet mushroom chestnut jack_o_lantern shell spider_web earth_americas earth_africa earth_asia full_moon waning_gibbous_moon last_quarter_moon waning_crescent_moon new_moon waxing_crescent_moon first_quarter_moon waxing_gibbous_moon new_moon_with_face full_moon_with_face first_quarter_moon_with_face last_quarter_moon_with_face sun_with_face crescent_moon star star2 dizzy sparkles comet sunny white_sun_small_cloud partly_sunny white_sun_cloud white_sun_rain_cloud cloud cloud_rain thunder_cloud_rain cloud_lightning zap fire boom snowflake cloud_snow snowman2 snowman wind_blowing_face dash cloud_tornado fog umbrella2 umbrella droplet sweat_drops ocean"
            },
            food_drink: {
                icon: "pizza",
                title: "Food & Drink",
                emoji: "green_apple apple pear tangerine lemon banana watermelon grapes strawberry melon cherries peach pineapple tomato eggplant hot_pepper corn sweet_potato honey_pot bread cheese poultry_leg meat_on_bone fried_shrimp egg hamburger fries hotdog pizza spaghetti taco burrito ramen stew fish_cake sushi bento curry rice_ball rice rice_cracker oden dango shaved_ice ice_cream icecream cake birthday custard candy lollipop chocolate_bar popcorn doughnut cookie beer beers wine_glass cocktail tropical_drink champagne sake tea coffee baby_bottle fork_and_knife fork_knife_plate"
            },
            activity: {
                icon: "basketball",
                title: "Activity",
                emoji: "soccer basketball football baseball tennis volleyball rugby_football 8ball golf golfer ping_pong badminton hockey field_hockey cricket ski skier snowboarder ice_skate bow_and_arrow fishing_pole_and_fish rowboat swimmer surfer bath basketball_player lifter bicyclist mountain_bicyclist horse_racing levitate trophy running_shirt_with_sash medal military_medal reminder_ribbon rosette ticket tickets performing_arts art circus_tent microphone headphones musical_score musical_keyboard saxophone trumpet guitar violin clapper video_game space_invader dart game_die slot_machine bowling"
            },
            travel_places: {
                icon: "rocket",
                title: "Travel & Places",
                emoji: "red_car taxi blue_car bus trolleybus race_car police_car ambulance fire_engine minibus truck articulated_lorry tractor motorcycle bike rotating_light oncoming_police_car oncoming_bus oncoming_automobile oncoming_taxi aerial_tramway mountain_cableway suspension_railway railway_car train monorail bullettrain_side bullettrain_front light_rail mountain_railway steam_locomotive train2 metro tram station helicopter airplane_small airplane airplane_departure airplane_arriving sailboat motorboat speedboat ferry cruise_ship rocket satellite_orbital seat anchor construction fuelpump busstop vertical_traffic_light traffic_light checkered_flag ship ferris_wheel roller_coaster carousel_horse construction_site foggy tokyo_tower factory fountain rice_scene mountain mountain_snow mount_fuji volcano japan camping tent park motorway railway_track sunrise sunrise_over_mountains desert beach island city_sunset city_dusk cityscape night_with_stars bridge_at_night milky_way stars sparkler fireworks rainbow homes european_castle japanese_castle stadium statue_of_liberty house house_with_garden house_abandoned office department_store post_office european_post_office hospital bank hotel convenience_store school love_hotel wedding classical_building church mosque synagogue kaaba shinto_shrine"
            },
            objects: {
                icon: "bulb",
                title: "Objects",
                emoji: "watch iphone calling computer keyboard desktop printer mouse_three_button trackball joystick compression minidisc floppy_disk cd dvd vhs camera camera_with_flash video_camera movie_camera projector film_frames telephone_receiver telephone pager fax tv radio microphone2 level_slider control_knobs stopwatch timer alarm_clock clock hourglass_flowing_sand hourglass satellite battery electric_plug bulb flashlight candle wastebasket oil money_with_wings dollar yen euro pound moneybag credit_card gem scales wrench hammer hammer_pick tools pick nut_and_bolt gear chains gun bomb knife dagger crossed_swords shield smoking skull_crossbones coffin urn amphora crystal_ball prayer_beads barber alembic telescope microscope hole pill syringe thermometer label bookmark toilet shower bathtub key key2 couch sleeping_accommodation bed door bellhop frame_photo map beach_umbrella moyai shopping_bags balloon flags ribbon gift confetti_ball tada dolls wind_chime crossed_flags izakaya_lantern envelope envelope_with_arrow incoming_envelope e-mail love_letter postbox mailbox_closed mailbox mailbox_with_mail mailbox_with_no_mail package postal_horn inbox_tray outbox_tray scroll page_with_curl bookmark_tabs bar_chart chart_with_upwards_trend chart_with_downwards_trend page_facing_up date calendar calendar_spiral card_index card_box ballot_box file_cabinet clipboard notepad_spiral file_folder open_file_folder dividers newspaper2 newspaper notebook closed_book green_book blue_book orange_book notebook_with_decorative_cover ledger books book link paperclip paperclips scissors triangular_ruler straight_ruler pushpin round_pushpin triangular_flag_on_post flag_white flag_black closed_lock_with_key lock unlock lock_with_ink_pen pen_ballpoint pen_fountain black_nib pencil pencil2 crayon paintbrush mag mag_right"
            },
            symbols: {
                icon: "heartpulse",
                title: "Symbols",
                emoji: "heart yellow_heart green_heart blue_heart purple_heart broken_heart heart_exclamation two_hearts revolving_hearts heartbeat heartpulse sparkling_heart cupid gift_heart heart_decoration peace cross star_and_crescent om_symbol wheel_of_dharma star_of_david six_pointed_star menorah yin_yang orthodox_cross place_of_worship ophiuchus aries taurus gemini cancer leo virgo libra scorpius sagittarius capricorn aquarius pisces id atom u7a7a u5272 radioactive biohazard mobile_phone_off vibration_mode u6709 u7121 u7533 u55b6 u6708 eight_pointed_black_star vs accept white_flower ideograph_advantage secret congratulations u5408 u6e80 u7981 a b ab cl o2 sos no_entry name_badge no_entry_sign x o anger hotsprings no_pedestrians do_not_litter no_bicycles non-potable_water underage no_mobile_phones exclamation grey_exclamation question grey_question bangbang interrobang 100 low_brightness high_brightness trident fleur-de-lis part_alternation_mark warning children_crossing beginner recycle u6307 chart sparkle eight_spoked_asterisk negative_squared_cross_mark white_check_mark diamond_shape_with_a_dot_inside cyclone loop globe_with_meridians m atm sa passport_control customs baggage_claim left_luggage wheelchair no_smoking wc parking potable_water mens womens baby_symbol restroom put_litter_in_its_place cinema signal_strength koko ng ok up cool new free zero one two three four five six seven eight nine ten 1234 arrow_forward pause_button play_pause stop_button record_button track_next track_previous fast_forward rewind twisted_rightwards_arrows repeat repeat_one arrow_backward arrow_up_small arrow_down_small arrow_double_up arrow_double_down arrow_right arrow_left arrow_up arrow_down arrow_upper_right arrow_lower_right arrow_lower_left arrow_upper_left arrow_up_down left_right_arrow arrows_counterclockwise arrow_right_hook leftwards_arrow_with_hook arrow_heading_up arrow_heading_down hash asterisk information_source abc abcd capital_abcd symbols musical_note notes wavy_dash curly_loop heavy_check_mark arrows_clockwise heavy_plus_sign heavy_minus_sign heavy_division_sign heavy_multiplication_x heavy_dollar_sign currency_exchange copyright registered tm end back on top soon ballot_box_with_check radio_button white_circle black_circle red_circle large_blue_circle small_orange_diamond small_blue_diamond large_orange_diamond large_blue_diamond small_red_triangle black_small_square white_small_square black_large_square white_large_square small_red_triangle_down black_medium_square white_medium_square black_medium_small_square white_medium_small_square black_square_button white_square_button speaker sound loud_sound mute mega loudspeaker bell no_bell black_joker mahjong spades clubs hearts diamonds flower_playing_cards thought_balloon anger_right speech_balloon clock1 clock2 clock3 clock4 clock5 clock6 clock7 clock8 clock9 clock10 clock11 clock12 clock130 clock230 clock330 clock430 clock530 clock630 clock730 clock830 clock930 clock1030 clock1130 clock1230 eye_in_speech_bubble"
            },
            flags: {
                icon: "flag_gb",
                title: "Flags",
                emoji: "ac af al dz ad ao ai ag ar am aw au at az bs bh bd bb by be bz bj bm bt bo ba bw br bn bg bf bi cv kh cm ca ky cf td flag_cl cn co km cg flag_cd cr hr cu cy cz dk dj dm do ec eg sv gq er ee et fk fo fj fi fr pf ga gm ge de gh gi gr gl gd gu gt gn gw gy ht hn hk hu is in flag_id ir iq ie il it ci jm jp je jo kz ke ki xk kw kg la lv lb ls lr ly li lt lu mo mk mg mw my mv ml mt mh mr mu mx fm md mc mn me ms ma mz mm na nr np nl nc nz ni ne flag_ng nu kp no om pk pw ps pa pg py pe ph pl pt pr qa ro ru rw sh kn lc vc ws sm st flag_sa sn rs sc sl sg sk si sb so za kr es lk sd sr sz se ch sy tw tj tz th tl tg to tt tn tr flag_tm flag_tm ug ua ae gb us vi uy uz vu va ve vn wf eh ye zm zw re ax ta io bq cx cc gg im yt nf pn bl pm gs tk bv hm sj um ic ea cp dg as aq vg ck cw eu gf tf gp mq mp sx ss tc "
            }
        },
        t
    }
    function d(t) {
        var i = c();
        if (t && t.filters) {
            var n = i.filters;
            e.each(t.filters, function(t, i) {
                return !l(i) || e.isEmptyObject(i) ? void delete n[t] : void e.each(i, function(e, i) {
                    n[t][e] = i
                })
            }),
            t.filters = n
        }
        return e.extend({}, i, t)
    }
    function h(e, t) {
        return e.replace(R, function(e) {
            var i = P[0 === B ? "jsecapeMap" : "jsEscapeMap"];
            return void 0 !== e && e in i ? o(t, i[e]) : e
        })
    }
    function p(e, t) {
        return e = e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;").replace(/`/g, "&#x60;").replace(/(?:\r\n|\r|\n)/g, "\n").replace(/(\n+)/g, "<div>$1</div>").replace(/\n/g, "<br/>").replace(/<br\/><\/div>/g, "</div>"),
        t.shortnames && (e = P.shortnameToUnicode(e)),
        h(e, t.emojiTemplate).replace(/\t/g, "&nbsp;&nbsp;&nbsp;&nbsp;").replace(/  /g, "&nbsp;&nbsp;")
    }
    function _(e, t) {
        switch (e = e.replace(/&#10;/g, "\n").replace(/&#09;/g, "\t").replace(/<img[^>]*alt="([^"]+)"[^>]*>/gi, "$1").replace(/\n|\r/g, "").replace(/<br[^>]*>/gi, "\n").replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/gi, "<div>").replace(/(?:<\/(?:div|p|ol|ul|li|pre|code|object)>)+/gi, "</div>").replace(/\n<div><\/div>/gi, "\n").replace(/<div><\/div>\n/gi, "\n").replace(/(?:<div>)+<\/div>/gi, "\n").replace(/([^\n])<\/div><div>/gi, "$1\n").replace(/(?:<\/div>)+/gi, "</div>").replace(/([^\n])<\/div>([^\n])/gi, "$1\n$2").replace(/<\/div>/gi, "").replace(/([^\n])<div>/gi, "$1\n").replace(/\n<div>/gi, "\n").replace(/<div>\n/gi, "\n\n").replace(/<(?:[^>]+)?>/g, "").replace(new RegExp(j,"g"), "").replace(/&nbsp;/g, " ").replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, '"').replace(/&#x27;/g, "'").replace(/&#x60;/g, "`").replace(/&#60;/g, "<").replace(/&#62;/g, ">").replace(/&amp;/g, "&"),
        t.saveEmojisAs) {
        case "image":
            e = h(e, t.emojiTemplate);
            break;
        case "shortname":
            e = P.toShort(e)
        }
        return e
    }
    function g() {
        var e = this
          , t = e.editor[0].offsetWidth - e.editor[0].clientWidth
          , i = parseInt(e.button.css("marginRight"));
        i !== t && (e.button.css({
            marginRight: t
        }),
        e.floatingPicker && e.picker.css({
            right: parseInt(e.picker.css("right")) - i + t
        }))
    }
    function m() {
        var t = this;
        if (!t.sprite && t.lasyEmoji[0]) {
            var i = t.picker.offset().top
              , n = i + t.picker.height() + 20;
            t.lasyEmoji.each(function() {
                var t = e(this)
                  , o = t.offset().top;
                o > i && n > o && t.attr("src", t.data("src")).removeClass("lazy-emoji")
            }),
            t.lasyEmoji = t.lasyEmoji.filter(".lazy-emoji")
        }
    }
    function b(e, t) {
        return (t ? "" : ".") + O + (e ? "-" + e : "")
    }
    function v(t) {
        var i = e("<div/>", l(t) ? t : {
            "class": b(t, !0)
        });
        return e.each(A.call(arguments).slice(1), function(t, n) {
            e.isFunction(n) && (n = n.call(i)),
            n && e(n).appendTo(i)
        }),
        i
    }
    function D() {
        return localStorage.getItem("recent_emojis") || ""
    }
    function y(t, i) {
        var n = D();
        if (!t.recent || t.recent !== n || i) {
            if (n.length) {
                var o, a, r = t.scrollArea.is(".skinnable");
                r || (o = t.scrollArea.scrollTop(),
                i && t.recentCategory.show(),
                a = t.recentCategory.is(":visible") ? t.recentCategory.height() : 0);
                var l = s(n, t.emojiBtnTemplate, !0).split("|").join("");
                if (t.recentCategory.children(".emojibtn").remove(),
                e(l).insertAfter(t.recentCategory.children(".emojionearea-category-title")),
                t.recentCategory.children(".emojibtn").on("click", function() {
                    t.trigger("emojibtn.click", e(this))
                }),
                t.recentFilter.show(),
                !r) {
                    t.recentCategory.show();
                    var u = t.recentCategory.height();
                    a !== u && t.scrollArea.scrollTop(o + u - a)
                }
            } else
                t.recentFilter.hasClass("active") && t.recentFilter.removeClass("active").next().addClass("active"),
                t.recentCategory.hide(),
                t.recentFilter.hide();
            t.recent = n
        }
    }
    function w(e, t) {
        var i = D()
          , n = i.split("|")
          , o = n.indexOf(t);
        -1 !== o && n.splice(o, 1),
        n.unshift(t),
        n.length > 9 && n.pop(),
        localStorage.setItem("recent_emojis", n.join("|")),
        y(e)
    }
    function C() {
        var e = "test";
        try {
            return localStorage.setItem(e, e),
            localStorage.removeItem(e),
            !0
        } catch (T) {
            return !1
        }
    }
    function k(t, o, r) {
        t.options = r = d(r),
        t.sprite = r.sprite && 3 > B,
        t.inline = null === r.inline ? o.is("INPUT") : r.inline,
        t.shortnames = r.shortnames,
        t.saveEmojisAs = r.saveEmojisAs,
        t.standalone = r.standalone,
        t.emojiTemplate = '<img alt="{alt}" class="emojione' + (t.sprite ? '-{uni}" src="' + M + '"/>' : 'emoji" src="{img}"/>'),
        t.emojiTemplateAlt = t.sprite ? '<i class="emojione-{uni}"/>' : '<img class="emojioneemoji" src="{img}"/>',
        t.emojiBtnTemplate = '<i class="emojibtn" role="button" data-name="{name}" title="{friendlyName}">' + t.emojiTemplateAlt + "</i>",
        t.recentEmojis = r.recentEmojis && C();
        var u = r.pickerPosition;
        t.floatingPicker = "top" === u || "bottom" === u,
        t.source = o,
        (o.is(":disabled") || o.is(".disabled")) && t.disable();
        var f, c, h, k, x, F, T, S, L, I, A = o.is("TEXTAREA") || o.is("INPUT") ? "val" : "text", R = v("tones", r.tones ? function() {
            this.addClass(b("tones-" + r.tonesStyle, !0));
            for (var t = 0; 5 >= t; t++)
                this.append(e("<i/>", {
                    "class": "btn-tone btn-tone-" + t + (t ? "" : " active"),
                    "data-skin": t,
                    role: "button"
                }))
        }
        : null), N = v({
            "class": O + (t.standalone ? " " + O + "-standalone " : " ") + (o.attr("class") || ""),
            role: "application"
        }, f = t.editor = v("editor").attr({
            contenteditable: !t.standalone,
            placeholder: r.placeholder || o.data("placeholder") || o.attr("placeholder") || "",
            tabindex: 0
        }), c = t.button = v("button", v("button-open"), v("button-close")).attr("title", r.buttonTitle), h = t.picker = v("picker", v("wrapper", k = v("filters"), r.search ? F = v("search-panel", v("search", r.search ? function() {
            t.search = e("<input/>", {
                placeholder: r.searchPlaceholder || "",
                type: "text",
                "class": "search"
            }),
            this.append(t.search)
        }
        : null), R) : null, I = v("scroll-area", r.tones && !r.search ? v("tones-panel", R) : null, T = v("emojis-list")))).addClass(b("picker-position-" + r.pickerPosition, !0)).addClass(b("filters-position-" + r.filtersPosition, !0)).addClass(b("search-position-" + r.searchPosition, !0)).addClass("hidden"));
        r.search && F.addClass(b("with-search", !0)),
        t.searchSel = null,
        f.data(o.data()),
        e.each(r.attributes, function(e, t) {
            f.attr(e, t)
        });
        var V = v("category-block").attr({
            "data-tone": 0
        }).prependTo(T);
        if (e.each(r.filters, function(i, n) {
            var o = 0;
            if ("recent" !== i || t.recentEmojis) {
                if ("tones" !== i)
                    e("<i/>", {
                        "class": b("filter", !0) + " " + b("filter-" + i, !0),
                        "data-filter": i,
                        title: n.title
                    }).wrapInner(s(n.icon, t.emojiTemplateAlt)).appendTo(k);
                else {
                    if (!r.tones)
                        return;
                    o = 5
                }
                do {
                    var a, l = n.emoji.replace(/[\s,;]+/g, "|");
                    a = 0 === o ? v("category").attr({
                        name: i,
                        "data-tone": o
                    }).appendTo(V) : v("category-block").attr({
                        name: i,
                        "data-tone": o
                    }).appendTo(T),
                    o > 0 && (a.hide(),
                    l = l.split("|").join("_tone" + o + "|") + "_tone" + o),
                    "recent" === i && (l = D()),
                    l = s(l, t.sprite ? '<i class="emojibtn" role="button" data-name="{name}" title="{friendlyName}"><i class="emojione-{uni}"></i></i>' : '<i class="emojibtn" role="button" data-name="{name}" title="{friendlyName}"><img class="emojioneemoji lazy-emoji" data-src="{img}"/></i>', !0).split("|").join(""),
                    a.html(l),
                    e('<div class="emojionearea-category-title"/>').text(n.title).prependTo(a)
                } while (--o > 0)
            }
        }),
        r.filters = null,
        t.sprite || (t.lasyEmoji = T.find(".lazy-emoji")),
        x = k.find(b("filter")),
        x.eq(0).addClass("active"),
        L = T.find(b("category-block")),
        S = T.find(b("category")),
        t.recentFilter = x.filter('[data-filter="recent"]'),
        t.recentCategory = S.filter("[name=recent]"),
        t.scrollArea = I,
        r.container ? e(r.container).wrapInner(N) : N.insertAfter(o),
        r.hideSource && o.hide(),
        t.setText(o[A]()),
        o[A](t.getText()),
        g.apply(t),
        t.standalone && !t.getText().length) {
            var U = e(o).data("emoji-placeholder") || r.emojiPlaceholder;
            t.setText(U),
            f.addClass("has-placeholder")
        }
        n(t, T.find(".emojibtn"), {
            click: "emojibtn.click"
        }),
        n(t, window, {
            resize: "!resize"
        }),
        n(t, R.children(), {
            click: "tone.click"
        }),
        n(t, [h, c], {
            mousedown: "!mousedown"
        }, f),
        n(t, c, {
            click: "button.click"
        }),
        n(t, f, {
            paste: "!paste"
        }, f),
        n(t, f, ["focus", "blur"], function() {
            return !t.stayFocused && f
        }),
        n(t, h, {
            mousedown: "picker.mousedown",
            mouseup: "picker.mouseup",
            click: "picker.click",
            keyup: "picker.keyup",
            keydown: "picker.keydown",
            keypress: "picker.keypress"
        }),
        n(t, f, ["mousedown", "mouseup", "click", "keyup", "keydown", "keypress"]),
        n(t, h.find(".emojionearea-filter"), {
            click: "filter.click"
        }),
        n(t, o, {
            change: "source.change"
        }),
        r.search && n(t, t.search, {
            keyup: "search.keypress",
            focus: "search.focus",
            blur: "search.blur"
        });
        var q = !1;
        if (I.on("scroll", function() {
            if (!q && (m.call(t),
            I.is(":not(.skinnable)"))) {
                var i = S.eq(0)
                  , n = I.offset().top;
                S.each(function(t, o) {
                    return !(e(o).offset().top - n >= 10) && void (i = e(o))
                });
                var o = x.filter('[data-filter="' + i.attr("name") + '"]');
                o[0] && !o.is(".active") && (x.removeClass("active"),
                o.addClass("active"))
            }
        }),
        t.on("@filter.click", function(e) {
            var i = e.is(".active");
            if (I.is(".skinnable")) {
                if (i)
                    return;
                R.children().eq(0).click()
            }
            q = !0,
            i || (x.filter(".active").removeClass("active"),
            e.addClass("active"));
            var n = S.filter('[name="' + e.data("filter") + '"]').offset().top
              , o = I.scrollTop()
              , s = I.offset().top;
            I.stop().animate({
                scrollTop: n + o - s - 2
            }, 200, "swing", function() {
                m.call(t),
                q = !1
            })
        }).on("@picker.show", function() {
            t.recentEmojis && y(t),
            m.call(t)
        }).on("@tone.click", function(e) {
            R.children().removeClass("active");
            var i = e.addClass("active").data("skin");
            i ? (I.addClass("skinnable"),
            L.hide().filter("[data-tone=" + i + "]").show(),
            x.removeClass("active")) : (I.removeClass("skinnable"),
            L.hide().filter("[data-tone=0]").show(),
            x.eq(0).click()),
            m.call(t),
            r.search && t.trigger("search.keypress")
        }).on("@button.click", function(e) {
            e.is(".active") ? t.hidePicker() : (t.showPicker(),
            t.searchSel = null)
        }).on("@!paste", function(n, o) {
            var s = function(o) {
                var s = "caret-" + (new Date).getTime()
                  , r = p(o, t);
                a(r),
                a('<i id="' + s + '"></i>'),
                n.scrollTop(u);
                var l = e("#" + s)
                  , f = l.offset().top - n.offset().top
                  , c = n.height();
                (u + f >= c || u > f) && n.scrollTop(u + f - 2 * c / 3),
                l.remove(),
                t.stayFocused = !1,
                g.apply(t),
                i(t, "paste", [n, o, r])
            };
            if (o.originalEvent.clipboardData) {
                var r = o.originalEvent.clipboardData.getData("text/plain");
                return s(r),
                o.preventDefault ? o.preventDefault() : o.stop(),
                o.returnValue = !1,
                o.stopPropagation(),
                !1
            }
            t.stayFocused = !0,
            a("<span>" + j + "</span>");
            var l = E(n[0])
              , u = n.scrollTop()
              , f = e("<div/>", {
                contenteditable: !0
            }).css({
                position: "fixed",
                left: "-999px",
                width: "1px",
                height: "1px",
                top: "20px",
                overflow: "hidden"
            }).appendTo(e("BODY")).focus();
            window.setTimeout(function() {
                n.focus(),
                $(n[0], l);
                var e = _(f.html().replace(/\r\n|\n|\r/g, "<br>"), t);
                f.remove(),
                s(e)
            }, 200)
        }).on("@emojibtn.click", function(e) {
            f.removeClass("has-placeholder"),
            null !== t.searchSel && (f.focus(),
            $(f[0], t.searchSel),
            t.searchSel = null),
            t.standalone ? (f.html(s(e.data("name"), t.emojiTemplate)),
            t.trigger("blur")) : (E(f[0]),
            a(s(e.data("name"), t.emojiTemplate))),
            t.recentEmojis && w(t, e.data("name")),
            t.trigger("search.keypress")
        }).on("@!resize @keyup @emojibtn.click", g).on("@!mousedown", function(i, n) {
            return e(n.target).hasClass("search") ? (t.stayFocused = !0,
            null === t.searchSel && (t.searchSel = E(i[0]))) : (N.is(".focused") || i.focus(),
            n.preventDefault()),
            !1
        }).on("@change", function() {
            var e = t.editor.html().replace(/<\/?(?:div|span|p)[^>]*>/gi, "");
            e.length && !/^<br[^>]*>$/i.test(e) || t.editor.html(t.content = ""),
            o[A](t.getText())
        }).on("@source.change", function() {
            t.setText(o[A]()),
            i("change")
        }).on("@focus", function() {
            N.addClass("focused")
        }).on("@blur", function() {
            N.removeClass("focused"),
            r.hidePickerOnBlur && t.hidePicker();
            var e = t.editor.html();
            t.content !== e ? (t.content = e,
            i(t, "change", [t.editor]),
            o.blur().trigger("change")) : o.blur(),
            r.search && (t.search.val(""),
            t.trigger("search.keypress", !0))
        }),
        r.search && t.on("@search.focus", function() {
            t.stayFocused = !0,
            t.search.addClass("focused")
        }).on("@search.keypress", function(i) {
            var n = h.find(".emojionearea-filter")
              , o = r.tones ? R.find("i.active").data("skin") : 0
              , s = t.search.val().replace(/ /g, "_").replace(/"/g, '\\"');
            s && s.length ? (t.recentFilter.hasClass("active") && t.recentFilter.removeClass("active").next().addClass("active"),
            t.recentCategory.hide(),
            t.recentFilter.hide(),
            L.each(function() {
                var t = function(e, t) {
                    var i = e.find('.emojibtn[data-name*="' + s + '"]');
                    if (0 === i.length)
                        e.data("tone") === t && e.hide(),
                        n.filter('[data-filter="' + e.attr("name") + '"]').hide();
                    else {
                        e.find('.emojibtn:not([data-name*="' + s + '"])').hide(),
                        i.show(),
                        e.data("tone") === t && e.show(),
                        n.filter('[data-filter="' + e.attr("name") + '"]').show()
                    }
                }
                  , i = e(this);
                0 === i.data("tone") ? S.filter(':not([name="recent"])').each(function() {
                    t(e(this), 0)
                }) : t(i, o)
            }),
            q ? m.call(t) : I.trigger("scroll")) : (y(t, !0),
            L.filter('[data-tone="' + R.find("i.active").data("skin") + '"]:not([name="recent"])').show(),
            e(".emojibtn", L).show(),
            n.show(),
            i || m.call(t))
        }).on("@search.blur", function() {
            t.stayFocused = !1,
            t.search.removeClass("focused"),
            t.trigger("blur")
        }),
        r.shortcuts && t.on("@keydown", function(e, i) {
            i.ctrlKey || (9 == i.which ? (i.preventDefault(),
            c.click()) : 27 == i.which && (i.preventDefault(),
            c.is(".active") && t.hidePicker()))
        }),
        l(r.events) && !e.isEmptyObject(r.events) && e.each(r.events, function(e, i) {
            t.on(e.replace(/_/g, "."), i)
        }),
        r.autocomplete) {
            var H = function() {
                var i = {
                    maxCount: r.textcomplete.maxCount,
                    placement: r.textcomplete.placement
                };
                r.shortcuts && (i.onKeydown = function(e, t) {
                    return e.ctrlKey || 13 != e.which ? void 0 : t.KEY_ENTER
                }
                );
                var n = e.map(P.emojioneList, function(e, t) {
                    return r.autocompleteTones ? t : /_tone[12345]/.test(t) ? null : t
                });
                n.sort(),
                f.textcomplete([{
                    id: O,
                    match: /\B(:[\-+\w]*)$/,
                    search: function(t, i) {
                        i(e.map(n, function(e) {
                            return 0 === e.indexOf(t) ? e : null
                        }))
                    },
                    template: function(e) {
                        return s(e, t.emojiTemplate) + " " + e.replace(/:/g, "")
                    },
                    replace: function(e) {
                        return s(e, t.emojiTemplate)
                    },
                    cache: !0,
                    index: 1
                }], i),
                r.textcomplete.placement && "static" == e(f.data("textComplete").option.appendTo).css("position") && e(f.data("textComplete").option.appendTo).css("position", "relative")
            }
              , z = function() {
                if (t.disabled) {
                    var e = function() {
                        t.off("enabled", e),
                        H()
                    };
                    t.on("enabled", e)
                } else
                    H()
            };
            e.fn.textcomplete ? z() : e.ajax({
                url: "https://cdn.rawgit.com/yuku-t/jquery-textcomplete/v1.3.4/dist/jquery.textcomplete.js",
                dataType: "script",
                cache: !0,
                success: z
            })
        }
        t.inline && (N.addClass(b("inline", !0)),
        t.on("@keydown", function(e, t) {
            13 == t.which && t.preventDefault()
        })),
        /firefox/i.test(navigator.userAgent) && document.execCommand("enableObjectResizing", !1, !1),
        t.isReady = !0,
        t.trigger("onLoad", f),
        t.trigger("ready", f)
    }
    function x(i) {
        var n = r();
        if (i = d(i),
        !N.isLoading)
            if (!P || f(u(P)) < 2) {
                N.isLoading = !0;
                var o;
                o = f(n) > 5 ? N.defaultBase3 + "npm/emojione@" + n : f(n) > 4 ? N.defaultBase3 + "emojione/" + n : N.defaultBase + "/" + n,
                e.ajax({
                    url: o + "/lib/js/emojione.min.js",
                    dataType: "script",
                    cache: !0,
                    success: function() {
                        P = window.emojione,
                        n = u(P),
                        B = f(n);
                        var t;
                        for (B > 4 ? (N.base = N.defaultBase3 + "emojione/assets/" + n,
                        t = N.base + "/sprites/emojione-sprite-" + P.emojiSize + ".css") : (N.base = N.defaultBase + n + "/assets",
                        t = N.base + "/sprites/emojione.sprites.css"),
                        i.sprite && (document.createStyleSheet ? document.createStyleSheet(t) : e("<link/>", {
                            rel: "stylesheet",
                            href: t
                        }).appendTo("head")); I.length; )
                            I.shift().call();
                        N.isLoading = !1
                    }
                })
            } else
                n = u(P),
                B = f(n),
                N.base = B > 4 ? N.defaultBase3 + "emojione/assets/" + n : N.defaultBase + n + "/assets";
        t(function() {
            var e = "";
            i.useInternalCDN && (B > 4 && (e = P.emojiSize + "/"),
            P.imagePathPNG = N.base + "/png/" + e,
            P.imagePathSVG = N.base + "/svg/" + e,
            P.imagePathSVGSprites = N.base + "/sprites/emojione.sprites.svg",
            P.imageType = i.imageType),
            f(n) > 4 ? (R = P.regUnicode,
            P.imageType = i.imageType || "png") : R = new RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(" + P.unicodeRegexp + ")","gi")
        })
    }
    function F(t, n) {
        n = n.replace(/^@/, "");
        var o = t.id;
        L[o][n] && (e.each(L[o][n], function(o, s) {
            e.each(e.isArray(s[0]) ? s[0] : [s[0]], function(o, a) {
                e(a).on(s[1], function() {
                    var o = A.call(arguments)
                      , a = e.isFunction(s[2]) ? s[2].apply(t, [n].concat(o)) : s[2];
                    a && i(t, n, [a].concat(o))
                })
            })
        }),
        L[o][n] = null)
    }
    var E, $, T = 0, S = {}, L = {}, P = window.emojione, I = [], M = "data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==", A = [].slice, O = "emojionearea", B = 0, j = "&#8203;";
    window.getSelection && document.createRange ? (E = function(e) {
        var t = window.getSelection && window.getSelection();
        return t && t.rangeCount > 0 ? t.getRangeAt(0) : void 0
    }
    ,
    $ = function(e, t) {
        var i = document.createRange();
        i.setStart(t.startContainer, t.startOffset),
        i.setEnd(t.endContainer, t.endOffset),
        t = window.getSelection(),
        t.removeAllRanges(),
        t.addRange(i)
    }
    ) : document.selection && document.body.createTextRange && (E = function(e) {
        return document.selection.createRange()
    }
    ,
    $ = function(e, t) {
        var i = document.body.createTextRange();
        i.moveToElementText(e),
        i.setStart(t.startContanier, t.startOffset),
        i.setEnd(t.endContainer, t.endOffset),
        i.select()
    }
    );
    var R, N = {
        defaultBase: "https://cdnjs.cloudflare.com/ajax/libs/emojione/",
        defaultBase3: "https://cdn.jsdelivr.net/",
        base: null,
        isLoading: !1
    }, V = function(e, i) {
        var n = this;
        x(i),
        S[n.id = ++T] = {},
        L[n.id] = {},
        t(function() {
            k(n, e, i)
        })
    };
    V.prototype.on = function(t, i) {
        if (t && e.isFunction(i)) {
            var n = this;
            e.each(t.toLowerCase().split(" "), function(e, t) {
                F(n, t),
                (S[n.id][t] || (S[n.id][t] = [])).push(i)
            })
        }
        return this
    }
    ,
    V.prototype.off = function(t, i) {
        if (t) {
            var n = this.id;
            e.each(t.toLowerCase().replace(/_/g, ".").split(" "), function(t, o) {
                S[n][o] && !/^@/.test(o) && (i ? e.each(S[n][o], function(e, t) {
                    t === i && (S[n][o] = S[n][o].splice(e, 1))
                }) : S[n][o] = [])
            })
        }
        return this
    }
    ,
    V.prototype.trigger = function() {
        var e = A.call(arguments)
          , t = [this].concat(e.slice(0, 1));
        return t.push(e.slice(1)),
        i.apply(this, t)
    }
    ,
    V.prototype.setFocus = function() {
        var e = this;
        return t(function() {
            e.editor.focus()
        }),
        e
    }
    ,
    V.prototype.setText = function(e) {
        var n = this;
        return t(function() {
            n.editor.html(p(e, n)),
            n.content = n.editor.html(),
            i(n, "change", [n.editor]),
            g.apply(n)
        }),
        n
    }
    ,
    V.prototype.getText = function() {
        return _(this.editor.html(), this)
    }
    ,
    V.prototype.showPicker = function() {
        var e = this;
        return e._sh_timer && window.clearTimeout(e._sh_timer),
        e.picker.removeClass("hidden"),
        e._sh_timer = window.setTimeout(function() {
            e.button.addClass("active")
        }, 50),
        i(e, "picker.show", [e.picker]),
        e
    }
    ,
    V.prototype.hidePicker = function() {
        var e = this;
        return e._sh_timer && window.clearTimeout(e._sh_timer),
        e.button.removeClass("active"),
        e._sh_timer = window.setTimeout(function() {
            e.picker.addClass("hidden")
        }, 500),
        i(e, "picker.hide", [e.picker]),
        e
    }
    ,
    V.prototype.enable = function() {
        var e = this
          , t = function() {
            e.disabled = !1,
            e.editor.prop("contenteditable", !0),
            e.button.show();
            var t = e[e.standalone ? "button" : "editor"];
            t.parent().removeClass("emojionearea-disable"),
            i(e, "enabled", [t])
        };
        return e.isReady ? t() : e.on("ready", t),
        e
    }
    ,
    V.prototype.disable = function() {
        var e = this;
        e.disabled = !0;
        var t = function() {
            e.editor.prop("contenteditable", !1),
            e.hidePicker(),
            e.button.hide();
            var t = e[e.standalone ? "button" : "editor"];
            t.parent().addClass("emojionearea-disable"),
            i(e, "disabled", [t])
        };
        return e.isReady ? t() : e.on("ready", t),
        e
    }
    ,
    e.fn.emojioneArea = function(t) {
        return this.each(function() {
            return this.emojioneArea ? this.emojioneArea : (e.data(this, "emojioneArea", this.emojioneArea = new V(e(this),t)),
            this.emojioneArea)
        })
    }
    ,
    e.fn.emojioneArea.defaults = c(),
    e.fn.emojioneAreaText = function(i) {
        i = d(i);
        var n = this
          , o = {
            shortnames: !i || "undefined" == typeof i.shortnames || i.shortnames,
            emojiTemplate: '<img alt="{alt}" class="emojione' + (i && i.sprite && 3 > B ? '-{uni}" src="' + M : 'emoji" src="{img}') + '"/>'
        };
        return x(i),
        t(function() {
            n.each(function() {
                var t = e(this);
                return t.hasClass("emojionearea-text") || t.addClass("emojionearea-text").html(p(t.is("TEXTAREA") || t.is("INPUT") ? t.val() : t.text(), o)),
                t
            })
        }),
        this
    }
}, window),
define("skins/form/validator/string", ["static/console", "./input_base", "skins/form/show_pass"], function(e, t, i) {
    var n = function(e, i) {
        "object" == typeof i && (t.apply(this, [e, i]),
        this._init())
    };
    return n.prototype = new t,
    n.prototype._init = function() {
        var e = this;
        this.options.show_emojis && this.show_emojis(),
        this.input.on("blur keyup input", function() {
            e.validate()
        }),
        this.options.show_char_count && this.initCounter(),
        this.options.password_viewable && i["new"](this.input),
        this.options.no_init_validate || this.validate()
    }
    ,
    n.prototype.doValidate = function(e) {
        return this.counter && (this.counter.removeClass("text-danger").children(".count").html(e.length),
        0 === e.length ? this.counter.addClass("empty") : this.counter.removeClass("empty")),
        this.options.required && 0 === e.length ? (this.counter && this.counter.addClass("text-danger"),
        this.setError(this.getMessage("required", "Required")),
        !1) : this.options.min_length > 0 && e.length < this.options.min_length && (this.options.required || e.length > 0) ? (this.counter && this.counter.addClass("text-danger"),
        this.setError(this.getMessage("min_length", "Too short (%nb_chars% min)", {
            "%value%": '"' + this.strimwidth(e, 20) + '"',
            "%nb_chars%": this.options.min_length
        })),
        !1) : this.options.max_length > 0 && e.length > this.options.max_length ? (this.counter && this.counter.addClass("text-danger"),
        this.setError(this.getMessage("max_length", "Too long (%nb_chars% max)", {
            "%value%": '"' + this.strimwidth(e, 20) + '"',
            "%nb_chars%": this.options.max_length
        })),
        !1) : !(this.options.max_lines > 0 && e.split("\n").length > this.options.max_lines) || (this.counter && this.counter.addClass("text-danger"),
        this.setError(this.getMessage("max_lines", "Too many lines (max %nb_lines%).", {
            "%nb_lines%": this.options.max_lines
        })),
        !1)
    }
    ,
    n.prototype.counter = !1,
    n.prototype.initCounter = function() {
        var e = this.options.max_length > 0 && this.options.max_length;
        this.counter = $("<span class='floating-count'><span class='count'></span>" + (e ? "<span class='max'>/" + e + "</span>" : "") + "</span>"),
        this.counter.insertAfter(this.input);
        var t = this.input.parent();
        t.hasClass("input-group") && (t = t.parent()),
        t.addClass("has-floating-count")
    }
    ,
    n.prototype.show_emojis = function() {
        var t = this;
        require(["libs/emojione.min"], function() {
            require(["libs/emojionearea.min"], function() {
                var i = $('<div id="' + t.id + '_emoji"></div>');
                i.insertAfter(t.input);
                try {
                    emojione.sprites = !0,
                    emojione.ascii = !0,
                    $(t.input).emojioneArea({
                        container: i,
                        hideSource: !0,
                        useInternalCDN: !0,
                        sprite: !0,
                        autocomplete: !0,
                        shortnames: !0,
                        saveEmojisAs: "shortname",
                        textcomplete: {
                            maxCount: 12
                        },
                        attributes: {
                            spellcheck: !0,
                            autocorrect: "on",
                            autocomplete: "on"
                        },
                        events: {
                            keyup: function(e, i) {
                                this.trigger("change", [e]),
                                t.validate()
                            },
                            blur: function(e, i) {
                                this.trigger("change", [e]),
                                t.validate()
                            }
                        }
                    })
                } catch (n) {
                    e.log("emojionearea textarea init failed : " + n.message, "Validator", null, n)
                }
            }, function(t) {
                e.log("failed to load and init emojionearea", "Validator", t)
            })
        }, function(t) {
            e.log("failed to load and init emojionearea", "Validator", t)
        })
    }
    ,
    n.prototype.getIconPositionReference = function() {
        return this.options.show_emojis && $("#" + this.id + "_emoji .emojionearea-editor").length > 0 ? $($("#" + this.id + "_emoji .emojionearea.form-control")[0]) : t.prototype.getIconPositionReference.apply(this)
    }
    ,
    n
}),
define("skins/form/validator/email", ["static/utils", "./string"], function(e, t) {
    var i = function(e, i) {
        t.apply(this, [e, i])
    };
    return i.prototype = new t,
    i.prototype.doValidate = function(i) {
        return !!t.prototype.doValidate.apply(this, [i]) && (!!i.match(this.getRegexp(this.options.regex)) || (this.setError(this.getMessage("invalid", "Invalid email address", {
            "%email%": e.escape(i)
        })),
        !1))
    }
    ,
    i
}),
define("skins/form/validator/file_validator", ["static/utils", "./input_base"], function(e, t) {
    var i = function(e, i) {
        "object" == typeof i && (t.apply(this, [e, i]),
        this._init())
    };
    return i.prototype = new t,
    i.prototype._init = function() {
        var e = this;
        this.input.on("change input", function() {
            e.validate()
        }),
        this.options.no_init_validate || this.validate()
    }
    ,
    i.prototype.doValidate = function(t) {
        if (this.options.required && 0 === t.length)
            return this.setError(this.getMessage("required", "Required")),
            !1;
        if (t.length > 0 && "object" == typeof this.options.extensions && this.options.extensions.length > 0) {
            var i = ""
              , n = t.lastIndexOf(".");
            if (-1 === n)
                return this.setError(this.getMessage("extensions", "Invalid extension (%extension%).", {
                    "%extension%": e.escape(i)
                })),
                !1;
            if (i = t.substr(n + 1).toLowerCase(),
            !/^[a-z0-1]{2,20}$/.test(i))
                return this.setError(this.getMessage("extensions", "Invalid extension (%extension%).", {
                    "%extension%": e.escape(i)
                })),
                !1;
            var o = !1;
            for (var s in this.options.extensions)
                if (this.options.extensions.hasOwnProperty(s) && this.options.extensions[s].toLowerCase() === i) {
                    o = !0;
                    break
                }
            if (!o)
                return this.setError(this.getMessage("extensions", "Invalid extension (%extension%).", {
                    "%extension%": e.escape(i)
                })),
                !1
        }
        return !0
    }
    ,
    i
}),
define("skins/form/validator/integer", ["./input_base"], function(e) {
    var t = function(t, i) {
        if ("object" == typeof i) {
            e.apply(this, [t, i]);
            var n = this;
            this.input.on("blur keyup input", function() {
                n.validate()
            }),
            this.validate()
        }
    };
    return t.prototype = new e,
    t.prototype.doValidate = function(e) {
        return 0 === e.length ? !this.options.required || (this.setError(this.getMessage("required", "Required")),
        !1) : e.match(/^\d+$/g) ? (e = parseInt(e),
        null !== this.options.min && e < this.options.min ? (this.setError(this.getMessage("min", "Must be greater than %min%", {
            "%value%": e.toString(),
            "%min%": this.options.min
        })),
        !1) : !(this.options.max > 0 && e > this.options.max) || (this.setError(this.getMessage("max", "Must be less than %max%", {
            "%value%": e.toString(),
            "%max%": this.options.max
        })),
        !1)) : (this.setError(this.getMessage("invalid", "Invalid", {
            "%value%": this.strimwidth(e, 20)
        })),
        !1)
    }
    ,
    t
}),
define("skins/form/validator/language_alphabet", ["static/utils", "./base", "lib/i18n!front"], function(e, t, i) {
    var n = function(e, i) {
        t.apply(this, [e, i]);
        var n = e.getRoot();
        if (this.langinput = $("#" + n.form.prop("id") + "_" + i.options.language_field.replace(/\|/g, "_")),
        0 !== this.langinput.length && (this.textinput = $("#" + n.form.prop("id") + "_" + i.options.text_field.replace(/\|/g, "_")),
        0 !== this.textinput.length && (this.validator = this.textinput.data("validator"),
        this.validator))) {
            var o = this;
            this.validator.setupXhr("check_alphabet", "/account/checkalphabet", ["text", "lang"], 1),
            this.validator.setXhrOtherParam("check_alphabet", "min_threshold", i.options.min_threshold),
            this.validator.setXhrOtherParam("check_alphabet", "message", i.messages.wrong_alphabet),
            this.options.mismatch_warning && this.validator.addXhrSuccessCallback("check_alphabet", function(e, t) {
                if (!e || !t.lang || "unk" === $.trim(o.langinput.val()) || "unk" === t.lang)
                    return void o.validator.clearWarning();
                t.lang !== $.trim(o.langinput.val()) ? o.validator.setWarning("<span>" + o.options.mismatch_warning + "</span>") : o.validator.clearWarning()
            });
            var s = this.validator.doValidate;
            this.validator.doValidate = function(e) {
                return o.validator.setXhrOtherValues("check_alphabet", [$.trim(o.langinput.val())]),
                s.apply(this, [e])
            }
            ,
            this.langinput.on("change", function() {
                o.validator.validate()
            }),
            this.validator.validate(),
            this.textinput.trigger("alphabet-validator-init")
        }
    };
    return n.prototype = new t,
    n.prototype.isValid = function() {
        return !0
    }
    ,
    n.prototype.focus = function() {
        this.validator.focus && this.validator.focus()
    }
    ,
    n
}),
define("skins/form/validator/number", ["./input_base"], function(e) {
    var t = function(t, i) {
        if ("object" == typeof i) {
            e.apply(this, [t, i]);
            var n = this;
            this.input.on("blur keyup input", function() {
                n.validate()
            }),
            this.validate()
        }
    };
    return t.prototype = new e,
    t.prototype.doValidate = function(e) {
        return 0 === e.length ? !this.options.required || (this.setError(this.getMessage("required", "Required")),
        !1) : e.match(/^\d+(\.\d+)?$/g) ? (e = parseFloat(e),
        null !== this.options.min && e < this.options.min ? (this.setError(this.getMessage("min", "Must be greater than %min%", {
            "%value%": e.toString(),
            "%min%": this.options.min
        })),
        !1) : !(this.options.max > 0 && e > this.options.max) || (this.setError(this.getMessage("max", "Must be less than %max%", {
            "%value%": e.toString(),
            "%max%": this.options.max
        })),
        !1)) : (this.setError(this.getMessage("invalid", "Invalid", {
            "%value%": this.strimwidth(e, 20)
        })),
        !1)
    }
    ,
    t
}),
define("skins/form/validator/password", ["./string"], function(e) {
    var t = function(e, t) {
        if (0 === e.length)
            return 0;
        for (var i = e.split(""), n = {
            Excess: 0,
            Lower: 0,
            Upper: 0,
            Numbers: 0,
            Symbols: 0
        }, o = {
            Excess: 4,
            Lower: 2,
            Upper: 4,
            Numbers: 5,
            Symbols: 10,
            Combo: 0,
            FlatLower: 0,
            FlatNumber: 0
        }, s = 0; s < i.length; s++)
            i[s].match(/[A-Z]/g) ? n.Upper++ : i[s].match(/[a-z]/g) ? n.Lower++ : i[s].match(/[0-9]/g) ? n.Numbers++ : i[s].match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/) && n.Symbols++;
        return n.Excess = i.length - t,
        n.Lower && n.Upper && n.Numbers && n.Symbols ? o.Combo = 25 : (n.Upper && n.Numbers || n.Upper && n.Symbols || n.Numbers && n.Symbols) && (o.Combo = 15),
        e.match(/^[\sa-z]+$/) && (o.FlatLower = -15),
        e.match(/^[\s0-9]+$/) && (o.FlatNumber = -35),
        n.Excess * o.Excess + n.Lower * o.Lower + n.Upper * o.Upper + n.Numbers * o.Numbers + n.Symbols * o.Symbols + o.Combo + o.FlatLower + o.FlatNumber
    }
      , i = function(t, i) {
        if (i.options.check_strength) {
            var n = $('<div class="progress progress-pwd-check"><div class="progress-bar progress-bar-danger" style="width:15%"></div></div>');
            this.progress = n.children()
        }
        e.apply(this, [t, i]),
        i.options.check_strength && (this.last_strength = null,
        n.insertAfter(this.input.addClass("input-pwd-check")))
    };
    return i.prototype = new e,
    i.prototype.doValidate = function(i) {
        if (this.options.check_strength) {
            var n = t(i, this.options.min_length);
            this.progress.width(Math.max(0, Math.min(100, n)) + "%").removeClass().addClass("progress-bar"),
            n >= 90 ? this.progress.addClass("progress-bar-success") : n < 25 ? this.progress.addClass("progress-bar-danger") : n < 50 ? this.progress.addClass("progress-bar-warning") : n < 75 && this.progress.addClass("progress-bar-info"),
            "function" == typeof this.onStrengthChange && this.last_strength !== n && this.onStrengthChange(n),
            this.last_strength = n
        }
        return i.length && this.options.min_score > 0 && n < this.options.min_score ? (this.setError(this.getMessage("too_weak", "Your password is too weak.")),
        !1) : e.prototype.doValidate.apply(this, [i])
    }
    ,
    i.prototype.onStrengthChange = null,
    i
}),
define("skins/form/validator/profile_name", ["config/main", "static/utils", "./string"], function(e, t, i) {
    var n = function(e, t) {
        this.setupXhr("profile_name", "/account/checkprofilename", "profile"),
        i.apply(this, [e, t])
    };
    return n.prototype = new i,
    n.prototype.doValidate = function(e) {
        return !!i.prototype.doValidate.apply(this, [e]) && (!!e.replace(/ /g, "_").match(this.getRegexp(this.options.regex)) || (this.setError(this.getMessage("name_invalid", "Invalid profile name", {
            "%name%": t.escape(e)
        })),
        !1))
    }
    ,
    n
}),
define("skins/form/validator/regex", ["static/utils", "./string"], function(e, t) {
    var i = function(e, i) {
        t.apply(this, [e, i])
    };
    return i.prototype = new t,
    i.prototype.doValidate = function(i) {
        if (!t.prototype.doValidate.apply(this, [i]))
            return !1;
        if (0 === i.length && !this.options.required)
            return !0;
        var n = i.match(this.getRegexp(this.options.pattern));
        return !(this.options.must_match && !n || !this.options.must_match && n) || (this.setError(this.getMessage("invalid", "Invalid", {
            "%value%": e.escape(i)
        })),
        !1)
    }
    ,
    i
}),
define("skins/form/validator/profile_website", ["config/main", "static/utils", "./regex"], function(e, t, i) {
    var n = function(e, t) {
        i.apply(this, [e, t])
    };
    return n.prototype = new i,
    n.prototype.doValidate = function(e) {
        if (!i.prototype.doValidate.apply(this, [e]))
            return !1;
        e = e.toLowerCase(),
        "http://" === e.substr(0, 7) ? e = e.substr(7) : "https://" === e.substr(0, 8) && (e = e.substr(8));
        var t = e.indexOf("/");
        t > -1 && (e = e.substr(0, t));
        for (var n in this.options.blacklisted_domains)
            if (e.indexOf(this.options.blacklisted_domains[n].toLocaleLowerCase()) > -1)
                return this.setError(this.getMessage("blacklisted", "This domain is not allowed")),
                !1;
        return !0
    }
    ,
    n
}),
define("skins/form/validator/region", ["lib/tools", "static/dom", "lib/converter", "./input_base"], function(e, t, i, n) {
    var o = {}
      , s = function(e) {
        var t = [];
        for (var i in e)
            e.hasOwnProperty(i) && t.push({
                code: i,
                name: e[i]
            });
        return t.sort(function(e, t) {
            return e.name > t.name ? 1 : -1
        }),
        t
    }
      , a = function(e, t) {
        var i = e.getRoot();
        if (this.country_select = $("#" + i.form.prop("id") + "_" + t.options.country_field.replace(/\|/g, "_")),
        0 === this.country_select.length)
            return void console.error("Cannot find country validator");
        this.cur_country = this.country_select.val(),
        this.cur_xhr = null,
        this.help = null,
        n.apply(this, [e, t]);
        var o = this;
        this.country_select.on("change", function() {
            o.validate()
        }),
        this.input.on("change", function() {
            o.validate()
        }),
        this.validate()
    };
    return a.prototype = new n,
    a.prototype.getInput = function() {
        var e = this.parent.getRoot();
        return $("#" + e.form.prop("id") + "_" + this.options.region_field.replace(/\|/g, "_"))
    }
    ,
    a.prototype.doValidate = function(t) {
        if (console.info(t),
        e.isEmpty(t))
            return console.info("empty", this.options.required, !this.input.prop("disabled")),
            !(this.options.required && !this.input.prop("disabled")) || (this.setError(this.getMessage("required", "Required")),
            !1);
        var i = this.country_select.val();
        if (this.cur_country === i)
            return !0;
        if (this.input.val("").empty().append('<option value=""></option>'),
        e.isEmpty(i))
            return this.setRegions({}),
            !0;
        if (this.help && this.help.hide(),
        "undefined" != typeof o[i])
            return this.setRegions(o[i]),
            !0;
        this.cur_xhr && this.cur_xhr.abort();
        var n = this;
        return this.setLoading(),
        this.cur_xhr = $.getJSON("/account/getregions", {
            country: i
        }, function(e) {
            if (!e.result) {
                if (1 !== e.code)
                    return void n.setError(e.message);
                e.regions = {}
            }
            var t = s(e.regions);
            o[i] = t,
            n.cur_country = i,
            n.cur_xhr = null,
            n.setRegions(t),
            n.validate()
        }).fail(function() {
            n.setError(i18n.__("loading.error"))
        }),
        !0
    }
    ,
    a.prototype.setRegions = function(e) {
        for (var t in e)
            this.input.append('<option value="' + e[t].code + '">' + e[t].name + "</option>");
        if (this.input.prop("disabled", 0 === e.length),
        0 === e.length)
            if (this.help)
                this.help.show();
            else {
                var i = this.input
                  , n = this.input.parent();
                n.hasClass("input-group") && (i = n);
                var o = this.country_select.children('option[value="' + this.cur_country + '"]').text();
                i.after('<span class="help-block">' + this.getMessage("no_region_for_country", " No known region for country %country%.", {
                    "%country%": o
                }) + "</span>")
            }
    }
    ,
    a
}),
define("skins/form/validator/remote_file", ["./string"], function(e) {
    var t = function(t, i) {
        e.apply(this, [t, i])
    };
    return t.prototype = new e,
    t.prototype.doValidate = function(t) {
        if (!e.prototype.doValidate.apply(this, [t]))
            return !1;
        if (!this.options.required && 0 === t.length)
            return !0;
        var i = t.indexOf("://");
        return -1 === i ? (this.setError(this.getProtocolErrorMessage()),
        !1) : -1 !== $.inArray(t.substr(0, i), this.options.protocols) || (this.setError(this.getProtocolErrorMessage()),
        !1)
    }
    ,
    t.prototype.getProtocolErrorMessage = function() {
        var e = [];
        for (var t in this.options.protocols)
            e.push("'" + this.options.protocols[t] + "://'");
        return this.getMessage("invalid_protocol", "Invalid URL. It must start with one of the following protocols: %protocols%.", {
            "%protocols%": e.join(", ")
        })
    }
    ,
    t
}),
function() {
    function e(t, n) {
        function s(e, t) {
            try {
                e()
            } catch (i) {
                t && t()
            }
        }
        function a(e) {
            if (null != a[e])
                return a[e];
            var t;
            if ("bug-string-char-index" == e)
                t = "a" != "a"[0];
            else if ("json" == e)
                t = a("json-stringify") && a("date-serialization") && a("json-parse");
            else if ("date-serialization" == e) {
                if (t = a("json-stringify") && D) {
                    var i = n.stringify;
                    s(function() {
                        t = '"-271821-04-20T00:00:00.000Z"' == i(new c(-864e13)) && '"+275760-09-13T00:00:00.000Z"' == i(new c(864e13)) && '"-000001-01-01T00:00:00.000Z"' == i(new c(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == i(new c(-1))
                    })
                }
            } else {
                var o, r = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';
                if ("json-stringify" == e) {
                    var i = n.stringify
                      , f = "function" == typeof i;
                    f && ((o = function() {
                        return 1
                    }
                    ).toJSON = o,
                    s(function() {
                        f = "0" === i(0) && "0" === i(new l) && '""' == i(new u) && i(b) === g && i(g) === g && i() === g && "1" === i(o) && "[1]" == i([o]) && "[null]" == i([g]) && "null" == i(null) && "[null,null,null]" == i([g, b, null]) && i({
                            a: [o, !0, !1, null, "\0\b\n\f\r\t"]
                        }) == r && "1" === i(null, o) && "[\n 1,\n 2\n]" == i([1, 2], null, 1)
                    }, function() {
                        f = !1
                    })),
                    t = f
                }
                if ("json-parse" == e) {
                    var d, h = n.parse;
                    "function" == typeof h && s(function() {
                        0 !== h("0") || h(!1) || (o = h(r),
                        (d = 5 == o.a.length && 1 === o.a[0]) && (s(function() {
                            d = !h('"\t"')
                        }),
                        d && s(function() {
                            d = 1 !== h("01")
                        }),
                        d && s(function() {
                            d = 1 !== h("1.")
                        })))
                    }, function() {
                        d = !1
                    }),
                    t = d
                }
            }
            return a[e] = !!t
        }
        function r(e) {
            return x(this)
        }
        t || (t = o.Object()),
        n || (n = o.Object());
        var l = t.Number || o.Number
          , u = t.String || o.String
          , f = t.Object || o.Object
          , c = t.Date || o.Date
          , d = t.SyntaxError || o.SyntaxError
          , h = t.TypeError || o.TypeError
          , p = t.Math || o.Math
          , _ = t.JSON || o.JSON;
        "object" == typeof _ && _ && (n.stringify = _.stringify,
        n.parse = _.parse);
        var g, m = f.prototype, b = m.toString, v = m.hasOwnProperty, D = new c(-0xc782b5b800cec);
        if (s(function() {
            D = -109252 == D.getUTCFullYear() && 0 === D.getUTCMonth() && 1 === D.getUTCDate() && 10 == D.getUTCHours() && 37 == D.getUTCMinutes() && 6 == D.getUTCSeconds() && 708 == D.getUTCMilliseconds()
        }),
        a["bug-string-char-index"] = a["date-serialization"] = a.json = a["json-stringify"] = a["json-parse"] = null,
        !a("json")) {
            var y = a("bug-string-char-index")
              , w = function(e, t) {
                var n, o, s, a = 0;
                (n = function() {
                    this.valueOf = 0
                }
                ).prototype.valueOf = 0,
                o = new n;
                for (s in o)
                    v.call(o, s) && a++;
                return n = o = null,
                a ? w = function(e, t) {
                    var i, n, o = "[object Function]" == b.call(e);
                    for (i in e)
                        o && "prototype" == i || !v.call(e, i) || (n = "constructor" === i) || t(i);
                    (n || v.call(e, i = "constructor")) && t(i)
                }
                : (o = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"],
                w = function(e, t) {
                    var n, s, a = "[object Function]" == b.call(e), r = !a && "function" != typeof e.constructor && i[typeof e.hasOwnProperty] && e.hasOwnProperty || v;
                    for (n in e)
                        a && "prototype" == n || !r.call(e, n) || t(n);
                    for (s = o.length; n = o[--s]; )
                        r.call(e, n) && t(n)
                }
                ),
                w(e, t)
            };
            if (!a("json-stringify") && !a("date-serialization")) {
                var C = {
                    92: "\\\\",
                    34: '\\"',
                    8: "\\b",
                    12: "\\f",
                    10: "\\n",
                    13: "\\r",
                    9: "\\t"
                }
                  , k = function(e, t) {
                    return ("000000" + (t || 0)).slice(-e)
                }
                  , x = function(e) {
                    var t, i, n, o, s, a, r, l, u;
                    if (D)
                        t = function(e) {
                            i = e.getUTCFullYear(),
                            n = e.getUTCMonth(),
                            o = e.getUTCDate(),
                            a = e.getUTCHours(),
                            r = e.getUTCMinutes(),
                            l = e.getUTCSeconds(),
                            u = e.getUTCMilliseconds()
                        }
                        ;
                    else {
                        var f = p.floor
                          , c = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334]
                          , d = function(e, t) {
                            return c[t] + 365 * (e - 1970) + f((e - 1969 + (t = +(t > 1))) / 4) - f((e - 1901 + t) / 100) + f((e - 1601 + t) / 400)
                        };
                        t = function(e) {
                            for (o = f(e / 864e5),
                            i = f(o / 365.2425) + 1970 - 1; d(i + 1, 0) <= o; i++)
                                ;
                            for (n = f((o - d(i, 0)) / 30.42); d(i, n + 1) <= o; n++)
                                ;
                            o = 1 + o - d(i, n),
                            s = (e % 864e5 + 864e5) % 864e5,
                            a = f(s / 36e5) % 24,
                            r = f(s / 6e4) % 60,
                            l = f(s / 1e3) % 60,
                            u = s % 1e3
                        }
                    }
                    return (x = function(e) {
                        return e > -1 / 0 && e < 1 / 0 ? (t(e),
                        e = (i <= 0 || i >= 1e4 ? (i < 0 ? "-" : "+") + k(6, i < 0 ? -i : i) : k(4, i)) + "-" + k(2, n + 1) + "-" + k(2, o) + "T" + k(2, a) + ":" + k(2, r) + ":" + k(2, l) + "." + k(3, u) + "Z",
                        i = n = o = a = r = l = u = null) : e = null,
                        e
                    }
                    )(e)
                };
                if (a("json-stringify") && !a("date-serialization")) {
                    var F = n.stringify;
                    n.stringify = function(e, t, i) {
                        var n = c.prototype.toJSON;
                        c.prototype.toJSON = r;
                        var o = F(e, t, i);
                        return c.prototype.toJSON = n,
                        o
                    }
                } else {
                    var E = function(e) {
                        var t = e.charCodeAt(0)
                          , i = C[t];
                        return i || "\\u00" + k(2, t.toString(16))
                    }
                      , $ = /[\x00-\x1f\x22\x5c]/g
                      , T = function(e) {
                        return $.lastIndex = 0,
                        '"' + ($.test(e) ? e.replace($, E) : e) + '"'
                    }
                      , S = function(e, t, i, n, o, a, r) {
                        var l, u, f, d, p, _, m, v, D;
                        if (s(function() {
                            l = t[e]
                        }),
                        "object" == typeof l && l && (l.getUTCFullYear && "[object Date]" == b.call(l) && l.toJSON === c.prototype.toJSON ? l = x(l) : "function" == typeof l.toJSON && (l = l.toJSON(e))),
                        i && (l = i.call(t, e, l)),
                        l == g)
                            return l === g ? l : "null";
                        switch (u = typeof l,
                        "object" == u && (f = b.call(l)),
                        f || u) {
                        case "boolean":
                        case "[object Boolean]":
                            return "" + l;
                        case "number":
                        case "[object Number]":
                            return l > -1 / 0 && l < 1 / 0 ? "" + l : "null";
                        case "string":
                        case "[object String]":
                            return T("" + l)
                        }
                        if ("object" == typeof l) {
                            for (m = r.length; m--; )
                                if (r[m] === l)
                                    throw h();
                            if (r.push(l),
                            d = [],
                            v = a,
                            a += o,
                            "[object Array]" == f) {
                                for (_ = 0,
                                m = l.length; _ < m; _++)
                                    p = S(_, l, i, n, o, a, r),
                                    d.push(p === g ? "null" : p);
                                D = d.length ? o ? "[\n" + a + d.join(",\n" + a) + "\n" + v + "]" : "[" + d.join(",") + "]" : "[]"
                            } else
                                w(n || l, function(e) {
                                    var t = S(e, l, i, n, o, a, r);
                                    t !== g && d.push(T(e) + ":" + (o ? " " : "") + t)
                                }),
                                D = d.length ? o ? "{\n" + a + d.join(",\n" + a) + "\n" + v + "}" : "{" + d.join(",") + "}" : "{}";
                            return r.pop(),
                            D
                        }
                    };
                    n.stringify = function(e, t, n) {
                        var o, s, a, r;
                        if (i[typeof t] && t)
                            if ("[object Function]" == (r = b.call(t)))
                                s = t;
                            else if ("[object Array]" == r) {
                                a = {};
                                for (var l, u = 0, f = t.length; u < f; )
                                    l = t[u++],
                                    "[object String]" != (r = b.call(l)) && "[object Number]" != r || (a[l] = 1)
                            }
                        if (n)
                            if ("[object Number]" == (r = b.call(n))) {
                                if ((n -= n % 1) > 0)
                                    for (n > 10 && (n = 10),
                                    o = ""; o.length < n; )
                                        o += " "
                            } else
                                "[object String]" == r && (o = n.length <= 10 ? n : n.slice(0, 10));
                        return S("", (l = {},
                        l[""] = e,
                        l), s, a, o, "", [])
                    }
                }
            }
            if (!a("json-parse")) {
                var L, P, I = u.fromCharCode, M = {
                    92: "\\",
                    34: '"',
                    47: "/",
                    98: "\b",
                    116: "\t",
                    110: "\n",
                    102: "\f",
                    114: "\r"
                }, A = function() {
                    throw L = P = null,
                    d()
                }, O = function() {
                    for (var e, t, i, n, o, s = P, a = s.length; L < a; )
                        switch (o = s.charCodeAt(L)) {
                        case 9:
                        case 10:
                        case 13:
                        case 32:
                            L++;
                            break;
                        case 123:
                        case 125:
                        case 91:
                        case 93:
                        case 58:
                        case 44:
                            return e = y ? s.charAt(L) : s[L],
                            L++,
                            e;
                        case 34:
                            for (e = "@",
                            L++; L < a; )
                                if ((o = s.charCodeAt(L)) < 32)
                                    A();
                                else if (92 == o)
                                    switch (o = s.charCodeAt(++L)) {
                                    case 92:
                                    case 34:
                                    case 47:
                                    case 98:
                                    case 116:
                                    case 110:
                                    case 102:
                                    case 114:
                                        e += M[o],
                                        L++;
                                        break;
                                    case 117:
                                        for (t = ++L,
                                        i = L + 4; L < i; L++)
                                            (o = s.charCodeAt(L)) >= 48 && o <= 57 || o >= 97 && o <= 102 || o >= 65 && o <= 70 || A();
                                        e += I("0x" + s.slice(t, L));
                                        break;
                                    default:
                                        A()
                                    }
                                else {
                                    if (34 == o)
                                        break;
                                    for (o = s.charCodeAt(L),
                                    t = L; o >= 32 && 92 != o && 34 != o; )
                                        o = s.charCodeAt(++L);
                                    e += s.slice(t, L)
                                }
                            if (34 == s.charCodeAt(L))
                                return L++,
                                e;
                            A();
                        default:
                            if (t = L,
                            45 == o && (n = !0,
                            o = s.charCodeAt(++L)),
                            o >= 48 && o <= 57) {
                                for (48 == o && (o = s.charCodeAt(L + 1)) >= 48 && o <= 57 && A(),
                                n = !1; L < a && (o = s.charCodeAt(L)) >= 48 && o <= 57; L++)
                                    ;
                                if (46 == s.charCodeAt(L)) {
                                    for (i = ++L; i < a && !((o = s.charCodeAt(i)) < 48 || o > 57); i++)
                                        ;
                                    i == L && A(),
                                    L = i
                                }
                                if (101 == (o = s.charCodeAt(L)) || 69 == o) {
                                    for (o = s.charCodeAt(++L),
                                    43 != o && 45 != o || L++,
                                    i = L; i < a && !((o = s.charCodeAt(i)) < 48 || o > 57); i++)
                                        ;
                                    i == L && A(),
                                    L = i
                                }
                                return +s.slice(t, L)
                            }
                            n && A();
                            var r = s.slice(L, L + 4);
                            if ("true" == r)
                                return L += 4,
                                !0;
                            if ("fals" == r && 101 == s.charCodeAt(L + 4))
                                return L += 5,
                                !1;
                            if ("null" == r)
                                return L += 4,
                                null;
                            A()
                        }
                    return "$"
                }, B = function(e) {
                    var t, i;
                    if ("$" == e && A(),
                    "string" == typeof e) {
                        if ("@" == (y ? e.charAt(0) : e[0]))
                            return e.slice(1);
                        if ("[" == e) {
                            for (t = []; "]" != (e = O()); )
                                i ? "," == e ? "]" == (e = O()) && A() : A() : i = !0,
                                "," == e && A(),
                                t.push(B(e));
                            return t
                        }
                        if ("{" == e) {
                            for (t = {}; "}" != (e = O()); )
                                i ? "," == e ? "}" == (e = O()) && A() : A() : i = !0,
                                "," != e && "string" == typeof e && "@" == (y ? e.charAt(0) : e[0]) && ":" == O() || A(),
                                t[e.slice(1)] = B(O());
                            return t
                        }
                        A()
                    }
                    return e
                }, j = function(e, t, i) {
                    var n = R(e, t, i);
                    n === g ? delete e[t] : e[t] = n
                }, R = function(e, t, i) {
                    var n, o = e[t];
                    if ("object" == typeof o && o)
                        if ("[object Array]" == b.call(o))
                            for (n = o.length; n--; )
                                j(b, w, o);
                        else
                            w(o, function(e) {
                                j(o, e, i)
                            });
                    return i.call(e, t, o)
                };
                n.parse = function(e, t) {
                    var i, n;
                    return L = 0,
                    P = "" + e,
                    i = B(O()),
                    "$" != O() && A(),
                    L = P = null,
                    t && "[object Function]" == b.call(t) ? R((n = {},
                    n[""] = i,
                    n), "", t) : i
                }
            }
        }
        return n.runInContext = e,
        n
    }
    var t = "function" == typeof define && define.amd
      , i = {
        "function": !0,
        object: !0
    }
      , n = i[typeof exports] && exports && !exports.nodeType && exports
      , o = i[typeof window] && window || this
      , s = n && i[typeof module] && module && !module.nodeType && "object" == typeof global && global;
    if (!s || s.global !== s && s.window !== s && s.self !== s || (o = s),
    n && !t)
        e(o, n);
    else {
        var a = o.JSON
          , r = o.JSON3
          , l = !1
          , u = e(o, o.JSON3 = {
            noConflict: function() {
                return l || (l = !0,
                o.JSON = a,
                o.JSON3 = r,
                a = r = null),
                u
            }
        });
        o.JSON = {
            parse: u.parse,
            stringify: u.stringify
        }
    }
    t && define("json3", [], function() {
        return u
    })
}
.call(this),
define("lib/json", [], function() {
    "undefined" != typeof JSON && "undefined" != typeof JSON.parse || require(["json3"])
}),
define("skins/form/validator/tag_adder", ["lib/converter", "lib/tools", "static/utils", "./input_base", "skins/form/widget/tag_adder", "lib/json"], function(e, t, i, n, o) {
    var s = function(e, t) {
        "object" == typeof t && (this.setupXhr("title_blacklist", "/account/checkblacklist", "title"),
        n.apply(this, [e, t]),
        this._init())
    };
    return s.prototype = new n,
    s.prototype._init = function() {
        new o(this.input.parents(".tag-adder"));
        var e = this;
        this.input.on("change input", function() {
            e.validate()
        }),
        this.input.parent().children("input[type=text]").on("blur", function() {
            e.validate()
        }),
        this.options.show_char_count && this.initCounter(),
        this.options.no_init_validate || this.validate()
    }
    ,
    s.prototype.options_choices = !1,
    s.prototype.cleanTags = function(e) {
        var n = []
          , s = this;
        if ("object" == typeof this.options.choices && !1 === this.options_choices) {
            this.options_choices = [];
            for (var a in this.options.choices) {
                var r = this.options.choices[a];
                "number" == typeof r && (r = r.toString()),
                this.options_choices.push(t.translit(r))
            }
        }
        for (var l in e) {
            var u = e[l];
            "number" == typeof u && (u = u.toString());
            var f = i.escape(i.unescape(u.toString()).replace(/\ +/g, " ").trim().toLowerCase(), !0)
              , c = function() {
                var e = o.getInstance(s.input);
                if (!e)
                    return !1;
                e.del_tag(u)
            }
              , d = this.input.parents(".tag-list").find('[data-elem="tag"][data-value="' + u + '"]');
            if ("undefined" != typeof this.options.choices && $.isArray(this.options.choices) && this.options.choices.length > 0) {
                if (-1 === this.options_choices.indexOf(t.translit(u)))
                    return this.setError(this.getMessage("not_in_list", "'%value%'", {
                        "%value%": u
                    }), c),
                    !1;
                n.push(u)
            } else {
                if (!(f.length >= this.options.min_tag_length))
                    return d.addClass("error"),
                    this.setError(this.getMessage("input_too_short", "%value% is too short (%nb_chars% characters min)", {
                        "%value%": '"' + u + '"',
                        "%nb_chars%": this.options.min_tag_length
                    }), c),
                    !1;
                if (!(f.length <= this.options.max_tag_length))
                    return d.addClass("error"),
                    this.setError(this.getMessage("input_too_long", "%value% is too long (%nb_chars% characters max)", {
                        "%value%": '"' + u + '"',
                        "%nb_chars%": this.options.max_tag_length
                    }), c),
                    !1;
                d.removeClass("error"),
                n.push(u)
            }
        }
        return n
    }
    ,
    s.prototype.doValidate = function(e) {
        "" === e && (e = "[]");
        var t = JSON.parse(e)
          , i = this.cleanTags(t, this.options);
        return !1 !== i && (this.counter && (this.counter.removeClass("text-danger").children(".count").html(i.length),
        0 === i.length ? this.counter.addClass("empty") : this.counter.removeClass("empty")),
        this.options.min_tags > 0 && ("object" != typeof t || i.length < this.options.min_tags) ? (this.counter && this.counter.addClass("text-danger"),
        this.setError(this.getMessage("min_tags", "%nb% tags minimum", {
            "%nb%": this.options.min_tags
        })),
        !1) : !(this.options.max_tags > 0 && i.length > this.options.max_tags) || (this.counter && this.counter.addClass("text-danger"),
        this.setError(this.getMessage("max_tags", "%nb% tags maximum", {
            "%nb%": this.options.max_tags
        })),
        !1))
    }
    ,
    s.prototype.getTooltipParent = function() {
        return this.input.parents(".content")
    }
    ,
    s.prototype.getIconPositionReference = function() {
        return this.input.parents(".tag-list").children("label")
    }
    ,
    s.prototype.getInputAgent = function() {
        return this.input.parents(".tag-list")
    }
    ,
    s.prototype.counter = !1,
    s.prototype.initCounter = function() {
        var e = this.options.max_tags > 0 && this.options.max_tags;
        this.counter = $("<span class='floating-count'><span class='count'></span>" + (e ? "<span class='max'>/" + e + "</span>" : "") + "</span>"),
        this.counter.insertAfter(this.input.parent())
    }
    ,
    s
}),
define("skins/form/validator/title_blacklist", ["config/main", "static/utils", "./string"], function(e, t, i) {
    var n = function(e, t) {
        t.options.blacklist && (this.setupXhr("title_blacklist", "/account/checkblacklist", "title"),
        this.setXhrOtherParam("title_blacklist", "blacklist", t.options.blacklist)),
        i.apply(this, [e, t])
    };
    return n.prototype = new i,
    n.prototype.doValidate = function(e) {
        return !!i.prototype.doValidate.apply(this, [e])
    }
    ,
    n
}),
define("skins/form/validator/translations_langs", ["static/utils", "./base"], function(e, t) {
    var i = function(e, t, n) {
        return !!e && ("string" == typeof t && 0 !== t.length && "empty" !== t && ("unk" === t ? i(!0, n, !1) : t))
    }
      , n = function(e, i) {
        t.apply(this, [e, i]);
        var n = e.getRoot();
        this.fields = [],
        this.langs = [];
        for (var o in i.options.fields)
            this.setupField(n, i.options.fields[o], i.options.lang_suffix)
    };
    return n.prototype = new t,
    n.prototype.setupField = function(e, t, n) {
        var o = "#" + e.form.prop("id") + "_" + t.replace(/\|/g, "_")
          , s = $(o);
        if (0 === s.length)
            return console.error('Unable to find lang field "' + o + '" in translations_langs'),
            !1;
        var a = o.lastIndexOf(n);
        if (-1 === a)
            return console.error('Unable to find suffix "' + n + '" in "' + o + "' in translations_langs"),
            !1;
        var r = o.substr(0, a)
          , l = $(r);
        if (0 === l.length)
            return console.error('Unable to find title field "' + r + '" in translations_langs'),
            !1;
        var u = l.data("validator");
        if (!u)
            return console.error('Unable to find validator for field "' + r + '" in translations_langs'),
            !1;
        var f = {
            input: l,
            validator: u,
            has_value: $.trim(l.val()).length > 0,
            lang: i(s.val(), s.data("detected"))
        };
        this.fields.push(f);
        var c = this.fields.length - 1
          , d = this
          , h = u.doValidate;
        u.doValidate = function(e) {
            if (f.lang)
                for (var t = 0; t < c; t++)
                    if (d.fields[t].lang === f.lang)
                        return this.setError(this.getMessage("invalid", "The same lang cannot be used twice")),
                        !1;
            return h.apply(this, [e])
        }
        ;
        var p = function() {
            var e = f.lang;
            f.lang = i(f.has_value, s.val(), s.data("detected")),
            e !== f.lang && d.validate()
        };
        s.on("change", p),
        l.on("keyup", function() {
            var e = f.has_value;
            f.has_value = $.trim(l.val()).length > 0,
            e !== f.has_value && p()
        })
    }
    ,
    n.prototype.validate = function() {
        for (var e in this.fields)
            this.fields[e].validator.validate();
        return !0
    }
    ,
    n.prototype.isValid = function() {
        return !0
    }
    ,
    n.prototype.focus = function() {}
    ,
    n
}),
define("skins/form/validator/user_email", ["config/main", "static/utils", "./email"], function(e, t, i) {
    var n = function(e, t) {
        this.setupXhr("email", "/account/checkemail", "email"),
        "number" == typeof t.options.exclude_id_user && t.options.exclude_id_user > 0 && this.setXhrOtherParam("email", "exclude", t.options.exclude_id_user),
        i.apply(this, [e, t])
    };
    return n.prototype = new i,
    n.prototype.doValidate = function(e) {
        return !!i.prototype.doValidate.apply(this, [e])
    }
    ,
    n
});
